{
    "abstractText": "We develop a general framework for the identification of counterfactual parameters in a class of nonlinear semiparametric panel models with fixed effects and time effects. Our method applies to models for discrete outcomes (e.g., two-way fixed effects binary choice) or continuous outcomes (e.g., censored regression), with discrete or continuous regressors. Our results do not require parametric assumptions on the error terms or time-homogeneity on the outcome equation. Our main results focus on static models, with a set of results applying to models without any exogeneity conditions. We show that the survival distribution of counterfactual outcomes is identified (point or partial) in this class of models. This parameter is a building block for most partial and marginal effects of interest in applied practice that are based on the average structural function as defined by Blundell and Powell (2003, 2004). To the best of our knowledge, ours are the first results on average partial and marginal effects for binary choice and ordered choice models with two-way fixed effects and non-logistic errors. JEL classification: C14; C23; C41.",
    "authors": [
        {
            "affiliations": [],
            "name": "Irene Botosaru"
        },
        {
            "affiliations": [],
            "name": "Chris Muris"
        }
    ],
    "id": "SP:7eee785c56b09bd30ca22a44a954dbdccf27e9f5",
    "references": [
        {
            "authors": [
                "J. Abrevaya"
            ],
            "title": "Leapfrog Estimation of a Fixed-Effects Model with Unknown Transformation of the Dependent Variable",
            "venue": "Journal of Econometrics 93, 203\u2013228.",
            "year": 1999
        },
        {
            "authors": [
                "J. Abrevaya"
            ],
            "title": "Rank Estimation of a Generalized Fixed-Effects Regression Model",
            "venue": "Journal of Econometrics 95 (1), 1\u201323.",
            "year": 2000
        },
        {
            "authors": [
                "J. Abrevaya",
                "C. Muris"
            ],
            "title": "Interval Censored Regression with Fixed Effects",
            "venue": "Journal of Applied Econometrics 35 (2), 198\u2013216.",
            "year": 2020
        },
        {
            "authors": [
                "V. Aguirregabiria",
                "J.M. Carro"
            ],
            "title": "Identification of Average Marginal Effects in Fixed Effects Dynamic Discrete Choice Models",
            "venue": "Technical report. Available at https://doi.org/10.48550/arXiv.2107.06141.",
            "year": 2021
        },
        {
            "authors": [
                "H. Ahn",
                "H. Ichimura",
                "J. Powell",
                "P. Ruud"
            ],
            "title": "Simple Estimators for Invertible Index Models",
            "venue": "Journal of Business and Economic Statistics 36 (1), 1\u201310.",
            "year": 2018
        },
        {
            "authors": [
                "J.G. Altonji",
                "R.L. Matzkin"
            ],
            "title": "Cross Section and Panel Data Estimators for Nonseparable Models with Endogenous Regressors",
            "venue": "Econometrica 73 (4), 1053\u20131102.",
            "year": 2005
        },
        {
            "authors": [
                "T. Amemiya",
                "J.L. Powell"
            ],
            "title": "December). A comparison of the Box-Cox maximum likelihood estimator and the non-linear two-stage least squares estimator",
            "venue": "Journal of Econometrics",
            "year": 1981
        },
        {
            "authors": [
                "D. Andrews",
                "X. Shi"
            ],
            "title": "Inference Based on Many Conditional Moment Inequalities",
            "venue": "Journal of Econometrics 196, 274\u2013287.",
            "year": 2017
        },
        {
            "authors": [
                "M. Arellano",
                "S. Bonhomme"
            ],
            "title": "Nonlinear Panel Data Analysis",
            "venue": "Annual Review of Economics 3, 395\u2013424.",
            "year": 2011
        },
        {
            "authors": [
                "M. Arellano",
                "R. Carrasco"
            ],
            "title": "Binary Choice Panel Data Models with Predetermined Variables",
            "venue": "Journal of Econometrics 115, 125\u2013157.",
            "year": 2003
        },
        {
            "authors": [
                "M. Arellano",
                "Honor\u00e9"
            ],
            "title": "Panel Data Models: Some Recent Developments",
            "venue": "Handbook of econometrics, Volume 5 , 3229\u20133296.",
            "year": 2001
        },
        {
            "authors": [
                "E. Aristodemou"
            ],
            "title": "Semiparametric Identification in Panel Data Discrete Response Models",
            "venue": "Journal of Econometrics 220 (2), 253\u2013271.",
            "year": 2021
        },
        {
            "authors": [
                "S. Athey",
                "G.W. Imbens"
            ],
            "title": "Identification and Inference in Nonlinear Differencein-Differences Model",
            "venue": "Econometrica 74 (2), 431\u2013497.",
            "year": 2006
        },
        {
            "authors": [
                "G. Baetschmann"
            ],
            "title": "Identification and Estimation of Thresholds in the Fixed Effects Ordered Logit Model",
            "venue": "Economics Letters 115 (3), 416\u2013418.",
            "year": 2012
        },
        {
            "authors": [
                "G. Baetschmann"
            ],
            "title": "Identification and Estimation of Thresholds in the Fixed Effects Ordered Logit Model",
            "venue": "Economics Letters 115 (3), 416\u2013418.",
            "year": 2012
        },
        {
            "authors": [
                "F. Bartolucci",
                "C. Pigini",
                "F. Valentini"
            ],
            "title": "Conditional inference and bias reduction for partial effects estimation of fixed-effects logit models",
            "venue": "Empirical Economics 64, 2257\u20132290.",
            "year": 2023
        },
        {
            "authors": [
                "C.A. Bester",
                "C.B. Hansen"
            ],
            "title": "Identification of Marginal Effects in a Nonparametric Correlated Random Effects Model",
            "venue": "Journal of Business and Economic Statistics 27 (2), 235\u2013250.",
            "year": 2009
        },
        {
            "authors": [
                "R.W. Blundell",
                "J.L. Powell"
            ],
            "title": "Endogeneity in Nonparametric and Semiparametric Regression Models",
            "venue": "M. Dewatripont, L. Hansen, and S. Turnovsky (Eds.), Advances in Economics and Econometrics: Theory and Applications, Volume Eighth World Congress, Vol. II. Oxford: Cambridge University Press.",
            "year": 2003
        },
        {
            "authors": [
                "R.W. Blundell",
                "J.L. Powell"
            ],
            "title": "Endogeneity in Semiparametric Binary Response Models",
            "venue": "Review of Economic Studies 71 (3), 655\u2013679.",
            "year": 2004
        },
        {
            "authors": [
                "I. Botosaru",
                "C. Muris"
            ],
            "title": "Binarization for Panel Models with Fixed Effects",
            "venue": "Technical report. cemmap Working paper CWP31/17, available at https://www.cemmap.ac.uk/publication/binarization-for-panel-models-withfixed-effects/.",
            "year": 2017
        },
        {
            "authors": [
                "I. Botosaru",
                "C. Muris",
                "K. Pendakur"
            ],
            "title": "Identification of Time-Varying Transformation Models with Fixed Effects, with an Application to Unobserved Heterogeneity in Resource Shares",
            "venue": "Journal of Econometrics .",
            "year": 2021
        },
        {
            "authors": [
                "I. Botosaru",
                "C. Muris",
                "S. Sokullu"
            ],
            "title": "Partial Effects in Time-Varying Linear Transformation Panel Models with Endogeneity",
            "venue": "Technical report. University of Bristol, School of Economics Discussion Paper 22/756.",
            "year": 2022
        },
        {
            "authors": [
                "G. Chamberlain"
            ],
            "title": "Panel Data",
            "venue": "Z. Griliches and M. Intriligator (Eds.), Handbook of Econometrics, Volume 2, Chapter 22, pp. 1247\u20131315. Elsevier.",
            "year": 1984
        },
        {
            "authors": [
                "E. Charlier",
                "B. Melenberg",
                "A. van Soest"
            ],
            "title": "Estimation of a Censored Regression Panel Data Model Using Conditional Moment Restrictions Efficiently",
            "venue": "Journal of Econometrics 95 (1), 25\u201356.",
            "year": 2000
        },
        {
            "authors": [
                "S. Chen"
            ],
            "title": "An Integrated Maximum Score Estimator for a Generalized Censored Quantile Regression Model",
            "venue": "Journal of Econometrics 155 (1), 90\u201398.",
            "year": 2010
        },
        {
            "authors": [
                "S. Chen",
                "G. Dahl",
                "S. Khan"
            ],
            "title": "Nonparametric Identification and Estimation of a Censored Location-Scale Regression Model",
            "venue": "Journal of the American Statistical Association 100 (469), 212\u2013221.",
            "year": 2005
        },
        {
            "authors": [
                "S. Chen",
                "S. Khan",
                "X. Tang"
            ],
            "title": "Exclusion Restrictions in Dynamic Binary Choice Panel Data Models: Comment on Semiparametric Binary Choice Panel Data Models Without Strictly Exogenous Regressors",
            "venue": "Econometrica 87, 1781\u20131785.",
            "year": 2019
        },
        {
            "authors": [
                "S. Chen",
                "X. Lu",
                "X. Wang"
            ],
            "title": "Nonparametric Estimation of Generalized Transformation Models with Fixed Effects",
            "venue": "Econometric Theory , 1\u201332.",
            "year": 2022
        },
        {
            "authors": [
                "S. Chen",
                "X. Wang"
            ],
            "title": "Semiparametric Estimation of Panel Data Models without Monotonicity or Separability",
            "venue": "Journal of Econometrics 206, 515\u2013530.",
            "year": 2018
        },
        {
            "authors": [
                "V. Chernozhukov",
                "I. Fern\u00e1ndez-Val",
                "J. Hahn",
                "W.K. Newey"
            ],
            "title": "Average and Quantile Effects in Nonseparable Panel Models",
            "venue": "Econometrica 81 (2), 535\u2013580.",
            "year": 2013
        },
        {
            "authors": [
                "V. Chernozhukov",
                "I. Fern\u00e1ndez-Val",
                "S. Hoderlein",
                "H. Holzmann",
                "W. K"
            ],
            "title": "Nonparametric Identification in Panels Using Quantiles",
            "venue": "Newey",
            "year": 2015
        },
        {
            "authors": [
                "G. Cox",
                "X. Shi"
            ],
            "title": "Simple Adaptive Size-Exact Testing for Full-Vector and Subvector Inference in Moment Inequality Models",
            "venue": "The Review of Economic Studies .",
            "year": 2022
        },
        {
            "authors": [
                "M. Das",
                "A. van Soest"
            ],
            "title": "A Panel Data Model for Subjective Information on Household Income Growth",
            "venue": "Journal of Economic Behavior & Organization 40 (4), 409\u2013426.",
            "year": 1999
        },
        {
            "authors": [
                "L. Davezies",
                "X. D\u2019Haultfoeuille",
                "L. Laage"
            ],
            "title": "Identification and Estimation of Average Marginal Effects in Fixed Effects Logit Models",
            "venue": "Technical report",
            "year": 2022
        },
        {
            "authors": [
                "C. Dobronyi",
                "J. Gu",
                "K. i. Kim"
            ],
            "title": "Identification of Dynamic Panel Logit Models with Fixed Effects",
            "venue": "Technical report. Available at https://doi.org/10.48550/arXiv.2104.04590.",
            "year": 2021
        },
        {
            "authors": [
                "I. Fern\u00e1ndez-Val"
            ],
            "title": "Fixed Effects Estimation of Structural Parameters and Marginal Effects in Panel Probit Models",
            "venue": "Journal of Econometrics 150, 71\u201385.",
            "year": 2009
        },
        {
            "authors": [
                "I. Fern\u00e1ndez-Val",
                "M. Weidner"
            ],
            "title": "Fixed Effects Estimation of Large-T Panel Data Models",
            "venue": "Annual Review of Economics 10, 109\u2013138.",
            "year": 2018
        },
        {
            "authors": [
                "D. Ghanem"
            ],
            "title": "Testing Identifying Assumptions in Nonseparable Panel Data Models",
            "venue": "Journal of Econometrics 197, 202\u2013217.",
            "year": 2017
        },
        {
            "authors": [
                "B. Graham",
                "J. Powell"
            ],
            "title": "Identification and Estimation of Average Partial Effects in \"Irregular\" Correlated Random Coefficient Panel Data Models",
            "venue": "Econometrica 80 (5), 2105\u20132152.",
            "year": 2012
        },
        {
            "authors": [
                "A.K. Han"
            ],
            "title": "Non-Parametric Analysis of a Generalized Regression Model: The Maximum Rank Correlation Estimator",
            "venue": "Journal of Econometrics 35, 303\u2013316.",
            "year": 1987
        },
        {
            "authors": [
                "S. Hoderlein",
                "H. White"
            ],
            "title": "Nonparametric Identification in Nonseparable Panel Data Models with Generalized Fixed Effects",
            "venue": "Journal of Econometrics 168 (2), 300\u2013 314.",
            "year": 2012
        },
        {
            "authors": [
                "B. Honor\u00e9"
            ],
            "title": "Trimmed LAD and Least Squares Estimation of Truncated and Censored Regression Models with Fixed Effects",
            "venue": "Econometrica 60 (3), 533\u2013565.",
            "year": 1992
        },
        {
            "authors": [
                "B. Honor\u00e9"
            ],
            "title": "Orthogonality Conditions for Tobit Models with Fixed Effects and Lagged Dependent Variables",
            "venue": "Journal of Econometrics 59, 35\u201361.",
            "year": 1993
        },
        {
            "authors": [
                "B. Honor\u00e9",
                "L. Hu"
            ],
            "title": "Selection Without Exclusion",
            "venue": "Econometrica 88,",
            "year": 2020
        },
        {
            "authors": [
                "B. Honor\u00e9",
                "J. Powell"
            ],
            "title": "Pairwise difference estimators of censored and truncated regression models",
            "venue": "Journal of Econometrics 64 (1-2), 241\u2013278.",
            "year": 1994
        },
        {
            "authors": [
                "B. Honor\u00e9",
                "E. Tamer"
            ],
            "title": "Bounds on Parameters in Panel Dynamic Discrete Choice Models",
            "venue": "Econometrica 74 (3), 611\u2013629.",
            "year": 2006
        },
        {
            "authors": [
                "B.E. Honore"
            ],
            "title": "On marginal effects in semiparametric censored regression models",
            "venue": "Technical report. Available at SSRN: https://ssrn.com/abstract=1394384 or http://dx.doi.org/10.2139/ssrn.1394384.",
            "year": 2008
        },
        {
            "authors": [
                "J. Horowitz",
                "S. Lee"
            ],
            "title": "Semiparametric Estimation of a Panel Data Proportional Hazards Model with Fixed Effects",
            "venue": "Journal of Econometrics 119, 155\u2013198.",
            "year": 2004
        },
        {
            "authors": [
                "H. Ichimura"
            ],
            "title": "Semiparametric Least Squares (SLS) and Weighted SLS Estimation of Single-Index Models",
            "venue": "Journal of Econometrics 58, 71\u2013120.",
            "year": 1993
        },
        {
            "authors": [
                "E.G. Johnson"
            ],
            "title": "Panel Data Models With Discrete Dependent Variables",
            "venue": "Phd thesis, stanford university.",
            "year": 2004
        },
        {
            "authors": [
                "S. Khan",
                "M. Ponomareva",
                "E. Tamer"
            ],
            "title": "Sharpness in Randomly Censored Linear Models",
            "venue": "Economic Letters 113, 23\u201325.",
            "year": 2011
        },
        {
            "authors": [
                "S. Khan",
                "M. Ponomareva",
                "E. Tamer"
            ],
            "title": "Identification of Panel Data Models with Endogenous Censoring",
            "venue": "Journal of Econometrics 94, 57\u201375.",
            "year": 2016
        },
        {
            "authors": [
                "S. Khan",
                "M. Ponomareva",
                "E. Tamer"
            ],
            "title": "Identification of Dynamic Binary Response Models",
            "venue": "Journal of Econometrics 237.",
            "year": 2023
        },
        {
            "authors": [
                "S. Lee"
            ],
            "title": "Estimating Panel Data Duration Models with Censored Data",
            "venue": "Econometric Theory 24, 1254\u20131276.",
            "year": 2008
        },
        {
            "authors": [
                "W. Lin",
                "J.M. Wooldridge"
            ],
            "title": "On Different Approaches to Obtaining Partial Effects in Binary Response Models with Endogenous Regressors",
            "venue": "Economics Letters 134, 58\u201361.",
            "year": 2015
        },
        {
            "authors": [
                "L. Liu",
                "A. Poirier",
                "J.-L. Shiu"
            ],
            "title": "Identification and Estimation of Average Partial Effects in Semiparametric Binary Response Panel Models",
            "venue": "Technical report. Available at https://doi.org/10.48550/arXiv.2105.12891.",
            "year": 2023
        },
        {
            "authors": [
                "C. Manski"
            ],
            "title": "Semiparametric Analysis of Random Effects Linear Models",
            "venue": "From Binary Panel Data. Econometrica",
            "year": 1987
        },
        {
            "authors": [
                "C. Muris"
            ],
            "title": "Estimation in the Fixed-Effects Ordered Logit Model",
            "venue": "Review of Economics and Statistics 99 (3), 465\u2013477.",
            "year": 2017
        },
        {
            "authors": [
                "C. Pakel",
                "M. Weidner"
            ],
            "title": "Bounds on Average Effects in Discrete Choice Panel Data Models",
            "venue": "Technical report. Available at https://doi.org/10.48550/arXiv.2309.09299.",
            "year": 2023
        },
        {
            "authors": [
                "J. Powell"
            ],
            "title": "Monotonic Regression Models under Quantile Restrictions",
            "venue": "W. A. Barnett, J. Powell, and G. E. Tauchen (Eds.), Nonparametric and Semiparametric Methods in Econometrics and Statistics: Proceedings of the Fifth International Symposium in Economic Theory and Econometrics, Chapter 14, pp. 357\u2013384. Cambridge University Press.",
            "year": 1991
        },
        {
            "authors": [
                "J. Powell",
                "J. Stock",
                "T. Stoker"
            ],
            "title": "Semiparametric estimation of index coefficients",
            "venue": "Econometrica 57 (6), 1403\u20131430.",
            "year": 1989
        },
        {
            "authors": [
                "Powell",
                "J. L",
                "July"
            ],
            "title": "Least absolute deviations estimation for the censored regression model",
            "venue": "Journal of Econometrics",
            "year": 1984
        },
        {
            "authors": [
                "Powell",
                "J. L",
                "June"
            ],
            "title": "Rescaled methods-of-moments estimation for the Box-Cox regression model",
            "venue": "Economics Letters",
            "year": 1996
        },
        {
            "authors": [
                "P. Song",
                "S. Wang"
            ],
            "title": "A Further Remark on the Alternative Expectation Formula",
            "venue": "Communications in Statistics - Theory and Methods 50 (11), 2586\u20132591.",
            "year": 2021
        },
        {
            "authors": [
                "X. Wang",
                "S. Chen"
            ],
            "title": "Semiparametric Estimation of Generalized Transformation Panel Data Models with Non-Stationary Error",
            "venue": "The Econometrics Journal 23 (3), 386\u2013402.",
            "year": 2020
        }
    ],
    "sections": [
        {
            "text": "JEL classification: C14; C23; C41. Keywords: index model; panel data; fixed effects; average structural function; semiparametric; binary choice; discrete choice; censored regression.\n\u2217McMaster University, Department of Economics. Emails: botosari@mcmaster.ca and muerisc@mcmaster.ca. We are grateful to an anonymous referee, and to Xavier D\u2019Haultfoeuille, Jiaying Gu, Bo Honore, Shakeeb Khan, Krishna Pendakur, and Alexandre Poirier for helpful comments. We thank participants at the Oxford Panel Data Workshop, the 2023 International Panel Data Conference, CIREQ Econometrics Conference 2023, and at seminars at Georgetown University and the University of Georgia Athens for comments and suggestions. We gratefully acknowledge financial support from the Social Sciences and Humanities Research Council of Canada under grant IG 435-2021- 0778. This research was undertaken, in part, thanks to funding from the Canada Research Chairs Program.\nar X\niv :2\n21 2.\n09 19\n3v 2\n[ ec\non .E\nM ]\n4 N"
        },
        {
            "heading": "1 Introduction",
            "text": "We study counterfactual or policy parameters for nonlinear panel models with structural equation\nYit (x) = ht (\u03b1i + x\u03b2 \u2212 Uit) , t = 1, 2, . . . , T , (1)\nwhere i indexes individual units, t indexes time, ht is a weakly-monotone transformation function that can vary over t in an unrestricted way, \u03b2 \u2208 Rk is a vector of regression coefficients, \u03b1i is an individual-specific effect, and Uit is a stochastic error term.1 For each unit i, we observe covariates Xit, t = 1, . . . , T . The dependence between \u03b1i and Xi = (Xi1, . . . , XiT ) is left unrestricted, so that \u03b1i is a fixed effect, c.f., e.g., Graham and Powell (2012). The class of models with outcome equation as in (1) includes the binary choice model with two-way fixed effects, the ordered choice model with fixed effects and time-varying cut-offs, the censored regression model with time-varying censoring, and various transformation models for continuous dependent variables.2\nFor a subpopulation of individuals defined by their sequence of regressor values Xi, our parameter of interest is the counterfactual survival probability:3\n\u03c4t,x,y (Xi) \u2261 P (Yit (x) \u2265 y|Xi) , t = 1, 2, . . . , T , (2)\nwhere Yit (x) is given by (1), x is a fixed counterfactual value of the period-t regressors, and y \u2208 Y \u2261 Y \\ infY is a fixed cut-off value, where Y \u2286 R denotes the support of the observed Yit = Yit (Xit).4 The parameter in (2) is a building block for most partial and marginal effects of interest in applied practice that are based on the average structural function (ASF) as defined in the pioneering work of Blundell and Powell (2003, 2004). For example, when Yit (x) is non-negative , the ASF at time t can be obtained as:5\nASFt (x) = E [E (Yit (x)|Xi)] = E (\u222b \u221e\n0\n\u03c4t,x,y (Xi) dy\n) . (3)\n1There is a large literature on the identification and estimation of structural parameters in the cross-sectional version of this model, e.g., see the work on single index models by Han (1987), Powell et al. (1989), Ichimura (1993), Ahn et al. (2018), and references therein.\n2For example, letting v \u2261 \u03b1i + x\u03b2 \u2212 Uit, the structural equation for the binary choice model with two-way fixed effects is ht (v) = 1 {v \u2265 \u03bbt}, for the ordered choice model with time-varying cutoffs it is ht (v) = \u2211J j=1 1 {v \u2265 \u03bbjt}, J \u2208 N, and for censored regression with time-varying censoring it is ht (v) = max {\u03bbt, v}. 3The counterfactual survival probability answers the question \u201cFor a subpopulation defined by their sequence of regressor values Xi, what is the ceteris paribus probability that their period-t outcome Yit exceeds y if their period-t regressor values were exogenously set to x?\u201d\n4Conditioning on the sequence Xi allows us to identify the same parameter across different exogeneity and time-stationarity assumptions.\n5See, for example, Song and Wang (2021) for the integrated tail probability expectation formula that uses a survival function as defined in (2).\nThe ASF can then be used to define partial effects based on partial derivatives or marginal effects based on discrete differences, see, e.g., Lin and Wooldridge (2015).\nThe challenge is to identify (2) in nonlinear panel models with structural equation as in (1) when \u03b1i are fixed effects and T < \u221e. To see that this is challenging, consider the special case of the binary choice model with two-way fixed effects. A recent literature has made progress in identifying certain counterfactual parameters for this model provided that the error terms follow a standard logistic distribution, see e.g. Aguirregabiria and Carro (2021), Davezies et al. (2022), Dobronyi et al. (2021).6\nA separate literature provides identification results under time-homogeneity assumptions that do not allow for arbitrary time-effects, see the benchmark results in Hoderlein and White (2012), Chernozhukov et al. (2013), and Chernozhukov et al. (2015).7 To the best of our knowledge, nothing is known about the identification of the ASF for the binary choice model with two way fixed effects without logistic errors.8\nWe derive (partial) identification results for (2) without parametric restrictions on the distribution of Uit for panel models with outcome equation as in (1). Our results are for short-T . Relevant examples of models to which our results apply are (i) binary choice with two-way fixed effects and nonlogistic errors, (ii) ordered choice with time-varying thresholds, (iii) censored regression with time-varying censoring. Additionally, since (2) varies over time whenever ht is time-varying, policy parameters that are functionals of (2) are also time-varying.\nFor nonseparable panel models with fixed effects, the results in benchmark work such as Hoderlein and White (2012), Chernozhukov et al. (2013), and Chernozhukov et al. (2015) establish limitations on what can be learned from panel data in terms of counterfactual parameters. By imposing additional structure on the latent outcome, such as additivity in a linear index and the fixed effects, we show that (partial) identification of counterfactual parameters can be obtained without time-homogeneity assumptions on the outcome equation and no parametric assumptions on the distribution of the error terms. Because we make no time-homogeneity assumptions on ht, the counterfactual parameters can vary over time in an arbitrary way. To the best of our knowledge, it\n6Earlier work by Honor\u00e9 and Tamer (2006) provides partial identification of marginal effects under a more general structure with dynamics and arbitrary but known error term distributions. See also Pakel and Weidner (2023) for an approach that applies to parametric models covered by the results in Bonhomme (2012). Finally, see Honore (2008) for results on marginal effects for the censored regression model.\n7There, the authors consider a nonseparable structural function and impose no parametric assumptions on the error terms. When ht = h, the class we models we study here is nested in their analysis.\n8We do not consider here the case of correlated random effects or the case of large-T . Progress on counterfactual parameters for the former case has been made by, e.g., Arellano and Carrasco (2003), Altonji and Matzkin (2005), Bester and Hansen (2009), Chen et al. (2019), Liu et al. (2023), while for the latter by, e.g., Fern\u00e1ndez-Val (2009), Fern\u00e1ndez-Val and Weidner (2018), and Bartolucci et al. (2023).\nis the combination of time-varyingness of the outcome equation (hence, of the counterfactual parameters) and no parametric distributional assumptions on the error terms that constitutes our contribution relative to the literature on partial effects in nonlinear panel models with fixed effects.\nFor our results, we treat \u03b2 and ht as given, i.e. either known or previously pointor partially-identified.9 Our key insight is that the linear index structure allows us to classify each observed probability at time s,\nP (Yis \u2265 y\u2032|Xi) , s = 1, . . . , T, y\u2032 \u2208 Y , (4)\nas either an upper bound on \u03c4t,x,y (Xi), a lower bound on \u03c4t,x,y (Xi), or both. We show that (4) is an upper bound only if the observed index at time s, Xis\u03b2 \u2212 h\u2212s (y), is at least the counterfactual index at time t, x\u03b2 \u2212 h\u2212t (y); and a lower bound only if the observed index at time s is at most the counterfactual index at time t. Without any additional time-stationarity or exogeneity assumptions, bounds on the period-t counterfactual probability \u03c4t,x,y (Xi) can be constructed from the period-t observed probabilities P (Yit \u2265 y\u2032|Xi), y\u2032 \u2208 Y . Under a conditional time-stationarity assumption on the errors, outcomes from all periods are informative for the period-t counterfactual probability. The bounds under conditional time-stationarity are tighter than those without exogeneity assumptions. Point identification is obtained when the transformation function ht is invertible or when the counterfactual index equals one of the observed indices.\nThe remainder of this paper is organized as follows. Section 2 presents our main results: Section 2.1 constructs bounds without any additional time-stationarity or exogeneity assumptions, while Section 2.2 constructs bounds under a conditional timestationarity assumption on the error terms. Section 3 applies our results to a few examples: binary choice model, ordered choice model, and censored regression. We present a numerical experiment for the binary choice model in Section 4.1 and one for the ordered choice model in Section 4.2. All proofs and an additional numerical experiment can be found in the Appendix.\n9Sufficient conditions for the identification of \u03b2 and time-varying ht for models with structural equation as in (1) are provided in Botosaru and Muris (2017) and Botosaru et al. (2021) under strict exogeneity and weak monotonicity of ht, and Botosaru et al. (2022) under endogeneity and strict invertibility of ht. With a parametric structure on both ht and the distribution of the stochastic errors, one may use the results in Bonhomme (2012). Consistent estimators for \u03b2 or/and time-invariant transformation ht = h in nonlinear panel models without parametric assumptions on the error terms have been derived by, e.g., Abrevaya (1999), Chen (2010), Chen and Wang (2018), Wang and Chen (2020), Chen et al. (2022) and references therein. For specific panel models, such as binary choice, ordered choice, linear models, duration models, censored regression, see, e.g., Manski (1987), Honor\u00e9 (1992), Honor\u00e9 (1993), Horowitz and Lee (2004), Chen et al. (2005), Lee (2008), Muris (2017). Recent work on sharp identification regions for structural parameters includes Khan et al. (2011), Khan et al. (2016), Honor\u00e9 and Hu (2020), Khan et al. (2023), and Aristodemou (2021). See also Ghanem (2017) on testing identifying assumptions in the class of models we consider here."
        },
        {
            "heading": "2 Main results",
            "text": "We provide two results on the identification of \u03c4t,x,y defined in (2). Our first result in Theorem 1 provides bounds on \u03c4t,x,y without imposing any exogeneity assumptions or time-stationarity assumptions on Uit, Xi. Our second result in Theorem 2 uses a conditional time-stationarity assumption on Uit|\u03b1i, Xi to tighten those bounds. Conditioning on the sequence Xi allows us to identify the same parameter, \u03c4t,x,y, across different exogeneity and time-stationarity assumptions.\nThe following two assumptions are maintained throughout the paper:\nAssumption 1. (i) The distribution of panel data (Xi1, \u00b7 \u00b7 \u00b7 , XiT , Yi1, \u00b7 \u00b7 \u00b7 , YiT ) is observed, where Yit = Yit (Xit) is generated by (1); (ii) \u03b2 and ht in (1) are either known, point-identified, or partially-identified.\nFootnote 9 lists work that provides sufficient assumptions for either the point- or the partial-identification of \u03b2 and ht.\nAssumption 2. For each t, ht : R \u2192 Y \u2286 R is weakly-monotone and right-continuous.\nAssumption 2 does not restrict the way that ht can vary over t. Our results apply to the case of time-invariant ht = h, in which case parameters such as (2) and (3) are also time-invariant. This assumption allows ht to have flat parts and jumps, or to be continuous. Hence, our setting accommodates both discrete and continuous outcomes.\nGiven Assumption 2, we define the generalized inverse of ht as:10\nh\u2212t (y) \u2261 inf {y\u2217 : ht (y\u2217) \u2265 y} , y \u2208 Y , (5)\ni.e. it is the smallest value of the latent variable that yields a value of the observed outcome Yt \u2265 y.\nFor what follows we fix t, x and we fix y \u2208 Y ."
        },
        {
            "heading": "2.1 No additional exogeneity or time-stationarity assumptions",
            "text": "For our first set of results, we define the following sets:\nYL \u2261 { y\u2032 \u2208 Y : Xit\u03b2 \u2212 h\u2212t (y\u2032) \u2264 x\u03b2 \u2212 h\u2212t (y) } , (6)\nYU \u2261 { y\u2032 \u2208 Y : Xit\u03b2 \u2212 h\u2212t (y\u2032) \u2265 x\u03b2 \u2212 h\u2212t (y) } . (7)\n10Existence of h\u2212t is ensured by Assumption 2.\nThe set YL collects the values y\u2032 \u2208 Y for which the counterfactual index at time t, x\u03b2 \u2212 h\u2212t (y), is greater than the observed index at time t, Xit\u03b2 \u2212 h\u2212t (y\u2032), while YU collects the values y\u2032 \u2208 Y for which the counterfactual index at time t is smaller than the observed index at time t. Note that YL \u222a YU = Y .\nTheorem 1. Let Yit follow (1) and let Assumptions 1 and 2 hold. Then, for given values of \u03b2 and ht,\n\u03c4t,x,y (Xi) \u2208 [ sup y\u2032\u2208YL P (Yit \u2265 y\u2032|Xi) , inf y\u2032\u2208YU P (Yit \u2265 y\u2032|Xi) ] \u2229 [0, 1] , (8)\nusing the convention that sup \u2205 = \u2212\u221e and inf \u2205 = +\u221e.\nTheorem 1 uses the linear-index structure of (1) and knowledge of \u03b2 and ht to classify P (Yit \u2265 y\u2032|Xi) as a lower (upper) bound on \u03c4t,x,y (Xi) for any value of y\u2032 \u2208 Y . By varying y\u2032 \u2208 Y , we obtain the sets YL (YU) of values y\u2032 that provide lower (upper) bounds. Equation (8) intersects these bounds. Since YL \u222a YU = Y , every value of y\u2032 provides an upper bound, a lower bound, or both. Note that since either YL or YU can be empty, the trivial lower (upper) bound is selected by the intersection with [0, 1].\nSection 3 applies Theorem 1 to binary choice, ordered choice, and censored regression. In the case of binary choice, the bounds of Theorem 1 simplify significantly. In that case, P (Yit \u2265 1|Xi) provides an upper bound for P (Yit (x) \u2265 1|Xi) if Xit\u03b2 > x\u03b2, and a lower bound if Xit\u03b2 < x\u03b2. When Xit\u03b2 = x\u03b2, P (Yit \u2265 1|Xi) point-identifies P (Yit (x) \u2265 1|Xi).\nRemark 1. The result in Theorem 1 is stated for a given value of (\u03b2, ht). Thus, the bounds are directly applicable in case where (\u03b2, ht) are point-identified. If (\u03b2, ht) are partially identified, bounds on \u03c4t,x,y (Xi) can be obtained by taking the worst-case bounds across parameter values in the identified set.\nRemark 2. The bounds in Theorem 1 do not require any additional exogeneity conditions on (Xi, Ui) beyond those that may be needed for Assumption (1)(ii). In particular, the bounds are valid for models with strictly or weakly exogenous regressors, with lagged dependent variables, and with endogenous regressors. Likewise, the bounds do not require any time-stationarity assumptions on the distribution of the error terms. In this sense, the bounds are valid for models with errors with time-varying distributions. Finally, separability in \u03b1i and Uit is not necessary for identification of the counterfactual survival probability, suggesting that our argument can be applied to a more general class of models.\nRemark 3. Point identification occurs in a number of settings. First, when ht is invertible, see Section (3.1). Second, when there exists a y\u2032 such that\nh\u2212t (y \u2032) = (Xit \u2212 x) \u03b2 + h\u2212t (y) .\nThis can happen, among others, when y = y\u2032 and Xit = x (or Xit\u03b2 = x\u03b2). In this case, y \u2208 YL \u2229 YU and the upper and lower bounds coincide.\nRemark 4. The bounds in Theorem 1 shrink with the cardinality of Y , so that the worst case for our bounds is when the outcomes are binary (worst case here means that, provided failure of point-identification, one of the bounds is always trivial), while the best case is when the outcomes are continuous (best case in the sense that the parameter of interest is always point-identified)."
        },
        {
            "heading": "2.2 Conditional time-stationarity",
            "text": "The bounds in Theorem 1 can be wide, for example when the dependent variable has few points of support (see Remark 4). The following assumption obtains tighter bounds by using information across all time periods rather than information from period t only.\nAssumption 3. Conditional time-stationarity: Uit|\u03b1i, Xi d = Ui1|\u03b1i, Xi, for all t = 2, . . . , T .\nConditional time-stationarity requires that the conditional distribution of the error terms conditional on \u03b1i, Xi be the same in each time period. In Chernozhukov et al. (2013, 2015) and Hoderlein and White (2012)11 the authors refer to this assumption as both \u201cstrict exogeneity\u201d and time-homogeneity of the error terms.12 Note that the error terms are required to have a time-stationary (\u201ctime-homogeneous\u201d) distribution conditional on \u03b1i and the entire sequence Xi1, . . . , XiT . The assumption allows for serial correlation in the errors Uit and in some components of Xi, and it leaves the distribution of \u03b1i conditional on Xi unrestricted. Note that, in our set-up with timevarying structural equation, the conditional distribution of Yit given Xi can still vary over time.\n11See, e.g., Manski (1987), Honor\u00e9 (1992), Abrevaya (2000), Hoderlein and White (2012), Graham and Powell (2012), Chernozhukov et al. (2013), Chernozhukov et al. (2015), Khan et al. (2016), Chen et al. (2019), Khan et al. (2023).\n12For a discussion of strict exogeneity, as well as other notions of exogeneity, in the context of linear models, see Chamberlain (1984), Arellano and Honor\u00e9 (2001), Arellano and Bonhomme (2011).\nFix t, x,y \u2208 Y and define the sets:\nL \u2261 { (s, y\u2032) \u2208 {1, \u00b7 \u00b7 \u00b7 , T} \u00d7 Y : Xis\u03b2 \u2212 h\u2212s (y\u2032) \u2264 x\u03b2 \u2212 h\u2212t (y) } ,\nU \u2261 { (s, y\u2032) \u2208 {1, \u00b7 \u00b7 \u00b7 , T} \u00d7 Y : Xis\u03b2 \u2212 h\u2212s (y\u2032) \u2265 x\u03b2 \u2212 h\u2212t (y) } .\nTheorem 2. Let Yi1, \u00b7 \u00b7 \u00b7 , YiT follow (1), and let Assumptions (1), 2, and 3 hold. Then, for given values of \u03b2 and ht,\n\u03c4t,x,y (Xi) \u2208 [ sup\n(s,y\u2032)\u2208L P (Yis \u2265 y\u2032|Xi) , inf (s,y\u2032)\u2208U P (Yis \u2265 y\u2032|Xi)\n] \u2229 [0, 1] ,\nusing the convention that sup \u2205 = \u2212\u221e and inf \u2205 = +\u221e.\nAs in the case of in Theorem 1, the result above applies directly to point-identified \u03b2 and ht. If (\u03b2, ht) are partially identified, bounds on \u03c4t,x,y (Xi) can be obtained by taking the worst-case bounds across parameter values in the identified set.\nAccording to Theorem 2, we can use information from any period s to construct bounds on the counterfactual survival distribution in period t. The resulting bounds can be much more informative than those in Theorem 1 without time-stationarity and exogeneity assumptions; this can be seen from the expressions for binary and ordered choice in Section 3, and from the numerical experiments in Section 4. The gains can be substantial, especially if the number of time periods is large, if there is variation in the values of the sequence Xi, and if there is a large degree of variation over time in ht.13\nRemark 5. That variation in ht can improve identification is particularly interesting. In related settings, time-homogeneity of the outcome equation, i.e. ht = h, has been used for identification of partial effects in panel models. In our setting, time-variation in the structural function can aid identification of partial effects in monotone single-index models. For an example, see our analysis of binary choice models in Section 3.2.\nRemark 6. The best upper and lower bounds can be thought of as, first, choosing the best y\u2032 for each time period (as in Theorem 1) and then choosing the best time period. Letting\nYsL \u2261 { y\u2032 \u2208 Y : Xis\u03b2 \u2212 h\u2212s (y\u2032) \u2264 x\u03b2 \u2212 h\u2212t (y) } ,\nYsU \u2261 { y\u2032 \u2208 Y : Xis\u03b2 \u2212 h\u2212s (y\u2032) \u2265 x\u03b2 \u2212 h\u2212t (y) } ,\n13Although, we do not prove sharpness of the bounds in Theorem 2, we were unable to construct a situation where they were not. As we show in the numerical exercises, the bounds are (very) informative.\nwe obtain a bound for each time period,\n\u03c4t,x,y (Xi) \u2208 [ sup\ny\u2032\u2208YsL P (Yis \u2265 y\u2032|Xi) , inf y\u2032\u2208YsU P (Yis \u2265 y\u2032|Xi)\n] \u2229 [0, 1]\nand, because this bound applies for each period s, we obtain\n\u03c4t,x,y (Xi) \u2208 \u2229s\u2208{1,\u00b7\u00b7\u00b7 ,T} [ sup\ny\u2032\u2208YsL P (Yis \u2265 y\u2032|Xi) , inf y\u2032\u2208YsU P (Yis \u2265 y\u2032|Xi)\n] \u2229 [0, 1]\nor\nmax s\u2208{1,\u00b7\u00b7\u00b7 ,T} sup y\u2032\u2208YsL P (Yis \u2265 y\u2032|Xi) \u2264 \u03c4t,x,y (Xi) \u2264 min s\u2208{1,\u00b7\u00b7\u00b7 ,T} inf y\u2032\u2208YsU P (Yis \u2265 y\u2032|Xi) .\nWe illustrate this for the binary and ordered choice models in Section 3.\nRemark 7. As in the case of in Theorem 1, the bounds in Theorem 2 do not require separability in \u03b1i and Uit for identification of the counterfactual survival probability. Thus, our argument may be applied to a more general class of models.\nRemark 8. Theorem 2 updates and replaces the results in Section 3.2 in Botosaru and Muris (2017)."
        },
        {
            "heading": "3 Examples",
            "text": "In this section, we apply our results to a number of empirically relevant choices for ht. These examples are helpful in understanding how informative our bounds are, and help relate them to existing bounds in the literature derived under related but different conditions.\nLet v \u2261 \u03b1i + Xit\u03b2 \u2212 Uit. We start by applying our results to the fixed effects linear transformation model with invertible ht. We then study binary choice models with two-way fixed effects ht (v) = 1 {v \u2265 \u03bbt}, ordered choice models with time-varying thresholds ht (v) = \u2211J j=1 1 {v \u2265 \u03bbjt}, J \u2208 N, and censored regression with ht (v) = max {\u03bbt, v}."
        },
        {
            "heading": "3.1 Continuous outcomes and invertible ht",
            "text": "Let ht be invertible, so that h\u2212t = h \u22121 t . Examples include linear regression with two-way fixed effects, i.e. ht (v) = v + \u03bbt; transformation models used in duration analysis; and the Box-Cox transformation model.14\n14Such models have been studied extensively in the cross-sectional setting, see, e.g., Amemiya and Powell (1981); Powell (1991, 1996).\nLet ht be defined on R,or v \u2208 R. There always exists a y\u2032 such that\ny\u2032 = ht ( h\u22121t (y) + (x\u2212Xit) \u03b2 ) \u2208 YL \u2229 YU .\nTheorem 1 applies and the counterfactual survival probability (2) is point-identified. To see this, consider the argument below:15\n\u03c4t,x,y (Xi) = P (Yit (x) \u2265 y|Xi) = P ( \u03b1i \u2212 Uit \u2265 h\u22121t (y)\u2212 x\u03b2 \u2223\u2223Xi) = P ( \u03b1i +Xit\u03b2 \u2212 Uit \u2265 h\u22121t (y) + (Xit \u2212 x) \u03b2\n\u2223\u2223Xi) = P ( Yit \u2265 ht ( h\u22121t (y) + (Xit \u2212 x) \u03b2\n)\u2223\u2223Xi) = P (Yit \u2265 y\u2032|Xi) ,\nwhere invertibility of ht was used in the second equality. We are not aware of results for \u03c4t,x,y \u2013 or derived quantities such as partial/marginal effects \u2013 for the case considered here, other than those in Botosaru and Muris (2017); Botosaru et al. (2021, 2022)."
        },
        {
            "heading": "3.2 Binary choice",
            "text": "The link function ht (v) = 1 {v \u2212 \u03bbt \u2265 0}\nobtains the panel binary choice model with two-way fixed effects with structural function\nYit (x) = 1 {\u03b1i + x\u03b2 \u2212 Uit \u2212 \u03bbt \u2265 0} . (9)\nOur results yield bounds on (2), hence on partial effects, without parametric assumptions on the distribution of the error terms and for a variety of exogeneity conditions. The only existing results without parametric assumptions on the error term that we are aware of are those in Chernozhukov et al. (2013), but those require that regressors be discrete and that \u03bbt = 0 for all t.\nIn what follows, we fix the time period for the counterfactual to t = 1 and use the abbreviated notation\n\u03c4x (Xi) \u2261 \u03c41,x,1 (Xi) = P (Yi1 (x) \u2265 1|Xi) . (10) 15See also Remark 2 in Botosaru and Muris (2017), and Botosaru et al. (2021).\nFor this model, Y = {1} and h\u2212t (1) = \u03bbt. Remark 9. By removing infY = 0, we remove h\u2212t (0) = \u2212\u221e. This is useful, since, e.g., Theorem 1 asks us to compare Xit\u03b2 \u2212 h\u2212t (y\u2032) to x\u03b2 \u2212 h\u2212t (y) for all values of y\u2032 and fixed x, y,Xi. For the particular case that y\u2032 = infY = 0 = y, this obtains Xit\u03b2 + \u221e and x\u03b2 +\u221e. Note that we could allow y\u2032 \u2208 Y for fixed y \u2208 Y , but this would lead to obtaining trivial bounds, i.e. for y = 1 and y\u2032 = 0, \u03c4t,x,1 (Xi) \u2264 P (Yit \u2265 0|Xi) = 1. Hence, we restrict both y, y\u2032 \u2208 Y ."
        },
        {
            "heading": "3.2.1 Theorem 1 bounds",
            "text": "For y\u2032 = 1 = y, Theorem 1 leads to three different cases depending on the sign of Xi1\u03b2 \u2212 x\u03b2. These cases are:\n1. Xi1\u03b2 = x\u03b2, in which case (10) is point-identified;\n2. Xi1\u03b2 > x\u03b2, in which case the observed index exceeds the counterfactual one, so that y\u2032 = 1 \u2208 YU and the observed probability provides an upper bound for (10);\n3. Xi1\u03b2 < x\u03b2, in which case the observed index is lower than the counterfactual one, so that y\u2032 = 1 \u2208 YL and the observed probability provides a lower bound for (10).\nThe results of Theorem 1 can be summarized as follows:\n\u03c4x (Xi) \u2208  [0,min {1, P (Yi1 \u2265 1|Xi)}] , if Xi1\u03b2 > x\u03b2, {P (Yi1 \u2265 1|Xi)} , if Xi1\u03b2 = x\u03b2,\n[max {0, P (Yi1 \u2265 1|Xi)} , 1] , if Xi1\u03b2 < x\u03b2.\nTo see that these bounds are valid, we adapt the key derivation underlying Theorem 1 to this specific case:\n\u03c4x (Xi) = P (Yi1 (x) \u2265 1|Xi)\n= P (\u03b1i + x\u03b2 \u2212 Ui1 \u2265 \u03bb1|Xi)\n\u2a8b P (\u03b1i +Xi1\u03b2 \u2212 Ui1 \u2265 \u03bb1|Xi)\n= P (Yi1 \u2265 1|Xi) , (11)\nwhere the third line denotes that the direction of the inequality depends on the sign of the difference between the observed index Xi1\u03b2 and the counterfactual index x\u03b2."
        },
        {
            "heading": "3.2.2 Theorem 2 bounds",
            "text": "Under Assumption 3, Theorem 2 implies that any period can be used to construct counterfactuals for period 1. Instead of stating the bounds as implied by Theorem 2,\nwe show how to construct them from first principles. Suppose that there exists a time period s such that\nXis\u03b2 \u2212 \u03bbs = x\u03b2 \u2212 \u03bb1. (12)\nThen (10) is point identified with\n\u03c4x (Xi) = P (\u03b1i + x\u03b2 \u2212 \u03bb1 \u2212 Ui1 \u2265 0|Xi)\n= P (\u03b1i + x\u03b2 \u2212 \u03bb1 \u2212 Uis \u2265 0|Xi)\n= P (\u03b1i +Xis\u03b2 \u2212 \u03bbs \u2212 Uis \u2265 0|Xi)\n= P (Yis \u2265 1|Xi) ,\nwhere the second equality follows by Assumption (3) and the third equality follows by (12).16\nIf there does not exist a time period such that (12) holds, Theorem 2 can be operationalized as follows. Fix y\u2032 = 1 and, for each period s \u2208 {1, . . . , T}, compare Xis\u03b2\u2212\u03bbs to x\u03b2 \u2212 \u03bb1, and group the time periods according to whether they provide an upper bound (s \u2208 TU) or a lower bound (s \u2208 TL):\nTU \u2261 {s \u2208 {1, \u00b7 \u00b7 \u00b7 , T} : Xis\u03b2 \u2212 \u03bbs \u2265 x\u03b2 \u2212 \u03bb1} ,\nTL \u2261 {s \u2208 {1, \u00b7 \u00b7 \u00b7 , T} : Xis\u03b2 \u2212 \u03bbs \u2264 x\u03b2 \u2212 \u03bb1} .\nThese sets correspond to U and L in Theorem 2 with y\u2032 = 1 = y, counterfactual period t = 1, and h\u2212t (1) = \u03bbt.\nThe best lower (upper) bound on (10) is constructed using periods in TL (TU):\nmax { 0, (P (Yis \u2265 1|Xi))s\u2208TL } \u2264 \u03c4x (Xi) (13)\n\u2264 min { 1, (P (Yis \u2265 1|Xi))s\u2208TU } , (14)\nor\n\u03c4x (Xi) \u2208  [ 0,min { 1, {P (Yis \u2265 1|Xi)}s\u2208TU }] , if Xis\u03b2 \u2212 \u03bbs > x\u03b2 \u2212 \u03bb1, {P (Yis \u2265 1|Xi)} , if Xis\u03b2 \u2212 \u03bbs = x\u03b2 \u2212 \u03bb1,[ max { 0, {P (Yis \u2265 1|Xi)}s\u2208TL } , 1 ] , if Xis\u03b2 \u2212 \u03bbs < x\u03b2 \u2212 \u03bb1.\nThese bounds have a few interesting properties. First, they can be informative for 16As a special case, in a model without time dummies and with a binary treatment indicator, e.g., Xit \u2208 {0, 1}, we can point-identify the distribution under treatment x = 1 for any subpopulation that is treated at some point, \u2203t : Xit = 1.\nstayers, i.e. even when Xit = x for all t, nontrivial bounds can be derived as long as there are time effects \u03bbt \u0338= \u03bb1 for some t. Second, under Assumption 3, the bounds tighten as compared to the bounds without this assumption. In Section 4, we investigate these and other properties through a numerical experiment."
        },
        {
            "heading": "3.3 Ordered choice",
            "text": "The link function\nht (v) = J\u2211\nj=1\n1 {v \u2265 \u03bbjt} , J \u2208 N,\nobtains an ordered choice model with fixed effects and time-varying thresholds:17\nht (v) =  1 if \u2212\u221e < v < \u03bbt2, 2 if \u03bbt2 \u2264 v < \u03bbt3, ...\nJ if \u03bbtJ \u2264 v < +\u221e.\n(15)\nFor this model, Y = {2, . . . , J} and h\u2212t (y) = \u03bbty, y \u2208 Y . We fix the time period for the counterfactual to t = 1. The parameter of interest is then \u03c41,x,y (Xi) = P (Yi1 (x) \u2265 y|Xi) . (16)"
        },
        {
            "heading": "3.3.1 Theorem 1 bounds",
            "text": "Fix (y, x,Xi). To bound \u03c41,x,y (Xi) in (16), for each y\u2032 \u2208 Y we compare the observed index Xi1\u03b2 \u2212 \u03bb1y\u2032 to the counterfactual index x\u03b2 \u2212 \u03bb1y, and construct the sets\nYU = {y\u2032 \u2208 Y : Xi1\u03b2 \u2212 \u03bb1y\u2032 \u2265 x\u03b2 \u2212 \u03bb1y} , YL = {y\u2032 \u2208 Y : Xi1\u03b2 \u2212 \u03bb1y\u2032 \u2264 x\u03b2 \u2212 \u03bb1y} .\nThese sets can be used to form lower/upper bounds on \u03c41,x,y (Xi) according to Theorem 1.\nNote that for the ordered choice model, for a fixed y, there may be multiple y\u2032s yielding nontrivial bounds. This is different from the binary choice case where Y = {1} has one element, that provides either a non-trivial lower bound or a non-trivial upper\n17Das and van Soest (1999); Johnson (2004); Baetschmann (2012a,b); Muris (2017); Botosaru et al. (2021) discuss identification of the (\u03b2, \u03bbtj) under various conditions. With logistic errors, the parameters can be estimated via composite conditional maximum likelihood estimation. Without logistic errors, the parameters can be estimated using maximum score methods. In the logistic case, the results in Davezies et al. (2022) can then be used to bound average marginal effects.\nbound. For the ordered choice model, Y has at least two elements, so there may be nontrivial upper and lower bounds. To see this, let y\u2032 = y (so that \u03bb1y = \u03bb1y\u2032) and assume Xi1\u03b2 \u2265 x\u03b2. Then y\u2032 \u2208 YU , so that the observed probability P (Yi1 \u2265 y\u2032|Xi) provides a nontrivial upper bound:\nP (Yi1 \u2265 y\u2032|Xi) = P (Yi1 \u2265 y|Xi) \u2265 \u03c41,x,y (Xi) .\nHowever, there may be other values in Y , call them y\u2032, for which y\u2032 \u2208 YL. This would happen if, e.g., \u03bb1y and \u03bb1y\u2032 are such that Xi1\u03b2 \u2212 \u03bb1y\u2032 \u2264 x\u03b2 \u2212 \u03bb1y. In this case, the observed probability P (Yi1 \u2265 y\u2032|Xi) is a nontrivial lower bound:\nP (Yi1 \u2265 y\u2032|Xi) \u2264 \u03c41,x,y (Xi) .\nThe bounds given by Theorem 1 are the best bounds across YU and YL, i.e.\nP (Yi1 (x) \u2265 y|Xi) \u2208 [maxy\u2032\u2208YL {P (Yi1 \u2265 y\u2032|Xi)} ,miny\u2032\u2208YU {P (Yi1 \u2265 y\u2032|Xi)}] \u2229 [0, 1] (17)\nsetting min \u2205 = \u2212\u221e and max \u2205 = +\u221e to deal with the case when all of Y provides an upper (lower) bound."
        },
        {
            "heading": "3.3.2 Theorem 2 bounds",
            "text": "Fix s \u2208 {1, . . . , T}. For each y\u2032 \u2208 Y , compare Xis\u03b2 \u2212 \u03bbsy\u2032 to x\u03b2 \u2212 \u03bb1y, and compute the sets:\nYsL \u2261 {y\u2032 \u2208 Y : x\u03b2 \u2212 \u03bb1y \u2265 Xis\u03b2 \u2212 \u03bbsy\u2032} , YsU \u2261 {y\u2032 \u2208 Y : x\u03b2 \u2212 \u03bb1y \u2264 Xis\u03b2 \u2212 \u03bbsy\u2032} .\nThe bounds under time-stationary errors are then the intersection of the bounds in (17) across all time periods:\nmax s max y\u2032\u2208YsL {P (Yis \u2265 y\u2032|Xi)} \u2264 P (Yi1 (x) \u2265 y|Xi) \u2264 min s min y\u2032\u2208YsU {P (Yis \u2265 y\u2032|Xi)} . (18)"
        },
        {
            "heading": "3.4 Censored regression",
            "text": "The structural function Yit = max {0, \u03b1i +Xit\u03b2 \u2212 Uit}\ncorresponds to a censored regression model.18 For this model, Honore (2008) shows that one can point-identify a meaningful marginal effect using knowledge of \u03b2. Because this model is encompassed by our framework, with Y = [0,\u221e) and\nh\u2212t (y) = h \u2212 (y) = \u2212\u221e if y = 0y else, we can use our Theorems 1 and 2 to generate additional point and partial identification results for partial effects in this model.\nThe object of interest is\n\u03c41,x,y (Xi) = P (Yi1 (x) \u2265 y|Xi) .\nThe case y = 0 is not informative because P (Yi1 (x) \u2265 0|Xi) = 1. Thus, we restrict attention to y > 0 and use that h\u22121 (y) = y. If there exists a y\u2032 > 0 such that\nXi1\u03b2 \u2212 y\u2032 = x\u03b2 \u2212 y,\ni.e. if y\u2032 \u2261 y + (Xi1 \u2212 x) \u03b2 > 0,\nthen\nYi1 \u2265 y\u2032 \u21d4\u03b1i +Xi1\u03b2 \u2212 Ui1 \u2265 y\u2032\n\u21d4\u03b1i +Xi1\u03b2 \u2212 Ui1 \u2265 y + (Xi1 \u2212 x) \u03b2\n\u21d4\u03b1i + x\u03b2 \u2212 Ui1 \u2265 y\n\u21d4Yi1 (x) \u2265 y\nso that Theorem 1 implies point identification\nP (Yi1 \u2265 y\u2032 > 0|Xi) = P (Yi1 (x) \u2265 y|Xi) .\nIf y + (Xi1 \u2212 x) \u03b2 \u2264 0 then\nXi1\u03b2 \u2212 h\u22121 (0) \u2265 x\u03b2 \u2212 h\u22121 (y) 18For ease of exposition, we do not consider here extensions covered by our setup such as Yit = max {\u03bbt, gt (\u03b1i +Xit\u03b2 \u2212 Uit)} with time-varying censoring cutoff, and unknown time-varying g function. For the identification and estimation of the common parameters in censored regression models, see e.g. Honor\u00e9 (1992); Honor\u00e9 and Powell (1994); Honor\u00e9 et al. (2000); Charlier et al. (2000); Abrevaya and Muris (2020). For the cross-sectional case, see e.g. Powell (1984); Honor\u00e9 and Powell (1994).\nbecause h\u22121 (0) = \u2212\u221e, which yields the trivial upper bound\nP (Yi1 (x) \u2265 y|Xi) \u2264 1.\nEach y\u2032 > 0 provides a lower bound, since\ny + (Xi1 \u2212 x) \u03b2 \u2264 0 < y\u2032.\nThen Xi1\u03b2 \u2212 h\u22121 (y\u2032) = Xi1\u03b2 \u2212 y\u2032 \u2264 x\u03b2 \u2212 y = x\u03b2 \u2212 h\u22121 (y)\nso that P (Yi1 \u2265 y\u2032|Xi) \u2264 P (Yi1 (x) \u2265 y|Xi) .\nHence, Theorem 2 obtains\nsup y\u2032>0\nP (Yi1 \u2265 y\u2032|Xi) \u2264 P (Yi1 (x) \u2265 y|Xi) \u2264 1.\nWith time-stationary errors, point identification occurs if there exists a time period t and a y\u2032 > 0 such that\nXit\u03b2 \u2212 y\u2032 = x\u03b2 \u2212 y,\nbecause then\nP (Yit \u2265 y\u2032 > 0|Xi) = P (Yi1 (x) \u2265 y > 0|Xi) .\nThis only requires the existence of one time period for which we can find such a y\u2032 > 0. Partial identification thus only results if, for each time period,\ny + (Xit \u2212 x) \u03b2 \u2264 0,\nin which case the resulting bound is\nmax t sup y\u2032>0\nP (Yit \u2265 y\u2032|Xi) \u2264 P (Yi1 (x) \u2265 y|Xi) \u2264 1.\nThis partial identification result only applies when the subpopulation Xi is such that for each t, y + (Xit \u2212 x) \u03b2 \u2264 0."
        },
        {
            "heading": "4 Numerical experiments",
            "text": "We report on two numerical experiments that explore the bounds in Theorem 1 and Theorem 2 for the two-way binary choice and ordered choice models. We show that our bounds are informative without exogeneity or time-homogeneity assumptions on the error terms. The bounds tighten as T grows, and they are more informative for ordered choice models than for binary choice since the bounds tighten as the cardinality of Y grows. Section 4.1 presents results for a two-way binary choice probit model with continuous regressors. Section 4.2 presents results for a staggered adoption design with both binary and ordered outcomes."
        },
        {
            "heading": "4.1 Two-way binary choice probit with a continuous regressor",
            "text": "Consider the following data generating process for a binary choice model with two-way fixed effects:\nYit = 1 {\u03b1i +Xit \u00d7 1\u2212 Uit \u2265 \u03bbt} , Xi1 \u223c N ( 0, \u03c32x ) ,\nXit|Xit\u22121 \u223c N ( \u03c1Xit\u22121, \u03c3 2 x ) ,\n\u03b1i|Xi \u223c N (Xi1, 1) ,\nUit \u223c N (0, 1) ,\n\u03bbt =\n( \u22121 + 2(t+ 1)\nT )2 with \u03c32x = 1 and \u03c1 = 1 2 . The former parameter controls the cross-sectional heterogeneity in Xi, while the latter controls the degree of variation in the sequence Xi. The smaller each parameter is, the tighter the bounds are expected to be.\nFigure 1 plots the bounds on the sequence E [Yit (0)] = EX [\u03c4t,0,1 (Xi)], t = 1, 2, . . . , T . The bounds are computed according to Theorem 2. We find that the bounds get tighter as the number of periods increases. For example, the width of the interval is 0.26 when computed with up to 5 periods, 0.07 when using all T = 20 periods. In a separate experiment with T = 100 (not reported), the width shrinks to 0.01 when using all periods. The identified region may not collapse to a point as T \u2192 \u221e, since its width depends on the distribution of Xi, the stationary distribution of \u03b1i \u2212 Uit|Xi, and the shape of ht.\nFigure 2 presents results for the sequence E [Yit (0)] , t \u2265 1 for some variations on the model above. The first row, left column shows results for T = 8, keeping the other\ndesign parameters unchanged. Note that, because \u03bbt = ( \u22121 + 2 (t+1)\nT\n)2 , this changes\nthe evolution of the expectation. All subpanels of Figure 2 display results for a deviation from the top left panel. All results in Figure 2 are for the sequence E [Yit (0)] , t \u2265 1, except for the top right panel, which shows the bounds for the sequence E [Yit (1)] , t \u2265 1, under the same model as that for the top left panel. The bounds are wider because Xit has less mass around 1 than around 0. The second row reports bounds on the sequence E [Yit (0)] , t \u2265 1, when there are no time-effects (left column) and when there is no persistence in Xit, i.e. \u03c1 = 0 (right column). The bounds are slightly wider when the transformation function is time-invariant, and they are tighter when there is no persistence in Xi. The third row shows the bounds when \u03c32x is 1/4 (left column; compare to \u03c32x = 1 in the benchmark case) and \u03c32x = 4 (right column). The bounds when there is smaller cross-sectional variation in Xit at a given time period t are tighter than when there is greater cross-sectional variation.\nFor the specification consider in this section \u2013 binary probit with two way fixedeffects and short T \u2013 there are no other results in the literature. In Appendix B, we present another numerical exercise for binary probit with discrete regressors. That DGP is the same as the one in Section 8 of Chernozhukov et al. (2013) when there are no time-effects, i.e. \u03bbt = 0 for all t. In that case, we recover the bounds in Chernozhukov et al. (2013)."
        },
        {
            "heading": "4.2 Staggered adoption with binary and ordered outcomes",
            "text": "In this section, we consider a staggered adoption design with both binary and J ordered outcomes.\nThe population consists of G groups and individuals in each group g \u2208 {1, \u00b7 \u00b7 \u00b7 , G} are observed over T periods. Individuals are untreated up to and including period g; they are treated at period g + 1, and then stay treated for t > g + 1, i.e.\nXit = 0 if t \u2264 g (i) ,1 if t > g (i) , where g (i) is individual i\u2019s group. Here, G = 19 and T \u2208 {5, . . . , 20}.\nThe latent outcome is given by\nY \u2217it = \u03b1i +Xit \u00d7 1\u2212 Uit,\n\u03b1i \u223c N (0, 1) + g (i) G \u2212 1 2 ,\nand Uit is standard logistic. The observed outcome is generated as\nYit \u2265 j \u21d4 Y \u2217it \u2265 \u03bbjt,\nwhere j \u2208 J \u2208 {2, 4, 6, 8}19, and the threshold \u03bbjt is generated as follows. Set J \u2261 J 2 +1 \u2208 {1, 3, 4, 5}, so that { 1, \u00b7 \u00b7 \u00b7 , J \u2212 1 } are the lowest J/2 outcomes, and { J, \u00b7 \u00b7 \u00b7 , J } are the top J/2 outcomes. Set \u03bbJ1 = 0, \u03bbJt \u223c U [\u22121, 1], then draw \u03b7+, \u03b7\u2212 \u223c U [0, 1] and construct\n\u03bbjt = \u03bbJt \u2212 (J\u2212j) J\u22121 \u03b7\u2212, if j < J,\n\u03bbJt + (j\u2212J) J\u22121 \u03b7+, if j > J,\nWe draw one set of ( (\u03bbJt) T t=2 , \u03b7+, \u03b7\u2212 ) and condition our results on them. This allows us to compare the same parameter across different values of J and T . The parameter of interest is\n\u03c4 \u2261 E [ \u03c41,1,J (Xi) ] = E [ P ( Yi1 (1) \u2265 J \u2223\u2223Xi)] = P (Yi1 (1) \u2265 J) , J \u2208 {1, 3, 4, 5} . This parameter gives the probability of being in the upper half of possible outcomes.20\nOur results for this design are presented in Figure 3. The solid black line is \u03c4 = P ( Yi1 (1) \u2265 J ) . Bounds for different values of J are in colored, dashed lines. Binary choice is in red. At T = 5, the width of the bounds for \u03c4 are approximately 0.35, and become as narrow as 0.05 when T = 20. As J increases, the bounds narrow substantially. This is especially evident when T is small. For example, at T = 5, the width of the bounds for J = 6 is 0.07, and for J = 8 it is 0.02.\nFigure 4 provides further insight, and further clarifies the construction of the bounds in Theorem 2. Consider J = 4, G = 6 and T = 8. Each panel corresponds to a group g (i), so that panel \u201c3\u201d corresponds to the population of individuals treated in periods 4 \u2212 8. The vertical error bars, at each t, correspond to the best bounds that can be constructed for the period-1 counterfactual using period-t data, see Remark 6:[\nsup y\u2032\u2208YtL P (Yis \u2265 y\u2032|Xi) , inf y\u2032\u2208YtU\nP (Yis \u2265 y\u2032|Xi) ] \u2229 [0, 1] ,\n19For J = 2, the outcome is binary, while for J > 2, the outcome is ordered. 20A two-period version of this setup resembles the nonlinear difference-in-difference setup in Athey and Imbens (2006). The results in this section differ from theirs because we allow for the combination of fixed effects and discrete outcomes, which is not covered by their results.\nwith\nYtL \u2261 { y\u2032 \u2208 Y : Xis\u03b2 \u2212 h\u2212s (y\u2032) \u2264 x\u03b2 \u2212 h\u2212t (y) } ,\nYtU \u2261 { y\u2032 \u2208 Y : Xis\u03b2 \u2212 h\u2212s (y\u2032) \u2265 x\u03b2 \u2212 h\u2212t (y) } .\nFrom Figure 4, it is clear that J = 4 is not sufficient to provide non-trivial bounds in each period, see for example periods 1-3. The bounds in period 4 are also trivial, but in a way that complements the period 1-3 bounds. Furthermore, the thresholds in periods 6-8 are such that these periods supply non-trivial bounds. By using Assumption 3, and taking the best bounds in each panel over the time periods as in Theorem 2, relatively narrow bounds are obtained on \u03c4 , see Figure 3."
        },
        {
            "heading": "5 Conclusion",
            "text": "This paper discusses identification of counterfactual parameters in a class of nonlinear semiparametric panel models with fixed effects and arbitrary time effects. We derive bounds on the counterfactual survival probability and related functionals that depend on either outcomes from the same time period as the counterfactual (without exogeneity assumptions) or outcomes from across all available time periods (under a \u201cstrict exogeneity\u201d or conditional time-stationarity assumption on the errors). The bounds tighten as the cardinality of the support of the dependent variable increases, and, un-\nder a time-stationarity assumption on the errors, as T increases. The bounds need not collapse to a point as T grows, rather they collapse to a point under particular assumptions on the time effects and the observed regressors, i.e. when the counterfactual index equals one of the observed indexes. Our bounds are valid for continuous and discrete outcomes and covariates, for both movers and stayers.\nAlthough our focus is on identification, we describe here a potential way of addressing the issue of inference. Note that the bounds in Theorem 2 can be written as a set of conditional moment inequalities: for fixed t, x,Xi, y \u2208 Y and for all (s, y\u2032 \u2208 Y):\nE [( Xis\u03b2 \u2212 h\u2212s (y\u2032)\u2212 ( x\u03b2 \u2212 h\u2212t (y) )) \u00d7 (1 {Yis \u2265 y\u2032} \u2212 \u03c4t,x,y (Xi)) \u2223\u2223Xi] \u2265 0. When (\u03b2, ht) are partially identified via a set of moment inequalities, these moment inequalities can be added to the program. For either pointwise or uniform in x inference, one could implement the full vector approach of Cox and Shi (2022) if the regressors have finite support, or Andrews and Shi (2017) if the regressors are continuously distributed.\nThe bounds of Theorem 1 are valid for dynamic panel models. However, the bounds may be wider than those obtained by studying specific models, where the dynamic structure is known, e.g., binary choice with lagged outcomes as covariates. In ongoing work, we are studying how to extend our approach to such models. It is an open question as to whether our approach could be extended to nonseparable models."
        },
        {
            "heading": "A Proofs",
            "text": "Proof of Theorem 1. Define the (potential) latent variables\nY \u2217it (x) \u2261 \u03b1i + x\u03b2 \u2212 Uit, (19)\nY \u2217it \u2261 Y \u2217it (Xit) .\nAssumption 2 obtains the following equivalent relationships:\nYit (x) \u2265 y\n\u21d4 Y \u2217it (x) \u2265 h\u2212t (y) (20) \u21d4 Uit \u2212 \u03b1i \u2264 x\u03b2 \u2212 h\u2212t (y) , (21)\nthat is, the counterfactual outcome being greater than a fixed value y is equivalent to the random variable Uit \u2212 \u03b1i being smaller than the counterfactual index evaluated at y.\nThen, for any value y\u2032 \u2208 Y , the following are equivalent:\nXit\u03b2 \u2212 h\u2212t (y\u2032) \u2265x\u03b2 \u2212 h\u2212t (y)\n\u21d4\nP (Yit \u2265 y\u2032|Xi) \u2265P (Yit (x) \u2265 y|Xi) = \u03c4t,x,y (Xi) .\nTo see this, suppose that there exists a y\u2032 such that\nXit\u03b2 \u2212 h\u2212t (y\u2032) \u2265 x\u03b2 \u2212 h\u2212t (y) .\nThen:\nP (Yit \u2265 y\u2032|Xi) = P ( Y \u2217it \u2265 h\u2212t (y\u2032) \u2223\u2223Xi) = P ( \u03b1i +Xit\u03b2 \u2212 Uit \u2265 h\u2212t (y\u2032)\n\u2223\u2223Xi) = P ( Uit \u2212 \u03b1i \u2264 Xit\u03b2 \u2212 h\u2212t (y\u2032)\n\u2223\u2223Xi) \u2265 P ( Uit \u2212 \u03b1i \u2264 x\u03b2 \u2212 h\u2212t (y)\n\u2223\u2223Xi) = P ( \u03b1i + x\u03b2 \u2212 Uit \u2265 h\u2212t (y)\n\u2223\u2223Xi) = P (Yit (x) \u2265 y|Xi)\n= \u03c4t,x,y (Xi) ,\nwhere the inequality follows by weak monotonicity of CDFs.\nProof of Theorem 2. Chernozhukov et al. 2015 point out that Assumption 3 is equivalent to \u03b1i, Uit|Xi d = \u03b1i, Ui1|Xi. In particular,\nUit \u2212 \u03b1i|Xi d = Uis \u2212 \u03b1i|Xi, s, t \u2208 {1, . . . , T} . (22)\nThen, for any (x,Xi, t, y, s, y\u2032) we have that\nXis\u03b2 \u2212 h\u2212s (y\u2032) \u2265x\u03b2 \u2212 h\u2212t (y)\n\u21d4\nP (Yis \u2265 y\u2032|Xi) \u2265P (Yit (x) \u2265 y|Xi) = \u03c4t,x,y (Xi) .\nThis follows from\nP (Yis \u2265 y\u2032|Xi) = P ( Y \u2217is \u2265 h\u2212s (y\u2032) \u2223\u2223Xi) = P ( \u03b1i +Xis\u03b2 \u2212 Uis \u2265 h\u2212s (y\u2032)\n\u2223\u2223Xi) = P ( Uis \u2212 \u03b1i \u2264 Xis\u03b2 \u2212 h\u2212s (y\u2032)\n\u2223\u2223Xi) = P ( Uit \u2212 \u03b1i \u2264 Xis\u03b2 \u2212 h\u2212s (y\u2032)\n\u2223\u2223Xi) \u2265 P ( Uit \u2212 \u03b1i \u2264 x\u03b2 \u2212 h\u2212t (y)\n\u2223\u2223Xi) = P ( \u03b1i + x\u03b2 \u2212 Uit \u2265 h\u2212t (y)\n\u2223\u2223Xi) = P (Yit (x) \u2265 y|Xi)\n= \u03c4t,x,y (Xi) .\nThe argument is similar to that in the proof of Theorem 1, except that the fourth equality follows by (22), and the fifth inequality follows by weak monotonicity of CDFs."
        },
        {
            "heading": "B Numerical experiment with discrete regressors",
            "text": "We consider here a numerical exercise inspired by Section 8 in Chernozhukov et al. (2013): a probit model with discrete regressors. When the structural equation is timeinvariant, the data generating process corresponds to that in Chernozhukov et al. (2013). We present results for, first, the time-invariant case \u2013 for which our bounds correspond to those in Chernozhukov et al. (2013), and then for a time-varying case.\nThe data generating process is:\nYit = 1 {\u03b1i +Xit\u03b2 \u2212 Uit \u2212 \u03bbt \u2265 0} , t = 1, 2, (23)\n\u03b1i \u223c N (0, 1) ,\nUit \u223c N (0, 1) ,\n\u03b7it \u223c N (0, 1) , t = 1, 2,\nXit = 1 {\u03b1i \u2265 \u03b7it} , t = 1, 2,\n\u03bb1 = 0, \u03bb2 \u2208 { 0, 1\n2 , 1\n} ,\n\u03b2 \u2208 [0, 2] .\nWe consider the ATE at t = 1, 2, defined as:\nATEt \u2261 EX (P (Yit (1) \u2265 1|Xi)\u2212 P (Yit (0) \u2265 1|Xi))\n= EX (\u03c4t,1,1 (Xi)\u2212 \u03c4t,0,1 (Xi)) .\nRecall that \u03c4t,0,1 (Xi) refers to the counterfactual probability that in period t (first index), the probability that the counterfactual outcome under x = 0 (second index) for the the subpopulation with Xi equals or exceeds y = 1 (third index). For simplicity, we set t = 1, so that the counterfactual index for the analysis that follows is:\nx\u03b2 \u2212 \u03bb1 = 0. (24)\nAccording to Theorem 2, if the observed index is smaller (greater) than the counterfactual index (24), the observed probability associated with the observed index provides a lower (upper) bound on the counterfactual probability, while if the observed index equals the counterfactual index, the observed probability point identifies the counterfactual probability.\nFirst, in order to compare our results to those in Chernozhukov et al. (2013), we set \u03bb2 = 0.21 Theorem 2 then obtains the following results for \u03c41,0,1 (Xi) and \u03c41,1,1 (Xi). Note that \u03c41,0,1 (Xi) is point-identified for the subpopulations with\nXi \u2208 {(0, 0) , (0, 1) , (1, 0)} ,\nbecause for the listed subpopulations, the value x = 0 is observed in at least one of the 21In this case, there are no time effects, so the outcome equation is time-homogeneous, as required by the results of Chernozhukov et al. (2013).\nperiods. Thus:\n\u03c41,0,1 ((0, 0)) = P (Yi1 \u2265 1|Xi = (0, 0)) = P (Yi2 \u2265 1|Xi = (0, 0)) ,\n\u03c41,0,1 ((0, 1)) = P (Yi1 \u2265 1|Xi = (0, 1)) ,\n\u03c41,0,1 ((1, 0)) = P (Yi2 \u2265 1|Xi = (1, 0)) .\nFor the subpopulation of stayers with Xi = (1, 1), the value x = 0 is not observed in either time period, so the counterfactual probability \u03c41,0,1 ((1, 1)) is partially identified unless \u03b2 = 0:\n\u03c41,0,1 ((1, 1)) \u2208  [0, P (Yi1 \u2265 1|Xi = (1, 1))] , \u03b2 > 0, [P (Yi1 \u2265 1|Xi = (1, 1)) , 1] , \u03b2 < 0,\n{P (Yi1 \u2265 1|Xi = (1, 1))} . \u03b2 = 0.\nThis is because the observed index for this subpopulation is \u03b2 in both time periods. The analysis for \u03c41,1,1 (Xi) is similar and omitted. Figure 5 plots the bounds for ATEt=1. Note that our bounds for this particular example coincide with those in Chernozhukov et al. (2013) that the authors call \u201cNPM.\u201d\nConsider now the specification with positive time effects, \u03bb2 > 0. Theorem 2 then obtains the following results for \u03c41,0,1 (Xi) and \u03c41,1,1 (Xi).\nFirst, \u03c41,0,1 (Xi) is point-identified for the subpopulations with Xi1 = 0: the stayers with Xi = (0, 0) and the movers with Xi = (0, 1). This is because x = 0 at t = 1 for those subpopulations, so that the observed index for these subpopulations equals the counterfactual index. Thus,\n\u03c41,0,1 ((0, 0)) = P (Yi1 \u2265 1|Xi = (0, 0)) ,\n\u03c41,0,1 ((0, 1)) = P (Yi1 \u2265 1|Xi = (0, 1)) .\nSecond, for the subpopulation of movers with Xi = (1, 0), the period t = 2 observed probability provides a lower bound on \u03c41,0,1 (Xi) because the observed index for this subpopulation is Xi2\u03b2\u2212\u03bb2 = \u2212\u03bb2, which is smaller than the counterfactual index since we assumed that \u03bb2 > 0, so:\n\u03c41,0,1 ((1, 0)) \u2265 P (Yi2 \u2265 1| (1, 0)) .\nWhether the t = 1 observed probabilities point or partially identify \u03c41,0,1 ((1, 0)) for this subpopulation depends on how the observed index Xi1\u03b2 \u2212 \u03bb1 = \u03b2 compares to the\ncounterfactual index in (24):\n\u03c41,0,1 ((1, 0)) = P (Yi1 \u2265| (1, 0)) , if \u03b2 = 0,\n\u03c41,0,1 ((1, 0)) < P (Yi1 \u2265| (1, 0)) , if \u03b2 > 0,\n\u03c41,0,1 ((1, 0)) > P (Yi1 \u2265| (1, 0)) , if \u03b2 < 0.\nThird, for the subpopulation of stayers with Xi = (1, 1), the observed index at t = 1 is Xi1\u03b2 \u2212 \u03bb1 = \u03b2, so that comparing it to the counterfactual index in (24) obtains:\n\u03c41,0,1 ((1, 1)) = P (Yi1 \u2265| (1, 1)) , if \u03b2 = 0,\n\u03c41,0,1 ((1, 1)) < P (Yi1 \u2265| (1, 1)) , if \u03b2 > 0,\n\u03c41,0,1 ((1, 1)) > P (Yi1 \u2265| (1, 1)) , if \u03b2 < 0,\nwhile the observed index at t = 2 for this subpopulation is Xi2\u03b2 \u2212 \u03bb2 = \u03b2 \u2212 \u03bb2, which compared to the same counterfactual index in (24) obtains:\n\u03c41,0,1 ((1, 1)) = P (Yi2 \u2265| (1, 1)) , if \u03b2 = \u03bb2,\n\u03c41,0,1 ((1, 1)) > P (Yi2 \u2265| (1, 1)) , if \u03b2 < \u03bb2,\n\u03c41,0,1 ((1, 1)) < P (Yi2 \u2265| (1, 1)) , if \u03b2 > \u03bb2.\nWe have now described all the restrictions underlying Theorem 2 for \u03c41,0,1 (Xi) for all Xi in our example. The bounds now follow by selecting the best bounds for each case and for each Xi as in Theorem 2. The same analysis can be done for \u03c41,1,1 (Xi) and for period 2 counterfactuals.\nFigure 6 plots the bounds for ATEt=1 (left panel) and ATEt=2 (right panel). The solid lines correspond to the true ATEs, while the dashed lines correspond to their respective bounds, grouped by color. The colors correspond to different values of \u03bb2. For example, in both panels, the red lines correspond to the true ATE and its bounds when \u03bb2 = 0 (no time-effects). In the left panel, all true ATEs have the same value since there are no time-effects, \u03bb1 = 0, while in the right panel the true ATEs have different values because they correspond to different time effects."
        }
    ],
    "title": "Identification of time-varying counterfactual parameters in nonlinear panel models",
    "year": 2023
}