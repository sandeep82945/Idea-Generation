{
    "abstractText": "The complex interactions between algorithmic trading agents can have a severe influence on the functioning of our economy, as witnessed by recent banking crises and trading anomalies. A common phenomenon in these situations are fire sales, a contagious process of asset sales that trigger further sales. We study the existence and structure of equilibria in a game-theoretic model of fire sales. We prove that for a wide parameter range (e.g., convex price impact functions), equilibria exist and form a complete lattice. This is contrasted with a non-existence result for concave price impact functions. Moreover, we study the convergence of best-response dynamics towards equilibria when they exist. In general, best-response dynamics may cycle. However, in many settings they are guaranteed to converge to the socially optimal equilibrium when starting from a natural initial state. Moreover, we discuss a simplified variant of the dynamics that is less informationally demanding and converges to the same equilibria. We compare the dynamics in terms of convergence speed.",
    "authors": [
        {
            "affiliations": [],
            "name": "Nils Bertschinger"
        },
        {
            "affiliations": [],
            "name": "Martin Hoefer"
        },
        {
            "affiliations": [],
            "name": "Simon Krogmann"
        },
        {
            "affiliations": [],
            "name": "Pascal Lenzner"
        },
        {
            "affiliations": [],
            "name": "Steffen Schuldenzucker"
        },
        {
            "affiliations": [],
            "name": "Lisa Wilhelmi"
        }
    ],
    "id": "SP:d3d459860a00caa56c4bbadacb6949807df0255e",
    "references": [
        {
            "authors": [
                "Christoph Aymanns",
                "J. Doyne Farmer"
            ],
            "title": "The dynamics of the leverage cycle",
            "venue": "Journal of Economic Dynamics and Control,",
            "year": 2015
        },
        {
            "authors": [
                "Christoph Aymanns",
                "Fabio Caccioli",
                "J. Doyne Farmer",
                "Vincent Tan"
            ],
            "title": "Taming the basel leverage cycle",
            "venue": "Journal of Financial Stability,",
            "year": 2016
        },
        {
            "authors": [
                "Michel Baes",
                "Eric Schaanning"
            ],
            "title": "Reverse stress testing: Scenario design for macroprudential stress tests, 2020",
            "venue": "URL https://papers.ssrn.com/sol3/papers.cfm?abstract",
            "year": 2020
        },
        {
            "authors": [
                "Tathagata Banerjee",
                "Zachary Feinstein"
            ],
            "title": "Price mediated contagion through capital ratio requirements with VWAP liquidation prices",
            "venue": "Europ. J. Oper. Res.,",
            "year": 2021
        },
        {
            "authors": [
                "Nils Bertschinger",
                "Martin Hoefer",
                "Daniel Schmand"
            ],
            "title": "Strategic payments in financial networks",
            "venue": "In Proc. 11th Symp. Innov. Theoret. Comput. Sci. (ITCS),",
            "year": 2020
        },
        {
            "authors": [
                "Nils Bertschinger",
                "Martin Hoefer",
                "Simon Krogmann",
                "Pascal Lenzner",
                "Steffen Schuldenzucker",
                "Lisa Wilhelmi"
            ],
            "title": "Code for \u201dequilibria and convergence in fire sale games",
            "year": 2023
        },
        {
            "authors": [
                "Saikat Chatterjee",
                "Trevor Hunnicutt"
            ],
            "title": "Bump in the night: FX flash crashes put regulators on alert. Reuters, May 2019",
            "venue": "URL https://www.reuters.com/article/us-markets-currencies-insightidUSKCN1T00J0. News Item",
            "year": 2019
        },
        {
            "authors": [
                "Rama Cont",
                "Eric"
            ],
            "title": "Schaanning. Fire sales, indirect contagion and systemic stress testing, 2017",
            "venue": "URL https://ssrn.com/abstract=2541114. Working Paper",
            "year": 2017
        },
        {
            "authors": [
                "Rama Cont",
                "Eric Schaanning"
            ],
            "title": "Monitoring indirect contagion",
            "venue": "J. Bank. Financ.,",
            "year": 2019
        },
        {
            "authors": [
                "St\u00e9phane Dees",
                "J\u00e9r\u00f4me Henry",
                "Reiner Martin",
                "editors"
            ],
            "title": "STAMPe: Stress-Test Analytics for Macroprudential Purposes in the euro area",
            "venue": "European Central Bank, Frankfurt,",
            "year": 2017
        },
        {
            "authors": [
                "Fernando Duarte",
                "Thomas Eisenbach"
            ],
            "title": "Fire-sale spillovers and systemic risk",
            "venue": "J. Finance,",
            "year": 2021
        },
        {
            "authors": [
                "Larry Eisenberg",
                "Thomas Noe"
            ],
            "title": "Systemic risk in financial systems",
            "venue": "Management Science,",
            "year": 2001
        },
        {
            "authors": [
                "Matthew Elliott",
                "Benjamin Golub",
                "Matthew Jackson"
            ],
            "title": "Financial networks and contagion",
            "venue": "Amer. Econ. Rev.,",
            "year": 2014
        },
        {
            "authors": [
                "Kousha Etessami",
                "Mihalis Yannakakis"
            ],
            "title": "On the complexity of Nash equilibria and other fixed points",
            "venue": "SIAM J. Comput.,",
            "year": 2010
        },
        {
            "authors": [
                "Maureen Farrel"
            ],
            "title": "Mini flash crashes: A dozen a day",
            "venue": "URL https://money.cnn.com/ 2013/03/20/investing/mini-flash-crash/index.html. News Item",
            "year": 2013
        },
        {
            "authors": [
                "John Geanakoplos"
            ],
            "title": "The leverage cycle",
            "venue": "Cowles Foundation Discussion Paper,",
            "year": 2009
        },
        {
            "authors": [
                "Giulio Girardi",
                "Kathleen Hanley",
                "Stanislava Nikolova",
                "Loriana Pelizzon",
                "Mila Sherman"
            ],
            "title": "Portfolio similarity and asset liquidation in the insurance industry",
            "venue": "Journal of Financial Economics,",
            "year": 2021
        },
        {
            "authors": [
                "Brett Hemenway",
                "Sanjeev Khanna"
            ],
            "title": "Sensitivity and computational complexity in financial networks",
            "venue": "Algorithmic Finance,",
            "year": 2016
        },
        {
            "authors": [
                "Martin Hoefer",
                "Lisa Wilhelmi"
            ],
            "title": "Seniorities and minimal clearing in financial network games",
            "venue": "In Proc. 15th Symp. Algorithmic Game Theory (SAGT),",
            "year": 2022
        },
        {
            "authors": [
                "Stavros D. Ioannidis",
                "Bart de Keijzer",
                "Carmine Ventre"
            ],
            "title": "Strong Approximations and Irrationality in Financial Networks with Derivatives",
            "venue": "In 49th International Colloquium on Automata, Languages, and Programming (ICALP 2022),",
            "year": 2022
        },
        {
            "authors": [
                "Panagiotis Kanellopoulos",
                "Maria Kyropoulou",
                "Hao Zhou"
            ],
            "title": "Financial network games",
            "venue": "In ICAIF\u201921: 2nd ACM Int. Conf. AI in Finance,",
            "year": 2021
        },
        {
            "authors": [
                "Panagiotis Kanellopoulos",
                "Maria Kyropoulou",
                "Hao Zhou"
            ],
            "title": "Forgiving debt in financial network games",
            "venue": "In Proc. 21st Conf. Auton. Agents and Multi-Agent Syst. (AAMAS),",
            "year": 2022
        },
        {
            "authors": [
                "Buhong Liu",
                "Maria Polukarov",
                "Carmine Ventre",
                "Lingbo Li",
                "Leslie Kanthan"
            ],
            "title": "Call markets with adaptive clearing intervals",
            "venue": "In Proc. 20th Conf. Auton. Agents and Multi-Agent Syst. (AAMAS),",
            "year": 2021
        },
        {
            "authors": [
                "Buhong Liu",
                "Maria Polukarov",
                "Carmine Ventre",
                "Lingbo Li",
                "Leslie Kanthan",
                "Fan Wu",
                "Michail Basios"
            ],
            "title": "The spoofing resistance of frequent call markets",
            "venue": "In Proc. 21st Conf. Auton. Agents and Multi-Agent Syst. (AAMAS),",
            "year": 2022
        },
        {
            "authors": [
                "P\u00e1l Andr\u00e1s Papp",
                "Roger Wattenhofer"
            ],
            "title": "Network-Aware Strategies in Financial Systems",
            "venue": "In Proc. 47th Int. Colloq. Autom. Lang. Programming (ICALP),",
            "year": 2020
        },
        {
            "authors": [
                "P\u00e1l Andr\u00e1s Papp",
                "Roger Wattenhofer"
            ],
            "title": "Sequential defaulting in financial networks",
            "venue": "In Proc. 12th Symp. Innov. Theoret. Comput. Sci. (ITCS),",
            "year": 2021
        },
        {
            "authors": [
                "P\u00e1l Andr\u00e1s Papp",
                "Roger Wattenhofer"
            ],
            "title": "Debt swapping for risk mitigation in financial networks",
            "venue": "In Proc. 22nd Conf. Econ. Comput. (EC),",
            "year": 2021
        },
        {
            "authors": [
                "P\u00e1l Andr\u00e1s Papp",
                "Roger Wattenhofer"
            ],
            "title": "Default ambiguity: Finding the best solution to the clearing problem",
            "venue": "In Proc. 17th Conf. Web and Internet Econ. (WINE),",
            "year": 2021
        },
        {
            "authors": [
                "Jonathan Ponciano"
            ],
            "title": "Crypto flash crash wiped out $300 billion in less than 24 hours, spurring massive bitcoin liquidations",
            "venue": "URL https://www.forbes.com/sites/jonathanponciano/ 2021/04/18/crypto-flash-crash-wiped-out-300-billion-in-less-than-24-hours-spurringmassive-bitcoin-liquidations/. News Item",
            "year": 2021
        },
        {
            "authors": [
                "Steffen Schuldenzucker",
                "Sven Seuken",
                "Stefano Battiston"
            ],
            "title": "Clearing payments in financial networks with credit default swaps",
            "venue": "In Proc. 17th Conf. Econ. Comput. (EC),",
            "year": 2016
        },
        {
            "authors": [
                "Steffen Schuldenzucker",
                "Sven Seuken",
                "Stefano Battiston"
            ],
            "title": "Finding clearing payments in financial networks with credit default swaps is PPAD-complete",
            "venue": "In Proc. 8th Symp. Innov. Theoret. Comput. Sci. (ITCS),",
            "year": 2017
        },
        {
            "authors": [
                "Steffen Schuldenzucker",
                "Sven Seuken",
                "Stefano Battiston"
            ],
            "title": "Default ambiguity: Credit default swaps create new systemic risks in financial networks",
            "venue": "Manag. Sci.,",
            "year": 2020
        }
    ],
    "sections": [
        {
            "heading": "1 Introduction",
            "text": "On May 6, 2010, 2:45pm, one trillion dollars in stock market valuation disappeared. In an event known as a flash crash, the Dow Jones and many other stock indices collapsed by as much as 9%. The flash crash is generally seen as the product of a system of interacting agents, many of them computerized, that jointly exacerbated an initial shock.1 While prices recovered after approximately 30 minutes (after trading was briefly halted), it is by no means guaranteed that this will always be the case in a flash crash. Recent price crashes in cryptocurrency markets, such as the Bitcoin crash on April 17, 2021 [Ponciano, 2021], may have resulted in permanently altered market conditions.\nAs prices deteriorate very quickly, it is important to understand the amplification of stock price declines through the interaction between different (electronic or human) trading agents. In this paper, we study this problem through the lens of algorithmic game theory.\nAgents may amplify price deteriorations through many different processes. In this work, we focus on price-mediated contagion due to leverage caps. We study a collection of rational agents that interact with each other through overlapping portfolios. Each agent holds a share of the supply of one of several assets, where usually two or more agents hold a share in the same asset. Sales in any given asset depress its price, i.e., sales have price impact, which in turn may reduce the value of the asset holdings of another agent. We assume that agents are constrained by an upper bound on their leverage, i.e., the ratio between their (risky) asset holdings and their equity. The equity of an agent is the difference between the total value of her assets and her liabilities, and it includes cash proceeds from the liquidation of risky assets. Leverage caps can represent the agents\u2019 own desire to limit their risk, or they might be regulatory constraints.2 Because of leverage caps, a price depression in some of the assets may cause agents to perform further\n\u2217Supported by DFG Research Group ADYN under grant DFG 411362735 and by SNF grant P2ZHP2 187934. \u2020Goethe University Frankfurt, Frankfurt Inst. of Advanced Studies, Germany. bertschinger@fias.uni-frankfurt.de \u2021Goethe University Frankfurt, Germany. mhoefer@em.uni-frankfurt.de \u00a7Hasso Plattner Institute, Potsdam, Germany. simon.krogmann@hpi.de \u00b6Hasso Plattner Institute, Potsdam, Germany. pascal.lenzner@hpi.de \u2016Goethe University Frankfurt, Germany. schuldenzucker@em.uni-frankfurt.de\n\u2217\u2217Goethe University Frankfurt, Germany. wilhelmi@em.uni-frankfurt.de 1The Joint CFTC-SEC Advisory Committee on Emerging Regulatory Issues [2010] stated that the flash crash was triggered by a single market participant employing an (arguably simplistic) trading algorithm. Other trading agents at first absorbed the resulting price pressure, but then amplified and spread it. Other examples of flash crashes are extreme movements in currency markets in recent years [Bank of International Settlements, 2017, Chatterjee and Hunnicutt, 2019]. Anecdotal evidence suggests that smaller-scale flash crashes happen very frequently [Farrel, 2013, Chatterjee and Hunnicutt, 2019].\n2The Basel III regulatory framework stipulates leverage caps for banks [Basel Committee on Banking Supervision, 2011].\nar X\niv :2\n20 6.\n14 42\n9v 3\n[ cs\n.G T\n] 2\n6 M\nay 2\n02 3\nsales to satisfy their leverage constraints. This can give rise to a contagious fire sale process, where a small initial price drop quickly leads to a large number of asset sales and a corresponding price drop."
        },
        {
            "heading": "1.1 Related Work",
            "text": "Fire sales are a well-known phenomenon and have been studied both academically and by regulators (e.g., central banks). A leverage cycle, in which banks\u2019 reduction of leverage leads to price decline and further reduction of leverage, was first studied by Geanakoplos [2009]. Aymanns and Farmer [2015] and Aymanns et al. [2016] studied a dynamic model of leveraged and unleveraged investors. Cont and Schaanning [2017] studied a model of overlapping portfolios and leverage constraints. Agents react to an initial shock following a specific iterative liquidation process, where they proportionally sell off a fraction of their portfolio. Our paper re-interprets a generalization of their model in a game-theoretic setting. Importantly, Cont and Schaanning [2017] did not study game-theoretic equilibria. In a later work [Cont and Schaanning, 2019], the same authors discuss risk indicators that help quantify the exposure of a given institution to price-mediated contagion. Baes and Schaanning [2020] studied worst-case scenarios when agents respond to price depreciations in an individually optimal way. Banerjee and Feinstein [2021] studied a fire sale process where liquidations occur at volume-weighted average prices. Price-mediated contagion has also received interest from regulators, e.g., in the European Central Bank\u2019s STAMPe macro stress testing framework [Dees et al., 2017, Section 12.2.1].\nAnother related model for studying contagion effects in financial networks was introduced by Elliott et al. [2014]. This general model considers banks and assets and allows for banks to own shares of other banks. Banks in the network are connected by linear dependencies, i.e., cross-holdings, and if any bank\u2019s value drops below a critical threshold, its value suffers an additional failure cost, potentially impacting the value of other banks. Hemenway and Khanna [2016] study the sensitivity and computational complexity of this model.\nRecently, there has been considerable interest in analyzing financial networks from an algorithmic and game-theoretic point of view. A number of works are based on a classical model for systemic risk in financial networks by Eisenberg and Noe [2001] which studies the clearing problem, i.e., to determine which banks are in default and their exposure to systemic risk. A recent work by Bertschinger et al. [2020] proposes a strategic version, in which firms are rational agents in a given directed graph of debt contracts. To clear its debt, every agent strategically decides on a ranking-based payment strategy. The authors study the existence and computational complexity of pure Nash and strong equilibria, and provide bounds on the (strong) prices of anarchy and stability. Kanellopoulos et al. [2021] consider the same model but they focus on more general priority-proportional payments. Recently, Hoefer and Wilhelmi [2022] analyzed minimal clearing and the impact of seniorities (i.e., priorities over debt contracts) on the existence of equilibria. Moreover, Kanellopoulos et al. [2022] study complexity questions regarding centralized bailouts and the forgiving of certain debts for banks in default, along with game-theoretic incentives that emerge in such scenarios.\nThe network model by Eisenberg and Noe [2001] has also been augmented by considering creditdefault swaps (CDS) [Schuldenzucker et al., 2016]. The hardness of finding clearing payments with CDS is analyzed by Schuldenzucker et al. [2017] and the approximation perspective was considered recently by Ioannidis et al. [2022]. The impact of banks deleting or adding liabilities, donating to other banks, or changing external assets has been studied by Papp and Wattenhofer [2020]. These operations can be beneficial for the individual banks since the changes may enforce more favorable solutions. Still, after clearing some banks may end up in default. Papp and Wattenhofer [2021a] study the influence of the sequence of banks\u2019 defaults. In [Papp and Wattenhofer, 2021c] several possible strategies for resolving default ambiguity, i.e., which banks end up in default and how much of their liabilities can these defaulting banks pay, are studied. In a different direction, in [Papp and Wattenhofer, 2021b] risk mitigation via local network changes (\u201cdebt swapping\u201d) is investigated.\nFrequent call markets represent another financial game which has sparked research recently Liu et al. [2021, 2022]. Here, the focus lies on preventing fraud while maintaining efficiency."
        },
        {
            "heading": "1.2 Our Contribution",
            "text": "In this paper, we innovate upon prior work by studying fire sales as a static fire sale game played by fully rational agents. Each agent decides on the fraction of her portfolio she sells and keeps, respectively.3 The\n3Note that the relative composition of each agent\u2019s portfolio is kept constant in all of this paper except for Section 6. This is a standard assumption in the literature on price-mediated contagion [see, e.g., Cont and Schaanning, 2017, Duarte\nagent derives a utility equal to her equity, i.e., the shareholder value of her firm, as long as she satisfies the leverage constraint.4 The equity depends on her own action (through sales choices and price impact) and the actions of others (through price impact). We study the Nash equilibria of this game under different restrictions on the strategy space, assumptions on the price impact function, and assumptions on how the price impact manifests while selling any given asset. We capture this latter dimension in a parameter \u03b1 \u2208 [0, 1].\nWe study the existence and the structure of equilibria. When \u03b1 = 1 (i.e., price impact affects prices of assets sold as much as those of assets kept) or if the price impact function is convex, we show that an equilibrium always exists and the set of equilibria further has a desirable lattice structure. In this case, a process of iterative best responses converges to the point-wise maximal equilibrium, which sets each agent off best among all equilibria (Section 3). In contrast, if \u03b1 < 1 and price impact is concave (Section 3.1), an equilibrium need not even exist.\nUnder the assumptions that allow showing the above lattice structure result, the Pareto optima of the game form strong equilibria. This is not true for \u03b1 < 1. In this case \u201cbank-run\u201d effects can manifest, where an agent is incentivized to sell more than strictly necessary to satisfy her leverage constraint. Moreover, even under severe restrictions, there are games where a Nash equilibrium yields devastating utility for every agent in comparison to the social optimum.\nAlso, we study processes by which agents may actually converge to an equilibrium, where we focus on the case of \u03b1 = 1 and linear price impact. We consider two kinds of best-response dynamics: the regular best-response dynamics and a simplified best-response dynamics, where agents do not take the fact into account that their own response to changing market prices in turn generates price impact. One may argue that the simplified dynamics serve as a more realistic model of agent behavior since it is less complex to execute and requires less information about the precise shape of the price impact function. We show that, under the assumptions of our lattice structure result, both of these dynamics converge to the maximal equilibrium. However, we show via computational experiments that they can do so at vastly different speeds. Our experiments further suggest that the convergence speed depends on the overall diversification of agents across assets, with the worst case depending on the specific parameters (Section 5).\nFinally, in Section 6 we briefly touch upon an extension of our model to a setting where agents are not restricted to selling off a share of their whole portfolio proportionally. Rather, they can choose which assets to sell to which degree. We show that the possibility of non-proportional sales leads to significantly more complex strategic interactions and less desirable outcomes. More in detail, even for \u03b1 = 1 and linear price impact the social-welfare optimum need not be an equilibrium and the price of stability is greater than 1. Nevertheless, the single-agent best-response problem is still tractable.\nOverall, our results illustrate that the equilibrium structure arising from a strategic interaction through fire sales is crucially dependent on the agents\u2019 strategy spaces and the way in which market impact manifests. Coordination on an equilibrium is of central importance, suggesting potential for regulatory assistance."
        },
        {
            "heading": "2 Preliminaries",
            "text": ""
        },
        {
            "heading": "2.1 The Model",
            "text": "Our market model is based on Cont and Schaanning [2017]. We have sets of agents N = {1, . . . , n} and assets M = {1, . . . ,m}. Each agent i holds an amount aIi > 0 of illiquid assets, which cannot be sold and are not subject to price impact. Agent i holds an amount of xij in the (liquid) asset j. We assume w.l.o.g. the amounts to be normalized, so that xij \u2208 [0, 1] for all i, j, if no agent sells any holdings in j.\nEach agent i\u2019s strategic action consists of a number yi \u2208 [0, 1], which is the share of agent i\u2019s holdings in each asset j that agent i keeps. Agent i thus sells an amount of 1\u2212 yi of her total portfolio holdings on the market. The amount of asset j held by agent i after selling is yixij . Let xj(y) := \u2211 i\u2208N yixij be the amount of asset j that has not been sold if agents act according to y. We assume that the price of each asset j decays when assets are sold according to a function pj(y) = pj(xj(y)) such that pj(0) = 0, pj(1) = p 0 j , and pj(xj) is continuous and increasing in xj . We say that price impact is linear if for each j \u2208 M , the function pj simply linearly interpolates between the two given points, i.e., pj(xj) = xjp0j .\nand Eisenbach, 2021] and supported by empirical evidence [e.g., Girardi et al., 2021]. Our main reason to discuss this case is that it helps to simplify the presentation. Most of the results in this paper can be extended in a straightforward way to general monotone sales, see our discussion in Section 7.\n4We assume that agents that cannot satisfy the leverage constraint need to fully liquidate their position.\nWe say that price impact is convex if pj is convex for each j and concave if pj is concave for each j. If all agents sell according to y, the value of agent i\u2019s remaining asset holdings is therefore\nai(y) = a I i + yi \u2211 j\u2208M xijpj(y).\nSelling assets redeems a certain amount of money for each agent i. As the agents sell their assets, the corresponding price impact would usually manifest over time: amounts of assets that are sold at the very beginning would typically not be subject to price impact, while sales that happen late would bear significant price impact. Since we consider a static game, we do not model this effect directly. Instead, we follow Cont and Schaanning [2017] by capturing the effect using an implementation shortfall parameter \u03b1 \u2208 [0, 1]. Agents redeem a share of \u03b1 of their sales according to the post-price-impact price and a share of 1 \u2212 \u03b1 according to the pre-price-impact price of an asset. If \u03b1 = 0, the market reacts very slowly to asset sales, so that price impact does not manifest in the effective price that agents receive when they sell their assets (but it does manifest for the post-sale values of the remaining assets). If \u03b1 = 1, then the full price impact manifests immediately; such a situation may arise when asset sales are conducted using an auction mechanism.5 If all agents sell according to y, the total revenue that agent i derives from her asset sales is now\n\u2206i(y) = (1\u2212 yi) \u2211 j\u2208M xij((1\u2212 \u03b1)p0j + \u03b1pj(y)).\nWe assume that each agent i has liabilities of li to external creditors. Agent i\u2019s equity is the difference between her total assets and liabilities, where her total assets consist of her (illiquid and liquid) assets and the risk-free money she has redeemed from asset sales:\nei(y) = ai(y) + \u2206i(y)\u2212 li.\nNote that the equity of an agent is what would remain if the agent\u2019s (risky and risk-free) assets were used to pay off her liabilities. It therefore equals the agent\u2019s shareholder value.\nIf ei(y) > 0, then agent i\u2019s leverage at y is the ratio between her risky assets and her equity:\nlevi(y) = ai(y)\nei(y) =\nai(y)\nai(y) + \u2206i(y)\u2212 li .\nNote how an agent that holds no risky assets (i.e., ai(y) = 0) has a leverage of 0 (unless its equity is also 0) while an agent that holds high risky assets, only little risk-free assets and has high liabilities (i.e., ai(y) and li are large and \u2206i(y) is small) has a high leverage. This is why leverage is used as an instrument to gauge the riskiness of an agent. If ei(y) \u2264 0, then levi(y) is not defined.\nWe assume that regulatory constraints limit the admissible leverage of an agent to a constant \u03bb > 1, i.e., agent i needs to choose its action yi such that\nlevi(y) \u2264 \u03bb.\nIf no such yi exists, we say that agent i is illiquid given the actions y\u2212i of the other agents. If no yi exists for which ei(y) > 0, we say that agent i is insolvent at y\u2212i. Insolvent or illiquid agents need to sell their whole asset holdings (otherwise, we assume that they receive utility \u2212\u221e); the other agents (which we call liquid agents) derive a utility equal to their equity. More in detail, we consider the following utility function. Define special strategies y0i := 0 and y 1 i := 1 and define the utility of agent i as\nui(y) :=  \u2212\u221e if yi \u0338= y0i and\n(ei(y) \u2264 0 or levi(y) > \u03bb) ei(y) otherwise.\nNote that agents always have the option to sell everything (i.e., play yi = y 0 i ) and then receive a utility equal to their equity. This is motivated by the fact that it should always be possible to liquidate a firm; regulation must not prevent agents from exiting the market. Observe that, in any Nash equilibrium, insolvent or illiquid agents sell everything and liquid agents either play a yi for which ei(y) > 0 and levi(y) \u2264 \u03bb or sell everything (i.e., play yi = y0i ). We call a collection (N,M, aI , x, \u03b1, \u03bb) a fire sale game. See Figure 1 for an example instance.\n5An alternative approach is to compute the integral of of the price impact function with respect to a path of infinitesimal trades. This route was chosen by Banerjee and Feinstein [2021]. For the purpose of this paper, where we are interested in the strategic implications of fire sales, our approach using the \u03b1 parameter provides a simple way of capturing the extent to which price impact affects agents.\nagent 1\nagent 2\nagent 3\nasset 1\nasset 2\naI1 = 100 l1 = 78\naI1 = 100 l1 = 67\naI1 = 100 l1 = 79\np01 = 100\np02 = 50\n0.2\n0.8\n0.4\n0.4 0.2\ny1 y2 y3 lev1(y) u1(y) lev2(y) u2(y) lev3(y) u3(y) 1.0 1.0 1.0 1.95 82.0 1.92 73.0 2.11 \u2212\u221e 1.0 1.0 0.7 2.01 \u2212\u221e 1.98 68.18 2.0 65.58 0.95 1.0 0.7 2.0 75.51 1.99 67.81 2.01 \u2212\u221e 0.95 1.0 0.65 2.01 \u2212\u221e 1.99 67.02 2.0 63.94 0.89 1.0 0.65 2.0 72.36 2.01 \u2212\u221e 2.02 \u2212\u221e 0.89 0.97 0.65 2.01 \u2212\u221e 2.0 66.02 2.03 \u2212\u221e 0.89 0.97 0.51 2.04 \u2212\u221e 2.04 \u2212\u221e 2.0 59.88 0.0 0.97 0.51 2.64 e1(y) 2.17 \u2212\u221e 2.46 \u2212\u221e 0.0 0.0 0.51 3.32 e1(y) 2.43 e2(y) 3.47 \u2212\u221e 0.0 0.0 0.0 4.54 e1(y) 3.03 e2(y) 4.76 e3(y)\nFigure 1: A fire sale game with three agents and two assets, \u03b1 = 1, \u03bb = 2.0, and linear price impact, i.e., pj(y) = p 0 j \u00b7 \u2211 i\u2208N xijyi. Left: Asset holdings and initial prices. Right: Sequence of game states obtained by playing best responses starting from the state (1, 1, 1). Newly chosen strategies are red, all values are rounded to two digits. When Agent 3 starts selling to fulfill her leverage constraint, a fire sale starts that eventually forces all agents to sell everything."
        },
        {
            "heading": "2.2 Basic Properties",
            "text": "Our first proposition shows that sales of one agent destabilize other agents with overlapping portfolios, in the sense that their leverage increases. This effect introduces fire sales into our model. For technical reasons, we need to consider a lower bound of 1 on the leverage; note that this is irrelevant to our discussion since the leverage cap is always \u03bb > 1.\nProposition 1. Let levi(y) = max(1, levi(y)). Then levi(yi, y\u2212i) is monotonically decreasing in y\u2212i. More in detail, if yi \u2208 [0, 1] and y\u2212i \u2264 y\u2032\u2212i point-wise, then levi(yi, y\u2212i) \u2265 levi(yi, y\u2032\u2212i).\nProof. By assumption and monotonicity of the functions pj , we have pj(yi, y\u2212i) \u2264 pj(yi, y\u2032\u2212i) for all j. It immediately follows from the definition that levi(yi, y\u2212i) < 1 if and only if \u2206i(yi, y\u2212i) > li. If this is the case, then also \u2206i(yi, y \u2032 \u2212i) \u2265 \u2206i(yi, y\u2212i) > li, where the first inequality immediately follows from the above statement about the prices pj . Now also levi(yi, y \u2032 \u2212i) < 1 and thus levi(yi, y\u2212i) = 1 = levi(yi, y \u2032 \u2212i).\nAssume now that levi(yi, y\u2212i), levi(yi, y\u2032\u2212i) \u2265 1 and write short a := ai(yi, y\u2212i), a\u2032 := ai(yi, y\u2032\u2212i), and likewise for \u2206. Then\nlevi(yi, y\u2212i) = levi(yi, y\u2212i) = a a+\u2206\u2212 li \u2265 a\n\u2032\na\u2032 +\u2206\u2212 li \u2265 a\n\u2032\na\u2032 +\u2206\u2032 \u2212 li = levi(yi, y\n\u2032 \u2212i) = levi(yi, y \u2032 \u2212i),\nwhere the first inequality holds since, by assumption, \u2206 \u2212 li \u2264 0 and a \u2264 a\u2032, and the second inequality holds since \u2206 \u2264 \u2206\u2032, both of which immediately follow from monotonicity of the prices pj .\nNote that levi is not necessarily monotonically increasing in yi, i.e., selling more does not always reduce leverage. Whether or not this is the case depends on the price impact functions, the \u03b1 parameter, and y\u2212i.\nThe leverage function levi is also continuous in y.\nProposition 2. The leverage function levi is continuous in the strategy profile y in the region where agent i is solvent.\nProof. This follows immediately from the definitions. More in detail, continuity of the price impact functions pj implies continuity of the functions ai and \u2206i, which in turn imply continuity of levi on the domain where its denominator is non-zero.\nAgents become illiquid before they become insolvent. This technical property will be useful in our proofs.\nProposition 3. Let i be an agent and let (yt)t be a sequence of strategy profiles such that ei(y t) > 0 for all t and ei(y t) \u2192 0. Then levi(yt) \u2192 \u221e. In particular, there exists a t such that levi(yt) > \u03bb.\nProof. This follows immediately from the definition levi(y) = ai(y)/ei(y), the assumption ei(y t) \u2192 \u221e, and the fact that ai(y t) \u2265 aIi > 0 for all t."
        },
        {
            "heading": "2.3 Post-Sale Prices",
            "text": "An important special case of the model is when \u03b1 = 1. Here, agents liquidate their assets at an average price that is equal to the price after all assets have been sold. We also say that in this case the agents receive post-sale prices. Agents are highly affected by price devaluations in this case. Intuitively, agents will therefore avoid sales and only execute them to satisfy the leverage constraint. The following Proposition 4 formalizes this intuition. We will show that this further implies monotonicity of the best response of each agent, which will be an important building block towards our later results.\nThe best-response function \u03a6 : [0, 1]N \u2192 [0, 1]N is\n\u03a6i(y) := arg maxyi\u2208[0,1] ui(yi, y\u2212i).\nTies in the arg max are w.l.o.g. broken in favor of largest yi. It is easy to see that for \u03b1 = 1, the equity ei simplifies to\nei(y) = a I i \u2212 li + \u2211 j xijpj(y). (1)\nThe equity is equal to the assets, net of liabilities, under the assumption that the agent has not actually sold anything, but is still exposed to price impact on her asset holdings. This drives the following result.\nProposition 4. Let \u03b1 = 1. Then (1) each liquid agent i maximizes her utility by maximizing yi subject to the leverage constraint and (2) \u03a6 is monotonic.\nProof. First, observe that the equity is monotonic in yi since the functions pj are monotonic and by (1). The best response of agent i thus minimizes sales (i.e., maximizes yi) subject to the leverage constraint.\nNow consider the best response y\u2217i of i to a fixed y\u2212i. First, assume the special case where y \u2217 i = 0. Then, by monotonicity of the equity, agent i either exactly satisfies the leverage constraint or is illiquid or insolvent. In the latter scenario, the leverage is undefined, while the other cases imply levi(y \u2217 i , y\u2212i) \u2265 \u03bb > 1. By monotonicity of the equity and the leverage (Proposition 1) in y\u2212i, the agent must maintain this strategy when the others increase their sales. Now assume that y\u2217i > 0. To maximize utility, the agent chooses the highest value yi as her strategy so that the leverage constraint is still satisfied. Whenever the agent fulfills the leverage constraint without liquidating any assets (i.e., y\u2217i = 1), her leverage is at least 1, since levi(y \u2217 i , yi) = ai(y \u2217 i , y\u2212i)/(ai(y \u2217 i , y\u2212i)\u2212 li) \u2265 1. Now assume the agent to sell a share of her assets, i.e., y\u2217i \u2208 (0, 1). In particular, this means that levi(y\u2217i , y\u2212i) = \u03bb > 1 and levi(y\u0302i, y\u2212i) > \u03bb for all y\u0302i > y\u2217i . If the other agents now increase their sales, all y\u0302i remain invalid (i.e., y \u2032 \u2212i \u2264 y\u2212i \u21d2 levi(y\u0302i, y\u2032\u2212i) > \u03bb for all y\u0302i > y \u2217 i , due to Proposition 1). Therefore, if y \u2217 i no longer satisfies the constraint, i must also liquidate more assets."
        },
        {
            "heading": "2.4 Intermediate and Convex Prices",
            "text": "Another case that we will show is relatively well-behaved is when the price function pj(xj) is convex, even if \u03b1 \u2208 (0, 1). In this situation, agents receive a payoff somewhere between the pre- and post-sale prices, and any trade carries a higher price impact when little is sold overall compared to when a lot of assets are already being sold.\nWhen only few assets are being sold and prices are still high, we show that agents have an incentive to sell as little as possible while maintaining their leverage constraint, like in Section 2.3. Intuitively, by convexity of the price impact function and when the other agents only sell little, any additional sale by agent i carries a large price impact and is thus often undesirable. Once a sufficiently high amount of assets is being sold by the other agents, however, the price impact of any additional unit sold becomes small enough that it becomes profitable for an agent i to \u201crun\u201d on the market and sell all of their asset holdings.6 As an important technical tool for formalizing this intuition, we show that the equity of an agent is convex in her own strategy.\nProposition 5. Let y\u2212i be fixed. With convex price impact, the equity ei(yi, y\u2212i) is convex in yi. 6Depending on the game, either of the two \u201cphases\u201d may be absent. The point at which \u201crunning\u201d on the market becomes profitable is also agent-specific and multi-dimensional. We express this in terms of a monotonicity statement regarding the vector y\u2212i of the strategies of the other agents in Proposition 6.\nProof. We prove convexity of ei(yi, y\u2212i) by showing that the first derivative e\u2032i(yi, y\u2212i) with respect to yi is monotonically increasing. Let y\u0302i > yi, then by monotonicity of all price functions pj and derivatives p\u2032j we have\ne\u2032i(yi, y\u2212i) = \u2211 j xij((\u03b1\u2212 1)p0j + (1\u2212 \u03b1)pj(yi, y\u2212i) + (yi + \u03b1\u2212 yi\u03b1)p\u2032j(yi, y\u2212i))\n\u2264 \u2211 j xij((\u03b1\u2212 1)p0j + (1\u2212 \u03b1)pj(y\u0302i, y\u2212i) + (yi + \u03b1\u2212 yi\u03b1)p\u2032j(yi, y\u2212i))\n\u2264 \u2211 j xij((\u03b1\u2212 1)p0j + (1\u2212 \u03b1)pj(y\u0302i, y\u2212i) + (y\u0302i + \u03b1\u2212 y\u0302i\u03b1)p\u2032j(y\u0302i, y\u2212i)) = e\u2032i(y\u0302i, y\u2212i).\nProposition 4 states that the best-response function is monotonic if \u03b1 = 1. In case of convex price impact, monotonicity of the best-response function also follows without any restriction on \u03b1. Convexity of the equity gives rise to the aforementioned dichotomy of potential optimal strategies: either sell as little as possible or sell everything. Note that, different from the \u03b1 = 1 case, the equity is not necessarily monotonic in yi for convex price impact.\nProposition 6. Consider convex price impact. Then the best-response function \u03a6 is monotonic.\nProof. By convexity of the equity function, agent i maximizes her utility by either minimizing or maximizing her sales. For every strategy profile y, it is therefore sufficient to consider the maximal and minimal feasible strategy (the minimal one being 0) as a potential best response. Let ymaxi be the maximal strategy fulfilling the leverage constraint for fixed y\u2212i, or 0 if no such strategy exists. Then, the best-response function is\n\u03a6i(yi, y\u2212i) = arg maxyi\u2208{ymaxi ,y0i } ui(yi, y\u2212i),\nwhere a potential tie is broken in favor of ymaxi . The value y max i is monotonic as a function of y\u2212i, which follows from monotonicity of levi in y\u2212i as in the proof of Proposition 4. Trivially, y0i is monotonic in y\u2212i as well. It remains to show that the choice between the two cases y0i and y max i is sufficiently monotonic in y\u2212i. To this end, let y\u2212i \u2264 y\u2032\u2212i and let y\u2032maxi be the value of ymaxi corresponding to y\u2032\u2212i. We show that the above form for \u03a6i implies that \u03a6i(y\u2212i) \u2264 \u03a6i(y\u2032\u2212i). If agent i is insolvent or illiquid at y\u2212i, then ymaxi = y 0 i = 0 and the statement is trivial. So assume that i is liquid under y\u2212i. By monotonicity of levi (Proposition 1) then i is also liquid under y\u2032\u2212i. It remains to be shown that if ei(y 0 i , y\u2212i) \u2264 ei(ymaxi , y\u2212i), then also ei(y 0 i , y \u2032 \u2212i) \u2264 ei(y\u2032maxi , y\u2032\u2212i). We proceed in two steps. Note that ymaxi is feasible for agent i at y\u2032\u2212i by monotonicity of the leverage function.\n(i) ei(y 0 i , y \u2032 \u2212i) \u2264 ei(ymaxi , y\u2032\u2212i): Define\n\u03b40j = pj(y 0 i , y \u2032 \u2212i)\u2212 pj(y0i , y\u2212i)\n\u03b4maxj = pj(y max i , y \u2032 \u2212i)\u2212 pj(ymaxi , y\u2212i).\nObserve that \u03b40j , \u03b4 max j \u2265 0 by monotonicity and \u03b40j \u2264 \u03b4maxj by convexity and monotonicity of the price function pj . 7 It is easy to see from the definition that\nai(y max i , y \u2032 \u2212i) =ai(y max i , y\u2212i) + y max i \u2211 j xij\u03b4 max j\n\u2206i(y max i , y \u2032 \u2212i) =\u2206i(y max i , y \u2032 \u2212i) + (1\u2212 ymaxi )\u03b1 \u2211 j xij\u03b4 max j\nand analogously for y0i . We therefore receive\nei(y max i , y \u2032 \u2212i) =ai(y max i , y \u2032 \u2212i) + \u2206i(y max i , y \u2032 \u2212i)\u2212 li\n=ai(y max i , y\u2212i) + \u2206i(y max i , y\u2212i)\u2212 li + (ymaxi + (1\u2212 ymaxi )\u03b1) \u2211 j xij\u03b4 max j\n7Recall that each price impact function pj is a one-dimensional function [0, 1] \u2192 [0, 1] and we use the short notation pj(y) := pj(xj(y)), where xj(y) = \u2211 i xijyi.\n=ei(y max i , y\u2212i) + (\u03b1+ (1\u2212 \u03b1)ymaxi ) \u2211 j xij\u03b4 max j\nei(y 0 i , y \u2032 \u2212i) =ei(y 0 i , y\u2212i) + \u03b1 \u2211 j xij\u03b4 0 j .\nThe statement now follows because, by assumption, ei(y max i , y\u2212i) \u2265 ei(y0i , y\u2212i) and furthermore \u03b4maxj \u2265 \u03b40j \u2265 0.\n(ii) ei(y 0 i , y \u2032 \u2212i) \u2264 ei(y\u2032maxi , y\u2032\u2212i): By convexity of ei( \u00b7 , y\u2032\u2212i), this function takes on its maximal value\nat one of the two extreme feasible values 0 or y\u2032maxi . By (i), this is not at y 0 i (up to tie-breaking, which is decided in favor of y\u2032maxi ). Therefore, it must be at y \u2032max i ."
        },
        {
            "heading": "3 Equilibrium Existence and Convergence of Dynamics",
            "text": "In this section, we discuss the existence of equilibria in a given fire sale game and the convergence of best-response dynamics to equilibrium. Our first main result is that, in the above-discussed cases where the best-response function is monotonic, the set of equilibria has a particularly desirable lattice structure. This in particular implies that (1) an equilibrium always exists and (2) there is always an equilibrium that minimizes the sales of each asset by each agent simultaneously and maximizes the equity of each individual agent among all equilibria. This equilibrium is in particular a Pareto optimum and maximizes social welfare among all equilibria. We first state this result in abstract terms in Lemma 1. The lemma together with Proposition 4 yields the main structural result.\nLemma 1. Assume that the best-response function \u03a6 is monotonic. Let E be the set of Nash equilibria. Then E is non-empty, and the pair (E,\u2265) forms a complete lattice.\nProof. The set of all strategy profiles is D = [0, 1]n\u00d7m, and (D,\u2265) is a complete lattice. The map \u03a6 : D \u2192 D computes, for a given strategy profile y, the best response y\u2217i for every agent i with respect to y\u2212i. Thus, \u03a6(y) = (y\u22171 , y \u2217 2 , . . . , y \u2217 n) equals the strategy profile after every agent deviated to her best response simultaneously. The fixed points of the map are the Nash equilibria of the fire sale game. By assumption, \u03a6 is monotonic. Applying the Knaster-Tarski Theorem, the statement follows.\nLemma 1 together with Propositions 4 and 6 yield:\nTheorem 1. Assume that (1) \u03b1 = 1 or (2) pj is convex for all j. Let E be the set of Nash equilibria. Then E is non-empty, and the pair (E,\u2265) forms a complete lattice.\nUnder the assumptions of the above theorem, iterating the best-response function further converges to the point-wise maximal equilibrium.\nTheorem 2. Assume that (1) \u03b1 = 1 or (2) pj is convex for all j. Let (y t) be the iteration sequence defined as y1 = (1, 1, . . . , 1) and yt+1 = \u03a6(yt). Then (yt) converges to the point-wise maximal equilibrium.\nProof. The statement follows from the fact that \u03a6 is monotonic and continuous from above. This is a standard technique and can be seen as a special case of the Kleene fixed point theorem (see, e.g., [Schuldenzucker et al., 2020, Lemma 3] for a direct proof). Monotonicity follows from Propositions 4 and 6. We show continuity from above.\nGiven y\u2212i, let Di(y\u2212i) = {yi | ei(yi, y\u2212i) > 0 \u2227 levi(yi, y\u2212i) \u2264 \u03bb}. Let E\u03bbi = {y\u2212i | Di(y\u2212i) \u0338= \u2205}. Proposition 3 implies that the set {y | ei(y) > 0 \u2227 levi(y) \u2264 \u03bb} is closed. This shows that Di(y\u2212i) for any y\u2212i and E\u03bbi are closed because they are projections of this set (all involved sets are bounded, so being closed and being compact are equivalent). Di( \u00b7 ) is monotonic in the sense that if y\u2212i \u2264 y\u2032\u2212i point-wise, then Di(y\u2212i) \u2286 Di(y\u2032\u2212i). This follows from monotonicity of ei and inverse monotonicity of levi in y\u2212i (where levi(y) > 1, cf. Proposition 1). By the same argument, Ei is monotonic in the sense that if y\u2212i \u2264 y\u2032\u2212i and y\u2212i \u2208 Ei, then y\u2032\u2212i \u2208 Ei.\nIn case (1) with \u03b1 = 1 Proposition 4 yields \u03a6i(y) = \u03c6i(y\u2212i) := maxDi(y\u2212i) if y\u2212i \u2208 E\u03bbi and 0 otherwise.\nLet now (yt\u2212i)t be any point-wise decreasing sequence in [0, 1] n\u22121 and let y+\u2212i = limt y t \u2212i. By monotonicity and closedness of Ei, we know that, if y + \u2212i /\u2208 Ei, then yt\u2212i /\u2208 Ei for almost all t, so \u03a6i(yt\u2212i) = 0 for almost all t, and we have limt \u03a6i(y t \u2212i) = \u03a6i(y + \u2212i). So assume y + \u2212i \u2208 Ei and, thus, yt\u2212i \u2208 Ei for all t, since yt\u2212i \u2265 y + \u2212i. It remains to prove that \u03c6i(y + \u2212i) = limt \u03c6i(y t \u2212i).\nBy continuity of levi, we have levi(limt \u03c6i(y t \u2212i), y + \u2212i) = limt levi(\u03c6i(y t \u2212i), y t \u2212i) \u2264 \u03bb, where the in-\nequality is by definition of \u03c6i. Thus, limt \u03c6i(y t \u2212i) \u2208 Di(y + \u2212i) and thus, by choice of \u03c6i(y + \u2212i), we have limt \u03c6i(y t \u2212i) \u2264 \u03c6i(y + \u2212i). On the other hand, by monotonicity of levi in y\u2212i, Di(y + \u2212i) \u2286 Di(yt\u2212i) for all t and thus, by choice of the \u03c6i( \u00b7 ), we have \u03c6i(y+\u2212i) \u2264 limt \u03c6i(yt\u2212i). We obtain equality as required. Consider case (2), where \u03b1 \u2208 (0, 1) and pj is convex. From the proof of Proposition 6, we know the following:\n\u2022 \u03a6i(y\u2212i) \u2208 {0, \u03c6i(y\u2212i)} if y\u2212i \u2208 Ei.\n\u2022 \u03a6i(y\u2212i) = 0 if y\u2212i /\u2208 Ei.\n\u2022 If \u03a6i(y\u2212i) = 0 and y\u2032\u2212i \u2264 y\u2212i, then also \u03a6i(y\u2032\u2212i) = 0.\nHence, if it is ever the case that \u03a6i(y t \u2212i) = 0, then this will be the case for almost all t and for y + \u2212i, and thus convergence holds trivially. If this is never the case, then our above argument regarding continuity of \u03c6i applies unmodified and implies the statement of the theorem.\nEquilibrium existence and convergence do not hold for \u03b1 \u2208 (0, 1) and concave price impact. In Section 3.1 we describe games in which no equilibrium exists.\nIn Theorem 2, we assume that agents concurrently deviate to best responses, i.e., \u03a6(yt) applies best responses simultaneously to each component of the vector y. It is, however, straightforward to observe that the result in the previous theorem can be shown also for any sequential best-response dynamics starting from y1 = (1, . . . , 1), in which agents deviate one-by-one. We omit a formal adjustment of the proof.\nIn many game-theoretic scenarios, concurrent deviation gives rise to oscillation. The next example shows that fire sale games are no exception to this rule. We work out the example below for linear prices pj and \u03b1 = 1. It is easy to see that similar examples exist for \u03b1 = 1 with monotonic prices pj , or \u03b1 \u2208 (0, 1) with convex prices.\nExample 1. Consider a game with two agents, a single asset, and linear price impact, where p01 = 1, and \u03b1 = 1. The external assets and liabilities are such that aI1 = a I 2 = 1 and \u21131 = \u21132 = 5/4. Moreover, both players hold half of the security, i.e., x11 = x21 = 1/2. We assume \u03bb = 6. If both agents play y1 = y2 = 1, then the leverage is 1.5/(1/4) = 6 = \u03bb. If Agent 1 plays y1 = 0, then Agent 2 is illiquid and, thus, her best response is y2 = 0. Now suppose we start in state y\n1 = (1, 0) and let the agents deviate simultaneously. Then the resulting state oscillates between y2i = (0, 1) and y2i+1 = (1, 0). \u25c1\nIf in the example the two agents deviate sequentially, then after one step an equilibrium is reached. More generally, we show below that for all fire sale games with two agents and monotonic best responses, there can be no cycle in sequential best-response dynamics, no matter from which initial state the dynamics starts.\nProposition 7. Consider a fire sale game with two agents and assume that the best-response function is monotonic. Then every sequential best-response dynamics is acyclic.\nProof. First, consider the case that in some round t we have \u03a6(y(t)) \u2265 y(t), i.e., the best response is at least the current strategy for both agents. By monotonicity of the best-response function, the agents will only keep increasing their strategies, which makes a cycle impossible. A similar argument shows the result when in some round t we have \u03a6(y(t)) \u2264 y(t).\nNow suppose that in some round t, the best response for Agent 1 is at most y (t) 1 and for Agent 2 it is at least y (t) 2 . Suppose Agent 1 moves in round t+ 1. By monotonicity, this decreases the best response for Agent 2. After round t + 1, the best response of Agent 2 is either at most or at least y (t+1) 2 = y (t) 2 . Agent 1 is playing her exact best response (i.e., at most and at least the best response). Hence, one of the previously considered cases applies. A symmetric argument applies if Agent 2 moves first.\nWe conjecture that there are fire sale games with two agents, for \u03b1 = 1 and monotonic prices or \u03b1 \u2208 (0, 1) and convex prices, in which the best-response function is not continuous from below. Then given a state where all agents want to increase their strategies, sequential best-response dynamics might not reach an equilibrium in the limit. In contrast, suppose that the agents are in a state where they all want to decrease their strategies. Then the proof of Theorem 2 can be applied to show that, for \u03b1 = 1 and monotonic prices or \u03b1 \u2208 (0, 1) and convex prices, the limit of the best-response dynamics is indeed an equilibrium, for any number of agents.\nFor three or more agents, if in the initial state there are agents above and below their best response, sequential best-response dynamics can again exhibit cyclical behavior. Below we discuss an example with three agents, \u03b1 = 1, and convex price impact. It is minimal in the sense that for two agents, sequential best-response dynamics are always acyclic in this case.\nExample 2. Consider a fire sale game with three agents and three assets where \u03b1 = 1 and \u03bb = 6.2. Furthermore, let aIi = 100 and li = 90 for all i \u2208 {1, 2, 3} and let the asset holdings be as follows:\nx11 = 0.8 x12 = 0.2 x22 = 0.8 x23 = 0.2 x31 = 0.2 x33 = 0.8\nLet pj(y) = 10 \u00b7 ( \u2211 i xijyi) 2 be the price function for all assets j \u2208 {1, 2, 3}. Note that price impact\nis convex. A best-response cycle is given in the following table:\ny1 y2 y3 u1(y) u2(y) u3(y) 1 1 0 \u2212\u221e 18.08 11.6 0 1 0 11.28 \u2212\u221e 10.32 0 1 1 11.6 \u2212\u221e 18.08 0 0 1 10.32 11.28 \u2212\u221e 1 0 1 18.08 11.6 \u2212\u221e 1 0 0 \u2212\u221e 10.32 11.28 1 1 0 \u2212\u221e 18.08 11.6\n... ...\nEvery agent maximizes her utility by selling as little as possible. Due to convex price impact, each agent is particularly affected by price devaluation of an asset of which she holds a large share. These properties lead to the following cyclic behavior: Consider the first entry in the table. Agent 1 is illiquid due to the sales of Agent 3, with Agent 3 overselling. In the next step, Agent 1 liquidates all assets, causing illiquidity of Agent 2. Only afterwards does Agent 3 deviate to her best response and sell nothing. This again leaves Agent 1 overselling and Agent 2 illiquid.\nIn this game, the pointwise maximal equilibrium is obtained when no assets are sold, i.e., y1. Thus, all strategy profiles played in the best-response cycle are point-wise below the maximal equilibrium.\nAlso, note that the best-response cycle in this example is robust to different choices of \u03b1 (e.g., using \u03b1 = 0.5). \u25c1"
        },
        {
            "heading": "3.1 Concave Price Impact",
            "text": "Theorem 1 shows that the equilibria of a fire sale game have a very desirable shape if \u03b1 = 1 or price impact is convex. In this subsection, we discuss the converse case. When \u03b1 < 1 and price impact is not convex, we show that the set of equilibria need not exhibit a lattice structure.\nWe first show that the best-response function need not be monotonic in this case. To develop some intuition for this, consider \u03b1 < 1 and a concave and piecewise-linear price impact function for a given asset j. This means that there are tipping points such that, whenever the total sales in an asset reach such a point, the price decreases according to a linear function with greater slope. By applying Proposition 5 to each linear (and thus trivially convex) segment, we receive that the equity function is piece-wise convex (but not necessarily globally convex). More in detail, for every linear section we receive high initial losses due to sales and a \u201cbank run\u201d effect as the sales progress further. Whenever the overall sales pass a tipping point, the equity function enters the next convex section. Therefore, for a fixed asset and a sufficiently small \u03b1, each agent maximizes their utility by either (1) selling as little as possible, (2) selling everything or (3) selling such that the overall sales equal a tipping point. In case (3), the agent\u2019s strategy depends directly on the other agents. The following example shows that this effect can lead to non-monotonicity of the best-response function.\nProposition 8. There exists a fire sale game with a single asset, \u03b1 \u2208 (0, 1), and concave price impact such that the best-response function \u03a6 is not monotonic.\nProof. Consider the following example with one asset; omit the j index for assets. Agent 1 is defined by aI1 = 10, l1 = 9, x1 = 0.5, where all other agents together hold half of the asset. Furthermore, the\nleverage constraint is given by \u03bb = 8.3 and the price function is defined as\np(y1, y\u22121) =\n{ 7 + 0.1 \u2211 i xiyi , if \u2211 i xiyi \u2265 0.5\n5.05 + 4 \u2211\ni xiyi , otherwise.\nAssume that the other agents sell according to a strategy profile y\u0302 where \u2211n\ni=2 xiy\u0302i = 0.4. Agent 1 then fulfills the leverage constraint when selling at least according to y\u03021 = 0.7899, leading to u1(y\u0302i, y\u0302\u2212i) \u2248 1.541. The best response of agent 1 is given by y\u0302\u22171 = (0.5 \u2212 \u2211n i=2 xiy\u0302i)/x1 = 0.2 where exactly the tipping point of p is reached. This strategy satisfies the leverage constraint and yields a utility of u1(0.2, y\u0302\u22121) \u2248 1.543.\nNow, assume the other agents increase the sales to y\u22121 \u2264 y\u0302\u22121 where \u2211n\ni=2 xiyi = 0.3. Then, agent 1 is forced to sell at least according to y1 = 0.781 with u1(y1, y\u22121) \u2248 1.538. Again, the best response of Agent 1 is to exactly match the tipping point of p. Therefore, the maximal utility of agent 1 is attained at y\u22171 = (0.5\u2212 \u2211n i=2 xiyi)/x1 = 0.4 > 0.2 with u1(y \u2217 1 , y\u22121) \u2248 1.539.\nThe proposition implies that our proof for Theorem 1 cannot be applied in the case of non-convex price impact and \u03b1 \u2208 (0, 1). Indeed, an equilibrium need not even exist in this case.\nProposition 9. There exists a fire sale game with \u03b1 \u2208 (0, 1) and concave price impact where no equilibrium exists.\nProof. Consider a game with two agents and three assets. Let agent 1 be defined by aI1 = 750, l1 = 900 and x11 = 1, x12 = 0.8, x13 = 0. Agent 2 is defined by a I 2 = 11850, l2 = 11000 and x21 = 0, x22 = 0.2, x23 = 1. Furthermore, let \u03b1 = 0.000006 and \u03bb = 2 and let the price functions be given by\np1(y) =\n{ 9.99 + 0.01 \u2211 xi1yi , if \u2211 xi1yi \u2265 0.1\n9.991 0.1 \u2211 xi1yi , otherwise\np2(y) =\n{ 999.99 + 0.01 \u2211 xi2yi , if \u2211 xi2yi \u2265 0.3\n999.993 0.3 \u2211 xi2yi , otherwise\np3(y) = 10000 \u2211 xi3yi.\nThe game has no equilibrium if for every strategy profile y at least one agent profits by unilaterally deviating. First, consider Agent 2 who holds a fraction of Assets 2 and 3. As Asset 3 has much higher value than Asset 2 and x23 > x22, the utility of Agent 2 is dominated by the sales of Asset 3. Hence, Agent 2 will optimize her strategy with respect to Asset 3. Consequently, she either minimizes her sales or liquidates all assets due to a \u201cbank run\u201d effect. Therefore, we restrict our discussion to these two strategies. Strategy y12 is feasible for all y1 \u2208 [0.031, 1] and maximizes the equity for all y1 \u2208 [0.125, 1]. Hence, y12 is the best response for y1 \u2208 [0.125, 1]. In contrast, strategy y02 is always feasible by definition and is therefore the best response for y1 \u2208 [0, 0.125).\nSince Agent 2 will always deviate to one of the two strategies, it is sufficient to consider the corresponding best responses of Agent 1. First, assume Agent 2 plays y12 , in which case the feasible strategies of Agent 1 are given by y1 \u2208 [0, 0.7037]. The best response is y01 with utility u1(y01 , y12) = 659.9983. Now, if Agent 2 sells everything according to y02 , the best response of Agent 1 is y \u2217 1 = 0.375 with utility u1(y \u2217 1 , y 0 2) = 659, 996, which exactly corresponds to the tipping point of p2.\nIn conclusion, for any starting point, the agents deviate cyclically where Agent 1 plays strategies 0 and 1 and Agent 2 sells according to 0 and 0.375. In particular, no equilibrium exists.\nIn the example above, the non-monotonicity of the best-response function of Agent 1 is exploited. The agent either liquidates all assets or sells in such a way that the overall sales correspond to the tipping point of Asset 2. Suppose Agent 2 sells nothing, then strategy yt11 = 0.3 corresponds to the tipping point. In this case, Agent 1 maximizes her utility by selling everything. However, if Agent 2 sells everything, the strategy corresponding to the tipping point shifts to yt01 = 0.375 and becomes more profitable than y01 . In conclusion, Agent 1\u2019s best-response function is monotonic, while Agent 2 wants to reduce her sales when Agent 1 liquidates more. Thus, the agents deviate in a circular fashion."
        },
        {
            "heading": "4 Quality of Equilibria",
            "text": "In this section, we discuss the quality of Nash equilibria of fire sale games. We show that in the case of monotonic equity (for instance, \u03b1 = 1), every Pareto-optimal strategy profile forms a Nash equilibrium. Moreover, it even represents a strong equilibrium.\nWe consider utilitarian welfare as the social welfare measure. Consider a strategy profile y and assume w.l.o.g. that every insolvent or illiquid agent i plays yi = 0 (otherwise the social welfare is \u2212\u221e). Then we have\nsw(y) = \u2211 i ui(y) = \u2211 i ei(y) = \u2211 i aIi \u2212 \u2211 i li + \u03b1 \u2211 i,j xijpj(y) + (1\u2212 \u03b1) \u2211 i,j xij ( yipj(y) + (1\u2212 yi)p0j ) .\nNote that, if \u03b1 < 1, it can be optimal in terms of social welfare to have a large number of asset sales because price impact is partially avoided by high sales. For \u03b1 = 0, it is easy to see that y = y0 is a dominant-strategy equilibrium and always social-welfare optimal. We consider this effect largely an artifact of the model for unrealistic values of \u03b1. For \u03b1 = 1, the expression simplifies to\nsw(y) = \u2211 i aIi \u2212 \u2211 i li + \u2211 j pj(y),\nso that social welfare is maximized by maximizing the overall value of the market, subject to satisfying all leverage constraints or choosing yi = 0 for illiquid banks. The following theorem shows that in fire sale games with monotonic equities, every profile with optimal social welfare is also very stable. More precisely, we show that all Pareto optima are strong equilibria.\nTheorem 3. Suppose the equity ei(yi, y\u2212i) of each player i is monotonic in yi. Then every Pareto optimum is a strong equilibrium. In particular, every profile with optimal social welfare is a strong equilibrium.\nProof. Let y be a Pareto optimum and assume towards a contradiction that y is not a strong equilibrium. Then there is a coalition C \u2286 N such that all agents in C strictly benefit by deviating to some strategy profile y\u2032 = (y\u2032C , y\u2212C). Let C\n+ = {i \u2208 C | y\u2032i > yi} be the set of agents that reduce their sales. C+ is non-empty; otherwise, ei(y\n\u2032) \u2264 ei(y) \u2200i by monotonicity of the equity (by assumption). Let y\u2032\u2032 = (y\u2032C+ , y\u2212C+), i.e., only the agents in C\n+ deviate. Note that y\u2032\u2032 \u2265 y\u2032, y. We show that y\u2032\u2032 is a strict Pareto improvement over y, contradicting y\u2019s optimality. We perform a case distinction over whether an agent i is a member of the set C+.\nFirst, consider i \u2208 C+. We show that ui(y\u2032\u2032) > ui(y). Since by assumption, agent i had an incentive to change her strategy to y\u2032i > 0 under y \u2032 \u2212i, it must be the case that she satisfies the leverage constraint at y\u2032 (otherwise, she would derive utility \u2212\u221e). Therefore, levi(y\u2032\u2032) = levi(y\u2032i, y\u2032\u2032\u2212i) \u2264 levi(y\u2032i, y\u2032\u2212i) \u2264 \u03bb, where the equality is by definition and the first inequality is by monotonicity of levi (Proposition 1). Now we have\nui(y \u2032\u2032) = ei(y \u2032\u2032) = ei(y \u2032 i, y \u2032\u2032 \u2212i) \u2265 ei(y\u2032i, y\u2032\u2212i) = ui(y\u2032) > ui(y).\nHere, the first inequality is by monotonicity of the equity in y\u2212i and the second is by assumption. Now consider i /\u2208 C+. Then we have ui(y\u2032\u2032) = ui(yi, y\u2032\u2032\u2212i) \u2265 ui(yi, y\u2212i) because y\u2032\u2032\u2212i \u2265 y\u2212i. More in detail, going from y\u2212i to y\u2032\u2032\u2212i while keeping yi the same can only move agent i from insolvency to solvency (but not the other way round, by monotonicity of ei in y\u2212i) and from illiquidity to liquidity (but not the other way round, by monotonicity of levi in y\u2212i, see Proposition 1), and ei increases.\nFor games with post-sale prices and \u03b1 = 1, Theorem 1 shows that the set of Nash equilibria forms a complete lattice. Moreover, due to Proposition 4 and the definitions of equity and utility, the supremum of the Nash equilibria has the highest social welfare among all Nash equilibria. Theorem 3 shows that in these games, every profile with optimal social welfare is a strong equilibrium. Since every strong equilibrium is a Nash equilibrium, we obtain the following corollary.\nCorollary 1. For fire sale games with \u03b1 = 1, the supremum of all Nash equilibria is a strong equilibrium and represents a profile with optimal social welfare.\nThe previous theorem depends on monotonicity of the equity. In the following theorem, we observe that a monotonic best-response function \u03a6 alone is not sufficient to show the result. More precisely, we show that in games with \u03b1 \u2208 (0, 1) and convex prices, the social optimum does not necessarily form an equilibrium. Moreover, strong equilibria may not even exist.\nTheorem 4. There is a fire sale game with \u03b1 \u2208 (0, 1) and convex prices without strong equilibria. The social optimum does not form a Nash equilibrium.\nProof. Consider the following fire sale game with two agents and two assets. The implementation shortfall is \u03b1 = 0.5 and the leverage constraint is defined as \u03bb = 1.48971. The price function p1(y) = ( \u2211 i\u2208N xi1yi) 2 is convex with p01 = 1 while p2 is linear with p 0 2 = 0.5. Let Agent 1 be defined by a I 1 = 2.2, l1 = 1 and the share x11 = 0.5. Furthermore, Agent 2 is given by a I 2 \u2248 2.35, l2 = 1 and x21 = 0.5, x22 = 1. The social optimum of ca. 3.55 is achieved with the strategy profile yopt = (0.25, 1), where both agents satisfy the leverage constraint with minimal sales. For this strategy profile, the utilities of the agents are u1(y\nopt) \u2248 1.51 and u2(yopt) \u2248 2.04. However, Agent 1 can strictly improve her utility by unilaterally deviating due to the bank-run effect. When liquidating all assets, the utility of Agent 1 is given by u1(0, y opt \u22121 ) \u2248 1.51. As a consequence, Agent 2 has to increase her sales to y2 \u2248 0.93 resulting in the unique equilibrium y = (y01 , y2). Since the utilities are given by u1(y) \u2248 1.5 and u2(y) \u2248 1.92, the agents have an incentive to coalitionally deviate to the social optimum.\nCorollary 1 states that, for fire sale games with post-sale prices, the supremum of the Nash equilibria is an optimum in terms of social welfare (and, hence, a Pareto optimum) and forms a strong equilibrium. The next theorem extends this result and shows that this profile is the unique strong equilibrium and, hence, the unique Pareto optimum and the unique optimum in terms of social welfare.\nTheorem 5. For fire sale games with \u03b1 = 1 there is a unique strong Nash equilibrium.\nProof. The supremum of all Nash equilibria yopt forms a strong equilibrium that is optimal in terms of social welfare (Corollary 1). We will show that yopt is the unique strong equilibrium.\nFor contradiction, suppose there is some other strong equilibrium y \u0338= yopt. Then y must also be a Nash equilibrium, and by the lattice structure of Nash equilibria (Theorem 1) we know yi \u2264 yopti for all i \u2208 N . Let C = {i \u2208 N | yi < yopti } be the set of agents that play different strategies in y and yopt. Consider the coalitional deviation from agents in C from y to yopt. We denote the resulting profile by (yoptC , y\u2212C). For every affected security j with\n\u2211 i\u2208C xij > 0 we obtain\u2211 i\u2208N yixij < \u2211 i\u2208C yopti xij + \u2211 i/\u2208C yixij .\nHence, for the price of that security,\npj(y) = pj (\u2211 i\u2208N yixij ) < pj (\u2211 i\u2208C yopti xij + \u2211 i/\u2208C yixij ) = pj(y opt C , y\u2212C),\nsince prices of all securities are increasing. Thus, by the definition of utility and equity, every agent in C strictly profits. This contradicts the fact that y is a strong equilibrium.\nIn contrast to Theorem 5 for strong equilibria, there can exist multiple Nash equilibria, some with devastating social welfare. The next example represents a game with \u03b1 = 1 and linear price impact, in which every agent satisfies the leverage constraint when liquidating no assets. However, when all agents sell all securities, this also represents a Nash equilibrium. Hence, while the optimal profile is a Nash equilibrium, the worst Nash equilibrium is a profile in which all agents are illiquid.\nExample 3. Consider a game with n agents where all agents are characterized by the same properties. More in detail, let aIi > 0 be arbitrary, but equal across i \u2208 N and let xi1 = 1n for all i and the single security. Further, let the p01 = n 2 , and let li = a I i for all i. We define \u03bb as the leverage of every agent before fire sales, i.e.,\nlevi(y 1) =\naIi + 1 n n 2\naIi \u2212 aIi + 1n n 2\n= 2aIi + 1 =: \u03bb ,\nwhere y1 = (1, 1, . . . , 1). By definition of li and \u03bb, no agent is insolvent or illiquid. Since every agent maximizes her utility by playing according to y1, the strategy profile is optimal and yields a social welfare of\nsw(y1) = n \u00b7 ( aIi \u2212 li + xi1p01 ) = n \u00b7 ( aIi \u2212 aIi + 1\nn\nn\n2\n) = n\n2 .\nNow, let all agents sell according to y0 = (0, 0, . . . , 0). No agent i can unilaterally profit from a strategy yi \u2208 (0, 1], since, for every i \u2208 N ,\nlevi(yi, y 0 \u2212i) =\naIi + yixi1p1(yi, y 0 \u2212i)\naIi \u2212 li + xi1p1(yi, y0\u2212i) =\naIi + yi 1 n n 2 \u00b7 (yi 1 n )\naIi \u2212 aIi + 1n n 2 \u00b7 (yi 1 n )\n= 2aIin\nyi + yi > 2a\nI i + 1 = \u03bb\nwhere the inequality holds for sufficiently large n. Thus, y0i is the unique feasible strategy for every agent i with respect to y0\u2212i. Hence, y 0 forms a Nash equilibrium with social welfare\nsw(y0) = n \u00b7 ( aIi \u2212 li + xi1p1(y0) ) = n \u00b7 ( aIi \u2212 aIi + 1\nn p01 \u00b7 (0)\n) = 0 .\n\u25c1"
        },
        {
            "heading": "5 Convergence Speed of Dynamics",
            "text": "In this section, we study two dynamics by which agents may reach an equilibrium: the standard bestresponse dynamics and a simplified dynamics where agents neglect their own price impact. We examine the convergence of these dynamics towards an equilibrium. We focus on \u03b1 = 1 and linear price impact."
        },
        {
            "heading": "5.1 Best-Response Dynamics",
            "text": "Theorem 2 shows that (in particular) for the case \u03b1 = 1, best-response dynamics starting at y1 always converge to the point-wise maximal equilibrium (where asset sales are collectively minimized). If the sequence proceeds for a finite number of steps, we show that it reaches an approximate equilibrium quickly, assuming the numeric values of the game are reasonably large.\nThe traditional concept of an approximate Nash equilibrium is not appropriate for fire sale games because even a small violation of the leverage constraints leads to an infinite decrease in utility. We therefore define an approximate equilibrium in a fire sale game as a strategy profile where agents can only improve their equity by a small amount and where the leverage constraints are approximately satisfied.\nDefinition 1. Let y be a strategy profile in a fire sale game and let \u03b5 > 0. Then y is an \u03b5-approximate equilibrium iff the following hold for every agent i:\n1. If i is liquid, then for any y\u2032i such that i is liquid for (y \u2032 i, y\u2212i) we have ei(y) \u2265 ei(y\u2032i, y\u2212i)\u2212 \u03b5.\n2. If i is liquid, then levi(y) \u2264 \u03bb+ \u03b5.\n3. If i is insolvent or illiquid, then yi \u2264 \u03b5. \u25c1\nAn approximate equilibrium might not be close to any exact equilibrium in terms of norm distance in strategy space, a common property of approximate equilibrium concepts (see, e.g., Etessami and Yannakakis [2010] for a discussion of this phenomenon in the context of approximate Nash equilibria).\nWe show that best-response dynamics reach an \u03b5-approximate equilibrium in pseudo-polynomial time.\nTheorem 6. Consider a fire sale game with \u03b1 = 1 and linear price impact. Let xmax be the maximum over all values x and x\u22121, where x is a numeric value contained in the input. Let \u03b5 > 0. Then the best-response dynamics, after n/\u03b5 steps, reaches a point y\u2217 such that \u2225\u03a6(y\u2217) \u2212 y\u2217\u2225\u221e \u2264 \u03b5 and y\u2217 is a (poly(xmax) \u00b7 \u03b5)-approximate equilibrium.\nProof. As long as \u2225\u03a6(y\u2217) \u2212 y\u2217\u2225 > \u03b5, trivially, some y\u2217i decreases by at least \u03b5 in every step. As y\u2217 is bounded below by (0, . . . , 0), there can be at most n/\u03b5 such steps.\nWe now show that y\u2217 is an \u03b5-approximate equilibrium. First, consider an insolvent or illiquid agent i. Then \u03a6i(y\n\u2217) = 0 and thus, since \u2225\u03a6i(y\u2217)\u2212 y\u2217i \u2225 \u2264 \u03b5, we have y\u2217i \u2264 \u03b5 as required. Let now i be liquid. Let y\u2032 = \u03a6(y\u2217) and assume that y\u2032i < 1 (otherwise, y\n\u2217 even satisfies the requirements for an exact equilibrium at i). Then by choice of y\u2032i we have levi(y \u2032 i, y \u2217 \u2212i) = \u03bb. We\nbound the difference levi(y \u2217 i , y \u2217 \u2212i) \u2212 levi(y\u2032i, y\u2217\u2212i). To do this note that, as the sequence is descending, y\u2032i \u2264 y\u2217i \u2264 y\u2032i + \u03b5. Consider the derivative\nd levi(y)\ndyi =\n( dai dyi\nei \u2212 deidyi ai e2i\n) (y) =: N(y)\ne2i (y) .\nAs ei is increasing in yi, for any yi \u2208 [y\u2032i, y\u2217i ] we have ei(yi, y\u2217\u2212i) \u2265 ei(y\u2032i, y\u2217\u2212i) = ai(y\u2032i, y\u2217\u2212i)/\u03bb \u2265 aIi /\u03bb \u2265 x\u22122max, where the first equality is because levi(y \u2032 i, y \u2217 \u2212i) = \u03bb.\nIt is easy to see that N(y) is a polynomial (of degree 2) in y where values of the coefficients, but not the structure of the function, depend on the input. Since further y \u2208 [0, 1]n, we have N(y) \u2264 poly(xmax) and thus\nd levi(y)\ndyi \u2264 poly(xmax).\nBy integration, we have levi(y \u2217) \u2264 \u03bb+ poly(xmax) \u00b7 \u03b5.\nFinally, we show that no liquid agent can improve her equity by more than poly(xmax) \u00b7 \u03b5. This follows using the same technique as above because we can bound the derivative dei(y)yi to receive ei(y\n\u2217) \u2265 ei(y \u2032 i, y \u2217 \u2212i)\u2212 poly(xmax) \u00b7 \u03b5 and y\u2032i maximizes ei( \u00b7 , y\u2217\u2212i) by definition."
        },
        {
            "heading": "5.2 Simplified Best-Response Dynamics",
            "text": "Computing a best response is relatively complex as the agent needs to take into account the price impact of the very sales she is about to decide on. For some agents, this may be unrealistic. Hence, we consider a simplified dynamics, where agents neglect their own price impact. Similar \u201cbest-response\u201d dynamics have been considered by Cont and Schaanning [2017]. Here, liquidations proceed in several rounds and agents consider prices as fixed during each round.\nWe first define simplified versions of the different components of each agent\u2019s wealth where the price impact of the agent\u2019s current choice of strategy is excluded. These functions take one parameter more compared to the full versions in Section 2.1 to differentiate between the current choice and a previous choice by the agent.\nDefinition 2. For y\u0303i \u2208 [0, 1] and y \u2208 [0, 1]N , define the simplified assets, revenue, equity, and leverage as the respective terms from Section 2.1 where, however, the price impact is calculated based on y, but agent i\u2019s sales are calculated according to y\u0303i. More in detail, let\na\u0303i(y\u0303i, y) := a I i + y\u0303i \u2211 j xijpj(y) = a I i + y\u0303iVi(y)\n\u2206\u0303i(y\u0303i, y) := \u2211 j xij(1\u2212 y\u0303i)pj(y) = (1\u2212 y\u0303i)Vi(y)\ne\u0303i(y\u0303i, y) := a\u0303i + \u2206\u0303i \u2212 li = aIi \u2212 li + Vi(y)\n\u02dclev(y\u0303i, y) := a\u0303i(y\u0303, y)\ne\u0303i(y) where Vi(y) := \u2211 j xijpj(y).\n\u25c1\nObserve that Vi(y) is the value of i\u2019s liquid asset holdings if i sells nothing and price impact is given by y. Further observe that e\u0303i(y\u0303i, y) is in fact independent of y\u0303i and (thus) we have e\u0303i(y\u0303i, y) = ei(y) for all y\u0303i. This is because, under the assumption of the simplified best-response dynamics, sales according to y\u0303i do not generate any additional price impact and thus they transform assets (valued at market price) into risk-free assets at a rate of 1; these terms cancel out in the calculation of the equity. We extend our model by making the realistic assumption that agents still aim to sell as little as possible (i.e., maximize y\u0303i) subject to meeting their leverage constraint. In this case, the best response of i according to the simplified dynamics is easily calculated:\nDefinition 3. For y \u2208 [0, 1]N let\ngi(y) := \u03bb\u2212 \u03bbli \u2212 (\u03bb\u2212 1)aIi\nVi(y) .\nThe simplified best-response function \u03a8 : [0, 1]N \u2192 [0, 1]N is given by\n\u03a8i(y) :=\n{ min(1,max(0, gi(y))) if ei(y) > 0\n0 if ei(y) \u2264 0.\n\u25c1\nLemma 2. The value y\u0303i := \u03a8i(y) is the maximal y\u0303i such that e\u0303i(y\u0303i, y) > 0 and \u02dclevi(y\u0303i, y) \u2264 \u03bb, if such a y\u0303i exists. Otherwise, \u03a8i(y) = 0.\nProof. Recall that e\u0303(y\u0303i, y) = ei(y) \u2200y. If ei(y) \u2264 0, then the statement is trivial. So assume ei(y) > 0. It is easy to see that gi(y) is such that\n0 = a\u0303i(gi(y), y)\u2212 \u03bbe\u0303i(gi(y), y) = a\u0303i(gi(y), y)\u2212 \u03bbei(y). (2)\nIf ei(y) \u2264 0, then we must have gi(y) \u2264 0 and thus \u03a8i(y) = 0 by definition. If ei(y) > 0, then Equality (2) implies that (a) gi(y) \u2265 0 and (b) \u02dclevi(gi(y), y) = \u03bb. Because \u02dclevi(y\u0303i, y) is strictly monotonic in y\u0303i (because of linear price impact), this implies that \u03a8i(y) = min(1, gi(y)) has the properties of y\u0303i as needed.\nWhen agents act according to the simplified best-response function \u03a8, they ignore their own price impact. However, the price impact resulting from these sales enters in the next round, where it affects all agents, including the ones who increased their sales in this round. Thus, no information is lost. As the following theorem shows, this implies that simplified best-response dynamics also converge to the maximal equilibrium, just like the best-response dynamics.\nTheorem 7. Consider a fire sale game with \u03b1 = 1 and linear price impact. Then the following hold:\n1. \u03a8 is monotonic and continuous.\n2. \u03a6 and \u03a8 have the same fixed points.\n3. Let (y\u0303t) be a sequence of strategy profiles defined by y\u03030 = (1, . . . , 1) and y\u0303t+1 = \u03a8(yt). Then (y\u0303t) is point-wise monotonically decreasing and converges to the point-wise maximal equilibrium of the fire sale game.\nProof. 1. Monotonicity follows from the definition because the condition ei(y) is increasing in y (i.e., it can only switch from false to true as y increases point-wise, but not vice versa) and the function gi is obviously monotonic. Towards continuity, first note that gi is obviously continuous. For continuity between the two cases of the case distinction, it follows from the proof of Lemma 2 that, as ei(y) \u2192 0, gi(y) converges to a value \u2264 0.\n2. This follows from Lemma 2 and the fact that e\u0303i(yi, y) = e(y) and \u02dclevi(yi, y) = levi(y). More in detail, if y is any strategy profile for which some agent i is insolvent or illiquid at y\u2212i, then \u03a6i(y) = 0 and by Lemma 2 also \u03a8i(y) = 0. Thus, \u03a6i(y) = yi iff yi = 0 iff \u03a8i(y) = yi. If agent i is liquid at y\u2212i, then yi = \u03a6i(y) iff yi is maximal such that ei(yi, y\u2212i) > 0 and levi(yi, y\u2212i) \u2264 \u03bb. Since levi(yi, y\u2212i) = \u02dclevi(yi, y) and by Lemma 2, this is equivalent to yi = \u03a8i(y).\n3. By part 1 and the same argument as in Theorem 2, the sequence converges to the maximal fixed point of \u03a8. By part 2, this is also the maximal fixed point of \u03a6, i.e., the point-wise maximal equilibrium.\nWhile \u03a6 and \u03a8 have the same fixed points (i.e., equilibria of the fire sale game) and both converge to the maximal equilibrium, the speed of convergence can be vastly different, as illustrated in the following subsection."
        },
        {
            "heading": "5.3 Experiments and Diversification",
            "text": "We now study what properties of the asset holdings matrix x affect the stability of the financial system. Specifically, we are interested in the effect of diversification, i.e., to which degree each agent spreads her investments across multiple assets. Higher diversification reduces the effect of each asset on each agent (increasing stability), but also increases the number of channels by which one agent may affect another (decreasing stability). We are interested in the convergence speed of both standard and simplified\nbest-response dynamics. To that end, we perform a computational experiment with the required code available online [Bertschinger et al., 2023]:\nWe consider games with an equal number of agents and assets n = m. For each agent i, we draw aIi uniformly in [80, 120] and li in [40, 60]. Price impact is linear, with \u03b1 = 1, and we set p 0 j = 100 for each asset j. We choose the asset holdings based on a parameter \u03c4 \u2208 [0, 1], which measures diversification. We set xij = \u03c4 \u00b7 1/n+ (1\u2212 \u03c4) \u00b7 \u03b4ij , where \u03b4ij is the Kronecker symbol.8 Let \u03bb1 be the highest leverage of any agent at y1 = (1, . . . , 1). We draw \u03bb from [0.6\u03bb1, 0.99\u03bb1] to ensure that y1 is not a Nash equilibrium. We reject all instances with \u03bb \u2264 1. We let both dynamics converge from y1 until all strategy changes in a step become smaller than 10\u22125. Figure 2 depicts the average size of strategy changes over time, while Figure 3 displays the number of steps to convergence. For Figure 3 (right) we uniformly drew aIi from [0, 100], li from [40, 100], p 0 j from [50, 150], and \u03bb from [0.9\u03bb 1, 0.99\u03bb1], with all other parameters unchanged. For each data point, we average over 106 runs. In Figure 2, we see that the step size over time does not decrease exponentially for both dynamics, which suggests that convergence requires pseudo-polynomially many steps before reaching an approximate equilibrium on average. We also see that diversification has a significant effect on the best-response dynamics, since an agent is less exposed to other agents for low values and thus needs to make smaller corrections after the initial steps. The simplified dynamics, on the other hand, does not exhibit this behavior, as an agent is not accurately measuring her own price impact. Figure 3 shows that for our examples, the simplified dynamics converge more slowly, but for many values of diversification not by a large amount. Interestingly, a \u201chump\u201d in convergence times appears at a certain diversification value, reminiscent of similar results on systemic risk [Elliott et al., 2014]. However, a change of parameters may lead to wildly different effects of diversification on the convergence of the system for the simplified dynamics. Thus, to draw further conclusions about convergence times, there needs to be sufficient information on the asset holdings."
        },
        {
            "heading": "6 Even and Non-Even Sales",
            "text": "In the previous sections, we have focused on the case of proportional, or even, sales, where each agent can only choose a single number as her strategy and a fraction of her whole portfolio is sold off according\n8For \u03c4 = 0, each agent only holds a single (different) asset with no agent interactions; for \u03c4 = 1, all agents hold all assets equally.\nto this number. As a result, the relative composition of each agent\u2019s portfolio does not change. In this section, we discuss how this model differs from an extended case of (potentially) non-even sales, where agents can choose each individual fraction of each asset they want to keep. We will see that the non-even case displays significant differences from the even case.\nHence, we extend the model in the following way: The strategy of each agent i now consists of a vector (rather than a number) (yij)j\u2208M \u2208 [0, 1]M , where yij is the share of her holdings of asset j that agent i keeps. Consequently, we adjust the definitions for the total assets held and for the value of agent i\u2019s assets and revenue from sales as follows:\nxj(y) = \u2211 i yijxij\nai(y) = a I i + \u2211 j yijxijpj(y)\n\u2206i(y) = \u2211 j (1\u2212 yij)xij((1\u2212 \u03b1)p0j + \u03b1pj(y))\nThe other definitions, in particular those for the leverage levi and the equity ei, stay the same up to these replacements. We receive our original model in the special case where the yij happen to be the same across j for all i; thus, this is a true extension of our previous model.\nWe first highlight an important difference between the even-sales and the non-even-sales case when \u03b1 = 1: while in the case of even sales, we know that higher sales by some agent will always lead to pointwise higher sales by all other agents (i.e., the best-response function \u03a6 is monotonic, see Proposition 4), this is no longer true when non-even sales are allowed. In this case, the following theorem shows that agents may respond to higher sales by shifting their own sales from one asset to another.\nNote that one cannot state this result in terms of a best-response function because, for non-even sales, there may be complicated ties between several strategies that are all best responses. In general, there can be a surface of best responses. This is why we do not define a best-response function here but instead frame our statement in terms of point-wise dominance of vectors.\nProposition 10. There exists a fire sale game with non-even sales, \u03b1 = 1, and linear price impact such that the following holds. There is an agent i and strategy profiles of the other agents y\u2212i \u2264 y\u2032\u2212i such that, whenever yi is a best response to y\u2212i and y\u2032i is a best response to y \u2032 \u2212i, then yi \u0338\u2264 y\u2032i.\nProof. Consider a game with multiple agents and two assets. Agent 1 is characterized by aI1 = 100, l1 = 70, x11 = 0.5, and x12 = 0.5 whereas the other agents together hold half of each asset, i.e.,\u2211\ni \u0338=1 xi1 = 0.5 and \u2211 i \u0338=1 xi2 = 0.5. Let p 0 1 = 99, p 0 2 = 100, and \u03bb = 1.5. In reaction to the strategy y1\u2212i = (1, . . . , 1) of the other agents, Agent 1 maximizes her utility by selling according to y11 = 0.925998 and y12 = 0.925997 yielding the utility u1(y) = 125.818. Now assume that the other agents increase their sales of Asset 2 in such a way that still yi1 = 1 \u2200i \u0338= 1, but the strategies yi2 are reduced so that\u2211\ni yi2xi2 = 0.4. Agent 1 now benefits from redistributing her sales to Asset 1. Specifically, agent 1 maximizes her utility by selling according to y11 = 0.829974 and y12 = 0.929974 > 0.925997, yielding the utility u1(y\u0302) = 118.541.\nRecall Theorem 3, which stated that for even sales with \u03b1 = 1, the social-welfare optimum is also a strong equilibrium. The following proposition shows that this is no longer true for non-even sales even if price impact is also linear.\nProposition 11. There is a fire sale game with non-even sales, \u03b1 = 1, and linear price impact such that there exists a social-welfare optimum yopt that is not an equilibrium.\nProof. Consider the game illustrated in Figure 4. There are two agents and two assets and the game is defined by aI1 = 100, l1 = 79, x11 = 0.5, x12 = 1 and a I 2 = 95, l2 = 40, x21 = 0.5 with asset prices p01 = 50, p 0 2 = 100 and \u03bb = 1.5. Initially, agent 1 violates the leverage constraint, since lev1(y\n1) = 1.5411. The optimum is defined by\nmax sw(y)\ns.t. levi(y) \u2264 \u03bb \u2200i \u2208 {1, 2} yij \u2208 [0, 1] \u2200i, j \u2208 {1, 2}.\nIt is attained at yopt11 \u2248 0.8556, y opt 12 \u2248 0.9, and y opt 21 = 0.9444 yielding the social welfare sw(y opt) = u1(y opt) + u2(y opt) = 133.5 + 77.5 = 211. Agent 1 can increase her utility to u1(y) \u2248 138 by deviating to y\u03021 := (y\u030211 \u2248 0.5167, y\u030212 \u2248 0.9889). Due to the decrease in price, Agent 2 violates the leverage constraint and, therefore, receives a utility of u2(y2, y\u03021) = \u2212\u221e. As Agent 2 deviates to her best response y\u030221 \u2248 0.6212 to y\u03021, the social welfare is reduced to sw(y\u0302) \u2248 138 + 69 = 207. Hence, the strategy profile maximizing the social welfare yopt forms no equilibrium.\nWith regard to the stability of equilibrium dynamics, we show that improving-response cycles can exist even for \u03b1 = 1 and linear price impact, as the following example shows. Recall that Example 2, which illustrates a best-response cycle for the case of even sales, assumed \u03b1 < 1 and strictly convex price impact.\nExample 4. Consider the fire sale game in the proof of Proposition 11. Then the following is a cycle of improving responses:\ny11 y12 y21 u1 u2 0.73541 0.749823 0.579619 112.42 71.4379 0.73541 0.749823 0.802502 115.206 74.2239 0.517823 0.933928 0.802502 130.897 \u2212\u221e 0.517823 0.933928 0.579619 \u2212\u221e 68.718\n\u25c1"
        },
        {
            "heading": "7 Discussion and Conclusions",
            "text": "We have studied price-mediated contagion from the perspective of algorithmic game theory. The existence and the shape of equilibria are heavily dependent on the assumptions regarding price impact. For \u03b1 = 1 or convex price impact, the set of equilibria forms a lattice and the Pareto optima form strong equilibria.However, agents face a twofold equilibrium coordination problem: (1) while the maximal equilibrium is the social optimum, the minimal equilibrium can be arbitrarily poor; (2) simplified best-response dynamics can take a long time to converge. This may lead to a delay in resolution and exacerbates a financial crisis. To help alleviate this problem, a regulator may estimate the maximal equilibrium and help guide agents towards it.\nFor \u03b1 \u2208 (0, 1) and concave price impact, an equilibrium need not exist. It is an interesting open problem to study the computational complexity of deciding existence of equilibria in a given fire sale game. Another open problem is characterizing existence and computation of equilibria for non-even sales.\nSeveral interesting directions arise for future work. A prominent research direction are the economic implications of bailouts. In fire sale games, it can be beneficial to an agent to transfer assets to another one without any compensation.\nExample 5. Consider a fire sale game with two agents, one asset, and linear price defined by \u03b1 = 1, \u03bb = 3.84615, p01 = 1, and the following matrix of asset holdings:\nx11 = 0.8 a I 1 = 1000 l1 = 0 x21 = 0.2 a I 2 = 1 l2 = 0.9\nConsider the Nash equilibrium (1, 0). The equity of Agent 1 is 1000.64. If now Agent 1 transfers a share of 0.1 of Asset 1 to Agent 2, this leads to the new Nash equilibrium (1, 1), i.e., no agent sells anything. The equity of Agent 1 in this new game is 1000.7. Agent 1 has thus improved her equity by giving away assets for free. \u25c1\nThe bailout in the example benefits both agents and seems to be desirable. It appears prudent to enable such bailouts, e.g., via rescue funds or mutual insurances put into place during normal times to apply in times of crises. Our results demonstrate that price impact can make bailouts economically efficient and incentive-aligned. There are many important further questions surrounding the implementation of bailouts."
        }
    ],
    "title": "Equilibria and Convergence in Fire Sale Games\u2217",
    "year": 2023
}