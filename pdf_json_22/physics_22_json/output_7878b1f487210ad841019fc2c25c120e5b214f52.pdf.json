{
    "abstractText": "We introduce a new universal framework describing fluctuations and correlations in quantum and classical many-body systems, at the Euler hydrodynamic scale of space and time. The framework adapts the ideas of the conventional macroscopic fluctuation theory (MFT) to systems that support ballistic transport. The resulting \u201cballistic MFT\u201d (BMFT) is solely based on the Euler hydrodynamics data of the many-body system. Within this framework, mesoscopic observables are classical random variables depending only on the fluctuating conserved densities, and Euler-scale fluctuations are obtained by deterministically transporting thermodynamic fluctuations via the Euler hydrodynamics. Using the BMFT, we show that long-range correlations in space generically develop over time from long-wavelength inhomogeneous initial states in interacting models. This result, which we verify by numerical calculations, challenges the long-held paradigm that at the Euler scale, fluid cells may be considered uncorrelated. We also show that the Gallavotti-Cohen fluctuation theorem for non-equilibrium ballistic transport follows purely from time-reversal invariance of the Euler hydrodynamics. We check the validity of the BMFT by applying it to integrable systems, and in particular the hard-rod gas, with extensive simulations that confirm our analytical results. Copyright B. Doyon et al. This work is licensed under the Creative Commons Attribution 4.0 International License. Published by the SciPost Foundation. Received 30-11-2022 Accepted 17-08-2023 Published 04-10-2023 Check for updates doi:10.21468/SciPostPhys.15.4.136",
    "authors": [
        {
            "affiliations": [],
            "name": "Benjamin Doyon"
        },
        {
            "affiliations": [],
            "name": "Gabriele Perfetto"
        },
        {
            "affiliations": [],
            "name": "Tomohiro Sasamoto"
        },
        {
            "affiliations": [],
            "name": "Takato Yoshimura"
        }
    ],
    "id": "SP:a2196acbb610d94868e089451a4520c730e88e00",
    "references": [
        {
            "authors": [
                "A. Lucas",
                "K.C. Fong"
            ],
            "title": "Hydrodynamics of electrons in graphene",
            "venue": "J. Phys.: Condens. Matter 30, 053001 ",
            "year": 2018
        },
        {
            "authors": [
                "F.M. Haehl",
                "R. Loganayagam",
                "M. Rangamani"
            ],
            "title": "Effective action for relativistic hydrodynamics: Fluctuations",
            "venue": "dissipation, and entropy inflow, J. High Energy Phys. 10, 194 (2018), doi:10.1007/JHEP10",
            "year": 2018
        },
        {
            "authors": [
                "B. Doyon"
            ],
            "title": "Lecture notes on generalised hydrodynamics",
            "venue": "SciPost Phys. Lect. Notes 18 ",
            "year": 2020
        },
        {
            "authors": [
                "G. Gallavotti",
                "E.G.D. Cohen"
            ],
            "title": "Dynamical ensembles in stationary states",
            "venue": "J. Stat. Phys. 80, 931 ",
            "year": 1995
        },
        {
            "authors": [
                "J.L. Lebowitz",
                "H. Spohn"
            ],
            "title": "A Gallavotti-Cohen-type symmetry in the large deviation functional for stochastic dynamics",
            "venue": "J. Stat. Phys. 95, 333 ",
            "year": 1999
        },
        {
            "authors": [
                "L. Bertini",
                "A. De Sole",
                "D. Gabrielli",
                "G. Jona-Lasinio",
                "C. Landim"
            ],
            "title": "Macroscopic fluctuation theory for stationary non-equilibrium states",
            "venue": "J. Stat. Phys. 107, 635 ",
            "year": 2002
        },
        {
            "authors": [
                "L. Bertini",
                "A. De Sole",
                "D. Gabrielli",
                "G. Jona-Lasinio",
                "C. Landim"
            ],
            "title": "Macroscopic fluctuation theory",
            "venue": "Rev. Mod. Phys. 87, 593 ",
            "year": 2015
        },
        {
            "authors": [
                "T. Bodineau",
                "B. Derrida"
            ],
            "title": "Current large deviations for asymmetric exclusion processes with open boundaries",
            "venue": "J. Stat. Phys. 123, 277 ",
            "year": 2006
        },
        {
            "authors": [
                "B. Derrida",
                "A. Gerschenfeld"
            ],
            "title": "Current fluctuations in one dimensional diffusive systems with a step initial density profile",
            "venue": "J. Stat. Phys. 137, 978 ",
            "year": 2009
        },
        {
            "authors": [
                "P.L. Krapivsky",
                "K. Mallick",
                "T. Sadhu"
            ],
            "title": "Large deviations in single-file diffusion",
            "venue": "Phys. Rev. Lett. 113, 078101 ",
            "year": 2014
        },
        {
            "authors": [
                "P.L. Krapivsky",
                "K. Mallick",
                "T. Sadhu"
            ],
            "title": "Tagged particle in single-file diffusion",
            "venue": "J. Stat. Phys. 160, 885 ",
            "year": 2015
        },
        {
            "authors": [
                "K. Mallick",
                "H. Moriya",
                "T. Sasamoto"
            ],
            "title": "Exact solution of the macroscopic fluctuation theory for the symmetric exclusion process",
            "venue": "Phys. Rev. Lett. 129, 040601 ",
            "year": 2022
        },
        {
            "authors": [
                "D. Bernard"
            ],
            "title": "Can the macroscopic fluctuation theory be quantized",
            "venue": "J. Phys. A: Math. Theor. 54, 433001 ",
            "year": 2021
        },
        {
            "authors": [
                "H. Rost"
            ],
            "title": "Non-equilibrium behaviour of a many particle process: Density profile and local equilibria",
            "venue": "J. Probab. Theory Relat. Fields 58, 41 ",
            "year": 1981
        },
        {
            "authors": [
                "H. Spohn"
            ],
            "title": "Nonlinear fluctuating hydrodynamics for anharmonic chains",
            "venue": "J. Stat. Phys. 154, 1191 ",
            "year": 2014
        },
        {
            "authors": [
                "O.A. Castro-Alvaredo",
                "B. Doyon",
                "T. Yoshimura"
            ],
            "title": "Emergent hydrodynamics in integrable quantum systems out of equilibrium",
            "venue": "Phys. Rev. X 6, 041065 (2016), doi:10.1103/PhysRevX.6.041065. 69 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "B. Bertini",
                "M. Collura",
                "J. De Nardis",
                "M. Fagotti"
            ],
            "title": "Transport in out-of-equilibrium X X Z chains: Exact profiles of charges and currents",
            "venue": "Phys. Rev. Lett. 117, 207201 ",
            "year": 2016
        },
        {
            "authors": [
                "H. Spohn"
            ],
            "title": "Large scale dynamics of interacting particles",
            "venue": "Springer, Berlin, Heidelberg, Germany, ISBN 9783642843730 ",
            "year": 1991
        },
        {
            "authors": [
                "B. Doyon"
            ],
            "title": "Exact large-scale correlations in integrable systems out of equilibrium",
            "venue": "SciPost Phys. 5, 054 ",
            "year": 2018
        },
        {
            "authors": [
                "B. Doyon",
                "J. Myers"
            ],
            "title": "Fluctuations in ballistic transport from euler hydrodynamics",
            "venue": "Ann. Henri Poincar\u00e9 21, 255 ",
            "year": 2019
        },
        {
            "authors": [
                "J. Myers",
                "J. Bhaseen",
                "R.J. Harris",
                "B. Doyon"
            ],
            "title": "Transport fluctuations in integrable models out of equilibrium",
            "venue": "SciPost Phys. 8, 007 ",
            "year": 2020
        },
        {
            "authors": [
                "M. Fava",
                "S. Biswas",
                "S. Gopalakrishnan",
                "R. Vasseur",
                "S.A. Parameswaran"
            ],
            "title": "Hydrodynamic nonlinear response of interacting integrable systems",
            "venue": "Proc. Natl. Acad. Sci. 118, e2106945118 ",
            "year": 2021
        },
        {
            "authors": [
                "G. Perfetto",
                "B. Doyon"
            ],
            "title": "Euler-scale dynamical fluctuations in non-equilibrium interacting integrable systems",
            "venue": "SciPost Phys. 10, 116 ",
            "year": 2021
        },
        {
            "authors": [
                "B. Doyon",
                "G. Perfetto",
                "T. Sasamoto",
                "T. Yoshimura"
            ],
            "title": "Emergence of hydrodynamic spatial long-range correlations in nonequilibrium many-body systems",
            "venue": "Phys. Rev. Lett. 131, 027101 ",
            "year": 2023
        },
        {
            "authors": [
                "J. De Nardis",
                "B. Doyon",
                "M. Medenjak",
                "M. Panfil"
            ],
            "title": "Correlation functions and transport coefficients in generalised hydrodynamics",
            "venue": "J. Stat. Mech.: Theory Exp. 014002 ",
            "year": 2022
        },
        {
            "authors": [
                "C. Kipnis",
                "C. Landim"
            ],
            "title": "Scaling limits of interacting particle systems",
            "venue": "Springer, Berlin, Heidelberg, Germany, ISBN 9783642084447 ",
            "year": 1999
        },
        {
            "authors": [
                "M. Ayala",
                "G. Carinci",
                "F. Redig"
            ],
            "title": "Quantitative Boltzmann-Gibbs principles via orthogonal polynomial duality",
            "venue": "J. Stat. Phys. 171, 980 ",
            "year": 2018
        },
        {
            "authors": [
                "B. Doyon",
                "H. Spohn"
            ],
            "title": "Drude weight for the Lieb-Liniger Bose gas",
            "venue": "SciPost Phys. 3, 039 ",
            "year": 2017
        },
        {
            "authors": [
                "H. Spohn"
            ],
            "title": "Hydrodynamical theory for equilibrium time correlation functions of hard rods",
            "venue": "Ann. Phys. 141, 353 ",
            "year": 1016
        },
        {
            "authors": [
                "B. Doyon"
            ],
            "title": "Hydrodynamic projections and the emergence of linearised Euler equations in one-dimensional isolated systems",
            "venue": "Commun. Math. Phys. 391, 293 ",
            "year": 2022
        },
        {
            "authors": [
                "F.S. M\u00f8ller",
                "G. Perfetto",
                "B. Doyon",
                "J. Schmiedmayer"
            ],
            "title": "Euler-scale dynamical correlations in integrable systems with fluid motion",
            "venue": "SciPost Phys. Core 3, 016 ",
            "year": 2020
        },
        {
            "authors": [
                "L. Vidmar",
                "M. Rigol"
            ],
            "title": "Generalized Gibbs ensemble in integrable lattice models",
            "venue": "J. Stat. Mech.: Theory Exp. 064007 ",
            "year": 2016
        },
        {
            "authors": [
                "D. Bernard",
                "B. Doyon"
            ],
            "title": "Conformal field theory out of equilibrium: A review",
            "venue": "J. Stat. Mech.: Theory Exp. 064005 (2016), doi:10.1088/1742-5468/2016/06/064005. 70 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "B. Bertini",
                "F. Heidrich-Meisner",
                "C. Karrasch",
                "T. Prosen",
                "R. Steinigeweg",
                "M. \u017dnidari\u010d"
            ],
            "title": "Finite-temperature transport in one-dimensional quantum lattice models",
            "venue": "Rev. Mod. Phys. 93, 025003 ",
            "year": 2021
        },
        {
            "authors": [
                "H. Mori"
            ],
            "title": "Transport",
            "venue": "collective motion, and Brownian motion, Prog. Theor. Phys. 33, 423 ",
            "year": 1965
        },
        {
            "authors": [
                "R. Zwanzig"
            ],
            "title": "Statistical mechanics of irreversibility",
            "venue": "National Berau of Standards, Washington D.C., USA ",
            "year": 1961
        },
        {
            "authors": [
                "L. Jensen"
            ],
            "title": "The asymmetric exclusion process in one dimension",
            "venue": "PhD thesis, New York University, New York, USA ",
            "year": 2000
        },
        {
            "authors": [
                "S.R.S. Varadhan"
            ],
            "title": "Large deviations for the asymmetric simple exclusion process",
            "venue": "Adv. Stud. Pure Math. 39, 1 ",
            "year": 2004
        },
        {
            "authors": [
                "M. Pr\u00e4hofer",
                "H. Spohn"
            ],
            "title": "Current fluctuations for the totally asymmetric simple exclusion process",
            "venue": "In and out of equilibrium, Springer, Boston, USA, ISBN 9781461265955 ",
            "year": 2002
        },
        {
            "authors": [
                "J. de Gier",
                "F.H.L. Essler"
            ],
            "title": "Large deviation function for the current in the open asymmetric simple exclusion process",
            "venue": "Phys. Rev. Lett. 107,",
            "year": 2011
        },
        {
            "authors": [
                "J. Myers"
            ],
            "title": "Fluctuations in non-equilibrium states: From quantum to classical",
            "venue": "PhD thesis, King\u2019s College, London, UK ",
            "year": 2019
        },
        {
            "authors": [
                "A. Kuniba",
                "G. Misguich",
                "V. Pasquier"
            ],
            "title": "Current correlations",
            "venue": "Drude weights and large deviations in a box-ball system, J. Phys. A: Math. Theor. 55, 244006 ",
            "year": 2022
        },
        {
            "authors": [
                "M. Esposito",
                "U. Harbola",
                "S. Mukamel"
            ],
            "title": "Nonequilibrium fluctuations",
            "venue": "fluctuation theorems, and counting statistics in quantum systems, Rev. Mod. Phys. 81, 1665 ",
            "year": 2009
        },
        {
            "authors": [
                "D. Bernard",
                "B. Doyon"
            ],
            "title": "Energy flow in non-equilibrium conformal field theory",
            "venue": "J. Phys. A: Math. Theor. 45, 362001 ",
            "year": 2012
        },
        {
            "authors": [
                "D. Bernard",
                "B. Doyon"
            ],
            "title": "Time-reversal symmetry and fluctuation relations in nonequilibrium quantum steady states",
            "venue": "J. Phys. A: Math. Theor. 46, 372001 ",
            "year": 2013
        },
        {
            "authors": [
                "K. Saito",
                "A. Dhar"
            ],
            "title": "Fluctuation theorem in quantum heat conduction",
            "venue": "Phys. Rev. Lett. 99, 180601 ",
            "year": 2007
        },
        {
            "authors": [
                "G. Perfetto",
                "A. Gambassi"
            ],
            "title": "Dynamics of large deviations in the hydrodynamic limit: Noninteracting systems",
            "venue": "Phys. Rev. E 102, 042128 ",
            "year": 2020
        },
        {
            "authors": [
                "E. Ilievski",
                "M. Medenjak",
                "T. Prosen",
                "L. Zadnik"
            ],
            "title": "Quasilocal charges in integrable lattice systems",
            "venue": "J. Stat. Mech.: Theory Exp. 064008 (2016), doi:10.1088/1742- 5468/2016/06/064008. 71 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "C. Boldrighini",
                "R.L. Dobrushin",
                "Y.M. Sukhov"
            ],
            "title": "One-dimensional hard rod caricature of hydrodynamics",
            "venue": "J. Stat. Phys. 31, 577 ",
            "year": 1983
        },
        {
            "authors": [
                "M. Toda"
            ],
            "title": "Vibration of a chain with nonlinear interaction",
            "venue": "J. Phys. Soc. Jpn. 22, 431 ",
            "year": 1967
        },
        {
            "authors": [
                "H. Spohn"
            ],
            "title": "Generalized Gibbs ensembles of the classical Toda chain",
            "venue": "J. Stat. Phys. 180, 4 ",
            "year": 2019
        },
        {
            "authors": [
                "B. Doyon"
            ],
            "title": "Generalized hydrodynamics of the classical Toda system",
            "venue": "J. Math. Phys. 60, 073302 ",
            "year": 2019
        },
        {
            "authors": [
                "E.H. Lieb",
                "W. Liniger"
            ],
            "title": "Exact analysis of an interacting Bose gas",
            "venue": "I. The general solution and the ground state, Phys. Rev. 130, 1605 ",
            "year": 1963
        },
        {
            "authors": [
                "G. Del Vecchio Del Vecchio",
                "B. Doyon"
            ],
            "title": "The hydrodynamic theory of dynamical correlation functions in the XX chain",
            "venue": "J. Stat. Mech.: Theory Exp",
            "year": 2022
        },
        {
            "authors": [
                "A. Bastianello",
                "B. Doyon",
                "G. Watts",
                "T. Yoshimura"
            ],
            "title": "Generalized hydrodynamics of classical integrable field theory: The sinh-Gordon model",
            "venue": "SciPost Phys. 4, 045 ",
            "year": 2018
        },
        {
            "authors": [
                "D. Bernard",
                "F. Essler",
                "L. Hruza",
                "M. Medenjak"
            ],
            "title": "Dynamics of fluctuations in quantum simple exclusion processes",
            "venue": "SciPost Phys. 12, 042 ",
            "year": 2022
        },
        {
            "authors": [
                "L. Hruza",
                "D. Bernard"
            ],
            "title": "Coherent fluctuations in noisy mesoscopic systems",
            "venue": "the open quantum SSEP, and free probability, Phys. Rev. X 13, 011045 ",
            "year": 2023
        },
        {
            "authors": [
                "B. Doyon",
                "A. Lucas",
                "K. Schalm",
                "M.J. Bhaseen"
            ],
            "title": "Non-equilibrium steady states in the Klein-Gordon theory",
            "venue": "J. Phys. A: Math. Theor. 48, 095002 ",
            "year": 2015
        },
        {
            "authors": [
                "J. De Nardis",
                "M. Panfil"
            ],
            "title": "Edge singularities and quasilong-range order in nonequilibrium steady states",
            "venue": "Phys. Rev. Lett. 120, 217206 ",
            "year": 2018
        },
        {
            "authors": [
                "E.H. Lieb",
                "D.W. Robinson"
            ],
            "title": "The finite group velocity of quantum spin systems",
            "venue": "Commun. Math. Phys. 28, 251 ",
            "year": 1972
        },
        {
            "authors": [
                "E. Bettelheim",
                "N.R. Smith",
                "B. Meerson"
            ],
            "title": "Inverse scattering method solves the problem of full statistics of nonstationary heat transfer in the Kipnis-Marchioro-Presutti model",
            "venue": "Phys. Rev. Lett. 128, 130602 ",
            "year": 2022
        },
        {
            "authors": [
                "B. Doyon",
                "T. Yoshimura",
                "J.-S. Caux"
            ],
            "title": "Soliton gases and generalized hydrodynamics",
            "venue": "Phys. Rev. Lett. 120, 045301 ",
            "year": 2018
        },
        {
            "authors": [
                "J. De Nardis",
                "D. Bernard",
                "B. Doyon"
            ],
            "title": "Hydrodynamic diffusion in integrable systems",
            "venue": "Phys. Rev. Lett. 121, 160603 ",
            "year": 2018
        },
        {
            "authors": [
                "A. Bastianello",
                "B. Bertini",
                "B. Doyon",
                "R. Vasseur"
            ],
            "title": "Introduction to the special issue on emergent hydrodynamics in integrable many-body systems",
            "venue": "J. Stat. Mech.: Theory Exp. 014001 (2022), doi:10.1088/1742-5468/ac3e6a. 72 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "M. Schemmer",
                "I. Bouchoule",
                "B. Doyon",
                "J. Dubail"
            ],
            "title": "Generalized hydrodynamics on an atom chip",
            "venue": "Phys. Rev. Lett. 122, 090601 ",
            "year": 2019
        },
        {
            "authors": [
                "F. M\u00f8ller",
                "C. Li",
                "I. Mazets",
                "H.-P. Stimming",
                "T. Zhou",
                "Z. Zhu",
                "X. Chen",
                "J. Schmiedmayer"
            ],
            "title": "Extension of the generalized hydrodynamics to the dimensional crossover regime",
            "venue": "Phys. Rev. Lett. 126, 090602 ",
            "year": 2021
        },
        {
            "authors": [
                "N. Malvania",
                "Y. Zhang",
                "Y. Le",
                "J. Dubail",
                "M. Rigol",
                "D.S. Weiss"
            ],
            "title": "Generalized hydrodynamics in strongly interacting 1D Bose gases",
            "venue": "Science 373, 1129 ",
            "year": 2021
        },
        {
            "authors": [
                "F. Carbone",
                "D. Dutykh",
                "G.A. El"
            ],
            "title": "Macroscopic dynamics of incoherent soliton ensembles: Soliton gas kinetics and direct numerical modelling",
            "venue": "Europhys. Lett. 113, 30003 ",
            "year": 2016
        },
        {
            "authors": [
                "G.A. El"
            ],
            "title": "Soliton gas in integrable dispersive hydrodynamics",
            "venue": "J. Stat. Mech.: Theory Exp. 114001 ",
            "year": 2021
        },
        {
            "authors": [
                "T. Bonnemain",
                "B. Doyon",
                "G.A. El"
            ],
            "title": "Generalized hydrodynamics of the KdV soliton gas",
            "venue": "J. Phys. A: Math. Theor. 55, 374004 ",
            "year": 2022
        },
        {
            "authors": [
                "B. Doyon",
                "J. Dubail",
                "R. Konik",
                "T. Yoshimura"
            ],
            "title": "Large-scale description of interacting one-dimensional Bose gases: Generalized hydrodynamics supersedes conventional hydrodynamics",
            "venue": "Phys. Rev. Lett. 119, 195301 ",
            "year": 2017
        },
        {
            "authors": [
                "G.A. El",
                "A.M. Kamchatnov"
            ],
            "title": "Kinetic equation for a dense soliton gas",
            "venue": "Phys. Rev. Lett. 95, 204101 ",
            "year": 2005
        },
        {
            "authors": [
                "G.A. El",
                "A.M. Kamchatnov",
                "M.V. Pavlov",
                "S.A. Zykov"
            ],
            "title": "Kinetic equation for a soliton gas and its hydrodynamic reductions",
            "venue": "J. Nonlinear Sci. 21, 151 ",
            "year": 2010
        },
        {
            "authors": [
                "B. Doyon",
                "H. Spohn",
                "T. Yoshimura"
            ],
            "title": "A geometric viewpoint on generalized hydrodynamics",
            "venue": "Nucl. Phys. B 926, 570 ",
            "year": 2018
        },
        {
            "authors": [
                "B. Doyon",
                "H. Spohn"
            ],
            "title": "Dynamics of hard rods with initial domain wall state",
            "venue": "J. Stat. Mech.: Theory Exp. 073210 ",
            "year": 2017
        },
        {
            "authors": [
                "B. Derrida"
            ],
            "title": "Non-equilibrium steady states: Fluctuations and large deviations of the density and of the current",
            "venue": "J. Stat. Mech.: Theory Exp. P07023 ",
            "year": 2007
        },
        {
            "authors": [
                "H. Touchette"
            ],
            "title": "The large deviation approach to statistical mechanics",
            "venue": "Phys. Rep. 478, 1 ",
            "year": 2009
        },
        {
            "authors": [
                "P.C. Martin",
                "E.D. Siggia",
                "H.A. Rose"
            ],
            "title": "Statistical dynamics of classical systems",
            "venue": "Phys. Rev. A 8, 423 ",
            "year": 1973
        },
        {
            "authors": [
                "H.-K. Janssen"
            ],
            "title": "On a Lagrangean for classical field dynamics and renormalization group calculations of dynamical critical properties",
            "venue": "Z. Phys. B 23, 377 ",
            "year": 1976
        },
        {
            "authors": [
                "C. De Dominicis"
            ],
            "title": "Techniques de renormalisation de la th\u00e9orie des champs et dynamique des ph\u00e9nom\u00e8nes critiques",
            "venue": "J. Phys. Colloq. 37, 247 ",
            "year": 1976
        },
        {
            "authors": [
                "U.C. T\u00e4uber"
            ],
            "title": "Critical dynamics",
            "venue": "Cambridge University Press, Cambridge, UK, ISBN 9780521842235 (2014), doi:10.1017/CBO9781139046213. 73 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "S. Goldstein",
                "J.L. Lebowitz",
                "R. Tumulka",
                "N. Zangh\u00ec"
            ],
            "title": "Long-time behavior of macroscopic quantum systems",
            "venue": "Europhys. J. H 35, 173 ",
            "year": 2010
        },
        {
            "authors": [
                "D. Ampelogiannis",
                "B. Doyon"
            ],
            "title": "Long-time dynamics in quantum spin lattices: Ergodicity and hydrodynamic projections at all frequencies and wavelengths",
            "venue": "Ann. Henri Poincar\u00e9 ",
            "year": 2023
        },
        {
            "authors": [
                "K. Saito",
                "M. Hongo"
            ],
            "title": "A",
            "venue": "Dhar and S.-i. Sasa, Microscopic theory of fluctuating hydrodynamics in nonlinear lattices, Phys. Rev. Lett. 127, 010601 ",
            "year": 2021
        },
        {
            "authors": [
                "J. De Nardis",
                "D. Bernard",
                "B. Doyon"
            ],
            "title": "Diffusion in generalized hydrodynamics and quasiparticle scattering",
            "venue": "SciPost Phys. 6, 049 ",
            "year": 2019
        },
        {
            "authors": [
                "B. Doyon"
            ],
            "title": "Diffusion and superdiffusion from hydrodynamic projections",
            "venue": "J. Stat. Phys. 186, 25 ",
            "year": 2022
        },
        {
            "authors": [
                "J. Durnin",
                "M.J. Bhaseen",
                "B. Doyon"
            ],
            "title": "Nonequilibrium dynamics and weakly broken integrability",
            "venue": "Phys. Rev. Lett. 127, 130601 ",
            "year": 2021
        },
        {
            "authors": [
                "A. Bressan"
            ],
            "title": "Hyperbolic systems of conservation laws: The one-dimensional Cauchy problem",
            "venue": "Oxford University Press, Oxford, UK, ISBN 9780198507000 ",
            "year": 2000
        },
        {
            "authors": [
                "J.R. Dorfman",
                "T.R. Kirkpatrick",
                "J.V. Sengers"
            ],
            "title": "Generic long-range correlations in molecular fluids",
            "venue": "Annu. Rev. Phys. Chem. 45, 213 ",
            "year": 1994
        },
        {
            "authors": [
                "J.M. Ortiz de Z\u00e1rate",
                "J.V. Sengers"
            ],
            "title": "On the physical origin of long-ranged fluctuations in fluids in thermal nonequilibrium states",
            "venue": "J. Stat. Phys",
            "year": 2004
        },
        {
            "authors": [
                "F. Carollo",
                "J.P. Garrahan",
                "I. Lesanovsky"
            ],
            "title": "Current fluctuations in boundary-driven quantum spin chains",
            "venue": "Phys. Rev. B 98, 094301 ",
            "year": 2018
        },
        {
            "authors": [
                "B. Derrida",
                "J.L. Lebowitz",
                "E.R. Speer"
            ],
            "title": "Free energy functional for nonequilibrium systems: An exactly solvable case",
            "venue": "Phys. Rev. Lett. 87, 150601 ",
            "year": 2001
        },
        {
            "authors": [
                "P. Calabrese",
                "F.H.L. Essler",
                "G. Mussardo"
            ],
            "title": "Introduction to \u2019quantum integrability in out of equilibrium systems",
            "venue": "J. Stat. Mech.: Theory Exp. 064001 ",
            "year": 2016
        },
        {
            "authors": [
                "V.E. Korepin",
                "N.M. Bogoliubov",
                "A.G. Izergin"
            ],
            "title": "Quantum inverse scattering method and correlation functions",
            "venue": "Cambridge University Press, Cambridge, UK, ISBN 9780521373203 ",
            "year": 1993
        },
        {
            "authors": [
                "M. Borsi",
                "B. Pozsgay",
                "L. Pristy\u00e1k"
            ],
            "title": "Current operators in integrable models: A review",
            "venue": "J. Stat. Mech.: Theory Exp. 094001 ",
            "year": 2021
        },
        {
            "authors": [
                "A.C. Cubero",
                "T. Yoshimura",
                "H. Spohn"
            ],
            "title": "Form factors and generalized hydrodynamics for integrable systems",
            "venue": "J. Stat. Mech.: Theory Exp. 114002 (2021), doi:10.1088/1742- 5468/ac2eda. 74 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "C.N. Yang",
                "C.P. Yang"
            ],
            "title": "Thermodynamics of a one-dimensional system of bosons with repulsive delta-function interaction",
            "venue": "J. Math. Phys. 10, 1115 ",
            "year": 1969
        },
        {
            "authors": [
                "A.B. Zamolodchikov"
            ],
            "title": "Thermodynamic Bethe ansatz in relativistic models: Scaling 3state potts and Lee-Yang models",
            "venue": "Nucl. Phys. B 342, 695 ",
            "year": 1016
        },
        {
            "authors": [
                "H. Spohn"
            ],
            "title": "Interacting and noninteracting integrable systems",
            "venue": "J. Math. Phys. 59, 091402 ",
            "year": 2018
        },
        {
            "authors": [
                "A. Kuniba",
                "G. Misguich",
                "V. Pasquier"
            ],
            "title": "Generalized hydrodynamics in box-ball system",
            "venue": "J. Phys. A: Math. Theor. 53, 404001 ",
            "year": 2020
        },
        {
            "authors": [
                "D.A. Croydon",
                "M. Sasada"
            ],
            "title": "Generalized hydrodynamic limit for the box-ball system",
            "venue": "Commun. Math. Phys. 383, 427 ",
            "year": 2020
        },
        {
            "authors": [
                "Z. Chen"
            ],
            "title": "J",
            "venue": "de Gier, I. Hiki and T. Sasamoto, Exact confirmation of 1D nonlinear fluctuating hydrodynamics for a two-species exclusion process, Phys. Rev. Lett. 120, 240601 ",
            "year": 2018
        },
        {
            "authors": [
                "B. Doyon",
                "T. Yoshimura"
            ],
            "title": "A note on generalized hydrodynamics: Inhomogeneous fields and other concepts",
            "venue": "SciPost Phys. 2, 014 ",
            "year": 2017
        },
        {
            "authors": [
                "A. Bastianello",
                "A. De Luca"
            ],
            "title": "Integrability-protected adiabatic reversibility in quantum spin chains",
            "venue": "Phys. Rev. Lett. 122, 240606 ",
            "year": 2019
        },
        {
            "authors": [
                "A. Bastianello",
                "V. Alba",
                "J.-S. Caux"
            ],
            "title": "Generalized hydrodynamics with space-time inhomogeneous interactions",
            "venue": "Phys. Rev. Lett. 123, 130602 ",
            "year": 2019
        },
        {
            "authors": [
                "V. Alba",
                "P. Calabrese"
            ],
            "title": "Entanglement and thermodynamics after a quantum quench in integrable systems",
            "venue": "Proc. Natl. Acad. Sci. 114, 7947 ",
            "year": 2017
        },
        {
            "authors": [
                "P. Calabrese",
                "J. Cardy",
                "B. Doyon"
            ],
            "title": "Entanglement entropy in extended quantum systems",
            "venue": "J. Phys. A: Math. Theor. 42, 500301 ",
            "year": 2009
        },
        {
            "authors": [
                "T. Sasamoto",
                "H. Spohn"
            ],
            "title": "One-dimensional Kardar-Parisi-Zhang equation: An exact solution and its universality",
            "venue": "Phys. Rev. Lett. 104, 230602 ",
            "year": 2010
        },
        {
            "authors": [
                "\u017d. Krajnik",
                "E. Ilievski",
                "T. Prosen"
            ],
            "title": "Absence of normal fluctuations in an integrable magnet",
            "venue": "Phys. Rev. Lett. 128, 090604 ",
            "year": 2022
        },
        {
            "authors": [
                "\u017d. Krajnik",
                "J. Schmidt",
                "V. Pasquier",
                "E. Ilievski",
                "T. Prosen"
            ],
            "title": "Exact anomalous current fluctuations in a deterministic interacting model",
            "venue": "Phys. Rev. Lett. 128, 160601 ",
            "year": 2022
        },
        {
            "authors": [
                "S. Gopalakrishnan",
                "A. Morningstar",
                "R. Vasseur",
                "V. Khemani"
            ],
            "title": "Distinct universality classes of diffusive transport from full counting statistics",
            "venue": "(arXiv preprint) doi:10.48550/arXiv.2203.09526. 75 SciPost Phys. 15, 136 ",
            "year": 2023
        },
        {
            "authors": [
                "P. Ruggiero",
                "P. Calabrese",
                "B. Doyon",
                "J. Dubail"
            ],
            "title": "Quantum generalized hydrodynamics",
            "venue": "Phys. Rev. Lett. 124, 140603 ",
            "year": 2020
        },
        {
            "authors": [
                "D. Wei",
                "A. Rubio-Abadal",
                "B. Ye",
                "F. Machado",
                "J. Kemp",
                "K. Srakaew",
                "S. Hollerith",
                "J. Rui",
                "S. Gopalakrishnan",
                "N.Y. Yao",
                "I. Bloch",
                "J. Zeiher"
            ],
            "title": "Quantum gas microscopy of Kardar- Parisi-Zhang superdiffusion",
            "venue": "Science 376, 716 ",
            "year": 2022
        },
        {
            "authors": [
                "B. Derrida",
                "M.R. Evans",
                "V. Hakim",
                "V. Pasquier"
            ],
            "title": "Exact solution of a 1D asymmetric exclusion model using a matrix formulation",
            "venue": "J. Phys. A: Math. Gen. 26, 1493 ",
            "year": 1993
        },
        {
            "authors": [
                "B. Derrida",
                "S.A. Janowsky",
                "J.L. Lebowitz",
                "E.R. Speer"
            ],
            "title": "Exact solution of the totally asymmetric simple exclusion process: Shock profiles",
            "venue": "J. Stat. Phys. 73, 813 ",
            "year": 1993
        },
        {
            "authors": [
                "R.M. Corless",
                "G.H. Gonnet",
                "D.E.G. Hare",
                "D.J. Jeffrey",
                "D.E. Knuth"
            ],
            "title": "On the Lambert W function",
            "venue": "Adv. Comput. Math. 5, 329 ",
            "year": 1996
        },
        {
            "authors": [
                "P. Fornasini"
            ],
            "title": "The uncertainty in physical measurements",
            "venue": "Springer, New York, USA, ISBN 9780387786490 ",
            "year": 2008
        }
    ],
    "sections": [
        {
            "text": "We introduce a new universal framework describing fluctuations and correlations in quantum and classical many-body systems, at the Euler hydrodynamic scale of space and time. The framework adapts the ideas of the conventional macroscopic fluctuation theory (MFT) to systems that support ballistic transport. The resulting \u201cballistic MFT\u201d (BMFT) is solely based on the Euler hydrodynamics data of the many-body system. Within this framework, mesoscopic observables are classical random variables depending only on the fluctuating conserved densities, and Euler-scale fluctuations are obtained by deterministically transporting thermodynamic fluctuations via the Euler hydrodynamics. Using the BMFT, we show that long-range correlations in space generically develop over time from long-wavelength inhomogeneous initial states in interacting models. This result, which we verify by numerical calculations, challenges the long-held paradigm that at the Euler scale, fluid cells may be considered uncorrelated. We also show that the Gallavotti-Cohen fluctuation theorem for non-equilibrium ballistic transport follows purely from time-reversal invariance of the Euler hydrodynamics. We check the validity of the BMFT by applying it to integrable systems, and in particular the hard-rod gas, with extensive simulations that confirm our analytical results.\nCopyright B. Doyon et al. This work is licensed under the Creative Commons Attribution 4.0 International License. Published by the SciPost Foundation.\nReceived 30-11-2022 Accepted 17-08-2023 Published 04-10-2023\nCheck for updates\ndoi:10.21468/SciPostPhys.15.4.136\nContents"
        },
        {
            "heading": "1 Introduction 3",
            "text": "1.1 Previous works on the ballistic scale 4 1.2 Organisation of the paper 6"
        },
        {
            "heading": "2 Main physical predictions and numerical checks 7",
            "text": "2.1 Current large deviations and fluctuation theorem 9 2.2 Long-range correlations 11 2.3 Numerical checks: Integrable systems 14"
        },
        {
            "heading": "3 MFT for ballistic transport 16",
            "text": "3.1 Formulation of the BMFT 16 3.2 Local relaxation of fluctuations 19 3.3 Relation to diffusive MFT and fluctuating hydrodynamics 21"
        },
        {
            "heading": "4 BMFT for current fluctuations and Euler-scale correlations 24",
            "text": "4.1 BMFT of current fluctuations 25 4.2 Relation with the ballistic fluctuation theory 26 4.3 Fluctuation theorem 27 4.4 BMFT of dynamical correlation functions 29 4.5 (Non)linear hydrodynamic projections and (non)linear response 30 4.6 Long-range correlations 31 4.7 Fluctuations inside fluid cells 34"
        },
        {
            "heading": "5 BMFT for integrable systems 35",
            "text": "5.1 The BMFT formulation using GHD 36 5.2 Main predictions 38\n5.2.1 Cumulants 38 5.2.2 Dynamical correlation functions 39\n5.3 Current fluctuations in integrable systems 41 5.4 Flow equation and cumulants 42 5.5 Dynamical correlation functions and universal long-range correlations 46"
        },
        {
            "heading": "6 Conclusion and Outlook 50",
            "text": ""
        },
        {
            "heading": "A The measure for the initial state 53",
            "text": ""
        },
        {
            "heading": "B Thermodynamics of hard-rods system 54",
            "text": ""
        },
        {
            "heading": "C Hydrodynamic response theory 54",
            "text": ""
        },
        {
            "heading": "D The inhomogeneous ballistic fluctuation theory 56",
            "text": ""
        },
        {
            "heading": "E Non-canonical mesoscopic fluctuations out of equilibrium: TASEP 59",
            "text": ""
        },
        {
            "heading": "F The MFT flow equation for current fluctuations in integrable systems 60",
            "text": ""
        },
        {
            "heading": "G Third cumulant in the homogeneous case 61",
            "text": ""
        },
        {
            "heading": "H Dynamical correlation functions in integrable systems 63",
            "text": "H.1 General cases 63 H.2 Partitioning protocol in the hard-rod gas 64"
        },
        {
            "heading": "I Numerics: Hard-rod model simulations 66",
            "text": "References 69"
        },
        {
            "heading": "1 Introduction",
            "text": "Determining the emergent, universal principles of non-equilibrium dynamics in many-body systems is an extremely active subject of current research. The emergence of hydrodynamics for the description of fluxes and large-scale motion is one of the most far-reaching ideas, and has been been extremely successful recently (see, e.g., [1\u20133]). However, a crucial question is to go beyond, and develop a statistical theory for fluctuations and correlations. An important result is the Gallavotti-Cohen fluctuation theorem [4,5], which relates fluctuations of currents to equilibrium properties of reservoirs or driving forces, and which is valid no matter how far from equilibrium the system is. In this spirit, at large scales of space and time, x , t \u2192\u221e, one would expect only few properties of the microscopic model to be required in order to understand the full spectrum of fluctuations. What are these properties and what is the statistical theory for large-scale dynamics?\nIn the last two decades, a universal approach to accessing the diffusive scale x \u223c p\nt has been proposed and developed: macroscopic fluctuation theory (MFT) [6, 7]. It is a largedeviation theory for many-body systems out of equilibrium whose hydrodynamics is purely diffusive, taking as only input the hydrodynamic equations of the system (thus, transport quantities such as the diffusion matrix). MFT has given an understanding of both current fluctuations and correlations, explaining long-range effects observed in driven-diffusive nonequilibrium steady states (NESS) [7]. It has been successfully applied to many classical manybody diffusive systems, such as the symmetric simple exclusion process (SSEP) [8\u201312]. It is expected to hold for stochastic or deterministic, classical or (at nonzero temperature) quantum systems, as on large scales one always finds hydrodynamics and classical fluctuations around it (although to our knowledge, no quantum application of the MFT has been reported so far). Quantum effects on fluctuations in diffusive systems have also been studied, with the construction of a quantum version of the MFT being considered [13].\nA natural question is as to the nature of correlations and fluctuations in systems that admit ballistic transport. Ballistic transport means that persistent currents can exist even with vanishing gradients. It is realised in many important systems including the totally asymmetric exclusion process (TASEP) [14], anharmonic chains [15], and integrable many-body systems [16, 17]. In all cases, the leading hydrodynamic equation is the (general form of the) Euler hydrodynamic equation, which is solely based on the assumption of maximisation of entropy in local fluid cells and which arises at the ballistic (or hyperbolic) scaling x \u223c t [3,18]. It takes the form\n\u2202tqi(x , t) +A j i (x , t)\u2202xq j(x , t) = 0 , (1)\nwhere qi(x , t) are averages of the local conserved densities admitted by the model, and A ji (x , t) is the \u201cflux Jacobian\u201d, the variation of the fluxes with respect to the densities (see (8)),\nA ji = \u2202 ji \u2202 q j , (2)\nin the entropy-maximised state at x , t. But relatively little is known about the structure of fluctuations at the ballistic scale as compared to what is available at the diffusive scale with the MFT, the main works being [19\u201323]. One is thus looking for an adaptation of the framework of the MFT to the universal description of correlations and fluctuations of ballistic modes based solely on the Euler equation.\nIn Ref. [24], this theory, which we refer to as the ballistic MFT (BMFT), has been first introduced. The theory requires only the Euler hydrodynamics data of the system (the flux Jacobian A ji as a function of maximal entropy states), and accounts for the presence of any\nnumber of ballistic modes. The BMFT is a large-deviation theory, based on an action principle and saddle-point analysis much like the diffusive MFT, but it gives access to the ballistic scale instead of the diffusive scale. The BMFT provides the space-time probability distribution of fluctuating local observables in states that are subject to large-wavelength variations and motion and described by Euler hydrodynamics. In Ref. [24], the application of the BMFT to Euler scale correlations [19, 25] has been, in particular, considered. It has been therein fundamentally shown that the BMFT generically predicts that long-range correlations develop over long times in non-stationary states. For initial states with spatial variations on large wavelengths \u2113, these are correlations which develop over time t \u223c \u2113, which extend on regions of size x \u223c \u2113, and with strength\u223c 1/\u2113. A physical interpretation is that correlated ballistic modes are emitted continuously at points where the state vary in time and scatter; alternatively, the one may see long-wavelength profiles in the fluid as being formed of a bath of ballistic modes that scatter and correlate continuously. See the pictorial representation in Fig. 1.\nIn this manuscript we systematically present and develop the results of the companion manuscript [24]. We discuss in details and in completely general terms the physical assumptions on which the BMFT relies and the associated implications. The BMFT states that Eulerscale fluctuations of time-evolved observables are obtained by deterministically transporting fluctuations of conserved quantities in the initial state via the Euler hydrodynamic equations of the model. This follows from a simple principle of \u201clocal relaxation of fluctuations\u201d within fluid cells, similar in spirit to, but a refinement of, the principle of local relaxation that justifies the emergence of the Euler hydrodynamic equations themselves [18]. The principle stems from a separation of scales: non-conserved degrees of freedom vary quickly in time as they are affected by every interaction within the volume of a cell, and the local state rapidly covers the microcanonical shell; while conserved quantities vary more slowly as they are only affected by exchanges through the surface of fluid cells, and the local state slowly fluctuates amongst different microcanonical shells. We further develop the application of the BMFT to the ballistic large-deviation theory of current fluctuations. Using the BMFT, we show that the Gallavotti-Cohen fluctuation theorem for the large-deviation function of total currents holds independently from the details of the microscopic dynamics, purely as a consequence of a time-reversal symmetry of the Euler hydrodynamic equations. Considering the applications to correlations of the BMFT, we show that the latter naturally retrieves the whole structure of Euler-scale correlation functions, such as hydrodynamic projection formulas [18, 19, 26\u201330]. The emergence of long-range correlations in interacting many-body systems subjected to longwavelength dynamics, even from states which have only short-range correlations, is further discussed. The differences between this phenomenon and correlations stemming from linearresponse theory [19,22,23,31] are presented (see Fig. 1). Both in the case of current fluctuations and of correlations, we give explicit results for integrable systems, based on generalised hydrodynamics (GHD) [16, 17]. In order to confirm these results, we will compare with simulations in the classical model of hard rods on the line.\nWe believe the BMFT is a framework with wide applicability, appropriate for the study of a vast range of correlations and large deviations in many-body systems, integrable or not, quantum or classical, deterministic or stochastic. It is a universal tool capable of describing the rare fluctuations of any (mesoscopic) observable, including charge densities and currents, in a unified way. In principle the BMFT should work in arbitrary dimensionality; however, in order to lay out its foundation without any unnecessary complication, we shall focus on the one-dimensional case."
        },
        {
            "heading": "1.1 Previous works on the ballistic scale",
            "text": "There is an extensive literature on the Euler scale of various types of many-body systems, from stochastic particle systems to quantum spin chains. We provide here only a partial overview\nof some of the works relevant to this paper. In stationary, homogeneous states, many results are available at the ballistic scale; this includes not only equilibrium states, but also generalised Gibbs ensembles in integrable models [32] and ballistic NESS emerging at long times from the partitioning protocol, where constant flows exist [16, 17, 33]. Here, the partitioning protocol refers to a particular initial condition that consists of two semi-infinite subsystems that are prepared at different (generalised) Gibbs ensembles. Correlations have been studied by a variety of techniques, such as linear and nonlinear response and hydrodynamic projection methods. Under ballistic scaling of space and time, they are purely controlled by the Euler hydrodynamics of the model. See, e.g., the recent reviews [25,34].\nThe Boltzmann-Gibbs principle, that mesoscopic observables \u201cproject\u201d, in some way, onto mesoscopic conserved quantities, has a long history starting with Mori [35] and Zwanzig [36]. Until recently it had been studied mainly in stochastic particle systems assuming few conservation laws of the conventional form, see, e.g., the books [18, 26] and the paper [27] for a recent result. For correlation functions, the Boltzmann-Gibbs principle leads to hydrodynamic projection formulae. The first proposal for a general hydrodynamic projection formula, for two-point correlation functions in Hamiltonian systems with many-component Euler hydrodynamics, were written in [28] and [19] (in homogeneous, and long-wavelength inhomogeneous states, respectively). Hydrodynamic projections lead in a simple way to linearised Euler equations for two-point functions. In stationary, homogeneous states, the linearised Euler equation\nfor two-point functions has been shown rigorously in the hard-rod gas [29]. Further, both the general hydrodynamic projection formula, and the linearised Euler equation, have been shown rigorously in every finite-range quantum spin chains [30]. There, the complete space of conserved quantities is defined rigorously, and so is the Euler scaling limit of two-point correlation functions.\nFor higher-point functions, nonlinear response, as first proposed in [19], can be used, as developed for integrable systems in [22], but the structure is less well understood.\nIn macroscopically inhomogeneous initial states of integrable systems, also much less is known. A theory has been developed for two-point correlation functions at the ballistic scale in [19], and numerical checks in the hard rod gas have confirmed the expression [31].\nFluctuations at the ballistic scale have also been studied in specific models by various hydrodynamic techniques, which differ from the BMFT developed here. In the TASEP, the earliest is that by Jensen [37] and Varadhan [38], culminating in an exact rate function (see, e.g., [39] for recent developments on the rate function of the TASEP from first principles). Another approach is via a ballistic extension of the diffusive MFT (similar to, but differing from, that proposed in section 3.3), which has been written [8] for the so-called weakly asymmetric simple exclusion process (WASEP), whose totally asymmetric limit gives the TASEP. By taking the totally asymmetric limit the Jensen-Varadhan formulation is re-obtained. In the TASEP, exact current large deviation functions, and scaled cumulant generating functions (SCGFs), are in fact known in various situations [40,41].\nThe recently developed ballistic fluctuation theory (BFT) [20,21], which provides the largedeviation theory for total current fluctuations in stationary states, is the first general theory for ballistic-scale fluctuations. The BFT is based on modifying the local states by accounting for the insertion of total currents, through a \u201cflow equation\u201d derived using hydrodynamic linear response. It shows that these fluctuations are also controlled by the Euler hydrodynamics of the model, and it accounts for an arbitrary number of ballistic modes. It implies, for instance, that \u201cdynamical phase transitions\u201d occur whenever the initial state admits a hydrodynamic mode with vanishing velocity. The first four cumulants of energy transport have been checked against numerical simulations in the hard rod gas [21], and the BFT reproduces the known exact SCGF in homogeneous states of the TASEP [42, Sec 4.2], obtained by first-principle calculations earlier [41]. It has been confirmed by exact calculations in the box-ball system [43]. The BFT was generalised to long-wavelength, non-stationary situations in integrable systems in [23], but again this is less understood.\nThe Gallavotti-Cohen fluctuation theorem (GCFT) has been studied widely, see the review [44] for basic results. In particular, in ballistic NESS, the GCFT was analytically proved for several models, see the review [33]. This includes (interacting) conformal field theories [45]. It has also been verified for integrable systems [21] by numerically evaluating the expression obtained from the BFT, although no proof yet has been provided. A general argument based on time-reversal symmetry of the microscopic model was proposed [46] for the full current fluctuations, including the early times of the partitioning protocol. For the latter state, the GCFT has been checked for various non-interacting models, see, e.g., [47,48]."
        },
        {
            "heading": "1.2 Organisation of the paper",
            "text": "This paper is organised as follows. In Sec. 2, we set the stage by introducing the two main quantities that we will study: the SCGF for time-integrated currents and the Euler-scale dynamical correlation functions. In particular, we shall emphasise that the BMFT predicts a novel phenomenon that had been hitherto not known, which is the existence of long-range correlations in equal-time Euler-scale correlators in generic ballistic many-body systems. In Sec. 3, we then discuss the general idea of the BMFT, which rests upon the assumption of local relaxation of fluctuations, culminating in the expression of local equilibrium averages in terms\nof path-integrals. The relation to diffusive MFT is also explained. In Sec. 4, the actual implementations of the BMFT to compute the above two objects will be then carried out. The associated equations are hard to solve in general. In Sec. 5, we discuss integrable systems, where it turns out that all the difficulties presented in generic cases can be circumvented. The main predictions for this class of systems, as well as some technical details, are provided. We eventually conclude with future directions in Sec. 6. Technical aspects of the presentation and details about the calculations and the numerical simulations are consigned to the Appendix sections.\nThe notations used throughout the manuscript are as follows: microscopic system\u2019s observables (or operators in quantum systems) are denoted with a hat as o\u0302(x , t), and their fluid-cell mean, defined in (23), as o(x , t) (these are still operators in quantum systems). The integration of a microscopic observable over the full, infinite length of the system is denoted with a capital letter, O\u0302 = \u222b\nR dx o\u0302(x). Note that the space and time used as arguments in o\u0302(x , t) and o(x , t) are microscopic ones. We will also define below classical fluctuating variables o(x , t) in Eqs. (48)-(51) which are identified, via their Euler-scale correlation functions, with the mesoscopic means o(\u2113x ,\u2113t). Recall that \u2113 is the macroscopic scale, and thus in o(x , t) space and time coordinates are macroscopic ones. Finally, we will also take ensemble averages of the microscopic observables o\u0302 within homogeneous, stationary states (that is, within (generalised) Gibbs ensembles, see below), which we will denote in typewriter font, o. With macroscopically varying states, such as in Eq. (12) below, the Lagrange multipliers (or generalised temperatures) \u03b2 i(x), or \u03b2 i(x , t), give rise to space or space-time dependent averages, o(x) or o(x , t), where space-time coordinates are again macroscopic."
        },
        {
            "heading": "2 Main physical predictions and numerical checks",
            "text": "We now overview the setup for the BMFT, the two main applications and physical predictions from the theory (the current large deviations and the CGFT in Subsec. 2.1, the Euler-scale correlation functions and long-range correlations in Subsec. 2.2), and the explicit results in integrable systems and numerical checks we performed to verify these predictions (Subsec. 2.3).\nThe setup is an extensive model, quantum or classical, supported on the line R, with a dynamics that admits a certain number of extensive conserved quantities,\nQ\u0302 i =\n\u222b\nR dx q\u0302i(x) . (3)\nHere and below, the set of values the index i can take is kept arbitrary; it can be finite or infinite. Extensivity is intuitively understood as the fact that qi(x) is local \u2013 it probes the system at, or around, position x only (this includes quasi-local densities as constructed in integrable models [49]). The set of charges Q\u0302 i is assumed to be complete.1\nOne of the representative models that belongs to the former case is the classical anharmonic chain whose Hamiltonian reads [15]\nH\u0302AHC = N \u2211\nj=1\n1 2 p2j + V (r j) , r j = x j+1 \u2212 x j , (4)\nwhere x j and p j give the position and the momentum of j-th particle. Barring some exceptions, the model possesses the three conservation laws (3) for i = 0, 1,2, corresponding to the\n1Completeness and extensivity are difficult to define rigorously in general. Although we are not looking for rigour in the present paper, we nevertheless mention that these concepts are given fully unambiguous definitions for the linearised Euler hydrodynamics of quantum spin chains in [30].\nnumber of particles q\u03020(x) = \u2211N j=1\u03b4(x \u2212 x j), the momentum q\u03021(x) = \u2211N\nj=1 p j\u03b4(x \u2212 x j), and the energy q\u03022(x) = \u2211N j=1 e j\u03b4(x \u2212 x j) with e j = 1 2 p 2 j + V (r j). Some exceptions occur when the potential is fine-tuned, giving a number of conservation laws that grows like N , e.g., the system of hard rods of lengths a, with VHR(r) =\u221e for |r| \u2264 a and VHR(r) = 0 for |r|> a [50], and the Toda chain VToda(r) = e\u2212r [51\u201353]. Quantum mechanically, one of the prototypical integrable models is the Lieb-Liniger model, which is given by [54]\nH\u0302LL = \u2212 1 2\nN \u2211\nj=1\n\u2202 2\n\u2202 x2j + c \u2211 i< j \u03b4(x i \u2212 x j) , (5)\nwhere c > 0. Time evolution may, however, not necessarily be generated by a Hamiltonian; in stochastic models, a conserved quantity is to be understood as a martingale for the stochastic dynamics.\nUnder time evolution, continuity equations for local densities q\u0302i(x , t) and currents \u0237\u0302i(x , t) hold:\n\u2202t q\u0302i(x , t) + \u2202x \u0237\u0302i(x , t) = 0 . (6)\nCrucial to the structure of the BMFT and the expression of our main results are the set of stationary, homogeneous states where entropy is maximised with respect to the available conserved quantities. The states are characterised by a set of inverse \u201cgeneralised temperatures\u201d (temperature, chemical potential, Galilean or relativistic boosts, etc.), or Lagrange multipliers, \u03b2 i ,\n\u2329\u2022\u232a\u03b2 = 1 Z \u00b5 exp \u2212 \u2211\ni\n\u03b2 iQ\u0302 i \u2022 , Q\u0302 i =\n\u222b\nR dx q\u0302i(x) . (7)\n\u00b5 is any \u201cflat a priori measure\u201d that is homogeneous (invariant under space translation) and stationary (invariant time evolution). Physically, it is an infinite-temperature ensemble, such as the trace in quantum mechanics \u00b5 = Tr, or the flat phase-space integral \u00b5 = \u222b \u220f\nn dpndqn in classical mechanics. Here and henceforth, Z is the constant normalising the resulting state \u2329\u2022\u232a\u03b2 . Note that in integrable systems, where an infinity of conserved quantities may be involved in (7), these states are usually referred to as generalised Gibbs ensembles (GGE).\nAlso crucial are the flux Jacobian and Euler hydrodynamic equations. We recall that the flux Jacobian is the variation of the average currents ji = \u2329 \u0237\u0302i\u232a\u03b2 with respect to the average densities qi = \u2329q\u0302i\u232a\u03b2 within homogeneous stationary states,\nA ij = A i j [\u03b2] = \u2202 j j \u2202 qi = \u2212 \u2211\nk\n\u2202 j j \u2202 \u03b2 k Cki , (8)\nwhere Cki = (C\u22121)ki is the inverse of the static covariance matrix, or susceptibility matrix, Ci j ,\nCi j = \u2212 \u2202 qi \u2202 \u03b2 j =\n\u222b\nR dx\nq\u0302i(x)q\u0302 j(0) c \u03b2 . (9)\nBy positive-definiteness of the matrix C there is a bijection q\u2194 \u03b2 (in appropriate domains of values of these quantities). The Euler equation is obtained by assuming that the state is slowly varying in space and time so that in every fluid cell local entropy maximisation to the state (7) takes place. A fluid cell may be seen as a \u201cmesoscopic\u201d region: a region of extent L, large compared to microsocpic scales \u2113micro, set by the mean inter-particle distance and interaction lengths, but small compared to macroscopic spatial variation scales \u2113 (we take all the \u201cscales\u201d to have dimension of length),\n\u2113micro\u226a L\u226a \u2113 . (10)\nThus all quantities associated to the state (7) now acquire x , t dependence, \u03b2 i(x , t), qi(x , t) and ji(x , t), and the resulting equation takes a number of equivalent forms: Eq. (1), and (using the property AC= CAT , see, e.g., [28])\n\u2202tqi(x , t) + \u2202xji(x , t) = 0 , \u2202t\u03b2 i(x , t) + \u2211\nj\nA ij [\u03b2(x , t)]\u2202x\u03b2 j(x , t) = 0 . (11)\nClearly, the Euler hydrodynamic equations are linear if the flux Jacobian is in fact independent of the state. We name henceforth, in agreement with Ref. [20], \u201cinteracting\u201d those hydrodynamic systems where the flux Jacobian A ki (x , t) = A k i [\u03b2(x , t)] depends non-trivially on the state \u03b2(x , t). The BMFT is concerned with out-of-equilibrium phenomena that happen at long wavelengths and long times. For definiteness, we will look at time evolution from initial states with long-wavelength \u2113 variations\n\u2329\u2022\u232a\u2113 = 1 Z \u00b5 exp \u2212 \u2211\ni\n\u222b \u221e\n\u2212\u221e dx \u03b2 iini(x/\u2113)q\u0302i(x) \u2022 . (12)\nFor an extensive discussion of such long-wavelength states and the ensuing Euler hydrodynamics of many-body systems admitting an arbitrary number of conserved quantities, see, e.g., [3]."
        },
        {
            "heading": "2.1 Current large deviations and fluctuation theorem",
            "text": "The BMFT gives access to the large-deviation theory for total observables integrated on macroscopic regions of space and time. Two natural examples are the scaled cumulant generating functions (SCGF) F\u0303(\u03bb, T ) and F(\u03bb, T ) of total charges\n\u00ac e\u03bbQ\u0302(\u2113X ) \u00b6\n\u2113 \u224d e\u2113X F\u0303(\u03bb,X ) , Q\u0302(\u2113X ) =\n\u222b \u2113X\n0\ndx q\u0302i\u2217(x , 0) , (13)\nand, most interestingly, of total currents,\n\u00ac e\u03bbJ\u0302(\u2113T ) \u00b6\n\u2113 \u224d e\u2113T F(\u03bb,T ) , J\u0302(\u2113T ) =\n\u222b \u2113T\n0\ndt \u0237\u0302i\u2217(0, t) , (14)\nas \u2113 \u2192\u221e. The notation \u201c\u224d\u201d means, e.g., F(\u03bb, T ) = lim\u2113\u2192\u221e 1 \u2113T log \u00ac e\u03bbJ\u0302(\u2113T ) \u00b6\n\u2113 , cf. Ref. [23].\nHere q\u0302i\u2217 and \u0237\u0302i\u2217 are one particular pair of charge density and current of the model; as the basis of conserved charges is kept arbitrary, this is without loss of generality. Note that Eq. (14) is equivalently the large-deviation theory for the total amount of the conserved quantity i\u2217 transported from left to right in time \u2113T , that is J\u0302(\u2113T ) =\n\u222b\u221e 0 dx (qi\u2217(x ,\u2113T )\u2212 qi\u2217(x , 0)). The\nSCGF\u2019s are generating functions for the scaled cumulants of Q\u0302(\u2113X ) and J\u0302(\u2113T ); for instance F(\u03bb, T ) = \u2211\nn\u22650\u03bb ncn(T )/n! with\ncn(T ) = lim \u2113\u2192\u221e\n(\u2113T )\u22121 \u222b \u2113T\n0\ndt1 \u00b7 \u00b7 \u00b7 \u222b \u2113T\n0\ndtn \u0237\u0302i\u2217(0, t1) \u00b7 \u00b7 \u00b7 \u0237\u0302i\u2217(0, tn) c \u2113 . (15)\nIn (13) and (14), the SCGF is evaluated in general in the macroscopically inhomogeneous state (12), where variations occur over the length scale \u2113; thus the results depend on the scaled position X and scaled time T . Many studies have concentrated on the special case of\nhomogeneous initial states, where F(\u03bb, T ) = F(\u03bb, 1) =: F(\u03bb), but our theory gives access to the general situation.\nIt is explained in [20] that F\u0303(\u03bb, X ) is simply a difference of thermodynamic free energies (see also Appendix A),\nF\u0303(\u03bb, X ) = 1 X\n\u222b X\n0\ndx f [\u03b2ini(x)]\u2212 f [\u03b2\u2022ini(x)\u2212\u03b4 \u2022 i\u2217 \u03bb] , (16)\nwhere f [\u03b2] is the specific free energy for the stationary state (7), defined as a generating function for averages of conserved densities, \u2329q\u0302i\u232a\u03b2 = \u2202 f /\u2202 \u03b2 i .\nThe quantity F(\u03bb, T ) is more involved, as it requires understanding the dynamics of the model. In homogeneous states, where \u03b2ini is indepedent of position, a general solution in terms of the Euler hydrodynamics is given by the BFT [20,21]. However, the BMFT developed here is, to our understanding, the first general framework that applies to many-body systems both for homogeneous stationary states and long-wavelength inhomogeneous and non-stationary states.\nOf particular interest is the partitioning protocol. In this setup, the initial state takes the Gibbs form with different, but otherwise constant, Lagrange multipliers on the right (x > 0) and the left (x < 0), for instance:2\nexp \u2212 \u2211\ni\u2208C\n\u03b2 iL\n\u222b 0\n\u2212\u221e dx q\u0302i(x) + \u03b2 i R\n\u222b \u221e\n0\ndx q\u0302i(x)\n+ \u2211\ni \u0338\u2208C \u03b2 i0Q\u0302 i , (17)\nwhere C specifies the set of the charges for which there is imbalance in the state. With this particular form of the initial state, choosing a single i\u2217 in the SCGF is no longer the most general case, and instead one may consider\nF(\u03bb, T ) = lim \u2113\u2192\u221e 1 \u2113T log \u00ac e \u2211 i\u2208C \u03bb i J\u0302i(\u2113T ) \u00b6 \u2113 . (18)\nIn this equation, J\u0302i(\u2113T ) is defined analogously as J\u0302(T ) after (14) with the replacement i\u2217\u2192 i. The Gallavotti-Cohen fluctuation theorem (GCFT) gives a symmetry relation for this (generalised) current SCGF. As the initial state (17) is scale invariant, F(\u03bb, T ) = F(\u03bb, 1) =: F(\u03bb), and the GCFT is\nF(\u03b2 L \u2212 \u03b2 R \u2212\u03bb) = F(\u03bb) . (19)\nWe will show, using the BMFT, that the GCFT holds solely as a consequence of a timereversal symmetry of the Euler hydrodynamics. With A ji [\u03b2] the flux Jacobian within the state (7), the symmetry is an appropriate time-reversibility of the Euler hydrodynamic solution, including the existence of a collection of signs Si \u2208 {+1,\u22121} such that\nA ji [\u03b2] = \u2212SiS jA j i [\u03b2\u0303] , (20)\nwhere \u03b2\u0303 i = Si\u03b2 i (no sum over repeated indices), along with the requirements Si = 1 and \u2329 \u0237\u0302i\u232a\u03b2 = \u2212\u2329 \u0237\u0302i\u232a\u03b2\u0303 for all i \u2208 C. This arises if there exists a time-reversal symmetry of the microscopic model, under which densities of conserved charges transform diagonally, with signs Si , see Eq. (84).\nThe result shows that, in ballistic many-body systems, the GCFT is a consequence of general principles of large-scale fluctuations, and does not depend on the microscopic details.\n2This is not a large-wavelength initial state. However, it quickly settles to a large-wavelength state, and the effect of the initial transient on the cumulants vanish in the large-scale limit, as confirmed by our numerical results in Sec. 5.\nIn particular, by combining with generalised hydrodynamics, this provides, as far as we are aware, the first proof of the GCFT in all integrable many-body systems. The application to models of conventional hydrodynamic type, such as TASEP and the anharmonic chains, would require a more in-depth study of \u201cweak solutions\u201d to the BMFT equations (see below)."
        },
        {
            "heading": "2.2 Long-range correlations",
            "text": "The BMFT also gives access to connected correlation functions of any number of mesoscopic observables at different, macroscopically separated points in space-time, again in general from large-wavelength states. Let us first recall the main elements of Euler-scale correlation functions.\nThe Euler scaling limit of correlation functions is the limit where space, time and wavelengths all tend to infinity simultaneously. The scaling limit in fact requires two additional operations: one must take fluid-cell means, and the correlation function must be rescaled appropriately. See [19]. For the n-point function, the Euler scaling limit is\nSo\u03021,...,o\u0302n(x1, t1; \u00b7 \u00b7 \u00b7 ; xn, tn) := lim\u2113\u2192\u221e \u2113n\u22121 \u2329o1(\u2113x1,\u2113t1) \u00b7 \u00b7 \u00b7 on(\u2113xn,\u2113tn)\u232a c \u2113 , (21)\nwhere \u2329\u00b7 \u00b7 \u00b7\u232ac\u2113 is the connected correlation function in the initial state (12), again with its dependence on the scale of spatial variations \u2113 explicitly written. For the two point function, explicitly, \u2329o1(x1, t1)o2(x2, t2)\u232a c \u2113 = \u2329o1(x1, t1)o2(x2, t2)\u232a\u2113 \u2212 \u2329o1(x1, t1)\u232a\u2113 \u2329o2(x2, t2)\u232a\u2113, and\nSo\u03021,o\u03022(x1, t1; x2, t2) := lim\u2113\u2192\u221e \u2113 \u2329o1(\u2113x1,\u2113t1)o2(\u2113x2,\u2113t2)\u232a c \u2113 . (22)\nIn the Euler-scaling limit (21), the quantity oi(x , t) is the fluid-cell means of o\u0302i around the space-time point x , t; the fluid-cell mean can be taken as a mesoscopic space-time average\no(x , t) = 1\nvL2\n\u222b L/2\n\u2212L/2 dy\n\u222b vL/2\n\u2212vL/2 ds o\u0302(x + y, t + s) , (23)\nfor some v > 0. The fluid-cell mean (23) is generically required in order for the limit expressed in (22) to be described by Euler hydrodynamics. Time-averaging is, in general, necessary in order to wash out oscillations; see for instance the discussion in Ref. [55] for the XX spin chain and in Ref. [56] for the classical sinh-Gordon field theory. For the hard-rod model, however, we find that averaging in space (as in Eq. (35)) works well (see also Ref. [31]). See [19, 25] for discussions of fluid-cell means.\nIn general, So\u0302i1 ,...,o\u0302in (x i1 , t i1; \u00b7 \u00b7 \u00b7 ; x in , t in) is expected to be symmetric under permutations of indices ik 7\u2192 i\u03c3(k). This is clear in classical systems, but should also hold in quantum systems thanks to the taking of the Euler scaling limit, as shown by the rigorous results of [30] for two-point functions in stationary homogeneous states of quantum spin chains.\nAs discussed in [23], the SCGF F(\u03bb, T ) is related to Euler-scale correlation functions. Indeed, from Eqs. (14) and (15), and assuming that we can neglect the spatial part of the fluidcell mean,\ncn(T ) = T \u22121 \u222b T\n0\ndt1\u00b7 \u00b7 \u00b7 \u222b T\n0\ndtn S \u0237\u0302i\u2217 ,..., \u0237\u0302i\u2217 (0, t1; \u00b7 \u00b7 \u00b7 ; 0, tn) . (24)\nTherefore, conceptually, Euler-scale correlation functions (21) encode all Euler-scale information.\nWe note that the existence (in some sense) of the limit (21) does not mean that the n-point correlation function of microscopic observables decays as \u21131\u2212n. In non-integrable systems the result of the limit is expected to be a distribution, where delta-functions are found along the characteristics of the fluid, representing a decay of microscopic correlations that is slower\nthan \u21131\u2212n. In integrable systems, because of the continuum of fluid modes, n-point correlation functions generically indeed decay as \u21131\u2212n. See the review [25].\nBefore presenting our results, we recall that using hydrodynamic linear response arguments and other related principles, one arrives, from the Euler hydrodynamic equations (1), (11), at predictions for Euler-scale correlations. This is based on the fact that the hydrodynamic equations, with initial condition \u03b2 i(x , 0) = \u03b2 iini(x) or equivalently qi(x , 0) = \u2329q\u0302i\u232a\u03b2ini(x), predict the averages of all mesoscopic observables [3,18]:\nlim \u2113\u2192\u221e \u2329o(\u2113x ,\u2113t)\u232a\u2113 = \u2329o\u0302\u232a\u03b2(x ,t) =: o(x , t) . (25)\nThe main lines of linear and nonlinear response arguments in multi-component Euler hydrodynamics (see Appendix C for a short review) are expressed in [19,22], where they are worked out for integrable models.\nOne prediction is the hydrodynamic projection formula for two-point functions [19]:\nSo\u03021,o\u03022(x1, t1; x2, t2) = \u2202 o1 \u2202 qi \u03b2(x1,t1) \u2202 o2 \u2202 q j \u03b2(x2,t2) Sq\u0302i ,q\u0302 j (x1, t1; x2, t2) , (26)\nwhere for lightness of notation, here and below, the Einstein convention of summation over repeated indices is used. That is, it is sufficient to know the Euler-scale correlation functions of conserved densities, in order to access other Euler-scale correlation functions. In stationary homogeneous states (7) of short-range quantum spin chains, this has been shown rigorously in Ref. [30]. In particular,\nS \u0237\u0302k ,q\u0302 j (x1, t1; x2, t2) = A i k (x1, t1)Sq\u0302i ,q\u0302 j (x1, t1; x2, t2) . (27)\nCombining (27) with the conservation laws (6), one obtains a linear equation for Sq\u0302i ,q\u0302 j (x , t; x \u2032, t \u2032):\n\u2202tSq\u0302i ,q\u0302 j (x , t; x \u2032, t \u2032) + \u2202x A ki (x , t)Sq\u0302k ,q\u0302 j (x , t; x \u2032, t \u2032) = 0 . (28)\nThis is a linearised version of the Euler equations, which physically represents the propagation of a small disturbance on top of a (generically) inhomogeneous, non-stationary background. Eq. (28) says that the hydrodynamic modes are transported via the local flux Jacobian A ki (x , t) = A k i [\u03b2(x , t)] viewed as a \u201cpropagator\u201d, being emitted by the observable at x\n\u2032, t \u2032 and probed by the observable at x , t. Of course, in homogeneous and stationary states, Eq. (28) can be solved explicitly by a simple Fourier transform as the flux Jacobian can be taken out of the derivative.\nWe will show that the BMFT gives the full structure of Euler-scale correlation functions. First, we show that (26) and (28) indeed hold. We also obtain a generalisation of hydrodynamic projections to higher-point functions, and related linearised Euler hydrodynamic equations. For three-point functions, omitting the explicit space-time arguments for lightness of notation, hydrodynamic projection is\nSo\u03021,o\u03022,o\u03023 = \u2202 o1 \u2202 qi \u2202 o2 \u2202 q j \u2202 o3 \u2202 qk Sq\u0302i ,q\u0302 j ,q\u0302k + \u2202 2o1 \u2202 qi\u2202 q j \u2202 o2 \u2202 qk \u2202 o3 \u2202 ql Sq\u0302i ,q\u0302k Sq\u0302 j ,q\u0302l + cyclic perm. of 1, 2,3 , (29)\nand the evolution equation is\n\u2202t1Sq\u0302i ,q\u0302 j ,q\u0302k + \u2202x1 A li Sq\u0302l ,q\u0302 j ,q\u0302k +H l r i Sq\u0302l ,q\u0302 j Sq\u0302r ,q\u0302k = 0 , (30)\nwhere H l ri = \u2202 2ji/\u2202 ql\u2202 qr . The evolution equation is in agreement with nonlinear response results of [22], and a similar structure has been found in the hydrodynamic limit of the quantum single exclusion process [57,58]. These, as we will show, in fact follow quite directly from the scaling (21) and the BMFT principle of relaxation of fluctuations.\nWe further show one of the most striking physical predictions of the BMFT: the lack of correlations between separate fluid cells that is often assumed in hydrodynamic response theory, is in fact not generically preserved under macroscopic time evolution.\nBy standard arguments, an initial state of the form (12) has quickly decaying correlations. With finitely-many local densities q\u0302i(x), exponential decay is typically found on microscopic length scales \u2113micro \u226a \u2113, much like in equilibrium states. In integrable systems, as infinitelymany charges may be involved, 1/x2 correlations may appear, as is found in NESS [59,60]. But in all cases, correlations are expected to decay faster than 1/|x |. This means that equal-time Euler-scale correlations in this state vanish at different points,\nSo\u03021,o\u03022(x1, 0; x2, 0) = 0 , if x1 \u0338= x2 . (31)\nIn this states, fluid cells are not correlated at macroscopic scales. In particular, if t \u2032 = 0, the initial condition for (28), as taken in [19], is\nSq\u0302i ,q\u0302 j (x , 0; x \u2032, 0) = Ci j(x , 0)\u03b4(x \u2212 x \u2032) . (32)\nIn the conventional view of Euler hydrodynamics, under time evolution, local entropy maximisation occurs with respect to the mesoscopic conserved quantities in fluid cells, and the form (12), with time-dependent \u03b2 i(x , t), describes the state later in time. This indeed correctly describes averages of local observables. But the BMFT generically invalidates the timeevolved form of (12) at nonzero macroscopic times for the description of Euler-scale correlations. That is, the set of states of the form (12) is not preserved under time evolution. Long-range correlations appear,\nSo\u03021,o\u03022(x1, t; x2, t) \u0338= 0 , for |x1 \u2212 x2|> 0 , t > 0 , (33)\nand the BMFT gives a quantitative prediction. In fact, it is possible to argue for long-range correlations directly from hydrodynamic projection. Indeed, if the flux Jacobian depends on the state and has a nontrivial matrix structure, and the state is space-time dependent, the evolution equation\n\u2202tSq\u0302i ,q\u0302 j (x , t; x \u2032, t) + \u2202x A ki (x , t)Sq\u0302k ,q\u0302 j (x , t; x \u2032, t) + \u2202x \u2032 A kj (x \u2032, t)Sq\u0302i ,q\u0302k(x , t; x \u2032, t) = 0 , (34)\nwhich follows from (26) for t1 = t2 = t and the conservation laws, does not preserve the initial delta-function structure. Although hydrodynamic projection for two-point functions was already known, this observation, it appears, had not been made before.\nLong-range correlations occur whenever the system is interacting (that is, the flux Jacobian depends on the state), spatio-temporal variations are present, and there are more than one fluid velocity. They are built by macroscopically separated fluid modes going at different velocities, that have been emitted coherently in small regions with spatio-temporal variations, and scatter with each other. More generally, correlations at the Euler scale in space-time, such as (22), are not only due to fluid modes propagating between observables as obtained by linear response theory, but also receive contributions from fluid modes coherently emitted in the past. As a consequence, the initial condition (32) does not hold at times t \u2032 > 0, in contrast to what is normally assumed in linear- and nonlinear-response studies.\nThe above mechanism for long-range correlations is of hydrodynamic origin. In certain situations there may be other mechanisms at play, giving rise to long-range correlations of similar strength, but not described by the BMFT. For instance, if the initial condition is not of large-scale variations, say it admits a step density profile, then it can be expected that during the initial stage of the dynamics some nontrivial correlations build up from the microscopic physics. Thus dynamical correlations of observables at different spatial positions, from such\ninitial conditions, will be given by the combination of the early time microscopic ones and hydrodynamics ones as above. We shall indeed numerically observe for the hard-rod model evolving from a step initial condition, that correlations that stem from microscopic physics give additional contributions to those from coherent production of normal modes described by the BMFT.\nLastly, we remark that the observed long-range correlations are not in contradiction with the Lieb-Robinson bound [61], which constraints the spatial extent of time-evolved operators in lattice systems. By the Lieb-Robinson bound, nontrivial long-range correlations (33) can exist only if the two Lieb-Robinson light cones that fan out from x = x1 and x = x2 overlap; beyond this, correlations must decay exponentially (or as fast as in the initial state). Our explicit formulae for long-range correlations in integrable systems (132) show that correlations indeed decay quickly when the light cones determined by the maximum fluid velocity do not overlap; the maximum fluid velocity is bounded by the Lieb-Robinson velocity."
        },
        {
            "heading": "2.3 Numerical checks: Integrable systems",
            "text": "As mentioned, the BMFT is based on an action principle. The BMFT action turns out to be rather simple. It yields a set of hydrodynamic-type equations of motion that describe the representative, \u201ctypical\u201d dynamics which encodes the rare but large fluctuations at the root of Euler-scale correlations. Handling the resulting BMFT equations is however tricky. First, obtaining exact, analytic solutions is usually difficult, much like in conventional MFT (see however the recent exact result [12,62]). Second, generically the profile of the solution would display points of non-continuity where entropy is not conserved, as in Euler hydrodynamics. Due care is therefore needed in determining which weak solution to choose. This is a problem that has been addressed in simple models by first formulating the MFT in the presence of viscosity terms and taking the vanishing viscosity limit [8]. In the present paper, we do not address this problem more generally, although we provide some pointers.\nIn order to avoid these difficulties and assess our new theory in models which are simple enough yet which present all the structures of interacting Euler hydrodynamics, we concentrate on one-dimensional integrable systems. Their hydrodynamics, which has been coined generalised hydrodynamics (GHD), has come under intensive scrutiny over the last five years [16, 17, 63, 64] (see also the review [3] and the special issue [65]). GHD is based on the idea that fluid cells are described by generalised Gibbs ensemble (GGE). These are, nominally, Eq. (7) with, in general, infinitely many charges involved. These are the ensembles emerging in integrable systems under relaxation [32], instead of the usual Gibbs ensembles. In GHD, one in fact forgoes the set of explicit, extensive conserved charges, and describes the relaxed states more universally in terms of distributions of asymptotic states, see [3]. GHD has been observed in recent experiments on cold atomic gases [66\u201368], and it is also the framework at the heart of the theory of soliton gases, structures observed in water-wave and light-guide experiments [69\u201371].\nIn integrable systems, an intricate analysis of entropy-non-conserving discontinuous points is not necessary, as their hydrodynamic equations are known to have no shock solutions [72], something that is attributed to complete linear degeneracy of these equations [3,73,74]. Linear degeneracy means that the hydrodynamic velocity of a given normal mode does not depend on the value of this normal mode. This allows for contact discontinuities, instead of shocks, to develop, where entropy is preserved, as seen for instance in non-equilibrium steady states [16]. Further, one of the salient features of GHD is that it admits exact solutions of its hydrodynamic equations by means of the method of characteristics [75]. This fact greatly facilitates the application of the BMFT to integrable systems, allowing us to understand the structure of the BMFT equations to a much larger extent than in usual interacting many-body systems.\nWe concentrate on the two types of physical quantities discussed above: the scaled cumu-\nlants cn(T ) for total time-integrated currents, Eqs. (14), (15), and the Euler-scale, equal-time two-point functions Sq\u0302i ,q\u0302 j (x1, t1; x2, t2), Eq. (22). The latter is numerically evaluated as:\nSq\u03020,q\u03020(x1, t; x2, t) = lim\u2113\u2192\u221e \u2113 L2\n\u222b L/2\n\u2212L/2 dy\n\u222b L/2\n\u2212L/2 dy \u2032 q\u03020(\u2113x1 + y,\u2113t)q\u03020(\u2113x2 + y \u2032,\u2113t) c \u2113 . (35)\nThe integrals over y and y \u2032 give the fluid-cell means q0(\u2113x1,\u2113t) and q0(\u2113x2,\u2113t) over the mesoscopic scale L in Eq. (10).3 The numerical evaluation of cn(T ) is detailed in Appendix I. The calculations are performed in the generality of the universal GHD formalism, and thus the results apply to all integrable many-body systems, quantum or classical. The numerical comparisons are done against simulations of the hard rod model. This model is simple enough to simulate with good statistics, yet non-trivial enough to present all the properties of generic interacting intergable systems. The hydrodynamic theory of the hard rod model [50] is known to be a special case of GHD [63,76], and thus our GHD result can immediately be specialised to it (see Appendix B).\nFirst, the scaled cumulants are evaluated both in homogeneous, stationary states (7), and in the non-stationary configurations emanating from an initial partitioning of the system into two homogeneous halves as in Eq. (17). As in both cases there is scale invariance, the scaled cumulants are not time dependent, cn(T ) = cn. For homogeneous states, we show that the BMFT results for the first nontrivial scaled cumulants c2 and c3 agree with the known expressions from the BFT [21]. For the partitioning protocol, we show that our BMFT results also agree with the recent inhomogeneous BFT proposal [23]. We further compare the c2 result against molecular-dynamics simulations of the hard rod model, with excellent agreement.\nAs an illustration, we find that cpart2 , the second cumulant associated to particle transport (i\u2217 = 0 in our convention) in the partitioning protocol of the hard-rod model, is given by\ncpart2 = (1\u2212 a\u03c1) 3\n\u222b\nR d\u03b8 n\u03b8 veff\u03b8 . (36)\nHere a is the rod length, \u03c1 is the density of the rods in the NESS, and n\u03b8 is the \u201cnormal mode\u201d density in the NESS, which is simply the velocity distribution function, labeled by the velocity \u03b8 , normalised in such a way that \u03c1(1\u2212 a\u03c1)\u22121 = \u222b\nR d\u03b8 n \u03b8 . The effective velocity of the rods\nveff \u03b8 is given by\nveff\u03b8 = 1\n1\u2212 a\u03c1\n\u03b8 \u2212 (1\u2212 a\u03c1) \u222b\nR d\u03c6\u03c6n\u03c6 . (37)\nThe NESS is the fluid state on the ray x/t = 0 of the partitioning protocol; see the solution to the hydrodynamic Riemann problem of the hard rods in [76]. Interestingly, expression (36) is precisely the same as its homogeneous version except that each thermodynamic quantity is now evaluated with respect to the NESS. The reason for this resemblance will be explained in later sections. We find perfect agreement with numerics, thereby confirming the validity, at least for this cumulant, of both the inhomogeneous version of BFT, and of our new BMFT.\nSecond, we provide, using the GHD normal modes, explicit sets of integral equations for two-point correlation functions of conserved densities in space-time, from arbitrary largewavelength initial configurations, in the Euler scaling limit, Sq\u0302i ,q\u0302 j (x1, t1; x2, t2).\nIn particular, we focus on the equal-time case t1 = t2 = t. The assumption that the state is of locally entropy-maximised form at that time, Eq. (12), would only give a delta function; as discussed already, the BMFT generically invalidates this assumption.\n3One may take L = \u03b5\u2113 for some \u03b5 > 0, and take \u03b5\u2192 0 after the limit on \u2113. Numerical simulations were done with \u03b5 = 0.05. In the hard rod gas, we expect L = 0, no fluid-cell averaging, would also work, but this is hard to verify numerically.\nFor the density-density dynamical correlation function Sq\u03020,q\u03020(x , t; 0, t) in the hard-rod gas, the BMFT yield the following exact expression:\nSq\u03020,q\u03020(x , t; 0, t) = \u03c1(x , t)(1\u2212 a\u03c1(x , t)) 2\u03b4(x)\u2212 (1\u2212 a\u03c1(0, t))2\n\u222b\nR d\u03b8 [nE]\u03b8 (0, t) , (38)\nwhere E\u03b8 (x , t) satisfies the integral equation\nE\u03b8 (x , t) = E\u03b80 (x , t) +w\u03b8 (x , t) \u222b x\n\u2212\u221e dy (1\u2212 a\u03c1(y, t))[nE]dr;\u03b8 (y, t) . (39)\nIn the previous equation, \u03c1(x , t) and n\u03b8 (x , t) are defined as before except that this time they are functions of space and time, and evaluated in the fluid cell at x , t. The objects E\u03b80 (x , t) and w\u03b8 (x , t) are some (cumbersome) functionals of n\u03b8 (x , t), which can be obtained from Eqs. (132)-(138) by specialising to the hard-rod gas (see Appendix B). Finally, adr;\u03b8 (x , t) for any function a\u03b8 (x , t) is defined by\nadr;\u03b8 (x , t) := a\u03b8 (x , t)\u2212 a(1\u2212 a\u03c1(x , t)) \u222b\nR d\u03c6 n\u03c6a\n\u03c6(x , t) . (40)\nWe verify numerically with the hard rod simulations that long-range correlations indeed develop, that is, that Sq\u03020,q\u03020(x1, t; x2, t) gives, for all t > 0, a function of x that is nonzero on an extended region. Furthermore, we also confirm that this function agrees with the above BMFT prediction. We have done this from Eqs. (38) and (39) (and Eqs. (132)-(138)) for Sq\u03020,q\u03020(x , t; 0, t) in Fig. (1) of the companion manuscript [24]. In the case of the correlator Sq\u03020,q\u03020(x , t;\u2212x , t), we present our analysis in Sec. 5 (see Fig. 4)."
        },
        {
            "heading": "3 MFT for ballistic transport",
            "text": "In this Section, we introduce the BMFT formalism, which will be used in the calculations presented in the next sections of the manuscript. In particular, in Subsec. 3.1, we give the main statements of the BMFT in Eqs. (46)-(49), along with the predictions (50), (51). In Subsec. 3.2, we provide a justification for these statements. In Subsec. 3.3, a connection between BMFT and the conventional diffusive MFT is presented. The ideas developed in Subsec. 3.3 are not used in later sections, hence for a basic understanding of the BMFT, this subection can be skipped."
        },
        {
            "heading": "3.1 Formulation of the BMFT",
            "text": "The starting point for our implementation of the BMFT is the set of initial states (12). Below we sometimes write qi = qi[\u03b2] to emphasise its functional dependence on the \u03b2 i \u2019s; as mentioned just before Eq. (11), there is a bijection q \u2194 \u03b2 . Likewise, we write A = A[\u03b2]. For local observables o\u0302, including the currents o\u0302 = \u0237\u0302i , we write\no[q] := \u2329o\u0302\u232a\u03b2 (under qi = qi[\u03b2]) . (41)\nAs is clear from (25) at t = 0 (and the initial condition \u03b2 i(x , 0) = \u03b2 iini(x)), the marginal distributions of fluid cells in the initial state, or the fluid-cell reduced density matrices in the quantum language, give, at least for mesoscopic means, GGEs with the local values of \u03b2 i . By the fast correlation decay discussed above, the full measure induced on mesoscopic means is a product measure over these local fluid-cell marginals.\nIt is a simple statistical mechanics exercise [77] to express the product measure representing (12) on the mesoscopic conserved quantities. In order to do so, one sees the coarsegrained, mesoscopic means qi(\u2113x , 0), whose correlations are obtained from (12), as classical fluctuating variables, qi(x , 0), whose correlations are obtained from an appropriate measure dPini[q(\u00b7, 0)]; that is, one sets the equivalence\nqi(\u2113x , 0)\u2261 qi(x , 0) (at Euler scale) . (42)\nThe equivalence hold in the Euler scaling limit in Eq. (10) with L,\u2113 \u2192\u221e. In macroscopic coordinates, the fluid cell scale L shrinks to a point, thus the measure dPini[q(\u00b7, 0)] is pointwise factorised. One finds that the following measure represents well the initial state (12): dPini[q(\u00b7, 0)] = d\u00b5[q(\u00b7, 0)] e \u2212\u2113F[q(\u00b7,0)] where F[q(\u00b7, 0)] can be expressed as follows:4\nF[q(\u00b7, 0)]= \u222b\nR dx\n\u03b2 iini(x)qi(x , 0)\u2212 f [\u03b2ini(x)]\u2212s[q(x , 0)] . (43)\nHere d\u00b5[q(\u00b7, 0)] = \u220f x\u2208R \u220f\ni dqi(x) is the flat measure, and s[q] is the entropy density, which is defined (up to an unimportant constant) by the equations \u2202 s[q]/\u2202 qi|qi=qi[\u03b2] = \u03b2 i . The function F[q(\u00b7, 0)] can be interpreted as a relative entropy,5 and it is clearly pointwise factorised. The measure dPini[q(\u00b7, 0)] represents the initial state (12) at the Euler scale. Indeed, the generating function of equal-time Euler-scale correlations takes the form of a difference of integrated free energies, generalising (16) (see Appendix A):\nexp\n\u222b\nR dx \u03bbi(x/\u2113)q\u0302i(x) \u2113\n\u224d exp \u2113 \u222b\nR dx f [\u03b2ini(x)]\u2212 f [\u03b2ini(x)\u2212\u03bb(x)] , (44)\nand the Legendre transform, of a difference of free energies is a relative entropy, giving the large-deviation functional e\u2212\u2113F[q(\u00b7,0)] in Eq. (43) (see e.g. Ref. [78]). In particular, the saddlepoint of this measure indeed gives the correct averages of conserved densities for (12); defining \u03b2 i(x , 0) via the relation qi(x , 0) = qi[\u03b2(x , 0)], the saddle-point equation is\n\u03b2 i(x , 0) = \u03b2 iini(x , 0) (saddle-point of dPini[q(\u00b7, 0)]) . (45)\nThe main purpose of the BMFT is to give an action principle that describes how the probability distribution dPini[q(\u00b7, 0)] extends to a probability distribution for the full space-time mesoscopic conserved densities, dP[q(\u00b7, \u00b7)] for qi(\u00b7, \u00b7)\u2019s on S := R \u00d7 [0, T], for any time T . This action principle is derived from the main assertion of the BMFT that the initial distribution dPini[q(\u00b7, 0)] propagates in time according to the Euler equations (11). We will justify this assertion below in Subsec. 3.2.\nSpecifically, the resulting measure on space-time configurations is\ndP[q(\u00b7, \u00b7)] = d\u00b5[q(\u00b7, \u00b7)] e\u2212\u2113F[q(\u00b7,0)]\u03b4[\u2202tq+ \u2202xj[q]] . (46)\nd\u00b5[q(\u00b7, \u00b7)] is the flat measure for functions on S. The delta functional, which we represent as an integral over an auxiliary fields (as is done in the diffusive MFT [10])\n\u03b4[\u2202tq+ \u2202xj[q]] =\n\u222b\n(S) d\u00b5[H(\u00b7, \u00b7)]exp\n\u2212\u2113 \u222b\nR dx\n\u222b T\n0\ndt H i(\u2202tqi + \u2202xji[q]) , (47)\n4One can also write F[q(\u00b7, 0)] = \u222b R dx \u222b q(x ,0)\nq ini (x) dri C i j[r](q j(x , 0)\u2212 r j) where C[r] is the static covariance matrix as a function of average conserved densities ri \u2019s.\n5Indeed, F[q(\u00b7, 0)] = \u222b\nR dx \u00b5 \u03f1\u0302[\u03b2(x , 0)] log \u03f1\u0302[\u03b2(x , 0)]/\u03f1\u0302[\u03b2ini(x)] , where \u03f1\u0302[\u03b2] = exp\n\u2212 \u2211 i \u03b2 iQ\u0302 i /Z(\u03b2).\nenforces the Euler equations. Here on the integral symbol we indicate the range of the functions in the function space over which we integrate.\nEuler-scale correlation functions involving mesoscopic fluid-cell means of any observables o(\u2113x ,\u2113t) are obtained with the above measure by identifying them with appropriate classical random variables. They are identified with the functions of qi(x , t)\u2019s representing their GGE averages in the local states characterised by qi(x , t)\u2019s:\no(\u2113x ,\u2113t)\u2261 o[q(x , t)] (at Euler scale). (48)\nExplicitly, the BMFT average is given by\n\u2329\u2329\u2022\u232a\u232a\u2113 = 1 Z\n\u222b\n(S) d\u00b5[q(\u00b7, \u00b7)] e\u2212\u2113F[q(\u00b7,0)]\u03b4(\u2202tq+ \u2202xj[q]) \u2022 . (49)\nThe main BMFT predictions are expressions for Euler-scale correlations (21)\nSo\u03021,...,o\u0302n(x1, t1; \u00b7 \u00b7 \u00b7 ; xn, tn) = lim\u2113\u2192\u221e \u2113n\u22121 \u00ac\u00ac o1[q(x1, t1)] \u00b7 \u00b7 \u00b7on[q(xn, tn)] \u00b6\u00b6c \u2113 , (50)\nand in particular\nF(\u03bb, T ) = lim \u2113\u2192\u221e 1 \u2113T log \u2329\u2329exp\u03bb\u2113J(T )\u232a\u232a\u2113 , (51)\nwhere\nJ(T ) =\n\u222b T\n0\ndt ji\u2217[q(0, t)] , (52)\nsee Eqs. (21) and (14). (Recall that the expansion of the right-hand side of (51) in powers of \u03bb boils down to correlation functions as in the right-hand side of (50).) We will write (50), for simplicity, as\n\u2329\u2022\u232a\u2113 \u223c \u2329\u2329\u2022\u232a\u232a\u2113 . (53)\nAlthough we have formulated the theory using functional integration on appropriate measures, the result as \u2113\u2192\u221e on the right-hand side of (53) is in fact obtained by taking a saddle point. For an observable O[q] in space-time,\n\u2212 lim \u2113\u2192\u221e\n\u2113\u22121 log \u00ac\u00ac exp \u2113O[q] \u00b6\u00b6 \u2113 = FO[q\u2217] , (54)\nwhere FO[q(\u00b7, \u00b7)] = F[q(\u00b7, 0)]\u2212O[q(\u00b7, \u00b7)] , (55)\nis the \u201cobservable action\u201d, and q\u2217 is the minimiser of the \u201cBMFT action\u201d\nSO[q, H] = FO[q] + \u222b\nR dx\n\u222b T\n0\ndt H i\n\u2202tqi + \u2202xji[q] , (56)\nwith respect to q and H. Equivalently, one can see the fields H i(\u00b7, \u00b7) as Lagrange parameters enforcing the Euler equations viewed as constraints on the minimisation of the observable action FO. That is:\n\u03b4SO[q, H]\n\u03b4qi(x , t)\nq=q\u2217 = 0 , \u2202tq\n\u2217 i + \u2202xji[q \u2217] = 0 . (57)\nWe take O = \u03bbJ(T ) for the current SCGF, and O = \u2211n\na=1\u03bbaoa[q(xa, ta)] for the generator of Euler-scale correlation functions, with n independent generating parameters \u03bba. The set of equations (57) \u2013 the BMFT equations \u2013 will form the basis for our analysis below.\nThe BMFT formalism we have here outlined presents similarities with the Martin-SiggiaRosa (MSR) [79\u201381] formalism, which provides a field-theoretical functional representation of the Langevin equation. As such the MSR is a field theory formulated at the mesoscopic scale for a slowly varying field, while all the other rapidly fluctuating degrees of freedom are effectively represented through the Gaussian noise term in the Langevin equation. This is a fundamental difference with the BMFT, which is a macroscopic fluctuation theory based on the large-scale deterministic Euler equation. The BMFT action is therefore entirely controlled by Euler-scaling limit, where the macroscopic length scale is sent to infinity \u2113\u2192\u221e. This allows to compute the BMFT path integrals exactly by saddle point, as explained above. This is a great advantage with respect to the MSR action, which does not contain any macroscopic scale parameter being formulated from the mesoscopic Langevin equation. The MSR path integral are therefore evaluated only approximately by perturbative expansions and renormalization group schemes, see, e.g., Ref. [82]. From the technical point of view, we mention that the field H(x , t) is the equivalent in the BMFT action of the so-called \u201cresponse field\u201d of the MSR functional. The response field in the MSR action is introduced, similarly as in Eq. (47), via Laplace transform of the delta function enforcing the field to obey the Langevin equation. The BMFT action (55), however, is linear in the field H(x , t), while the MSR action is quadratic in the response field. This difference is caused by the integration over the Gaussian noise (absent in the BMFT), which produces the quadratic term in the response field.\nFrom Eq. (57), it is evident that the space-time configuration minimizing the BMFT action satisfies the Euler equation (although, as we will see, the initial condition is not q[\u03b2ini(x)], but a \u03bb- or \u03bba-dependent initial condition accounting for the rare fluctuations we are focusing on). We shall therefore use for the minimizer q\u2217 the notation q\u2217(x , t) = q(x , t). A sketch of the space-time configurations whose weight is given by the BMFT action in Eq. (56), together with the saddle point minimizing configuration, is given in Fig. 2.\nWe note that it is not necessary to have as initial state the form (12) (which gives the initial measure in factorised form (43)). The initial state must be slowly varying, but may otherwise have long-range correlations, thus giving a non-factorised initial measure. The BMFT principle, which simply says to evolve the initial fluctuating state with the Euler equation, will work all the same, with in (46) that measure instead of e\u2212\u2113F[q(\u00b7,0)]. However, the state (12), giving the measure (43), is natural to assume in local equilibrium, and is simple yet nontrivial enough for this presentation."
        },
        {
            "heading": "3.2 Local relaxation of fluctuations",
            "text": "The BMFT probability distribution, Eqs (46) and (49), results from a single assumption about fluctuations of mesoscopic variables. This is the assumption that\nMesoscopic means of local observables (coarse-grained observables), o(\u2113x ,\u2113t), do not fluctuate independently from the conserved densities, but are fixed functions of these, o[q(x , t)].\nThat is, the form (50) must hold, for some, yet unknown, functions oa[q(x , t)], which we show below must be the GGE average oa[q(x , t)]. This means that the mesoscopic fluctuating degrees of freedom are reduced to the conserved quantities: all other degrees of freedom quickly relax, and only the \u201cslowly-decaying modes\u201d, which are the extensive conserved quantities of the model, remain as fluctuating variables in the Euler scaling limit. In phase space, the interpretation is that the fixed-q shell is quickly covered in fluid cells (as per the principle of ergodicity), and large-scale fluctuations are fluctuations between different shells.\nThe principle can be justified by a separation of fluctuation scales between variables that change due to interactions within the fluid cell, and those that are only affected by exchanges between fluid cells. Take the picture of classical particles with short-range interactions. If \u03c4 is the mean free time and \u03c1 the spatial density, then in a length L and time T there will\nbe \u03c1LT/\u03c4 collisions (interactions). Thus an observable (LT )\u22121 \u222b L 0 dx \u222b T\n0 dt o(x , t) affected by the few-body interaction with nearby particles will have fluctuations due to in-cell process of order 1/ p \u03c1LT/\u03c4. But conserved quantities (LT )\u22121 \u222b L\n0 dx \u222b T\n0 dt qi(x , t) are only affected by exchange of particles through the boundaries of the cells, and exchange of energy and other quantities by interactions through these boundaries. Naturally, such processes take place less frequently than the in-cell processes, giving contributions to fluctuations only of order 1/ p T/\u03c4 and 1/ p\n\u03c1\u2113microT/\u03c4, respectively. Therefore, with T \u221d L inter-cell fluctuations of fluid-cell means\u2206inter-cello\u221d 1/ p L dominate over in-cell fluctuations\u2206in-cello\u221d 1/L, and as \u2206in-cellqi = 0, in-cell processes simply cover the phase-space shell with fixed values of qi \u2019s. Tacitly assumed in the above assumption is that fluid-cell means of observables can be seen as classical random variables, in agreement with the general expectation that the Euler-scale correlation functions are symmetric as mentioned above. In classical systems this is clearly the case. In quantum systems, this assumes that such fluid-cell means become, in the Euler scaling limit, classical fluctuating variables. The idea is that such observables are examples of the \u201cmacroscopic observables\u201d introduced by von Neumann in the context of the quantum ergodic theorem [83] (see an analysis of this paper in [84]). An ergodicity result has recently been shown [85], which implies that, in a large class of stationary, homogeneous states of quantum lattices with short-range Hamiltonians, averages of observables over space-time indeed project onto the state average times the identity operator; this further support taking fluid-cell means as classical variables.\nThe principle of local relaxation of fluctuations is of course closely related to the principle used normally to justify hydrodynamics: the hydrodynamic equations can be derived by assuming that state averages of fluid-cell means of local observables are functions of local conserved densities only. As this must be true in (G)GE\u2019s, then the functions are fixed to (G)GE averages. As this holds in particular for the currents, the Euler equations follow.\nThe concept of relaxation of fluctuations goes one step further, and makes this assumption for the large-scale fluctuations. It turns out again that the functions o[q] are uniquely fixed to the ensemble averages o[q] by this assumption. Indeed, Eqs. (25) at t = 0, and (50) at n= 1 and t1 = 0, imply\n\u2329o\u0302\u232a\u03b2(x ,0) = \u222b\n(R) dPini[q(\u00b7, 0)] o[q(x , 0)] , (58)\nhence by the saddle-point (45) we obtain (48). Of course, this is nothing else but the equivalence of macrocanonical and microcanonical ensembles: the fast relaxation over the fixed-q shell gives (microcanonical) values of observables that are functions of the qi \u2019s as per their (macrocanonical) GGE averages.\nLocal relaxation of fluctuations has appeared in various forms in the literature. Most importantly, the Boltzmann-Gibbs principle is often stated as a projection of fluctuating fields onto fluctuating conserved fields in stochastic particle systems, see, e.g., [26,27].\nWith local relaxation of fluctuations, and in particular Eq. (48), it is a simple matter to obtain the BMFT formula. This again parallels the derivation of the Euler hydrodynamic equations. As, by the equations of motion, the conservation laws must be satisfied, we must have\n\u2329\u2022\u232a\u2113 =\nD\ne\u2113 \u222b R dx \u222b T 0 dt H i(x ,t)(\u2202t qi+\u2202x j i) \u2022 E\n\u2113 D\ne\u2113 \u222b R dx \u222b T 0 dt H i(x ,t)(\u2202t qi+\u2202x j i) E\n\u2113\n, (59)\nfor all \u2113, and any values of the fields H i(x , t). Note that variations of densities and currents occur on scales \u2113, hence with a factor \u21132 from the space-time integral and \u2113\u22121 from the derivatives, we indeed have a factor \u2113 in the exponential; it is made explicit here as integrals are on macroscopic variables x , t. The principle of local relaxation of fluctuations at all times t implies that there is some measure dP[q(\u00b7, \u00b7)] representing averages \u2329\u2022\u232a\u2113 at large \u2113,\n\u2329\u2022\u232a\u2113 \u223c \u222b\n(S) dP[q(\u00b7, \u00b7)]\u2022 , (60)\nand this can be used on (59). With the result (48) for the observables \u0237\u0302i , we deduce that\ndP[q(\u00b7, \u00b7)]\u221d dP[q(\u00b7, \u00b7)]e\u2113 \u222b R dx \u222b T 0 dt H i(x ,t)(\u2202t qi+\u2202xji[q]) . (61)\nAssuming that the hyperbolic system (11) has a unique solution \u2013 or imposing appropriate conditions on possible weak solutions to make it unique \u2013 the arbitrariness of H i(x , t) implies that dP[q(\u00b7, \u00b7)] is supported on this solution. Thus it is sufficient to put a measure on the initial condition, hence to know the marginal at time t = 0. As the initial measure dPini[q(\u00b7, 0)] must be this marginal, we obtain (46) (equivalently (49)), where the flat integration measure over all times with the delta functional guarantee both the right initial-time marginal and the support on the hydrodynamic solution. This shows (46) - (51)."
        },
        {
            "heading": "3.3 Relation to diffusive MFT and fluctuating hydrodynamics",
            "text": "The goal of this section is to provide further justifications for the BMFT, by proposing how it relates to the well-known and well-established theory of diffusive MFT [7], and by making a parallel with (nonlinear) fluctuating hydrodynamics (NLFHD) [15]. The conventional MFT gives a probability distribution for mesoscopic variables in purely diffusive systems, and of course BMFT is largely inspired by it.\nOn the one hand, as explained above, the underlying idea of the BMFT, the local relaxation of fluctuations, implies that the mesoscopic currents j do not fluctuate independently,\nbut rather are random variables given, as functions of fluctuating conserved densities, by the stationary (GGE) values, j = j[q]. On the other hand, in diffusive MFT, the currents fluctuate, via a stochastic, Gaussian noise determined by microscopic diffusion via the Einstein relation (see [7]). Both are, nevertheless, \u201cmacroscopic fluctuation theories\u201d, describing large deviations of fluid trajectories obtained by saddle-point analysis. How are these two theories related?\nIn order to better understand this, we propose here a multi-scale hydrodynamic fluctuation theory that covers both ballistic and diffusive effects. We will see that BMFT is obtained under ballistic scaling, in the limit of zero noise and zero diffusion, while diffusive MFT is obtained under diffusive scaling, with ballistic currents set to zero. The resulting saddle-point analysis, in BMFT and diffusive MFT, is therefore done under different choices of scaling.\nThe general idea of combining ballistic and diffusive effects is not new: it was used in [8] to analyse the weakly asymmetric simple exclusion process, and, by a zero-noise limit, to obtain a ballistic fluctuation theory for the totally asymmetric simple exclusion process. But as far as we are aware, a universal theory has not been constructed yet.\nFormulated in terms of the ballistic scale \u2113, our ansatz is a theory for fluctuating classical variables that reproduce not only the leading large-\u2113 order of correlation functions such as (21) (the Euler scale), but also the next-to-leading order. The measure dP[q(\u00b7, \u00b7)] must be modified in order to reproduce correctly both these leading and next-to-leading orders. This multi-scale hydrodynamic fluctuation theory is no longer a large-deviation theory, as its analysis would require going beyond saddle-point equations and considering \u201cloop corrections\u201d, which we reserve for future works. In a sense, it is an action re-formulation for NLFHD, as it combines both ballistic and diffusive scales (recall that their combination, in NLFHD, helps explaining superdiffusive behaviours of two-point correlation functions.) The ideas proposed here, besides being applicable to general multi-component hydrodynamic systems, are also slightly different from those of [8].\nRecall that the main assertions of the BMFT is the measure on the mesoscopic densities (46). The macroscopic fluctuation theory that covers both the ballistic and diffusive orders, instead, is a measure on space-time configurations (q(x , t), j(x , t)) : (x , t) \u2208 R \u00d7 [0, T] of both the mesoscopic charge densities and currents. The measure accounts for fluctuations of the currents that, although suppressed in the limit \u2113 \u2192\u221e, give small contributions for \u2113 large that describe the next-to-leading order corrections to the Euler-scale correlation functions. It is natural to introduce independent fluctuations of fluid-cell means of observables at that order. Indeed, the argument above concerning the separation of scales, with fluctuations of order \u2206in-cello\u221d 1/L and \u2206inter-cello \u223c 1/ p L, indicates that at the next order, in-cell fluctuations, which affect non-conserved observables, and not just inter-cell fluctuations, by which non-conserved observables follow conserved ones, must be taken into account. As discussed above, corrections to large-scale correlations induced by such additional fluctuations may be diffusive, superdiffusive, etc. Here, we will not develop the full phenomenology, but only express the measure, emphasising how it extends BMFT to including microscopic noise, and how it specialises in the case without ballistic currents to the standard equations of the MFT under the right scaling.\nThe measure encoding ballistic and diffusive behaviours is obtained by adding Gaussian noise contributions to the currents. As explained, this represents the small, rapid fluctuations of quickly relaxing modes that are not protected by conservation laws, occurring within microcanonical shells, on top of the large fluctuations due to fluctuating mesoscopic charges. That is,\ndP[(q, j)(\u00b7, \u00b7)] = d\u00b5[q(\u00b7, \u00b7)]dP[ j|q] e\u2212\u2113F[q(\u00b7,0)]\u03b4[\u2202tq+ \u2202x j] , (62)\nwhere dP[ j|q] = dPnoise[\u2113 j\u00b7 \u2212 \u2113j\u00b7[q] + D j \u00b7 [q]\u2202xq j|q] is obtained from adding noise to the\ndiffusive-order constitutive relation for the currents,\nji = ji[q] + \u2113 \u22121 \u2212D ji [q]\u2202xq j +\u03b7i . (63)\nThe measure dPnoise[\u03b7|q] on the zero-mean Gaussian noise \u03b7i is fully determined by the correlation matrix\n\u03b7i(x , t)\u03b7 j(x \u2032, t \u2032) noise = Li j[q]\u03b4(x \u2212 x \u2032)\u03b4(t \u2212 t \u2032) . (64)\nThe factors of \u2113 in (63) are obtained from the same scaling as above,\nqi(\u2113x ,\u2113t)\u2261 qi(x , t) , j i(\u2113x ,\u2113t)\u2261 ji(x , t) . (65)\nThe fluid-cell means qi , j i on the mesoscopic scale L must be defined carefully, so as not to \u201cwash out\u201d diffusive effects, hence we propose\n\u2113micro\u226a L\u226a \u2113diff\u226a \u2113 , \u2113diff := p \u2113 . (66)\nNote that now ji(x , t) fluctuates independently, through its associated noise (of course, the full measure is still supported on space-time configurations that satisfy the continuity equation \u2202tqi + \u2202x ji = 0). Above, Li j is the \u201cmicroscopic Onsager matrix\u201d, a positive definite matrix representing local Gaussian fluctuations of the microscopic currents. The diffusion matrix D ji is related to the Onsager matrix via the Einstein relation D= LC\u22121.\nWhen corrections to the Euler scale of correlation functions are indeed diffusive, and not superdiffusive, the microscopic Onsager matrix can be evaluated from correlation functions in stationary states via the Green-Kubo formula Li j = \u222b\u221e 0 dt \u222b R dx\u2329 \u0237\u0302 \u2212 i (x , t) \u0237\u0302 \u2212 j (0,0)\u232a c \u03b2 (at qi = qi[\u03b2]), where \u0237\u0302\u2212i = \u0237\u0302i \u2212A j\ni q\u0302 j is the current minus its projection onto the conserved densities. The microscopic Onsager matrix is no longer simply given by the Green-Kubo formula when the correction to ballistic transport is superdiffusive. This is in fact the most typical case in the Hamiltonian dynamics of non-integrable translation invariant systems; see [86] for a recent proposal on the microscopic Onsager matrix that should be used in such situations in the fluctuating hydrodynamics. In integrable systems, typically corrections to ballistic transport are indeed diffusive [64,87].\nNaturally, one may ask why not introduce noise to other observables o(x , t) than the currents themselves, with noise correlations of the form (64) and Onsager-like coefficients involving these other observables, L \u0237\u0302i ,o\u0302 and Lo\u0302,o\u0302\u2032 . Generic observables are not directly involved in the measure (62), however if noise correlations exist between generic observables and currents, these will affect the currents and must be included. Such effects appear not to have been discussed in the literature, neither in the context of fluctuating hydrodynamics nor of the MFT. A possible resolution is that, according to the Hilbert space theory for diffusive and thermalising processes developed in [88,89], it is possible to separate generic observables into a linear combination of currents \u0237\u0302i and a part o\u0302 that is orthogonal to currents within the \u201csecond order hydrodynamic space\u201d (meaning L \u0237\u0302i ,o\u0302 = 0). This would mean that their noises do not correlate to those of currents, and hence it is safe to only consider fluctuating currents in the measure (62). A complete understanding is certainly missing.\nAs mentioned, the proposal (62) with (63) is to describe not only the ballistic scale of correlation functions, but also their leading correction. If these are diffusive, a simple example is the correlator lim\u2113\u2192\u221e \u2113 \u2212 12 \u00ac\u00ac qi(x + \u2113\u2212 1 2\u03b4x , t)q j(0, 0) \u00b6\u00b6c\n\u2113 around a ballistic ray of velocity\nv = x/t in a stationary, homogeneous initial state. The result is a function of v and \u03b4x that describes the diffusive profile of the correlator around this ray; of course, it is nontrivial if and only if v is one of the hydrodynamic velocities of the model in that state, v \u2208 spec(A). More generally, the theory (62) with (63) leads to the basic noisy-current stochastic equations\nfor two-point correlation functions (thus, by the NLFHD analysis [15], under the appropriate conditions these equations explain superdiffusion). We expect the theory to also predict the leading corrections to long-time saturation of the transport cumulants cn in (15) (see also the discussion in Sec. 5).\nIt is clear from Eq. (62) with (63) that the leading order at large \u2113 reduces to the BMFT. Effectively, the BMFT is the zero-noise, zero-diffusion limit (of course, physical diffusion does not need to vanish for the BMFT to hold, its effects are simply at a smaller scale than that observed by the BMFT). But also, under appropriate rescaling and with vanishing ballistic currents, one recovers from Eqs. (62) and (63) the standard diffusive MFT [7].\nTo see this, recall that in diffusive MFT, one concentrates on the diffusive scale \u2113diff = p \u2113.\nLet us thus define new scaled variables as\nqi(\u2113diff x ,\u2113 2 diff t)\u2261 q\u030ci(x , t) , \u2113diff j i(\u2113diff x ,\u2113 2 diff t)\u2261 \u0237\u030ci(x , t) , (67)\nwhere the extra factor on the current guarantees that the continuity equation stays unchanged. Further, in purely diffusive systems, the hydrodynamic velocities vanish. Let us thus take ji = 0.6 In fact, with external fields E i , constant currents develop at the diffusive scale, determined by Onsager\u2019s coefficients. Accounting for these, one may instead make the replacement in Eq. (63)\nji[q]\u2192 \u2113\u22121diffLi j[q\u030c]E j . (68)\nIn order to get the theory in the diffusive scaling, we start from the fundamental equation for the ballistically scaled quantities (63) (with this replacement), we rewrite them in terms of the fundamental microscopic quantities as per (65), and we further rewrite these in terms of diffusively scaled quatities as per (67). Using the scaling property \u03b7i(x/\u2113diff, t) = p\n\u2113diff\u03b7(x , t), the diffusively scaled fluctuating currents then take the form\n\u0237\u030ci = Li j[q\u030c]E j \u2212D ji [q\u030c]\u2202x q\u030c j + \u2113 \u2212 12 diff\u03b7i . (69)\nWriting explicitly the Gaussian measure for the noise, one then obtains\ndP[(q\u030c, \u0237\u030c)(\u00b7, \u00b7)] = d\u00b5[q\u030c(\u00b7, \u00b7)]d\u00b5[ \u0237\u030c(\u00b7, \u00b7)] e\u2212\u2113diff(F[q\u030c(\u00b7,0)]+I[q\u030c, \u0237\u030c])\u03b4[\u2202t q\u030c+ \u2202x \u0237\u030c] , (70)\nwhere the functional I[q\u030c, \u0237\u030c] is given by\nI[q\u030c, \u0237\u030c] = \u222b T\n0\ndt\n\u222b\nR dx Li j[q\u030c] \u0237\u030ci \u2212 \u0237\u030cdiff,i[q\u030c,\u2202x q\u030c] \u0237\u030cj \u2212 \u0237\u030cdiff, j[q\u030c,\u2202x q\u030c] , (71)\nwith \u0237\u030cdiff,i = Li j[q\u030c]E j \u2212D ji [q\u030c]\u2202x q\u030c j . (72)\nThis is exactly the diffusive MFT probability distribution on space-time configurations (q\u030c(x , t), j\u030c(x , t)) : (x , t) \u2208 R \u00d7 [0, T] of Ref. [7], written here in its most general, multicomponent form."
        },
        {
            "heading": "4 BMFT for current fluctuations and Euler-scale correlations",
            "text": "With a firm foundation for the BMFT, we move on to its actual implementation to generic quantum or classical many-body systems. In Subsec. 4.1, we focus on the SCGF F(\u03bb, T ) defined in Eq. (14). In Subsec. 4.2, we discuss how the ballistic MFT allows to recover the result\n6It is also possible, by a simple ballistic shift, to concentrate on diffusive effects around other velocities than 0.\nof the aforementioned BFT theory for homogeneous and stationary states. In Subsec. 4.3, the derivation of the Gallavotti-Cohen fluctuation theorem (19) within the BMFT formalism is detailed. In Subsec. 4.4, we discuss Euler-scale correlation functions Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2), defined in Eqs. (21)-(23). In Subsec. 4.5, we show how the BMFT formalism naturally embodies the (non)linear hydrodynamic projection result (see Eq. (26)). In Subsec. 4.6, we show how the BMFT predicts long-range correlations."
        },
        {
            "heading": "4.1 BMFT of current fluctuations",
            "text": "The BMFT offers us an efficient way of evaluating the SCGF F(\u03bb, T ), as e\u03bb\u2113J(T ) \u2113 \u224d e\u2113T F(\u03bb,T ). According to the discussion in Subsec. 3.1, cf. Eqs. (51)-(54), we have\ne\u03bb\u2113J(T ) \u2113 \u224d e\u2212\u2113Fcurr[q \u2217] , (73)\nwhere q\u2217 minimise\nScurr[q, H] := Fcurr[q] + \u222b\nS dxdt H i(\u2202tqi + \u2202xji[q]) , (74)\nand Fcurr[q(\u00b7, \u00b7)] = F[q(\u00b7, 0)] \u2212 \u03bbJ(T ). The saddle-point equations (57) yield the following BMFT equations (dropping the star symbol \u2217 for lightness of notation)\nH i(x , 0) = \u03b2 iini(x)\u2212 \u03b2 i(x , 0) , (75a) H i(x , T ) = 0 , (75b)\n\u2202t\u03b2 i +A ij [\u03b2]\u2202x\u03b2 j = 0 , (75c)\n\u2202t H i +A ij [\u03b2]\u2202x H j = \u2212\u03bb\u03b4(x)A ii\u2217[\u03b2] , (75d)\nwhere we used AC = CAT [28] and in (75c) and (75d) we have removed the explicit x , t dependence of \u03b2 i(x , t) and H i(x , t). Note that for convenience the BMFT equations are written in terms of \u03b2 i , which are related to the densities via the usual mapping to GGE averages, qi(x , t) = qi[\u03b2(x , t)]. As remarked after Eq. (57), we also drop the dependence of H and \u03b2 i on \u03bb to lighten the notation. One can recast these equations into a more useful form by redefining the auxiliary field H i by H i(x , t) 7\u2192 H i(x , t) \u2212 \u03bb\u03b4ii\u2217\u0398(x) with the step function \u0398(x), yielding\n\u03bb\u03b4 ii\u2217 \u0398(x)\u2212 \u03b2 i(x , 0) + \u03b2 iini(x)\u2212H i(x , 0) = 0 , (76a)\n\u03bb\u03b4 ii\u2217 \u0398(x)\u2212H i(x , T ) = 0 , (76b)\n\u2202t\u03b2 i(x , t) +A ij [\u03b2(x , t)]\u2202x\u03b2 j(x , t) = 0 , (76c)\n\u2202t H i(x , t) +A ij [\u03b2(x , t)]\u2202x H j(x , t) = 0 , (76d)\nwhich are the main equations we shall deal with. The boundary conditions associated to Eq. (76) are \u03b2 i(x \u2192 \u00b1\u221e, t) = \u03b2 iini(x \u2192 \u00b1\u221e), H\ni(x \u2192 +\u221e, t) = \u03bb\u03b4 ii\u2217 and H i(x \u2192 \u2212\u221e, t) = 0 for any value of t. The re-writing in Eq. (76) is equivalent to expressing the time-integrated current in the BMFT action in terms of the density J(T ) = \u222b\u221e\n0 dx (qi\u2217(x , T )\u2212 qi\u2217(x , 0)) (see also after Eq. (14)) from the beginning. The SCGF may be written in various ways. Clearly using (43) and (55),\nT F(\u03bb, T ) = F[q(\u00b7, 0)] \u2212 \u03bb \u222b T\n0 dt ji\u2217[q(0, t)] evaluated on the solution to (76a)-(76d). But also, note that (in a self-explanatory notation)\nd d\u03bb\nT F(\u03bb, T ) = \u2212 dFcurr[q]\nd\u03bb = \u2212\ndScurr[q, H]\nd\u03bb = J(T ) , (77)\nas Scurr is stationary under changes of H and q on the saddle point. Therefore, integrating over \u03bb,\nF(\u03bb, T ) = 1 T\n\u222b \u03bb\n0\nd\u03bb\u2032 \u222b T\n0\ndt ji\u2217[q (\u03bb\u2032)(0, t)] , (78)\nwhere q(\u03bb \u2032) i (0, t) = qi[\u03b2 (\u03bb\u2032)(0, t)] is the solution to (76a)-(76d) at x = 0, for \u03bb replaced by \u03bb\u2032 (with the notation introduced after Eq. (57)). Expression (78) has a similar form to what was obtained in the BFT [20, 21, 23] (see also the discussion in Appendix D about the inhomogeneous BFT).\nWe note that \u03b2(x , t) (or equivalently q(x , t)) time-evolve independently from H(x , t), and the only effect of having nontrivial H(x , t) enters into the boundary conditions. This is in stark contrast with the diffusive cases (see, e.g., [10]).\nAs is usual in solving Euler equations, weak solutions [90] may appear from the BMFT equations, for both \u03b2(x , t) and H(x , t); therefore, ambiguities may arise. Much like for Euler hydrodynamic equations, one may need to re-introduce diffusive effects in order to obtain the equivalent of Lax conditions for the BMFT equations, and thus determine the correct solution for \u03b2(x , t) and H(x , t). Such considerations will be relevant in the application of the BMFT, for instance, to the anharmonic chain, whose hydrodynamics is composed of three conservation laws [15], and to the TASEP, whose hydrodynamics is the inviscid Burgers equation. Of importance may be the fact that, in the Jensen-Varadhan theory [37,38], the contributions to the rate function stem only from hydrodynamic configurations that give positive Kruzhkov entropy productions (that is, negative physical entropy production, contrary to what is required for usual hydrodynamic solutions). We leave this for future studies."
        },
        {
            "heading": "4.2 Relation with the ballistic fluctuation theory",
            "text": "The BFT [20, 21], briefly recalled in the introduction, gives the time-independent SCGF F(\u03bb, T ) = F(\u03bb) in the case where the initial state \u03b2ini(x) = \u03b2ini is homogeneous and stationary. In this theory, the SCGF is written in a form similar to (78), F(\u03bb) = \u222b \u03bb\n0 d\u03bb \u2032 ji\u2217[q(\u03bb \u2032)], but now qi(\u03bb) = qi[\u03b2(\u03bb)] describes a stationary, homogeneous state satisfying the BFT flow equation\n\u2202\u03bb\u03b2 i(\u03bb) = \u2212sgn(A[\u03b2(\u03bb)]) ii\u2217 , \u03b2 i(0) = \u03b2 iini . (79)\nWe note that Eq. (79) is proved solely on the basis of hydrodynamic projection techniques and therefore applies generally, both to integrable and non-integrable systems.\nAs a verification of the ballistic MFT developed here, we argue that it reproduces the above BFT result. In order to do so, we would only need to establish that \u03b2 (\u03bb)(0, t) = \u03b2(\u03bb) for all t \u2208 (0, T ). As \u03b2 (0)(x , t) = \u03b2ini, we would only need to show that \u03b2 (\u03bb)(0, t) is independent of t and satisfies the BFT flow equation (79). This would require a precise analysis of the solution to the BMFT equations, and is related to the assumption, made in [20], that connected time correlation functions of all orders vanish sufficiently fast at large times. We keep this precise analysis for future works, and instead provide a consistent argument.\nUnder the assumption that \u03b2 (\u03bb)(0, t) is independent of t \u2208 (0, T ), it is clear from (76c) that at x = 0, the state is homogeneous, including at the leading order beyond the Euler scale, as \u2202x\u03b2\n(\u03bb)(x , t)|x=0 = 0. Let us concentrate on a region t \u2208 [s\u2212 r, s+ r], x \u2208 [\u2212y, y] where r > 0 and y > 0 are finite but small (in macroscopic units). Let us further assume that, for a given \u03bb, the homogeneous, stationary state there (as we argued it must be), is in fact also clustering, thus it is a GGE. As a consequence, we may apply the BMFT on this region, where as initial state in (43) we take \u03b2ini = \u03b2\n(\u03bb)(0, s). Now let us perturb \u03bb\u2192 \u03bb+\u03b4\u03bb, and consider the BMFT for the insertion of \u03b4\u03bbJ(T ). The leading-order BMFT equations are as in (76a)-(76d), but\nin terms of the leading-order quantities in \u03b4\u03b2 i(x , t) = \u03b2 i(x , t)\u2212 \u03b2 i(0, s) (which are assumed small as \u03b4\u03bb is taken small), for x \u2208 [\u2212y, y] and t \u2208 [s\u2212 r, s+ r],\n\u03b4\u03bb\u03b4 ii\u2217 \u0398(x)\u2212\u03b4\u03b2 i(x , s\u2212 r)\u2212\u03b4H i(x , s\u2212 r) = 0 , (80a)\n\u03b4\u03bb\u03b4 ii\u2217 \u0398(x)\u2212\u03b4H i(x , s+ r) = 0 , (80b)\n\u2202t\u03b4\u03b2 i(x , t) +A ij \u2202x\u03b4\u03b2 j(x , t) = 0 , (80c)\n\u2202t\u03b4H i(x , t) +A ij \u2202x\u03b4H j(x , t) = 0 , (80d)\nwhere A= A[\u03b2 (\u03bb)(0, s)]. This is a linear system, whose solution is simple:\n\u03b4H i(x , t) = \u03b4\u03bb\u0398(x \u2212 (t \u2212 s\u2212 r)A) ii\u2217 , (81)\nand then, using \u03b4H i(x , s\u2212 r) = \u03b4\u03bb\u0398(x + 2rA) ii\u2217\n\u03b4\u03b2 i(x , t) = \u03b4\u03bb \u0398(x \u2212 (t \u2212 s+ r)A) ii\u2217 \u2212\u0398(x \u2212 (t \u2212 s\u2212 r)A) i i\u2217 . (82)\nThus \u03b4\u03b2 i(0, s) = \u2212\u03b4\u03bb sgn(A) ii\u2217 , which indeed reproduces (79). In view of the long-range correlations that appear, as mentioned, generically in inhomogeneous states, the assumption that the state at (0, s) is indeed clustering is the most nontrivial. However, explicit results for the cumulants in Sec. 5 show that the BMFT indeed agrees with the BFT in integrable systems.\nThe BFT was also extended to inhomogeneous states (12) for integrable systems in [23]. We discuss this in light of the present understanding in Appendix D."
        },
        {
            "heading": "4.3 Fluctuation theorem",
            "text": "We now show that the BMFT equations (75a)-(75d) provide an intuitively clear understanding as to how the Gallavotti-Cohen fluctuation theorem (GCFT) is realised in many-body systems [4, 5]. To unveil the full symmetry stemming from a time-reversal symmetry of Euler hydrodynamics, we consider in this Subsection the generalised SCGF (18). Accordingly the equation for H i of the BMFT equations (75d) is altered to\n\u2202t H i +A ij [\u03b2]\u2202x H\nj = \u2212\u03b4(x) \u2211\nj\u2208C \u03bb jA ij [\u03b2] . (83)\nIn the following, we assume that the solution to (75a)-(75d) are continuous solutions, and not weak solutions under certain entropy or Lax condition (see the discussion in Subsec 4.1). We will then discuss briefly what steps may fail for weak BMFT solutions. We recall that for integrable systems, the BMFT solutions are continuous and well behaved, hence the proof below applies.\nRecall that the GCFT manifests itself as a particular symmetry of the SCGF (14), in the partitioning protocol, where by scale invariance, we can set T = 1 and F(\u03bb, T ) = F(\u03bb). The symmetry relation is Eq. (19). This is normally seen to originate from a relation between the probability associated to time-forward and time-reversed trajectories. Our argument from the BMFT shows that in fact the theorem holds from a weaker version of time-reversal invariance, and for any many-body systems which admits an Euler hydrodynamic description, independently from the details of the microscopic dynamics (be it classical or quantum, stochastic or deterministic). The time-invariance requirement is the existence of a \u201ctime-reversal\u201d involution T of the algebra of observables, T (o1o2) = T (o1)T (o2), T \u25e6 T = 1, with the only\nrequirements that the a priori measure \u00b5 be invariant \u00b5\u25e6T = \u00b5, that it acts on charge densities and currents as follows:\nT (q\u0302i(x , t)) := Si q\u0302i(x , 1\u2212 t) , (84a) T ( \u0237\u0302i(x , t)) := \u2212Si \u0237\u0302i(x , 1\u2212 t) , (84b)\nfor Si \u2208 {+1,\u22121}, and that the charges Q\u0302 i whose (time-integrated) currents are put in the generalised SCGF (18) be invariant, Si = 1 for all i \u2208 C. The sign Si is the parity of the charge Q\u0302 i , taking values 1 (resp. \u22121) if it is time-reversal even (resp. odd). Note that the relation for the current (84b) (where the extra minus sign appears) is not an additional constraint: it is a consequence of the relation for the densities along with the continuity equation.\nThe argument is as follows. In the partitioning protocol, the initial state (17) is\n\u03b2 iini(x) =\n\u00a8\n\u0398(x)\u03b2 iR +\u0398(\u2212x)\u03b2 i L , i \u2208 C , \u03b2 i0 , otherwise . (85)\nFirst, we make two variable changes. In (83) we write\n\u03bbi = \u03b2 iL \u2212 \u03b2 i R \u2212 \u03bb\u0303 i , (86)\nfor all i \u2208 C. We then note that the extra delta-function terms that this brings can be cancelled by a shift of the functions H i(x) by \u03b2 iini(x). In order to also exchange the initial and final conditions (75a), (75b), we further shift by \u2212\u03b2 i(x , t) and change the sign,\nH i(x , t)\u2192 \u03b2 iini(x)\u2212 \u03b2 i(x , t)\u2212H i(x , t) . (87)\nCombining with (75c), the shift does not affect the left-hand side of (83), and hence the equations stay of the same form. Thus\nH i(x , 0) = 0 , (88a)\nH i(x , 1) = \u03b2 iini(x)\u2212 \u03b2 i(x , 1) , (88b)\n\u2202t\u03b2 i +A ij [\u03b2]\u2202x\u03b2 j = 0 , (88c)\n\u2202t H i +A ij [\u03b2]\u2202x H\nj = \u2212\u03b4(x) \u2211\nj\u2208C \u03bb\u0303 jA ij [\u03b2] . (88d)\nSecond, we use the dynamical input of time-reversal invariance, (84). This implies the following identities involving GGE averages\nqi = Siq\u0303i , ji = \u2212Sij\u0303i , (89)\nwhere o\u0303 := \u2329o\u0302\u232a\u03b2\u0303 with \u03b2\u0303i = Si\u03b2 i (no sum over repeated indices). These identities give rise in particular to a relation for the flux Jacobian,\nA ji [\u03b2] = \u2212SiS jA j i [\u03b2\u0303] . (90)\nRelation (90), as well as Si = 1 , ji = \u2212j\u0303i , (91)\nfor all i \u2208 C are in fact the only dynamical relations that are needed. With these relations, we can now make the final, time-reversal change of variable\n\u03b2 i(x , t) = Si\u03b2\u0303 i(x , 1\u2212 t) , H i(x , t) = Si H\u0303 i(x , 1\u2212 t) . (92)\nIt is a simple matter to see, using (90) and Si = 1 for any i \u2208 C, that (88c), (88d) are invariant under this change, and that the initial and final conditions (88a) and (88b) are again exchanged. Thus we recover the original equations (75a)-(75c) and (83), but in terms of \u03b2\u0303 i(x , t), H\u0303 i(x , t) and \u03bb\u0303i . Assuming that the solution is unique, and re-introducing the explicit \u03bb-dependence for clarity, we conclude that\n\u03b2\u0303 (\u03bb) (x , t) = \u03b2 (\u03bb\u0303)(x , t) , (93)\nor equivalently \u03b2\u0303 (\u03bb\u0303) (x , t) = \u03b2 (\u03bb)(x , t). Finally, in order to obtain the symmetry of the SCGF, we use the expression (78). We have for every i \u2208 C, using q(\u03bb) = q[\u03b2 (\u03bb)] and the relation ji = \u2212j\u0303i , that\n\u2202 F(\u03bb) \u2202 \u03bbi =\n\u222b 1\n0\ndt ji[q (\u03bb)(0, t)] =\n\u222b 1\n0\ndt ji[q\u0303 (\u03bb\u0303)(0, t)] = \u2212 \u222b 1\n0\ndt ji[q (\u03bb\u0303)(0, 1\u2212 t)]\n=\u2212 \u222b 1\n0\ndt ji[q (\u03bb\u0303)(0, t)] =\n\u2202 F(\u03b2 L \u2212 \u03b2 R \u2212\u03bb)\n\u2202 \u03bbi . (94)\nIntegrating in \u03bbi from the mid-point \u03bbi = (\u03b2 iL \u2212 \u03b2 i R)/2, we obtain Eq. (19).\nLet us finally comment on the potential pitfalls if weak solutions are involved. The first is the shift made in (87). This step works only because we use (75c) to keep the left-hand side of (75d) invariant. However, if \u03b2 i(x , t) and H i(x , t) admit weak solutions of different entropy type, for instance with positive, respectively negative, physical entropy production, then this does not work, and the derivation fails. Another is the time-reversal change of variable itself, Eq. (92), which, on weak solutions, would simply reverse the entropy production type. As mentioned, in integrable systems these pitfalls are avoided."
        },
        {
            "heading": "4.4 BMFT of dynamical correlation functions",
            "text": "While in previous studies the MFT has been mainly applied to study density and current fluctuations, it also provides us a powerful way of evaluating dynamical correlation functions in both homogeneous and inhomogeneous states. In diffusive systems, correlation functions in a NESS have been studied using the conventional MFT in [7, 77]. To our knowledge, however, we provide here the first instance where the MFT is applied to compute dynamical correlation functions on the Euler scale in arbitrary slowly modulating initial states.\nIn order to illustrate how it works, let us evaluate Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2), which is the Euler scaling limit (22) for the charge densities q\u0302i1 , q\u0302i2 . We repeat the arguments made in Subsec 4.1 for the SCGF. The BMFT gives the saddle-point result\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = \u2212 d2\nd\u03bb1d\u03bb2 Fcorr[q\u2217] \u03bb1=\u03bb2=0 , (95)\nwhere q\u2217 minimises the BMFT action Scorr[q, H] associated to the dynamical correlation function,\nScorr[q, H] := Fcorr[q] + \u222b\nS dxdt H i \u2202tqi + \u2202xji[q] , (96)\nwith Fcorr[q(\u00b7, \u00b7)] = F[q(\u00b7, 0)] \u2212 (\u03bb1qi1(x1, t1) + \u03bb2qi2(x2, t2)). Here the final time T in S = R \u00d7 [0, T] could take an arbitrary value so long as T > t1, t2; we will see that the result is indeed independent of T . Again, we drop the star symbol \u2217 for lightness of notation.\nBy the saddle-point equation, the total \u03bb2 derivative equals the partial derivative, and since \u2202\u03bb2Fcorr = \u2212qi2(x2, t2) = qi2[\u03b2(x2, t2)], we have\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = d d\u03bb qi2(x2, t2) \u03bb=0 , (97)\nwhere we redefined \u03bb := \u03bb1, with the associated BMFT equations\nH i(x , 0) = \u03b2 iini(x)\u2212 \u03b2 i(x , 0) , (98a) H i(x , T ) = 0 , (98b)\n\u2202t\u03b2 i +A ij [\u03b2]\u2202x\u03b2 j = 0 , (98c)\n\u2202t H i +A ij [\u03b2]\u2202x H j = \u2212\u03bb\u03b4 ii1\u03b4(x \u2212 x1)\u03b4(t \u2212 t1) . (98d)\nHere, the boundary conditions are \u03b2 i(x \u2192\u00b1\u221e, t) = \u03b2 iini(x \u2192\u00b1\u221e) and H i(x \u2192\u00b1\u221e, t) = 0\nfor any value of t. Similarly, higher-point functions are accessed by multiple derivatives. In fact, one may repeat the argument for arbitrary observables, using\nFcorr[q] = F[q(\u00b7, 0)]\u2212 n \u2211\na=1\n\u03bbaoa[q(xa, ta)] , (99)\nas per the theory of Subsec. 3.1 (see Eqs. (55)-(57)). This gives\nSo\u03021,...,o\u0302n(x1, t1; \u00b7 \u00b7 \u00b7 ; xn, tn) = dn\u22121on[q(xn, tn)]\nd\u03bb1 \u00b7 \u00b7 \u00b7d\u03bbn\u22121\n\u03bb1,...,\u03bbn\u22121=0 , (100)\nwith the BMFT equations\nH i(x , 0) = \u03b2 iini(x)\u2212 \u03b2 i(x , 0) , (101a) H i(x , T ) = 0 , (101b)\n\u2202t\u03b2 i +A ij [\u03b2]\u2202x\u03b2 j = 0 , (101c)\n\u2202t H i +A ij [\u03b2]\u2202x H\nj = \u2212 n\u22121 \u2211\na=1\n\u03bba \u2202 oa \u2202 qi \u03b4(x \u2212 xa)\u03b4(t \u2212 ta) . (101d)"
        },
        {
            "heading": "4.5 (Non)linear hydrodynamic projections and (non)linear response",
            "text": "We first note that two applications of Eq. (100) with n= 2 give\nSo\u03021,o\u03022(x1, t1; x2, t2) = \u2202 o2 \u2202 qi q(x2,t2) So\u03021,q\u0302i (x1, t1; x2, t2) , (102)\nwhere q(x2, t2) is the Euler hydrodynamic solution; by recursion this implies the hydrodynamic projection principle of Eq. (26). Further, as the BMFT equation (98c) implies the Euler equation (11) relating qi2(x2, t2) with ji2(x2, t2) in (97), we may apply the t2 derivative, use this Euler equation, take the x2 derivative out, and apply the \u03bb derivative on ji2(x2, t2) using (102) with o\u03021 = q\u0302i1 and o\u03022 = \u0237\u0302i2 . The result is the Euler equation (28) for Euler-scale two-point functions of conserved densities, which is expanded around the inhomogeneous background. Thus, these two pillars of the study of ballistic-scale correlation functions follow simply from the BMFT.\nBy multiple applications of the \u03bba-derivatives, the BMFT gives rise to a nonlinear hydrodynamic projection principle, for higher-point functions. For instance, for three-point functions, dropping the explicit space-time dependence,\nSo\u03021,o\u03022,o\u03023 = d\nd\u03bb1 \u2202 o3 \u2202 qi dqi d\u03bb2 = \u2202 o3 \u2202 qi So\u03021,o\u03022,q\u0302i + \u2202 2o3 \u2202 qi\u2202 q j So\u03021,q\u0302 j So\u03022,q\u0302i , (103)\nwhich by recursive applications give rise to (29),\nSo\u03021,o\u03022,o\u03023 = \u2202 o1 \u2202 qi \u2202 o2 \u2202 q j \u2202 o3 \u2202 qk Sq\u0302i ,q\u0302 j ,q\u0302k + \u2202 2o1 \u2202 qi\u2202 q j \u2202 o2 \u2202 qk \u2202 o3 \u2202 ql Sq\u0302i ,q\u0302k Sq\u0302 j ,q\u0302l + cyclic perm. of 1, 2,3 . (104)\nThus, for the evaluation of general n-point correlation functions in the Euler scaling limit, it stays true that it is sufficient to know the dynamical correlation functions of conserved densities, along with the stationary, homogeneous averages of the local fields involved. We note that formula (29) gives an immediate explanation for certain 3-point function projection formulae obtained earlier by linear response from the Euler equations [88, Eqs 187, 189]. Note that the BMFT techniques described here recast the problem of nonlinear hydrodynamic projections into simple applications of differential operators, and higher-point formulae are straightforward to work out.\nThe transport equation for higher-point functions can be deduced from the nonlinear hydrodynamic projection principle, as usual by using the conservation laws. For the three-point function, for instance, from Eq. (29) one has\n\u2202t1Sq\u0302i ,q\u0302 j ,q\u0302k + \u2202x1 A li Sq\u0302l ,q\u0302 j ,q\u0302k +H l r i Sq\u0302l ,q\u0302 j Sq\u0302r ,q\u0302k = 0 , (105)\nwhere H l ri = \u2202 2ji/\u2202 ql\u2202 qr . This is in agreement with the results of nonlinear response arguments from the Euler equations [22]. As a remark on the overall consistency of our theory, we note that the BMFT (non)linear hydrodynamic projection formulae are in fact entirely a consequence of the Euler scaling \u21131\u2212n, implied by Eq. (21), of n-point connected correlation functions at space-time points scaled with \u2113, along with the principle of local relaxation of fluctuations. Indeed, one expresses the observable o[q] as a series in powers of qi \u2019s, rewrites this in terms of connected correlation functions, and uses the Euler scaling. The terms that remain nonzero in the Euler scaling limit give the projection formula. For illustration, consider the scaled two-point function \u2113 \u2329o1 q2\u232a c \u2113 (where the scaled space-time positions are kept implicit), with an observable of the (purely theoretical) form o1[q] = q21. We evaluate, as \u2113\u2192\u221e\nSo\u03021,q\u03022 \u223c \u2113 \u2329o1 q2\u232a c \u2113\n\u223c \u2113 q21q2 \u2113 \u2212 \u2113 q21 \u2113 \u2329\u2329q2\u232a\u232a\u2113 = \u2113 \u2329\u2329q1q1q2\u232a\u232a c \u2113 + 2\u2113 \u2329\u2329q1\u232a\u232a\u2113 \u2329\u2329q1q2\u232a\u232a c \u2113 \u223c 2q1Sq\u03021,q\u03022 , (106)\nwhere in the last step we used the fact that, by Euler scaling, \u2329\u2329q1q1q2\u232a\u232a c \u2113 = O(\u2113 \u22122) and \u2329\u2329q1q2\u232a\u232a c \u2113 = O(\u2113\n\u22121) as \u2113\u2192\u221e, and thus only the second term remains finite. This gives (26) for this particular observable."
        },
        {
            "heading": "4.6 Long-range correlations",
            "text": "As discussed in Sec. 2, the BMFT generically predicts that the equal-time correlator Sq\u0302i1 ,q\u0302i2 (x1, t; x2, t) possesses long-range correlations, provided that three elements are present:\ninteractions, initial inohomogeneity, and multiple conservation laws. By the BMFT, it is possible to see this from rather general arguments.\nConsider again the BMFT equations (98). Let us denote formally the result of the linear evolution by the space-time dependent propagator A ij ,\n\u2202t\u03b3 i +A ij [\u03b2]\u2202x\u03b3 j = 0 , (107)\nfrom time t = t1 to time t = t2, by using the operator U\u03bb(t2, t1):\n\u03b3(t2) = U\u03bb(t2, t1)\u03b3(t1) , (108)\nwhere here and below, for lightness of notation, when not writing the spatial argument, the result is seen as a function of space. We make explicit the \u03bb-dependence of the operator; recall that the propagator A ij [\u03b2] depends in general on \u03b2\ni \u2019s (unless the hydrodynamic system is non-interacting), which are the \u03bb-dependent solution to Eqs. (98).\nClearly, \u03b2(t) = U\u03bb(t, t \u2032)\u03b2(t \u2032) , (109)\nUpon integrating both sides of the equation (98d) for H over [t1 \u2212 \u03f5, t1 + \u03f5] (\u03f5 > 0 infinitesimal), we have H i(x , t1 + \u03f5) \u2212 H i(x , t1 \u2212 \u03f5) = \u2212\u03bb\u03b4 ii1\u03b4(x \u2212 x1) . Since, by the boundary condition (98b), 0 = H(T ) = U\u03bb(T, t1 + \u03f5)H(t1 + \u03f5), invertibility of the evolution operator implies H i(x , t1 + \u03f5) = 0, which yields H i(x , t1 \u2212 \u03f5) = \u03bb\u03b4 ii1\u03b4(x \u2212 x1). Writing H(t1 \u2212 \u03f5) = U\u03bb(t1, 0)H(0) = U\u03bb(t1, 0)\u03b2ini \u2212 U\u03bb(t1, 0)\u03b2(0) from the other boundary condition (98a), and using (109), we then obtain\n\u03b2 i(x , t1) = U\u03bb(t1, 0)\u03b2ini i (x)\u2212\u03bb\u03b4 ii1\u03b4(x \u2212 x1) . (110)\nEq. (110) is a crucial result concerning the structure of BMFT. Note that if the evolution operator U\u03bb(t1, 0) was simply the Euler hydrodynamic (nonlinear) evolution, independent of \u03bb, then U\u03bb(t1, 0)\u03b2ini would give \u03b2 i(x , t1) evaluated at \u03bb= 0. In this case, (110) would simply state that the insertion of the observable at t = t1 can be implemented by evolving the fluid from the initial state up to time t1, and then by perturbing the fluid state and measuring its linear response. However, U\u03bb(t1, 0), representing time evolution for times t < t1, is not the fluid evolution, and depends on \u03bb itself, even though the inserted observable is at time t1. In (110), the \u03bb dependence comes both from the explicit \u03b4-function, and from the evolution operator itself. The former represents the linear response contribution, while the latter, we interpret as coming from nonlinear correlated wave production and scattering occurring in the times before t1; an interpretation that is made clearer in our studies of integrable systems.\nIn Appendix C, we review hydrodynamic response theory. In particular, we show on the basis of the result in Eq. (110) that hydrodynamic response theory for two-point function is correct only if the model is non-interacting, the earlier time in the correlator is zero t1 = 0, or the state is homogeneous. For higher-point function, it is correct only if the model is noninteracting, or all but one of the times are zero.\nFrom (110) one evaluates the correlation function (97) at t2 = t1 as follows\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t1) = d d\u03bb qi2[\u03b2(x2, t1)]\n\u03bb=0\n= Ci1 i2(x1, t1)\u03b4(x2 \u2212 x1)\u2212 \u2202\u03bb U\u03bb(t1, 0)\u03b2ini i (x2)\n\u03bb=0 Ci i2(x2, t1) .\n(111)\nThe first term in the resulting expression is the linear response (see Appendix C), which at equal times is simply the thermodynamic response of the fluid cell and thus supported at equal\npositions. The second term, on the other hand, clearly demonstrates the potential presence of long-range correlations \u2013 recall that the derivative with respect to \u03bb brings a dependence on x1, and in general the result is nonzero for x1 \u0338= x2. It does not appear to be possible in general to obtain a more explicit expression of the resulting correlations than (111), however we will see that in integrable systems, explicit integral equations are found, which give indeed nonzero results for x1 \u0338= x2.\nAs we mentioned, in certain situations no long-range correlations are expected even at t1 > 0 (for t1 = 0 no long range correlation appear as the initial state is by assumption not correlated; in this case U\u03bb(0,0) = 1). Two of the conditions can be seen immediately from the above result. Indeed, the second term in (111) vanishes either if the system is noninteracting (in which case U\u03bb(t1, 0) is \u03bb-independent) or the initial condition is homogeneous (in which case U\u03bb(t1, 0)\u03b2ini = \u03b2ini).\nFor the third condition, that no long range correlation appear if there is only one conservation law, a different general argument is required. For this purpose, consider the evolution equation (34) for equal-time Euler-scale correlations, which follows from hydrodynamic projections (shown in the previous subsection from BMFT). In the single component case, it reads\n\u2202tSq\u0302,q\u0302(x , t; x \u2032, t) + \u2202x[A(x , t)Sq\u0302,q\u0302(x , t; x \u2032, t)] + \u2202x \u2032[A(x \u2032, t)Sq\u0302,q\u0302(x , t; x \u2032, t)] = 0 . (112)\nIt is a simple matter to show that the form Sq\u0302,q\u0302(x , t; x \u2032, t) = C(x , t)\u03b4(x \u2212 x \u2032) is invariant under time evolution. As the initial condition satisfies it, with C(x , 0) = C(x), then indeed the solution preserved the delta-function structure, and no long-range correlation appear. In particular, one finds for C(x , t)\n\u2202tC(x , t) + \u2202x[A(x , t)C(x , t)] = 0 . (113)\nThe argument using the evolution equation makes it less evident how no long-range correlation may appear if the flux Jacobian is independent of the state, as must be true from the BMFT result (111). Here we simply note that, in this case, by diagonalising the resulting evolution equation, and using conditions on the covariance matrix of normal modes [15] one recovers the lack of long-range correlations.\nIt should be emphasised that various types of long-range correlations have been observed in both driven-diffusive NESS [91,92], boundary-driven NESS in ballistic quantum spin chains [93] and in ballistic NESS of integrable systems [60]. In diffusive systems, a NESS, which is usually induced by an external field and hence has nonzero gradients, presents 1/x spatial correlations due to Fourier-space discontinuities of diffusive transport coefficients. Indeed, a discontinuity in the Fourier space generically points to 1/x decay because of the representation \u0398(k) \u223c \u222b\nR dx e ikx/x of the step function. The existence of such long-range correlations\nwas also microscopically established for the SSEP, which was attributed to non-locality of the density large deviation function in the NESS [94]. In integrable systems, a ballistic NESS also develops at long times from unbalanced initial conditions, e.g., in the partitioning protocol; it itself homogeneous (it has no gradient) with constant fluxes, as permitted by ballistic transport. For instance, in the case of the free massive scalar field theory, it was shown that correlators show long-range correlations with varying exponents (1/x decay for certain correlations involving the \u201cfundamental fields\u201d, and 1/x2 for correlations involving conserved densities) [59]. In the same vein, it was also demonstrated that density-density correlations in the Lieb-Liniger model in a NESS have long range, 1/x2, due to discontinuities in the quasiparticle distributions [60]. Importantly, these long-range correlations are purely due to discontinuities in the NESS density matrix, in its representation in terms of asymptotic particles, and do not necessitate interactions. In the case of the ballistic boundary-driven XX quantum spin chain [93], long-range correlations in the NESS, similarly, do not need interactions and\nthey can only be detected in the atypical-biased dynamics describing quantum trajectories supporting large currents (being absent, instead, in the typical-unbiased dynamics).\nLong-range correlations in all these cases are in sharp contrast with what the BMFT captures: long-range correlations that take generic shape in space, but that decay as 1/\u2113 and are supported on regions that grow with \u2113 as time grows like \u2113 (and the initial inhomogeneity is of length scale \u2113). These are controlled entirely by the Euler-scale hydrodynamics, and do not necessitate singularities in the Fourier or asymptotic-particle space representation of any transport coefficient. They represent nontrivial correlations between separate fluid cells, because integrals of the resulting correlation functions over macroscopic regions that are at macroscopic separations have finite values. This is in contrast, in particular, to the 1/x2 contributions in ballistic NESS, that pertain to single fluid cells."
        },
        {
            "heading": "4.7 Fluctuations inside fluid cells",
            "text": "We now argue that the BMFT gives information not only about the Euler-scale correlations and fluctuations, which occur at macroscopic scales, but also about fluctuations within the fluid cells. More precisely, we argue that the fluid cells\u2019 thermodynamics can be accessed \u2013 that is, the susceptibilities and in general all the cumulants of total charges in the cell, scaled by the size of the cell. As the free energy generates such cumulants, this amounts to the specific free energy of the fluid cell, i.e., its total free energy divided by its size.\nMost importantly we also argue that, in general in interacting, non-integrable models, the specific free energy of the fluid cell at macroscopic coordinates x , t, is not that of the state described by the solution to the Euler equation \u03b2 i(x , t). But in integrable systems, the fluid cell free energy is indeed that of this GGE. The physics is similar to that behind long-range correlation, but instead of being that of interactions between different fluid mode, the nontrivial fluctuations within fluid cells is due to modes self-interaction. Here self-interaction refers to the nontrivial dependence of normal modes on their own propagation (effective) velocities. Thus, we conjecture that this effect is absent whenever the fluid is linearly degenerate (such as in integrable systems).\nThe question is about the large-deviation theory for the mesoscopically extensive conserved quantities Qi within any given fluid cell. At the macroscopic coordinates x , t, these may be taken as\nQi = Lqi(\u2113x ,\u2113t) . (114)\nIn order to illustrate the ideas, we concentrate on the second cumulants, but similar calculations can be done for higher cumulants. In analogy with usual thermodynamics, by extensivity of the charges the cumulants are expected to scale like L, which is trivial for the first cumulant,\nQi \u2113 \u223c Lqi(x , t). The pic-\nture is that within the fluid cell {(\u2113x + y,\u2113t) : y \u2208 [\u2212L/2, L/2]}, correlation functions\nq\u0302i(\u2113x + y,\u2113t)q\u0302 j(\u2113x ,\u2113t) c \u2113 decay quickly as |y| grows, up to values of order \u2113\u22121, where the long-range correlations start. Note that it has to be of this order so that it is smoothly connected to long-range correlations outside the fluid cell, which would amount to the contribution to\nQi1Qi2 c \u2113 with magnitude O(L2/\u2113). Thus, for instance for the second cumulants, one expects Qi1Qi2 c \u2113 \u223c L(Ci1,i2 +O(L/\u2113)) for some Ci1,i2 to be determined. Here O(L/\u2113) is a sub-leading term with respect to the first one because usually L is taken as L = \u2113\u03b1 for some 0 < \u03b1 < 1 by the mesoscopic scaling, hence L/\u2113= L1\u22121/\u03b1 < 1. We note that under the picture of fast decay within the fluid cell, one may also take\nQi :=\n\u222b \u03b5\u2113/2\n\u2212\u03b5\u2113/2 dy q (\u2113x + y,\u2113t) , (115)\nfor \u03b5 > 0 small, which is useful for the calculation below.\nIt turns out that the covariance matrix Qi1Qi2 c \u2113 is determined by the coefficient C i1,i2(x , t)\nof the delta-function contribution,\nSq\u0302i1 ,q\u0302i2 (x , t; x \u2032; t) = Ci1,i2(x , t)\u03b4(x \u2212 x \u2032) + regular . (116)\nIndeed,\nQi1Qi2 c \u2113 =\n\u222b \u03b5\u2113/2\n\u2212\u03b5\u2113/2 dy\nqi1(\u2113x + y, t) Lqi2(\u2113x , t) c \u2113\n= L\u2113\n\u222b \u03b5/2\n\u2212\u03b5/2 dy\nqi1(\u2113(x + y), t)qi2(\u2113x , t) c \u2113\n= L\n\u222b \u03b5/2\n\u2212\u03b5/2 dySq\u0302i1 ,q\u0302i2 (x + y, t; x , t)\n= LC i1,i2(x , t) (for \u03b5 small) . (117)\nThe question is therefore about the coefficient of this delta-function. In the BMFT result (111), the first term gives for coefficient the C-matrix of the GGE represented by \u03b2 i(x , t); this term gives the GGE covariances. But what about the second term? In integrable models, the BMFT predicts that the covariace matrix is correctly described by the GGE e\u2212 \u2211 i \u03b2 i(x ,t)Qi associated to the Lagrange multipliers \u03b2 i(x , t) at that point. In particular, the second term in (111) does not have delta-function contributions. Thus, extending this to all cumulants, although the Euler-hydrodynamics time evolution of (12) does not correctly describe Euler-scale correlations at macroscopic times, in integrable models, it still correctly describes all fluctuations of extensive quantities within fluid cells.\nBy contrast, a simple analysis for non-integrable models with a single fluid mode suggests that, in such cases, the fluctuations within fluid cells are not given by the Gibbs states e\u2212 \u2211 i \u03b2 i(x ,t)Qi . That is, although all averages of local observables agree with this state, mesoscopically extensive quantities fluctuate according to a different distribution. In this case, the covariance matrix satisfies (113), and thus it evolves nontrivially.\nOf course, local averages do not probe the full distribution: in the limit of large fluid cells, from the viewpoint of local averages, the distribution concentrates on the micro-canonical shell specified by the local conserved densities qi(x , t). The scaled cumulants of mesoscopic quantities Qi probe more subtle, rare fluctuations (in the sense of large deviation theory). For instance, it is well known that the macrocanonical and microcanonical ensembles are equivalent for local averages, but give different scaled cumulants of extensive observables (extensive observables are, in fact, non-fluctuating in the microcanonical ensemble). In the BMFT, there is no reason for the fluid cell to be distributed according to e\u2212 \u2211 i \u03b2 i(x ,t)Qi ; what we find is that inhomogeneous long-wavelength initial states generate in general, over time, different, non-canonical distributions within fluid cells.\nWe elucidate this aspect in Appendix E by considering the TASEP as a paradigmatic example."
        },
        {
            "heading": "5 BMFT for integrable systems",
            "text": "There are many good reasons to study the out-of-equilibrium physics of integrable systems, as it is well established that integrability qualitatively affects thermalisation and hydrodynamic behaviours (see, e.g., the special issues [65,95]). However, here the main purpose is to provide explicit examples of applications of the BMFT, and demonstrate that the machinery of GHD\nallows us to obtain the exact expressions of the two main objects we have been focusing on, the SCGF F(\u03bb, T ) and the Euler-scale dynamical correlation function Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2)."
        },
        {
            "heading": "5.1 The BMFT formulation using GHD",
            "text": "Integrable many-body systems possess a large number, that grows with the system\u2019s size, of extensive conserved charges [96]. Probably the most important consequence of this is that many-body scattering processes factorise into two-body processes and preserve all momenta. This in turn amounts to the existence of stable excitations called quasi-particles: a quasiparticle is identified with an asymptotic particle of the model (or an \u201casymptotic object\u201d, be it a particle, bound state, soliton, radiation mode, etc.), and by elastic and factorised scattering, its trajectory can be \u201ctraced\u201d within space-time throughout the full scattering process, from the in-state to the out-state. This is true at least at the level of precision required for Euler hydrodynamics. Below we will refer to quasi-particles simply as \u201cparticles\u201d, and we will parametrise their associated asymptotic momenta as p\u03b8 in terms of a \u201crapidity\u201d \u03b8 . In general, the rapidity \u03b8 may be a multiple index, encoding both the asymptotic momentum and the type of asymptotic object, if the model admits many types; for simplicity we will assume it is a single continuous index take values in R, as is the case for the Lieb-Liniger and hard-rod models, where one may use simply p\u03b8 = \u03b8 .\nThe density of particles per unit rapidity Q\u0302\u03b8 = \u222b\ndx \u03c1\u0302\u03b8 (x) (i.e., \u03c1\u0302\u03b8 (x)d\u03b8dx counts the number of particles with rapidity within [\u03b8 ,\u03b8 + d\u03b8 ) and position within [x , x + dx)) is an extensive conserved charge, and these together form a complete basis of extensive charges,7 see the review [25]. Thus \u03b8 parametrises the hydrodynamic modes. The standard formulation of GHD is as a hydrodynamic theory in terms of such modes. Thus it is a hydrodynamic equation for the average densities \u03c1\u03b8 (x) := q\u03b8 (x). The corresponding average currents take the form j\u03b8 = veff\u03b8 \u03c1\u03b8 (see the reviews [97,98]) where the effective velocity satisfies\np\u2032\u03b8 v eff \u03b8 = E \u2032 \u03b8 + 2\u03c0\n\u222b\nd\u03c6 T\u03c6 \u03b8 \u03c1\u03c6 veff\u03c6 \u2212 v eff \u03b8 , (118)\nhere E\u03b8 is the asymptotic energy of the particle \u03b8 , and primes are derivatives, e.g., p\u2032 \u03b8 = dp\u03b8/d\u03b8 . The effective velocity depends on the specifics of the interactions in the model via the differential scattering phase T\u03b8 \u03c6 , which is, in quantum systems, related to the twobody scattering phase S\u03b8\u03c6 as T \u03b8 \u03c6 = \u2212i d log S\u03b8\u03c6/(2\u03c0d\u03b8 ). Here for simplicity we assume that T\u03b8 \u03c6 = T\u03c6 \u03b8 is symmetric, which is the case for many integrable systems (seeing T as a matrix, the column index is the leftmost, superscript, and the row index is the rightmost, subsript index). The GHD equation is then\n\u2202t\u03c1\u03b8 + \u2202x(v eff \u03b8 \u03c1\u03b8 ) = 0 . (119)\nSee the lecture notes [3] for details. We will use Greek indices for labelling rapidities, and Roman indices, as done in previous sections, for labelling a generic basis of conserved charges. Lagrange multipliers associated to the charges Q\u0302\u03b8 will be denoted \u03b2\n\u03b8 . These are related to the Lagrange multipliers \u03b2 i , for a generic basis of conserved charges, as\n\u03b2\u03b8 = \u03b2 ih\u03b8i , (120)\nwhere h\u03b8i is the one-particle eigenvalue of Q\u0302 i in quantum systems, or the quantity of that charge carried by the asymptotic object \u03b8 in classical systems. Charge densities and current averages are given by qi = \u222b R d\u03b8 h \u03b8 i \u03c1\u03b8 and ji = \u222b R d\u03b8 h \u03b8 i j\u03b8 .\n7More precisely, Q\u0302\u03b8 is not quite extensive, but together for \u03b8 \u2208 R they form a \u201cscattering basis\u201d for the space of extensive conserved charges, out of which any charge can be written as a \u03b8 integral.\nIn applying the BMFT to GHD, it is convenient to re-write the path-integral (49) in terms of \u03c1\u03b8 . We now explain how this work; this will also allow us to introduce some of the main objects of the thermodynamics of integrable many body systems.\nThe BMFT expectation values are given by\n\u2329\u2022\u232a= \u222b\n(S\u00d7R) d\u00b5[\u03c1(\u00b7, \u00b7)]e\u2212\u2113F[\u03c1(\u00b7,0)]\u03b4(\u2202t\u03c1 + \u2202xj[\u03c1])\u2022 , (121)\nwhere the path-integral is performed over all the possible configurations of (x , t,\u03b8 ) 7\u2192 \u03c1\u03b8 (x , t), with (x , t,\u03b8 ) \u2208 S \u00d7 R = R \u00d7 [0, T] \u00d7 R. Again, the delta function is best understood via its integral representation\n\u03b4(\u2202t\u03c1 + \u2202xj[\u03c1]) =\n\u222b\n(S\u00d7R) d\u00b5[H(\u00b7, \u00b7)]exp\n\u2212 \u222b\nS\u00d7R dtdxd\u03b8 H\u03b8 (\u2202t\u03c1\u03b8 + \u2202x(v eff \u03b8 \u03c1\u03b8 )) . (122)\nThe probability distribution for the initial fluctuation in Eq. (43) reads\nF[\u03c1(\u00b7, 0)]= \u222b\nR dx\n\u222b\nR d\u03b8 \u03b2\u03b8ini(x)\u03c1\u03b8 (x , 0)\u2212 f [\u03b2ini(x)]\u2212s[\u03c1(x , 0)] , (123)\nwhere the free energy density f [\u03b2] and the (Yang-Yang) entropy density s[\u03c1] [99, 100] are given by f [\u03b2] = \u222b\nR d\u03b8 p \u2032 \u03b8 F\u03b8/(2\u03c0) and s[\u03c1] =\n\u222b\nR d\u03b8 \u03c1 tot \u03b8 (n\u03b8\u03b5\u03b8 \u2212 F\u03b8 ), respectively, with\nF\u03b8 = F(\u03b5\u03b8 ) the free energy function [3]. The latter encodes the statistics of the quasiparticles; e.g., for fermions it is given by F(\u03b5) = \u2212 log 1+ e\u2212\u03b5\n. The quantities n\u03b8 and \u03b5 \u03b8\nare the occupation function and pseudo-energy, respectively, and are related to each other by n\u03b8 = dF(\u03b5)/d\u03b5|\u03b5=\u03b5\u03b8 . The pseudo-energy is in turn related to the Lagrange multipliers by the non-linear integral equation\n\u03b5\u03b8 = \u03b2\u03b8 +\n\u222b\nR d\u03c6 T\u03b8\u03c6 F \u03c6 . (124)\nThe total density of states \u03c1tot \u03b8 is\n\u03c1tot\u03b8 = p\u2032 \u03b8\n2\u03c0 +\n\u222b\nR d\u03c6 T\u03c6 \u03b8 \u03c1\u03c6 , (125)\nand one can check that the above definitions imply the relation\nn\u03b8 = \u03c1\u03b8 \u03c1tot \u03b8 . (126)\nFinally, let us comment on how the Lieb-Liniger model and the hard rods are characterised by the quantities we introduced above. First, the differential scattering phase T\u03b8\n\u03c6 is given,\nrespectively, as follows:\n(TLL) \u03b8 \u03c6 = 2c (\u03b8 \u2212\u03c6)2 + c2 , (THR) \u03b8 \u03c6 = \u2212a , (127)\nwhere c is the coupling constant of the Lieb-Liniger model (5). Second, another quantity that distinguishes them is the statistics factor F(\u03b5), which reads FLL(\u03b5) = \u2212 log 1+ e\u2212\u03b5\nand FHR(\u03b5) = \u2212e\u2212\u03b5. Note that, since both of them are Galilean invariant, the dispersion relation is given in the same way: E\u03b8 = \u03b82/2 and p\u03b8 = \u03b8 ."
        },
        {
            "heading": "5.2 Main predictions",
            "text": "Before jumping into the formulation of the BMFT for integrable systems, we collect in Subsecs. 5.2.1 and 5.2.2 the main results obtained from the BMFT for the cumulants and the correlation functions, respectively, so that readers who are interested in only results can simply consult. The details of the calculations for current fluctuations and cumulants are reported in Subsecs. 5.3 and 5.4 and in Appendix G, while correlation functions are discussed in Subsec. 5.5 and in Appendix H."
        },
        {
            "heading": "5.2.1 Cumulants",
            "text": "The evaluation of the SCGF F(\u03bb, T ) is equivalent to computing all the cumulants cn(T ) = dnF(\u03bb, T )/d\u03bbn|\u03bb=0, see the definitions in Eqs. (14) and (15). The BMFT allows us to compute an arbitrary cn(T ) by knowing how thermodynamic quantities change as \u03bb varies. The equation that turns out to be instrumental in computing cn(T ) is the one for \u2202\u03bb\u03b5\u03b8 , which we call the flow equation (see Eq. (147)), for the pseudo-energy \u03b5\u03b8 .\nUsing the flow equation, we can compute the first few cumulants for homogeneous initial conditions. The final formulas for the second and the third cumulants are given by\nchom2 =\n\u222b\nR d\u03b8 \u03c7\u03b8 |veff\u03b8 | hdr;\u03b8i\u2217\n2 , (128)\nchom3 =\n\u222b\nR d\u03b8 \u03c7\u03b8 |veff\u03b8 |h dr;\u03b8 i\u2217 s\u03b8 f\u0303\u03b8 hdr;\u03b8i\u2217\n2 +3 h s f\nhdri\u2217\n2idr;\u03b8\n. (129)\nLet us explain the quantities that appear in Eqs. (128) and (129). First, the dressing operation is defined for any function of \u03b8 as adr;\u03b8 = \u222b\nR d\u03c6 (R \u2212T)\u03b8 \u03c6 a\u03c6 , where the transformation\nmatrix R is defined by R = 1 \u2212 nT ; the superscript T means the transpose, and the superscript \u2212T is the transpose of the inverse. Note that the matrix R diagonalises the flux Jacobian A \u03c6 \u03b8 = \u2202 (veff \u03b8 \u03c1\u03b8 )/\u2202 \u03c1\u03c6 , i.e., RAR\u22121 = diag veff. The quasi-particle susceptibility \u03c7\u03b8 := \u03c1\u03b8 f\u03b8 is a statistics-dependent quantity where f\u03b8 = f (\u03b5\u03b8 ) = \u2212(d2F(\u03b5)/d\u03b52)/(dF(\u03b5)/d\u03b5)\n\u03b5=\u03b5\u03b8 (for example, f\u03b8 = 1\u2212n\u03b8 for fermionic statistics). Further, we define f\u0303\u03b8 := \u2212(d log f (\u03b5)/d\u03b5|\u03b5=\u03b5\u03b8 +2 f\u03b8 ), and s\u03b8 is the sign of the effective velocity s\u03b8 := sgn veff\u03b8 .\nExpressions (128) and (129) precisely coincide with the cumulants obtained previously using the BFT in Ref. [21]. Since the homogeneous BFT is built solely upon the tenet of Euler hydrodynamics (with the assumption of strong clustering in both space and time), the agreement gives an important consistency check for the BMFT.\nThe real advantage of the BMFT, however, is that it also allows us to calculate the SCGF F(\u03bb, T ) and the cumulants for inhomogeneous initial conditions in a unified way. We emphasize that results for the SCGF F(\u03bb, T ) and the cumulants in inhomogeneous initial states are scarce. So far, this problem has been, indeed, addressed only with the inhomogeneous BFT approach of Ref. [23]. Importantly, since it does not account for long-range correlation among fluid cells, which in general are present in ballistic many-body systems by our results as discussed in Sec. 1 and 3, this approach is at present not solidly founded. The BMFT approach accounts for all ballistic effects, including potential long-range correlations, to large scale fluctuations in interacting and inhomogeneous fluids.\nWe evaluated the second cumulant cpart2 in the partitioning protocol (recall that the cumulants cpartn do not depend on T for the partitioning protocol by scale invariance, see the discussion after Eqs. (14) and (17) in Subsec. 1).\nIn integrable systems, the partitioning protocol can be solved explicitly; the result is a space-time profile of states which depends only on the ray \u03be = x/t, by scale invariance. The\nspace-time profile is determined by the occupation function n\u03b8 (\u03be), which satisfies the following self-consistency equation,\nn\u03b8 (\u03be) = nR,\u03b8\u0398 \u03be\u2212 veff\u03b8 (\u03be) + nL,\u03b8\u0398 veff\u03b8 (\u03be)\u2212 \u03be , (130)\nwhere the \u03be-dependence of veff \u03b8 (\u03be) is determined by n\u03b8 (\u03be). The occupation functions nR,\u03b8 and nL,\u03b8 are those corresponding to the left and right states, respectively, in (17). A remarkable feature of the solution is that, since \u03b8 is a continuous parameter, it naturally gives rise to a smooth profile of the fluid in space-time, where each fluid mode \u03b8 presents a single contact discontinuity [3,16].\nWe find from the BMFT that cpart2 is completely given by the thermodynamic quantities evaluated with respect to n\u03b8 (\u03be= 0):\ncpart2 =\n\u222b\nR d\u03b8 \u03c7\u03b8 (0) |veff\u03b8 (0)|\nhdr;\u03b8i\u2217 (0) 2 . (131)\nEq. (131) explicitly shows that cpart2 , computed over the inhomogeneous and non-stationary partitioning protocol state, reduces to the cumulant (128) evaluated on the homogeneous NESS, the state at \u03be = 0 emerging at long times in the partitioning protocol. This is a highly non-trivial statement since in inhomogeneous and non-stationary fluids [19, 31], indirect effects, present if the model is interacting and not directly caused by the propagation of normal modes, means that correlations depend on the full inhomogeneous fluid profile and are not only determined by the fluid characteristics connecting the space-time points of interest. It turns out that these additional effects cancel out in the partitioning protocol when we count the statistics at x = 0; in general, however, these effects are present if we change the ray on which the statistics is evaluated or use other initial conditions.\nIn Subsec. 5.4, we present the detailed derivation of Eq. (131) for cpart2 with the BMFT formalism and we compare it with numerical simulations of the hard-rod model observing an excellent agreement. The derivation of Eq. (131) with the inhomogeneous version of BFT is reported in Appendix D. The numerical analysis we perform thereby validates our new BMFT.\nWe also checked that the inhomogeneous BFT yields Eq. (131). Hence for this cumulant in the partitioning protocol on the ray \u03be= 0, the inhomogeneous BFT is correct, despite not taking into account long-range correlations. Within the BMFT, this can be understood technically by the fact that the contribution to cpart2 coming from the long-range part of the current-current correlator vanishes because the fluid velocity of the normal mode that propagates on the ray \u03be= 0 is zero.\nIn principle the higher cumulants cn\u22654 can be computed by evaluating \u2202 n\u22121 \u03bb \u03b5\u03b8\n\u03bb=0, but the task gets increasingly convoluted. Although the exact expression is harder to write down, one can also calculate the SCGF F(\u03bb, T ) = \u222b\nS dtd\u03b8 \u222b \u03bb 0 d\u03bb \u2032 h\u03b8i\u2217j (\u03bb\u2032) \u03b8 (0, t)/T by solving the MFT\nequation with a \u03bb-dependent initial condition (144), using the method of characteristics. We hope to look into this in a future work."
        },
        {
            "heading": "5.2.2 Dynamical correlation functions",
            "text": "As explained in the previous sections, the BMFT predicts the existence of long-range correlations in generic ballistic many-body systems. Since such long-range correlations had not been predicted by any other means, it is of paramount importance to quantitatively evaluate them in a concrete model.\nTo this end, we computed the dynamical correlation function Sqi1 ,qi2 (x1, t; x2, t) for integrable systems using the BMFT, and we obtained the following formula, which specialises (111):\nSq\u0302i1 ,q\u0302i2 (x1, t; x2, t) = Ci1 i2(x1, t)\u03b4(x1 \u2212 x2) + Ei1 i2(x1, x2; t) , (132)\nwhere Ci1 i2(x1, t) := \u222b R d\u03b8 [\u03c7\u03b8h dr;\u03b8 i1 hdr;\u03b8i2 ](x1, t) is the local covariance matrix, and Ei1 i2(x1, x2; t) := \u2212 \u222b R d\u03b8 [\u03c7\u03b8h dr;\u03b8 i2\nE\u03b8 ](x2, t) is the term that represents long-range correlations. The symbol [\u2022](x , t) means that all the quantities inside the bracket are evaluated at the space-time point (x , t). The function E\u03b8 (x , t) satisfies the integral equation\nE\u03b8 (x , t) = E\u03b80 (x , t) +w\u03b8 (x , t) \u222b x\n\u2212\u221e dy [\u03c7E]dr;\u03b8 (y, t) , (133)\nwhere we defined (here and below, \u2202 is the derivative with respect to the spatial argument)\nw\u03b8 (x , t) := \u2202 \u03b5\u03b8ini(u\u03b8 (x , t))\n\u03c1tot \u03b8 (u\u03b8 (x , t), 0)\n, (134)\nwith the initial pseudo-energy \u03b5\u03b8ini(x) related to \u03b2 i ini(x) via (124). We set u\u03b8 (x , t) := U\u03b8 (x , t; 0), where U\u03b8 (x , t; s) defines the fluid characteristics for the mode \u03b8 : it is the spatial coordinate of the characteristic line, at time s, that passes through (x , t). It satisfies [75]\n\u222b U\u03b8 (x ,t;s)\n\u2212\u221e dy \u03c1tot\u03b8 (y, s) + v\n\u2212 \u03b8 (t \u2212 s)= \u222b x\n\u2212\u221e dy \u03c1tot\u03b8 (y, t) , (135)\nwith v\u2212 \u03b8 := limx=\u2212\u221e veff\u03b8 \u03c1 tot \u03b8\n. Finally, the source term of the integral equation (133), i.e., E\u03b80 (x , t), is written as a sum of\ntwo terms E\u03b80 (x , t) =D\u03b81 (x , t) +D\u03b82 (x , t). The first term reads\nD\u03b81 (x , t) := \u222b\nR2 d\u03c6 d\u03b1 (R\u2212T)\u03b8\u03c6(u\u03b8 (x , t), 0)\u2202 (RT)\u03c6\u03b1h dr;\u03b1 (x1, t)\u0398(u\u03b8 (x , t)\u2212 u\u03b1(x1, t))\n\u2212w\u03b8 (x , t)[\u03c7hdr]dr;\u03b8 (x1, t)\u0398(x2 \u2212 x1) . (136)\nThe second term comes from the initial condition\nD\u03b82 (x , t) := \u2212w\u03b8 (x , t) \u222b u\u03b8 (x ,t)\n\u2212\u221e dy [\u03c7D3]dr;\u03b8 (y, 0) , (137)\nwhere D\u03b83 (x , 0) is given by\nD\u03b83 (x , 0) :=\u2212 hdr;\u03b8 (x1, t) \u03b4(x \u2212 u\u03b8 (x1, t)) \u2202 U\u03b8 (u\u03b8 (x1, t), 0; t)\n+\n\u222b\nR2 d\u03c6 d\u03b1 (R\u2212T)\u03b8\u03c6(x , 0)\u2202 (RT)\u03c6\u03b1h dr;\u03b1 (x1, t)\u0398 (x \u2212 u\u03b1(x1, t)) . (138)\nDespite the tedious expression of the long-range correlation term Ei1 i2(x1, x2; t), the numerical evaluation of it turns out to agree well with its value obtained from hard-rod simulations. This confirms that not only do the long-range correlations exist at least in integrable systems but also they can be accurately computed by the BMFT. The comparison between the predictions by the BMFT for the correlator Sq\u03020,q\u03020(x , t; 0, t), from Eqs. (132)-(138) specialized to the hardrod model (cf. Eqs. (38) and (39)), and numerics is reported in Fig. (1) of the companion manuscript [24]. For the correlator Sq\u03020,q\u03020(x , t;\u2212x , t), the comparison is reported in Sec. 5.5 in Fig. 4."
        },
        {
            "heading": "5.3 Current fluctuations in integrable systems",
            "text": "In what follows, for brevity, much like for romain indices, we will also use Einstein\u2019s \u201csummation convention\u201d for rapidities: whenever expressions contain factors with repeated upper and lower rapidity indices, integrals over R are understood, for instance\na\u03b8 b\u03b8 \u2261 \u222b\nR d\u03b8 a\u03b8 b\u03b8 . (139)\nAs is required, we will also use veff;\u03b8 = veff \u03b8 . Let us start with current fluctuations, for which we follow the procedure of Subsec. 4.1. The action to be minimised (cf. Eq. (74)) is\nScurr[\u03c1, H] = Fcurr[\u03c1] + \u222b\nS dtdx H\u03b8 (x , t)(\u2202t\u03c1\u03b8 + \u2202x j\u03b8 [\u03c1]) , (140)\nwhere Fcurr[\u03c1] = F[\u03c1(\u00b7, 0)]\u2212 \u03bb \u222b T\n0 dt h \u03b8 i\u2217 j\u03b8 [\u03c1]. Let us redefine h\u03b8 := h\u03b8i\u2217 for brevity. Accordingly the set of MFT equations, from Eq. (76), for integrable models are\n\u03bbh\u03b8\u0398(x)\u2212 \u03b2\u03b8 (x , 0) + \u03b2\u03b8ini(x)\u2212H \u03b8 (x , 0) = 0 , (141a) \u03bbh\u03b8\u0398(x)\u2212H\u03b8 (x , T ) = 0 , (141b)\n\u2202t\u03b2 \u03b8 (x , t) +A \u03b8\u03c6 [\u03b2(x , t)]\u2202x\u03b2 \u03c6(x , t) = 0 , (141c) \u2202t H \u03b8 (x , t) +A \u03b8\u03c6 [\u03b2(x , t)]\u2202x H \u03c6(x , t) = 0 . (141d)\nNote that the third equation is equivalent to the usual GHD equation in terms of the density of particle \u2202t\u03c1\u03b8 + \u2202x(veff\u03b8 \u03c1\u03b8 ) = 0 via AC = CA\nT. To solve these equations self-consistently, we shall first recall how one can solve the initial-value problems in GHD. For simplicity, we treat an integrable many-body system where quasi-particles have a single species and scatter diagonally (e.g., Lieb-Liniger model). Let us start with introducing normal modes. One usually introduces the normal modes by diagonalising the linearised Euler equation, but in integrable systems it has been known that normal modes exists even in the fully non-linear GHD equation, which are actually not unique [16,17]. We choose and define our normal mode by \u2202t,x\u03b5 \u03b8 := (R\u2212T(x , t))\u03b8 \u03c6 \u2202t,x\u03b2 \u03c6 , where the pseudo-energy \u03b5\u03b8 was already defined in (124). Accordingly we rewrite (141c) as \u2202t\u03b5 \u03b8 + veff;\u03b8\u2202x\u03b5\u03b8 = 0 [16, 17]. It is clear that any function of \u03b5\u03b8 , e.g., the occupation function n\u03b8 , is also transported in a convective fashion as \u03b5\u03b8 , hence is eligible for being a normal mode. Motivated by this we also introduce a normal mode G\u03b8 for the auxiliary field H\u03b8 in the same way:\n\u2202t,x G \u03b8 := (R\u2212T(x , t))\u03b8\u03c6\u2202t,x H \u03c6 . (142)\nWhile a priori it is not obvious if such a normal mode could exist, it turns out in integrable systems that it does. This is because a compatibility condition \u2202t\u2202x G\n\u03b8 = \u2202x\u2202t G\u03b8 holds due to the fact that the row of the (transposed) transformation matrix RT is a normal mode: \u2202t(RT)\u03b8\u03c6 + v eff \u03c6 \u2202x(RT)\u03b8\u03c6 = 0, which is obvious from the definition of R.\nIn terms of the normal modes, one readily obtains the solution of the MFT equations. We first solve the equation for G\u03b8 (x , t) given by\n\u03bbhdr;\u03b8 (0, T )\u0398(x)\u2212 G\u03b8 (x , T ) = 0 , (143a)\n\u2202t G \u03b8 (x , t) + veff;\u03b8 (x , t)\u2202x G \u03b8 (x , t) = 0 . (143b)\nNote that in principle there is an additional constant term in (143a), which is G\u03b8 (\u2212\u221e, T ). This however can always be set to zero, as this goes away when transforming back to H\u03b8 , whose boundary conditions are specified after Eq. (76).\nSince G\u03b8 (x , t) is a normal mode, it admits the solution G\u03b8 (x , t) = G\u03b8 (r\u03b8 (x , t), T ) = hdr;\u03b8 (0, T )\u0398(r\u03b8 (x , t)), where we defined r\u03b8 (x , t) := U\u03b8 (x , t; T ) from Eq. (135). The full space-time profile of G\u03b8 is however of no importance, and we merely use it to write down a self-consistent initial condition for \u03b2\u03b8 (x , 0):\n\u03b2\u03b8 (x , 0) = \u03b2\u03b8ini(x) +\u03bbh \u03b8\u0398(x)\u2212\u03bb(RT)\u03b8\u03c6(0, T )\u0398(x \u2212 u\u03c6(0, T ))h dr;\u03c6(0, T ) . (144)\nTherefore the MFT dynamics is now recast into GHD with the \u03bb-dependent initial condition given in the above self-consistent way, which again can be solved by the method of characteristics. A somewhat special initial condition that complicates these considerations is the partitioning protocol in Eq. (85), where one starts with a step initial condition \u03b2\u03b8ini(x) = \u03b2 \u03b8 L \u0398(\u2212x) + \u03b2 \u03b8 R\u0398(x). This situation calls for a more careful treatment, as the flow equation \u2202\u03bb\u03b5 \u03b8 (x , t) generically contains hdr(0, 0), which depends on the regularisation chosen in the partitioning protocol. Such dependence on the regularisation at x = 0 is also reflected in the fact that the transformation matrix R(x , t) defined as above becomes ill-defined at x = t = 0 due to \u03b4(0) that stems from \u2202x\u03b2\u03b8 (x , 0) at \u03bb = 0. Fortunately in integrable systems one can directly define R using the integral equation that defines \u03b5\u03b8 , which yields \u2202\u03bb\u03b5 \u03b8 (x , t) = (R\u2212T(x , t))\u03b8 \u03c6 \u2202\u03bb\u03b2 \u03c6(x , t). Note that which regularisation to use does not affect the definition of G\u03b8 , as H\u03b8 and its derivatives are zero at \u03bb= 0 anyway."
        },
        {
            "heading": "5.4 Flow equation and cumulants",
            "text": "To evaluate the cumulants, one needs to know how the fluid variables change as \u03bb varies, i.e., \u2202\u03bb\u03b5\n\u03b8 (x , t) (from which one recovers the derivatives of other variables). In general, the flow equation for \u2202\u03bb\u03b5 \u03b8 (x , t) takes a cumbersome form, but in the homogeneous case \u03b2\u03b8ini(x) = \u03b2 \u03b8 ini, where \u03b2\u03b8ini does not depend on the space coordinate x , it is given in a simple way. Note from (144) that, using \u2202x\u03b2 \u03b8 := (RT(x , t))\u03b8 \u03c6 \u2202x\u03b5 \u03c6 , we have\n\u2202x\u03b5 \u03b8 (x , 0) = \u03bbhdr;\u03b8 (0,0)\u03b4(x)\u2212\u03bb\u03b4 (x \u2212 u\u03b8 (0, T ))hdr;\u03b8 (0, T ) , (145)\nwhere we used (RT)\u03c6 \u03b8 (u\u03b8 (x , t), 0) = (RT) \u03c6 \u03b8 (x , t) and note that we do not take summations over rapidities when the only quantities with lower indices are u\u03b8 (or r\u03b8 ). Upon integrating over x and invoking \u03b5\u03b8 (x , t) = \u03b5\u03b8 (u\u03b8 (x , t), 0), the full profile of the normal mode is readily obtained as\n\u03b5\u03b8 (x , t) = \u03b5\u03b8ini +\u03bb hdr;\u03b8 (0, 0)\u0398(u\u03b8 )\u2212 hdr;\u03b8 (0, T )\u0398(r\u03b8 ) , (146)\nwhere the identity \u0398(u\u03b8 (x , t)\u2212 u\u03b8 (0, T )) = \u0398(r\u03b8 (u\u03b8 (x , t), 0)) = \u0398(r\u03b8 (x , t)) was invoked and we introduced the shorthanded notation u\u03b8 := u\u03b8 (x , t) and r\u03b8 := r\u03b8 (x , t). What we are after however is not the explicit \u03b5\u03b8 (x , t) but rather its derivative by \u03bb, which is obviously given by\n\u2202\u03bb\u03b5 \u03b8 (x , t) = \u2202\u03bb \u03bb(hdr;\u03b8 (0,0)\u0398(u\u03b8 )\u2212 hdr;\u03b8 (0, T )\u0398(r\u03b8 )) . (147)\nThis is the sought flow equation in the homogeneous case. The flow equation with a generic inhomogeneous initial condition (barring the partitioning protocol, which will be treated separately later) is reported in Appendix F. The flow equation (147) essentially encodes all the information needed to compute the cumulants that are given by cn = \u222b T 0 dt \u2202 n\u22121 \u03bb h\u03b8 j\u03b8 (0, t)\n\u03bb=0 ,\nwhere we note that the cumulants do not depend on T in the homogeneous case. Notice also that alternatively they can also be written as cn = \u2202 n\u22121\u03bb \u222b\u221e 0 dx h \u03b8 (\u03c1\u03b8 (x , T )\u2212\u03c1\u03b8 (x , 0))\n\u03bb=0 ,\nwhich we shall use for evaluating the cumulants. As explained in Subsec. 4.2, \u03b2(0, t) in the BMFT (\u03b8 and \u03bb dependence are suppressed for brevity) can be identified with \u03b2(\u03bb) in the BFT if \u03b2(0, t) is time-independent and satisfies the\nBFT flow equation (79). It turns out that verifying these is still challenging even for integrable systems, and only thing we can immediately notice is that at \u03bb = 0 the MFT flow equation (147) becomes that of \u03b5\u03b8 (\u03bb) in the BFT, which indicates that the identification is true at least up to the first order in \u03bb. Further analysis on the structure of the BMFT flow equation (147) is left for future studies.\nWith the flow equation at our disposal, let us see how it can be used to compute c2 for the homogeneous initial condition. We first note\n\u2202\u03bb\u03c1\u03b8 (x , t) = \u2212(R\u2212T) \u03c6 \u03b8 (x , t)\u03c7\u03c6(x , t)\u2202\u03bb\u03b5 \u03c6(x , t) , (148)\nwhere we used \u2202 \u03c1\u03b8/\u2202 \u03b5 \u03c6 = \u2212(R\u2212T)\u03c6 \u03b8 \u03c7\u03c6 , from which we get\nlim \u03bb\u21920 \u2202\u03bb\u03c1\u03b8 (x , t) = (R\n\u2212T)\u03c6 \u03b8 hdr;\u03c6\u03c7\u03c6(\u0398(r\u03c6)\u2212\u0398(u\u03c6)) , (149)\nwhere the thermodynamic quantities without arguments are meant to be evaluated with respect to the initial homogeneous state. Since u\u03b8 (x , t) = x \u2212 veff\u03b8 t and r\u03b8 (x , t) = x \u2212 v eff \u03b8 (t\u2212 T ) when \u03bb= 0, it is a simple matter to observe that the homogeneous cumulant chom2 reads\nchom2 =\n\u222b\nR d\u03b8 \u03c7\u03b8 |veff\u03b8 |(h dr;\u03b8 )2 , (150)\nwhere and we restored the integral for clarity. This is precisely the second cumulant that has also been obtained using different methods previously [21, 28]. Following the same logic, albeit growing complexity as n increases, one can in principle compute arbitrary higher cumulants cn. See Appendix G for the computation of c3 (129).\nOne of the virtues of the MFT is that it allows us to compute cumulants for arbitrary initial conditions that are not homogeneous following the same procedures. That being said, as mentioned before, the partitioning protocol requires a separate consideration due to the singularity of the rotation matrix R(0, 0) at x = t = 0. Firstly the flow equation for \u2202\u03bb\u03b5\u03b8 (x , t) takes a tedious and not so informative form (see Appendix F). As it turns out, it is more convenient to evaluate the alternative form of c2, which is\nc2 = \u2202\u03bb\n\u222b T\n0\ndt h\u03b8\u03c1\u03b8 (0, t)v eff \u03b8 (0, t)\n\u03bb=0\n= \u2212hdr;\u03b8 (0)\u03c7\u03b8 (0)veff\u03b8 (0) \u222b T\n0\ndt \u2202\u03bb\u03b5 \u03b8 (0, t) \u03bb=0 , (151)\nwhere the thermodynamic quantities with arguments 0 are evaluated at \u03be = x/t = 0. Therefore we have to compute \u2202\u03bb\u03b5 \u03b8 (0, t) \u03bb=0, which can be written as\n\u2202\u03bb\u03b5 \u03b8 (0, t) = \u2202\u03bbu\u03b8 \u2202x\u03b5 \u03b8 (x , 0) x=u\u03b8 (0,t) + (\u2202\u03bb\u03b5 \u03b8 )(u\u03b8 (0, t), 0) , (152)\nwhere \u03bb = 0 is taken in the right hand side. We hereafter assume that \u03bb = 0 is always taken in each equation at the end of manipulations unless otherwise stated. Note that in fact the first term does not contribute. To see this, we recall that, at \u03bb = 0, \u2202x\u03b5(x , 0) = (\u03b5\u03b8R \u2212 \u03b5 \u03b8 L )\u03b4(x) (\u03b5 \u03b8 R/L are the pseudo-energies of the initial right/left subsystems), hence \u2202x\u03b5 \u03b8 (x , 0)\nx=u\u03b8 (0,t) is proportional to \u03b4(u\u03b8 (0, t)). Since in the partitioning protocol we\nhave \u03b4(u\u03b8 (0, t)) = \u03b4(\u2212veff\u03b8 (0)t) = \u03b4(v eff \u03b8 (0))/t when t > 0, this gives zero when multiplied by veff \u03b8 (0) in (151). The task therefore boils down to calculate (\u2202\u03bb\u03b5\u03b8 )(u\u03b8 (0, t), 0).\nUsing (144), (\u2202\u03bb\u03b5\u03b8 )(u\u03b8 (0, t), 0) is given by\n(\u2202\u03bb\u03b5 \u03b8 )(u\u03b8 (0, t), 0) = h dr;\u03b8 (u\u03b8 (0, t), 0)\u0398(u\u03b8 (0, t))\n\u2212 (R\u2212T)\u03b8\u03c6(u\u03b8 (0, t), 0)(R T)\u03c6\u03b3(0, T )\u0398(u\u03b8 (0, t)\u2212 u\u03b3(0, T ))h dr;\u03b3(0, T ) . (153)\nTo proceed, we need to invoke a few important relations. First, it is a simple matter to see\n\u2202tu\u03b8 (0, t) = \u2212 v\u03b8 (0, t)\n\u03c1tot \u03b8 (u\u03b8 (0, t), 0)\n, (154)\nwith v\u03b8 (x , t) = veff\u03b8 (x , t)\u03c1 tot \u03b8 (x , t) from Eq. (135). In the partitioning protocol, the solutions are self-similar (i.e., they depend only on \u03be= x/t), hence we have v\u03b8 (0, t) = v\u03b8 (\u03be= 0) when t > 0. This implies that u\u03b8 (0, t) is either monotonically increasing or decreasing depending on the sign of v\u03b8 (0). Since u\u03b8 (0,0) = 0, we conclude that\n\u0398(u\u03b8 (0, t)) = \u0398(\u2212veff\u03b8 (0)) . (155)\nA similar observation can be made to obtain \u0398(r\u03b8 (0, t)) = \u0398(veff\u03b8 (0)). Another relation is that (RT)\u03b8\n\u03c6 (x , t) is a normal mode with respect to \u03c6, i.e., (RT)\u03b8 \u03c6 (x , t) = (RT)\u03b8 \u03c6 (u\u03c6(x , t), 0). This\nmeans that (RT)\u03c6\u03b3(0, T ) = (RT) \u03c6 \u03b3(u\u03b3(0, T ), 0), which in turn allow us to compute the building block (R\u2212T)\u03b8 \u03c6 (u\u03b8 (0, t), 0)(RT) \u03c6 \u03b3(u\u03b3(0, T ), 0)\u0398(u\u03b8 (0, t) \u2212 u\u03b3(0, T )). Importantly, this quantity depends only on the sign of veff \u03b8 (0) and veff;\u03b3(0). Thus when the signs of both velocities are the same, it simply gives \u03b4\u03b8\u03b3\u0398(v eff \u03b8 ), where we used \u0398(u\u03b8 (0, t)\u2212 u\u03b8 (0, T )) = \u0398(veff\u03b8 ) because t < T . When the signs differ, only situation when it has a nonzero contribution is when veff \u03b8 (0)< 0< veff\u03b3 (0). Combining these, we obtain\n(R\u2212T)\u03b8\u03c6(u\u03b8 , 0)(R T)\u03c6\u03b3(u\u03b3, 0)\u0398(u\u03b8 \u2212 u\u03b3) = \u03b4 \u03b8 \u03b3\u0398(v eff \u03b8 ) +\u0398(\u2212v eff \u03b8 )\u0398(v eff \u03b3 )(R \u2212T R ) \u03b8 \u03c6(R T L) \u03c6 \u03b3 , (156)\nwhere temporarily we suppressed the argument of u\u03b8 (0, t), u\u03b3(0, T ) and veff\u03b8 (0). Therefore we end up with\n(\u2202\u03bb\u03b5 \u03b8 )(u\u03b8 (0, t), 0) = hdr;\u03b8R \u2212\u0398(v eff \u03b3 )(R \u2212T R ) \u03b8 \u03c6(R T L) \u03c6 \u03b3h dr;\u03b3(0) \u0398(\u2212veff\u03b8 )\u2212h dr;\u03b8 (0)\u0398(veff\u03b8 )\n= (R\u2212TR ) \u03b8 \u03c6(R T)\u03c6\u03b3(0) hdr;\u03b3(0)\u2212\u0398(veff\u03b3 )h dr;\u03b3(0) \u0398(\u2212veff\u03b8 )\u2212h dr;\u03b8 (0)\u0398(veff\u03b8 ) = \u2212hdr;\u03b8 (0)sgn\nveff\u03b8 (0) , (157)\nwhere we used \u0398(veff\u03b3 )(R T L) \u03c6 \u03b3 = \u0398(veff\u03b3 )(R T)\u03c6\u03b3(0) and \u0398(\u2212veff\u03b3 )(R T R) \u03c6 \u03b3 = \u0398(\u2212veff\u03b3 )(R T)\u03c6\u03b3(0) when passing from the second to the third, and from the third to the fourth line, respectively. Plugging this back into (151), we finally obtain the cumulant in the partitioning protocol cpart2 :\ncpart2 =\n\u222b\nR d\u03b8 \u03c7\u03b8 (0)|veff\u03b8 (0)|\nhdr;\u03b8i\u2217 (0) 2 . (158)\nThis is the result anticipated in Eq. (131) of Subsec. 5.2. We again emphasize that in the previous equation, where the counting statistics is performed at the point x = 0, the terms caused by the interactions among normal modes cancel out. This determines the simple expression in Eq. (158), where all the quantities are evaluated on the single ray \u03be = 0, corresponding to the homogeneous NESS of the partitioning protocol.\nIn order to test the non-trivial prediction of Eq. (158), we perform simulations of the interacting hard-rod model, which we already introduced in Sec. 2.\nThe rods are initialized in the inhomogeneous partitioning protocol state in Eq. (85) with only the inverse temperature Lagrange multiplier being non zero, i.e, the set C contains only the energy conserved charge (and \u03b2 i0 = 0 otherwise). The initial state has therefore the form in Eq. (17). The inverse temperatures \u03b2L,R and the rod length a therefore fix the rod densities \u03c1(\u03b2L,R) of the left (x < 0) and the right (x > 0) half. The rods\u2019 positions are initially distributed in a symmetric interval [\u2212Lsize/2, Lsize/2] around the origin according to the aforementioned\na = 0.2\nthermal densities \u03c1(\u03b2L,R), with NL = \u03c1(\u03b2L)Lsize/2 and NR = \u03c1(\u03b2R)Lsize/2 rods initially in the left and the right half, respectively. The rods\u2019 velocities are sampled from the thermal velocity distribution, which is a Gaussian with variance given by the corresponding inverse temperature 1/\u03b2L,R. Statistical fluctuations are thereby solely determined by the initial sample of the positions and velocities, while the dynamics is fully deterministic. In the numerical analysis, we focus on particle transport, with single particle eigenvalue h\u03b8i\u2217 = 1, for the sake of simplicity. We count numerically the number of rods transferred from the left to the right half over a time interval T since the start of the dynamics. The cumulants are eventually computed by rescaling by the time duration T and by averaging over a large number M of independent samples of the initial rods\u2019 distribution. The comparison between the prediction in Eq. (158) and the value of cpart2 from the numerical simulations of the hard-rod gas is shown in Fig. 3.\nFrom the figure we can see that the numerical data deviate from the Euler-scale prediction for short times. This is caused by the fact, cf. the discussion after Eq. (17) in Subsec. 2.1, that the initial state does not show large wavelengths variations. Corrections coming from the microscopic nature of the initial state, on the one hand, cause the numerical results to deviate from the Euler-scale prediction (158) at short times. At long times, however, the partitioning protocol initial state quickly relaxes to a smoothly varying state exhibiting large scale variations and the Euler-scale prediction is recovered with an excellent precision. The discrepancy between Eq. (158) and the numerical data, at long times T \u2208 [10, 15] in the inset of Fig. 3, is, indeed, observable only on the fourth decimal digit and it is well within the statistical uncer-\ntainty bars. The latter are computed by propagating the statistical uncertainty of the computed mean transferred particle number (and powers thereof) as detailed in Appendix I.\nWe emphasize that the prediction in Eq. (158), with the comparison with the numerical simulations in Fig. 3, represents, to our knowledge, the first result in integrable models for cumulants evaluated over inhomogeneous and non-stationary states, such as the partitioning protocol state (17). For integrable systems, as a matter of fact, results for the cumulants were so far limited to the simpler case of homogeneous and stationary states, such as Eq. (128) and (129) for the NESS emerging at long times from the partitioning protocol, as shown in Ref. [21]. We also checked that Eq. (158) is obtained within the inhomogeneous version of the BFT theory. The numerical analysis of Fig. 3 thus also provides the first numerical confirmation of the inhomogeneous BFT, at least for the cumulants on the ray \u03be = 0 in the partitioning protocol. In more general cases the inhomogeneous BFT requires additional checks since it does not assume any long-range correlation on equal-time correlation functions. In passing, we mention that at intermediate times, T \u2208 [4, 10] in the Figure, the numerical data are consistent with a power-law relaxation to the Euler-scale prediction as a function time. This behavior might be related to diffusive sub-leading, i.e., O( p \u2113), corrections to the BMFT action in Eq. (46) (see also the discussion in Sec. 3.3). This effect goes therefore beyond the scope of the present manuscript and its analysis is left for future investigations."
        },
        {
            "heading": "5.5 Dynamical correlation functions and universal long-range correlations",
            "text": "We follow here the analysis of Subsec. 4.4. The action Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2)whose saddle point characterises the Euler scale dynamical correlation function is (cf. Eq. (96))\nScorr[\u03c1, H] := Fcorr[\u03c1] + \u222b\nS dtdx H\u03b8 (x , t) \u2202t\u03c1\u03b8 + \u2202xj\u03b8 [\u03c1] , (159)\nwhere Fcorr[\u03c1] = F[\u03c1(\u00b7, 0)]\u2212(\u03bb1h\u03b8i1\u03c1\u03b8 (x1, t1)+\u03bb2h \u03b8 i2 \u03c1\u03b8 (x2, t2)). Following the same reasoning in the generic case, the set of MFT equations are given in Eq. (98), which for integrable systems read as\n\u03b2\u03b8 (x , 0)\u2212 \u03b2\u03b8ini(x) +H \u03b8 (x , 0) = 0 , (160a) H\u03b8 (x , T ) = 0 , (160b)\n\u2202t\u03b2 \u03b8 +A \u03b8\u03c6 \u2202x\u03b2 \u03c6 = 0 , (160c) \u2202t H \u03b8 +A \u03b8\u03c6 \u2202x H \u03c6 +\u03bbh\u03b8i1\u03b4(x \u2212 x1)\u03b4(t \u2212 t1) = 0 . (160d)\nThe correlator is then given from Eqs. (97) and (148) by\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = \u2212 [(hi2) dr;\u03b8\u03c7\u03b8\u2202\u03bb\u03b5 \u03b8 ](x2, t2) \u03bb=0 . (161)\nAs in the case of the current fluctuations, let us derive the initial condition given in a selfconsistent way. Integrating both sides of the equation for H\u03b8 (x , t) over [t1 \u2212 \u03f5, t1 + \u03f5], we get\nH\u03b8 (x , t1 + \u03f5)\u2212H\u03b8 (x , t1 \u2212 \u03f5) = \u2212\u03bbh\u03b8i1\u03b4(x \u2212 x1) . (162)\nFrom the boundary condition H\u03b8 (x , T ) = 0 it is clear that H\u03b8 (x , t) = 0 for t > t1, hence we obtain H\u03b8 (x , t1 \u2212 \u03f5) = \u03bbh\u03b8i1\u03b4(x \u2212 x1). In order to obtain the full time profile of H\n\u03b8 (x , t), one has to first move to the normal modes and invoke G\u03b8 (x , t) = G\u03b8 (U\u03b8 (x , t; t1), t1), obtaining\nG\u03b8 (x , t) = \u03bb hdr;\u03b8 (x1, t1)\u03b4(U\u03b8 (x , t; t1)\u2212 x1)\u2212 \u2202x1h dr;\u03b8 (x1, t1)\u0398(U\u03b8 (x , t; t1)\u2212 x1) \u0398(t1\u2212 t) , (163)\nwhere we defined h := hi1 . In particular, at time t = 0 we get\nG\u03b8 (x , 0) = \u03bb hdr;\u03b8 (x1, t1) \u03b4(x \u2212 u\u03b8 (x1, t1)) \u2202 U\u03b8 (u\u03b8 (x1, t1), 0; t1) \u2212 \u2202x1h dr;\u03b8 (x1, t1)\u0398(x \u2212 u\u03b8 (x1, t1)) ,\n(164) where we used t1 > 0 and x1 = U\u03b8 (u\u03b8 (x1, t1), 0; t1). Notice that in Eqs. (163) and (164) we have set the additive constant G\u03b8 (\u2212\u221e, t) to zero without loss of generality for the same reason as after Eq. (143). In the previous equation, the derivative \u2202 U\u03b8 (u\u03b8 (x1, t1), 0; t1) is taken with respect to u\u03b8 (x1, t1). Transforming back to H\u03b8 , one observes that the terms can be reorganised nicely, which yields the following \u03b2\u03b8 (x , 0):\n\u03b2\u03b8 (x , 0) = \u03b2\u03b8ini(x) +\u03bb\u2202x1 (RT)\u03b8\u03c6(x1, t1)h dr;\u03c6(x1, t1)\u0398(x \u2212 u\u03c6) , (165)\nwhere u\u03c6 := u\u03c6(x1, t1). See the Appendix H.1 for the full profile of \u2202\u03bb\u03b5\u03b8 (x , t) at \u03bb = 0 in Eq. (H.5).\nBefore making a crucial observation in the inhomogeneous case, let us compute the correlator for the homogeneous initial condition. Using (165), we have at \u03bb= 0\n\u2202\u03bb\u03b5 \u03b8 (x2, t2) = \u2202\u03bbu\u03b8\u2202y \u03b5 \u03b8 (y, 0) y=u\u03b8 + (\u2202\u03bb\u03b5)(u\u03b8 , 0) = \u2212(hi1) dr;\u03b8\u03b4 x2 \u2212 x1 \u2212 veff\u03b8 (t2 \u2212 t1) ,\n(166)\nwith u\u03b8 = u\u03b8 (x2, t2) in the previous equation. From Eq. (166), one immediately has\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = (hi1) dr;\u03b8\u03c7\u03b8\u03b4 x2 \u2212 x1 \u2212 veff\u03b8 (t2 \u2212 t1) (hi2) dr;\u03b8 . (167)\nThis is precisely what we expect. In particular note that on the same time slice t1 = t2 = t, the correlator is simply given by the local covariance matrix, i.e., Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = Ci1 i2\u03b4(x1 \u2212 x2) where Ci1 i2 := (hi1) dr;\u03b8\u03c7\u03b8 (hi2) dr;\u03b8 .\nNext let us evaluate Sq\u0302i1 ,q\u0302i2 (x1, t; x2, t)with respect to an inhomogeneous initial condition. To be more precise, it takes the following form:\nSq\u0302i1 ,q\u0302i2 (x1, t; x2, t) = Ci1 i2(x1, t)\u03b4(x1 \u2212 x2) + Ei1 i2(x1, x2; t) , (168)\nwhere Ci1 i2(x1, t) is the local covariance matrix, while Ei1 i2(x1, x2; t) is a function that goes to zero when |x1 \u2212 x2| \u226b 1 and it accounts for Euler-scaled long-range correlations. The exact expression of Ei1 i2 (see again Appendix H.1 for the details of the calculation) can be obtained by first solving Eq. (H.5) self-consistently to obtain \u2202\u03bb\u03b5 \u03b8 (x2, t)\n\u03bb=0 and plugging it into (161). The existence of the long-range correlations can be in fact already inferred in the initial condition (164). Namely, it is readily seen that the first term in the bracket amounts to the local equilibrium correlator, while the second term gives long-range correlations. A physical interpretation of such long-range correlations is clear: two normal modes, which can be identified with two particle-hole excitations [87], retain memories of their scattering, as their trajectories would be severely affected by the density landscape around the position where the scattering took place. The scattering picture also makes it evident that the following three conditions are needed for long-range correlations to be supported: interaction, inhomogeneity, and multiple conservation laws. Indeed, were the system to have just a single conservation law, the rotation matrix R would be trivialised, making the long-range contribution in (164) vanish. The first two conditions also ensure that \u2202x1h\ndr;\u03b8 (x1, t1) has a non-zero value at \u03bb = 0, which implies that it contributes in \u2202\u03bb\u03b5 \u03b8 (x2, t1)\n\u03bb=0. In order to verify our predictions, we computed the dynamical correlation functions Sq\u03020,q\u03020(x , t; 0, t) and Sq\u03020,q\u03020(x , t;\u2212x , t) for the hard-rod model and we compared the results with molecular dynamics simulations. In particular, we looked into two initial conditions:\ntwo-modes bump-release and the partitioning protocol. In the latter, we implement the very same inverse temperature partitioning initial condition that we used in Subsec. 5.4 for the calculation of the second cumulant cpart2 . It is worth to emphasize that in this case, one has a continuum of normal modes since the velocity distribution is a Gaussian with variance given by the inverse temperature. In the former, instead, the rods are released at time t = 0 from the Gaussian density bump profile (sketched in the lower band of Fig. 1(a) with q\u03020 the particle density)\n\u2329q\u03020(x , 0)\u232a\u2113 = 1+ 3e\u2212(x/\u2113)\n2\n3+ 3e\u2212(x/\u2113)2 \u2208 [1/3, 2/3] . (169)\nWe consider the case where rods\u2019 velocities can only take two values v = \u00b11 with the same probability. In this case, therefore, the velocity distribution is supported on two delta functions and one has a discrete set of velocities and, consequently, normal modes. This choice of the velocity distribution is not only a drastic simplification for analytic computations, but it also makes the existence of long-range correlations more evident. According to the aforementioned scattering interpretation of long-range correlations, the presence of a continuum set of normal modes would, indeed, cause correlations to spread among all the normal modes through scattering events among all the rods\u2019 velocities. This is expected to make long-range correlations small and barely numerically detectable. In the presence of two normal modes only, on the contrary, scattering events necessarily concern rods with the opposite velocities +v and \u2212v and the long-range correlations between the two associated modes are enhanced. This makes also convenient to compute correlations numerically by reducing the source of statistical error.\nIn Fig. 4, we report the comparison between the BMFT prediction in Eqs. (132)-(138) and the hard-rod simulations for the correlator Sq\u03020,q\u03020(x , t;\u2212x , t). The analysis for the correlator Sq\u03020,q\u03020(x , t; 0, t) from the same initial state (169) is reported in Fig. (1) of the companion manuscript [24]. These are the first results showing the existence of long-range Eulerscaled correlations in integrable models. We report numerical data for three different scales \u2113 = 250, 500 and 1000. The simulations, as in the case discussed in Subsec. 5.4 for cpart2 , are done in infinite volume, with the rods initially distributed in a symmetric interval [\u2212Lsize, Lsize] around the origin, with Lsize = 10\u2113. The number N of rods used in the simulations is therefore fixed by the initial density and Lsize as N =\n\u222b Lsize \u2212Lsize\ndx \u2329q\u03020(x , 0)\u232a\u2113. In particular, we have N = 2700,5000 and 104 rods for the simulations at the scales \u2113 = 250,500 and 1000, respectively. The deterministic hard rod evolution from this fluctuating initial condition is then implemented. Equal-time correlation functions are obtained by performing the fluid-cell averaging as per Eq. (35), with the fluid cell length L = 0.05\u2113, i.e., upon taking the Eulerscaling limit. The numerical estimate for the correlator is eventually obtained by averaging over a large number M of independent realizations of the initial rods\u2019 configuration. A number M = 1.2288 \u00b7 109, 2.1504 \u00b7 109 and 2.1504 \u00b7 109 of independent statistical samples has been taken in Fig. (1) of Ref. [24] for the data at the scales \u2113 = 250, 500 and 1000, respectively. In the case of Fig. 4, the number of samples taken is reported in the corresponding caption. The collapse of the data as a function of \u2113 is convincing, with the tiny differences among the different scales fully within the uncertainties\u2019 bars. This result remarkably confirms, at the numerical level, the existence of Euler-scale correlations, i.e., correlations developing over times t and space regions x proportional to \u2113, with an amplitude decaying as \u2113\u22121. Moreover, the BMFT result in Eqs. (132)-(138) particularized to the hard-rod model predicts the value of such correlations with a very good agreement, despite of the small 10\u22122 order of magnitude of the long-range correlations. The largest difference between the BMFT prediction and the numerical result is, indeed, observable on the third decimal digit and it is always fully within the statistical uncertainties\u2019 bars. The latter are computed according to the same method used in Subsec. 5.4 for cpart2 (see the Appendix I for the details). Our numerical analysis thereby firmly\ncorroborate the existence of long-range correlations in interacting inhomogeneous fluids, and at the same time, the power of the BMFT in quantitatively predicting this effect.\nIn the case of the partitioning protocol, the initial step is chosen in the very same way as for the calculation of cpart2 in Fig. 3. In particular, we consider the case of a step initial inverse temperature profile \u03b2 iini(x) in Eq. (85) (again with the single multiplier associated to the energy conserved charge being non-zero). The initial density profile therefore shows a discontinuity at x = 0 as well, with \u03c1(\u03b2L) (\u03c1(\u03b2R)) the density for x < 0 (x > 0). Since the partitioning protocol state is scale invariant, the numerical data for Sq\u03020,q\u03020(x , t; 0, t) and Sq\u03020,q\u03020(x , t;\u2212x , t) are obtained by performing the fluid-cell averaging in Eq. (35) with the scale \u2113 = 300 taken as the microscopic-simulation time. We have specifically computed both the equal-time correlators Sq\u03020,q\u03020(x , 1; 0, 1) and Sq\u03020,q\u03020(x , 1;\u2212x , 1) at the macroscopic time t = 1 for x \u2208 [\u22123,\u22121], for the same set of parameters in Fig. 3. We average, in this case, over M = 109 independent realizations of the initial condition. Also in this case, we numerically observe the existence of long-range correlations of order 10\u22122. This shows that the presence of long-range correlations, caused by the emission of normal modes in the past, is a robust phenomena present in different physically relevant out of equilibrium scenarios. Crucially, the BMFT prediction of the correlator, evaluated from the specialization of Eqs. (132)-(138) to the partitioning initial state (see Sec. H.2 of the Appendix), gives values of order 10\u22126. These values are no way compatible with the result from the numerical analysis, whose statistical\nuncertainties are of order 10\u22123. The physical interpretation of this discrepancies is clear as the partitioning protocol state does not show large-scale variations. Microscopic correlations from the initial sharp inhomogeneity are therefore produced at early times in addition to the Euler-scaled hydrodynamic correlations discussed so far. These microscopic contributions to correlations, since are caused by normal modes emitted in the past, do not vanish at long times, despite the partitioning state rapidly relaxing to a large-wavelength state. This is in stark contrast to the cumulant analysis of Subsec. 5.4, where we found that the initial microscopic contributions vanish at long times. Our results further show that the microscopic, short-time, contribution to the correlations is predominant, causing the numerically observed values to be much larger than the BMFT prediction.\nIn all the cases where the initial state displays, on the contrary, long wavelengths variations (such as in the bump release protocol discussed previously), microscopic early time contributions to the correlations are suppressed. Only Euler-scaled, universal, correlations are therefore present. The latter are quantitatively predicted by our BMFT."
        },
        {
            "heading": "6 Conclusion and Outlook",
            "text": "In this manuscript we thoroughly discussed and further elaborated the results of the companion work [24]. We extended the conventional diffusive MFT to describe the physics controlled by rare but significant fluctuations, such as large deviations and the dynamical correlation functions, at the Euler scale of hydrodynamics, in many-body systems supporting ballistic transport. The fundamental principle of the BMFT is the local relaxation of fluctuations introduced in Sec. 3: Fluctuations of mesoscopic observables (averages over fluid cells) are encoded as classical random variables, functions of the fluctuating mesoscopic conserved densities q(\u00b7, \u00b7) on space-time S= R\u00d7[0, T]. Their functional form is entirely fixed by the maximal entropy states (Gibbs and generalised Gibbs ensembles) of the model. This is a version of the BoltzmannGibbs principle of projection of local observables onto local densities, but expressed in full generality in the context of the Euler-scale physics. Local relaxation of fluctuations, combined with conservation laws of the microscopic model, implies that the fluctuations in space-time originate from those of the initial condition, as described by thermodynamics; initial fluctuations are simply time-evolved in a deterministic way according to the Euler hydrodynamic equation. This is a generalisation of the principle of local relaxation of averages, which is the cornerstone of Euler hydrodynamics, to that of rare fluctuations. From this principle, the measure of the space-time configuration of the fluctuating densities in Eq. (46) is derived. Equation (46) is the basis of all the BMFT predictions.\nThe BMFT is similar in spirit to the conventional, diffusive MFT, in that it is a large-deviation theory for space-time configurations based on an action formalism on conserved densities. However, one cannot be obtained from the other. Instead, we conjecture in Subsec. 3.3 a theory that describes both the ballistic and diffusive scale, where, in addition to the ballistic scale, noise contributions are included to the currents at smaller scales. The \u201czero-noise\u201d limit of this theory, the limit where one concentrates on the ballistic scale, recovers the BMFT; and the special case where no ballistic transport is present gives back the conventional MFT.\nThe two main physical predictions of the BMFT that we focused on in this paper are discussed in Sec. 4: the SCGF of the time-integrated current F(\u03bb, T ) (14) in Subsecs. 4.1-4.3, and the Euler scale correlation function Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) (22) in Subsecs. 4.4-4.7, for arbitrary weakly-inhomogeneous initial state of the form (12). There are two main observations.\nOne is that the existence of a time-reversal symmetry of the Euler hydrodynamics imply, from the natural symmetry of the BMFT equations, the Gallavotti-Cohen fluctuation theorem for transport in the partitioning protocol, as shown in Subsec. 4.3. This is one of the most\nuniversal out-of-equilibrium properties of many-body systems. Another one, explained in Subsec. 4.6 and in the companion manuscript [24], is the existence of certain types of long-range correlations out of equilibrium. We show that for the system to develop such long-range correlations, three conditions must be met: the system must be interacting (nonlinear Euler hydrodynamics), it must admit more than one conservation laws (more than one hydrodynamic velocity), and its initial condition must be inhomogeneous (for instance, presenting large-wavelength variations). In particular, long-range two-point correlations offer a clear way of distinguishing between interacting and non-interacting models without the need for evaluating higher-point correlation or response functions [22] or going to the diffusive scale [101].\nThe BMFT also gives access to more subtle information, such as the large-deviation theory of fluctuations within fluid cells. It shows that, in certain situations, such fluctuations are not given by those of the local maximal entropy state that corresponds to the values of local densities solving the Euler hydrodynamics. We predict the scaled covariance for TASEP, but further investigations would be necessary.\nImportantly, only the Euler hydrodynamic data of the model \u2013 in particular the flux Jacobian \u2013 is needed for the BMFT, and the predictions apply to any many-body systems, quantum or classical, deterministic or stochastic (so long as the hydrodynamics at the Euler scale is nontrivial). We emphasise in particular that even in stochastic systems, the theory for the dynamics of fluctuations at the ballistic scale does not involve noise. In these cases, the noise on the microscopic dynamics serves the principle of local relaxation of fluctuations, and it stays true that fluctuations at the ballistic scale are obtained by deterministic evolution (via the emerging Euler equation) of the initial large-scale fluctuations.\nHaving these general predictions from the BMFT at our disposal, we focused on integrable systems, where a much more elaborate analysis can be carried out than in non-integrable systems. We relied heavily on the machinery of GHD.\nWe first computed cumulants associated with current fluctuations both in homogeneous and step initial conditions, all of which perfectly agreed with hard-rods simulations.\nWe next computed the Euler-scale dynamical correlation function from general longwavelength initial condition. We specialised these to two inhomogeneous initial conditions: the bump release and the partitioning protocol; the former is expected to be described by the BMFT as it has smooth initial spatial variations, while the latter is generically not, as with rough initial spatial variations, additional correlations are created by microscopic processes, which are not universally set by Euler hydrodynamics. This turned out to indeed be the case. For the bump release, we observed a very good agreement in Fig. 4 between the analytic BMFT result and the numerical simulation. In the case of the partitioning protocol, instead, disagreement is seen, with more correlations in the simulation; these are interpreted as additional correlations that build up during the transient dynamics from the initial step condition.\nThere are numerous avenues that can be pursued by applying the BMFT. One immediate direction is to put the idea of local relaxation of fluctuations on a mathematically more rigorous ground. As mentioned, this idea is closely related to the Boltzmann-Gibbs principle, which in general states that, at an appropriately large scale, any fluctuating fields that are functions of space-time can be replaced by some functional of fluctuating density fields [26]. This statement has been proved for stochastic systems, see e.g., [27], but it would be strongly desired to establish it also in Hamiltonian systems, and in the generality of hydrodynamics with many conservation laws.\nAnother direction, along the line of further checking the validity the BMFT, is to compute the whole large deviation function F(\u03bb, T ) and compare it with numerical simulations of classical systems, such as the hard rods. This would, moreover, allow us to verify the equivalence between the BMFT and the homogeneous BFT beyond the perturbative argument in Subsec. 4.2.\nIt would also be satisfying to reproduce our predictions for integrable systems by focusing on analytically tractable models such as the box-ball system [102,103] (see in particular [43] for the exact computations of the cumulants). Concerning non-integrable systems, such as the TASEP and anhamornic chains, wherein hyperbolicity of the hydrodynamic system generically amounts to shocks, it is of paramount importance to investigate large deviations and dynamical correlations using the BMFT. Within this perspective, it would be illuminating to discern any possible qualitative differences between integrable and non-integrable systems. It would be also interesting to work out a solvable stochastic exclusion process with multiple species, e.g., Arndt-Heinzl-Rittenberg model [104], to see if our predictions on the long-range correlations can be microscopically confirmed.\nThe BMFT as formulated here can also be extended to describe ballistic large deviations more generally, such as under time evolution with long-wavelength, low-frequency variations of external fields and coupling parameters [105\u2013107], and with initial conditions that already include long-range correlations such as those appearing after quantum quenches [95, 108, 109]. As suggested in [20], ballistic fluctuations are connected to objects called \u201ctwist fields\u201d, which have many interesting applications, including for the study of entanglement [110]; this is another area where the BMFT may offer new insight.\nIt is also tempting to go beyond the BMFT by including the subleading corrections in the measure as in Subsec. 3.3, in particular (63). Importantly, the onset to the stationary value of cpart2 observed in Fig. 3 would be captured by the BMFT with diffusive corrections. More interestingly, we should study the cases where subleading corrections to the ballistic transport are superdiffusive. In such a situation one can try to incorporate these corrections perturbatively, which amounts to the inclusion of fluctuations around the saddle point. Such fluctuations are generally controlled by the determinant of the Hessian of the action, which tantalisingly suggests a connection with determinantal structures that are often found in systems that belong to the KPZ universality class [111]. We also assert that the BMFT with diffusive corrections applied to spin transport in the gapped and isotropic XXZ spin-1/2 chain might shed some light on the recently discovered apparent breakdown of large-deviation principles in the model [112\u2013114].\nAnother promissing direction is to generalise the idea of the (B)MFT to study the dynamics that is strongly influenced by quantum fluctuations. As we have seen, the underlying idea of the BMFT is the propagation of initial fluctuations, which are, in the present case, dominated by the thermal ones; quantum fluctuations are in general controlled by different scales. We would need to combine the ideas of quantum GHD [115] with the (B)MFT path-integral formalism.\nFinally, some of the predictions from the BMFT, e.g., the exact cumulant (158), could be observed in the state-of-the-art cold atom experiments. Indeed, in a recent experiment [116], the full counting statistics of spin transport in the isotropic XXZ spin-1/2 chain was experimentally studied using a quantum gas microscope."
        },
        {
            "heading": "Acknowledgements",
            "text": "We are grateful to Bruno Bertini, Olalla Castro-Alvaredo, Jacopo De Nardis, Fabian Essler, Tony Jin, Pierre Le Doussal, Adam Nahum, Tibor Rakovszky, Paola Ruggiero, and Herbert Spohn for illuminating discussions.\nFunding information The work of BD was supported by the Engineering and Physical Sciences Research Council (EPSRC) under grants EP/W000458/1 and EP/W010194/1. GP acknowledges support from the Alexander von Humboldt Foundation through a Humboldt research fellowship for postdoctoral researchers. The work of TS has been supported by JSPS\nKAKENHI Grant Nos. JP16H06338, JP18H03672, JP19K03665, JP21H04432, JP22H01143. BD, TS and TY acknowledge hospitality and support from the Galileo Galilei Institute, and from the scientific program on \u201cRandomness, Integrability, and Universality\u201d."
        },
        {
            "heading": "A The measure for the initial state",
            "text": "In this section we derive the generating function Eq. (44) for the Euler-scale equal-time correlations of conserved densities for the initial state (12) (generalising (16) to x-dependent parameter \u03bb(x)). We write\nexp\n\u222b\nR dx \u03bbi(x/\u2113)q\u0302i(x) \u2113\n= \u00b5\nexp\u2113 \u222b R dx (\u03bb i(x)\u2212 \u03b2 iini(x))q\u0302i(\u2113x)\n\u00b5 exp\u2212\u2113 \u222b R dx \u03b2 i ini(x)q\u0302i(\u2113x) , (A.1)\nwhere all charge densities are evaluated at time 0. We then apply \u03b4 \u2113\u22121 log\u2022 /\u03b4\u03bbi(x) on this expression, in the limit \u2113\u2192\u221e:\n\u03b4\n\u03b4\u03bbi(x) lim \u2113\u2192\u221e\n\u2113\u22121 log exp\n\u222b\nR dx \u03bbi(x/\u2113)q\u0302i(x) \u2113 = \u2329q\u0302i(\u2113x)\u232a\u2113 = qi[\u03b2ini(x)\u2212\u03bb(x)] . (A.2)\nIn the quantum case, this last calculation must be argued for more carefully because of non-vanishing commutation relations. We write for instance\n\u2113\n\u222b\nR dx \u03b2 i(x)q\u0302i(\u2113x) = \u2113\n\u222b\nR dx \u03b2 i(x)qi(\u2113x) = L\n\u2211 k\u2208Z \u03b2 i(xk)qi(\u2113xk) , (A.3)\nwhere the sum is over the fluid cell at positions xk = kL/\u2113 and of size L/\u2113 (in macroscopic coordinates), and here we take fluid cell averaging in space only. Because the fluid cells are large, by locality of the densities, commutators vanish. For neighbouring cells, the only nontrivial case, the calculation is as follows\n[qi(\u2113xk), q j(\u2113xk+1)] = 1 L2\n\u222b L\n0\ndy\n\u222b L\n0\ndz [q\u0302i(\u2113xk + y), q\u0302 j(\u2113xk + z + L)]\n= 1 L2\n\u222b L\nL\u2212\u2113micro\ndy\n\u222b \u2113micro\n0\ndz [q\u0302i(\u2113xk + y), q\u0302 j(\u2113xk + z + L)] , (A.4)\nwhere we used the fact that commutators of local observables are nonzero only at microscopic distances. Therefore ||[qi(\u2113xk), qi(\u2113xk+1)]|| \u2264 2\u21132micro/L\n2 ||q\u0302i|| ||q\u0302 j|| \u2192 0. The variables qi(\u2113xk) are commuting macroscopic variables in the sense introduced by von Neumann in the context of his quantum ergodicity theorem (see, e.g., [84]).\nFrom (A.2) and the condition at \u03bb(x) = 0, and from the definition of the free energy f [\u03b2], we deduce that\nexp\n\u222b\nR dx \u03bbi(x/\u2113)q\u0302i(x) \u2113\n\u224d exp \u2113 \u222b\nR dx f [\u03b2 ini (x)]\u2212 f [\u03b2 ini (x)\u2212\u03bb(x)] . (A.5)\nThis shows (44)."
        },
        {
            "heading": "B Thermodynamics of hard-rods system",
            "text": "The hard-rods model is a classical many-body system, describing a gas of identical rods (we set the rods\u2019 mass to 1) with length a. The rods propagate freely until they experience elastic pairwise collisions, where the velocities get exchanged. The system has an infinite number of conservation laws labelled by the velocities \u03b8 and hence is integrable. The hard-rods system occupies a vital position amongst integrable systems from the viewpoint of GHD. This is partly because one of the key insights offered by GHD is that, on the Euler scale, a fluid of integrable systems can be thought of as a gas of tracer particles of hard-rods (with velocity-dependent jumps) [28, 76]. Here, velocity tracers are quasi-particles assigned to each rod, which propagate along straight line trajectories (in the space-time diagram) interspersed with jumps of length a at each collision. The single particle eigenvalue of the energy, E\u03b8 , momentum, p\u03b8 , and particle number, N\u03b8 , are the ones of a classical Galilean particle\nE\u03b8 = \u03b82\n2 , p\u03b8 = \u03b8 , N\u03b8 = 1 . (B.1)\nThe scattering phase shift equals (we follow the notation convention of Ref. [28])\nT\u03b8\u03c6 = \u2212a , (B.2)\nwhich amounts to the following integral equation for the pseudo-energy (124)\n\u03b5\u03b8 = \u03b2\u03b8 + a\n\u222b\nR\nd\u03c6 2\u03c0 exp \u2212\u03b5\u03c6 , (B.3)\nwhere we used n\u03b8 = e\u2212\u03b5 \u03b8 /(2\u03c0) in hard-rods. Thanks to this particularly simple form of the phase shift, the description of hard-rods is substantially simplified. For instance, the dressing operation simply gives, for any a\u03b8 ,\nadr;\u03b8 = a\u03b8 \u2212 a(1\u2212 a\u03c1) \u222b\nR d\u03c6 n\u03c6a\n\u03c6 , (B.4)\nwhere the density of rods satisfies \u03c1/\u03c1tot = \u222b R d\u03c6 n \u03c6 with \u03c1tot := 1 \u2212 a\u03c1. Accordingly, the effective velocity reads\nveff\u03b8 = \u03b8 \u2212 aj \u03c1tot , (B.5)\nwhere j := \u03c1tot \u222b R d\u03c6\u03c6n \u03c6 . A simplification also occurs for the characteristics U\u03b8 (x , t; s), which is now determined by\n\u222b U\u03b8 (x ,t;s)\n\u2212\u221e dy \u03c1tot(y, s) + (\u03b8 \u2212 aj\u2212)(t \u2212 s)=\n\u222b x\n\u2212\u221e dy \u03c1tot(y, t) , (B.6)\nwhere j\u2212 = limx\u2192\u2212\u221e j(x , 0)."
        },
        {
            "heading": "C Hydrodynamic response theory",
            "text": "In this section we shall review the basics of the hydrodynamic response theory, and in particular articulate under which circumstances it is valid. The underlying idea of the hydrodynamic response theory is that an initial local entropy-maximised state (12) propagates in time while\nkeeping its form intact, and that perturbations of this state generate Euler-scale correlation functions. Suppose the system is initially in a local entropy-maximised state labelled by Lagrange multipliers \u03b2 j(x , 0) = \u03b2 jini(x). We then let the system evolve in time. According to Euler hydrodynamics, \u03b2 j(x , t) satisfy (11). In order to access dynamical correlation functions, the insertion of a mesoscopic (fluid-cell averaged) conserved density qi1(x1, t1) is obtained by performing a small perturbation of the state at the space-time (x1, t1): \u03b2 i1(x1, t1) 7\u2192 \u03b2 i1(x1, t1) + \u03b4\u03b2 i1(x1, t1). The way the Euler hydrodynamic solution changes for a (possibly different) conserved density qi2(x2, t2), at a later time t2 > t1, gives the correlation between qi1(x1, t1) and qi2(x2, t2). A similar principle holds for higherpoint functions: for the n-point Euler-scale function, one looks at the way the Eulerscale (n \u2212 1)-point function Sq\u0302i2 ,...,q\u0302in (x2, t2; \u00b7 \u00b7 \u00b7 ; xn, tn) changes under the perturbation \u03b2 i1(x1, t1) 7\u2192 \u03b2 i1(x1, t1) + \u03b4\u03b2 i1(x1, t1); this is referred to as nonlinear response as, by induction, it requires focusing on the (n\u22121)th power of perturbations of the original hydrodynamic solution.\nThus, the two-point function Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2), according to the hydrodynamic response theory, is given by\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = \u2212 \u03b4qi2(x2, t2)\n\u03b4\u03b2 i1(x1, t1) . (C.1)\nThis means that qi2(x2, t2) is evaluated in the state which is, at t1, described by\n\u03b2 i(x , t1) linear response = \u03b2 i(x , t1)\u2212\u03bb\u03b4 ii1\u03b4(x \u2212 x1) , (C.2)\nand that the derivative is with respect to \u03bb, after which \u03bb= 0 is taken. This idea is generalised to perturbations of the hydrodynamic solution o(x2, t2) for an arbitrary observable o\u0302(x2, t2), by considering o(x2, t2) as a function of qi(x2, t2)\u2019s and using the chain rule for differentiation. The idea is further generalised, somewhat formally, by assuming that for every observable o\u0302(x , t), there is an associated Lagrange multiplier \u03b2 o\u0302 which we can perturb in order to insert that observable.\nThese response principles naturally lead to (26) and (28). But in addition, as mentioned, implicit in response theory is that the form (12) stays valid for all times \u2013 this is how one can justify modifying the parameter \u03b2 i1(x1, t1), at time t1, in order to insert qi1(x1, t1) for instance. And thus, in particular, as a direct consequence of (C.2), the initial condition for (28) is the delta-function form Sq\u0302i ,q\u0302 j (x1, t1; x2, t1) = Ci j(x1, t1)\u03b4(x1 \u2212 x2), which in general disagrees with the long-range correlations found in the BMFT if t1 > 0.\nWe will now see how the linear-response principles are in fact in disagreement with the BMFT, even though (26) and (28) are correct.\nIn order to see this, we recall that in the BMFT, we consider, much like in linear response theory, Lagrange multipliers \u03b2 i(x , t) that evolve according to the Euler equation. The insertion of a conserved density qi1(x1, t1) is also obtained by modifying the state appropriately. However, we point out that the modification is not given by (C.2). Indeed, the result (110) states that the Lagrange multipliers at time t1 have the form\n\u03b2 i(x , t1)\nBMFT = U\u03bb(t1, 0)\u03b2ini i (x)\u2212\u03bb\u03b4 ii1\u03b4(x \u2212 x1) . (C.3)\nRecall that U\u03bb(t, t \u2032) is the linear evolution operator that transports a quantity along the \u03bbdependent fluid of the BMFT, Eqs. (107) and (108). Note also that at \u03bb = 0 the BMFT simply gives for \u03b2 i(x , t) the Euler hydrodynamics from the initial state \u03b2 iini(x). Thus we can write\n\u03b2 i(x , t1) = U0(t1, 0)\u03b2ini i (x) . (C.4)\nWe can now see clearly the difference between the linear response (C.2) and the BMFT (C.3): it lies in the first term, which is U0(t1, 0)\u03b2ini i (x) in the linear response theory, and\nU\u03bb(t1, 0)\u03b2ini i (x) in the BMFT.\nTherefore, linear response and the BMFT agree for the Euler-scale two-point functions only in non-interacting models (in which case U\u03bb(t, t \u2032) is independent of \u03bb), at t1 = 0 (as U\u03bb(0,0) = 1), or in homogeneous states (as U\u03bb(t1, 0)\u03b2ini = \u03b2ini). This further suggests that nonlinear response theory is incorrect (higher-point functions are not given by linear response principles) even in homogeneous states, if the model is interacting and at least two of the times are greater than zero. Indeed, as explained above, nonlinear response theory is obtained from considering two-point functions in inhomogeneous, perturbed states."
        },
        {
            "heading": "D The inhomogeneous ballistic fluctuation theory",
            "text": "For ease of notation, here and in the rest of the appendices, we will occasionally use \u201cdr\u201d and \u201ceff\u201d as subscripts. We will use upper and lower indices for u\u03b8 , r\u03b8 , T , and v\neff liberally too. The inhomogeneous BFT, developed in Ref. [23], was devised to generalise the BFT to longwavelength inhomogeneous initial states, and built on the linear response theory developed in [19] for integrable systems, which in particular assumes (C.1). The inhomogeneous BFT turns out to predict that there are in general two contributions to Euler-scaled correlations Sq\u0302i ,q\u0302 j (x , t; y, t\n\u2032) (22) and cumulants cn (24) determined by a direct and an indirect propagator. In particular, focusing on the Euler-scaled second cumulant c2 defined in Eq. (24) one has\nc2(T )= 2 T\n\u222b T\n0\ndt2\n\u222b t2\n0\ndt1 \u0393(0,t1)\u2192(0,t2) \u03b8 \u03c6 veff,\u03c6(0, t1)h dr,\u03c6 i\u2217 (0, t1)\u03c7\u03b8 (0, t2)v eff \u03b8 (0, t2)h dr i\u2217,\u03b8 (0, t2) ,\n(D.1) where we symmetrized the two-point function as it is invariant under the exchange t1\u2194 t2. The propagator \u0393 can be split, as anticipated, into the direct and indirect part as\n\u0393(y,\u03c4\u2032)\u2192(x ,\u03c4) \u03b8 \u03c6 = \u03b4 y \u2212U\u03b8 (x ,\u03c4,\u03c4\u2032) \u03b4\u03b8\u03c6 + \u2206(y,\u03c4\u2032)\u2192(x ,\u03c4) \u03b8 \u03c6 . (D.2)\nThe first term on the right hand side is the direct propagator and it depends on the single rapidity \u03b8 whose associated normal mode propagates between the two space-time points (y, t \u2032) and (x , t) correlations refer to, as sketched in Fig.1b. This contribution is present even in the simpler case of homogeneous GGE states. The indirect propagator \u2206(y,\u03c4\u2032)\u2192(x ,\u03c4), instead, necessarily requires an inhomogeneous fluid background and interactions among normal modes. The indirect propagator encodes the perturbation of the trajectory of the normal mode with rapidity \u03b8 due to the interaction with normal modes with a different rapidity\u03c6, not necessarily connecting the space-time points (y, t \u2032) and (x , t). As a consequence, the indirect propagator depends on all the rapidities.\nBefore giving the expression for the indirect propagator \u2206(y,\u03c4\u2032)\u2192(x ,\u03c4), we consider the specialization of Eq. (D.1) to the partitioning protocol, discussed in Sec. 5.3. In this case, as explained in the main text after Eq. (130), the state depends only the ray and therefore equation (D.1) can be rewritten as\ncpart2 = 2 T\n\u222b T\n0\ndt2\n\u222b t2\n0\ndt1 \u0393(0,t1)\u2192(0,t2) \u03b8 \u03c6 veff,\u03c6hdr,\u03c6i\u2217 \u03c7\u03b8 v eff \u03b8 h dr i\u2217,\u03b8\n= 2\n\u222b 1\n0\nda (\u0393a) \u03b8 \u03c6 v eff,\u03c6hdr,\u03c6i\u2217 \u03c7\u03b8 v eff \u03b8 h dr i\u2217,\u03b8 , (D.3)\nwhere the state-dependent functions reported without space-time arguments are meant henceforth in this Subsection to be evaluated on the ray \u03be = x/t = 0. In the second equality, we used the scaling property of the propagator \u0393\n\u0393(0,\u03b1\u03c4\u2032)\u2192(\u03b1\u03c4) \u03b8 \u03c6 = 1 \u03b1 \u03930,\u03c4\u2032\u21920,\u03c4 \u03b8 \u03c6 , (D.4)\nwhich is valid since the partitioning protocol initial state is invariant under space-time rescaling transformations. We further defined \u0393a = \u03930,a\u21920,1 (omitting the space point x = 0 for brevity), with 0 < a < t1/t2 < 1. It is immediate to evaluate the contribution c part,dir 2 of the direct propagator in Eq. (D.2) to the second cumulant\ncpart,dir2 = 2\n\u222b 1\n0\nda\u03c7\u03b8 veff\u03b8 h dr,\u03b8 i\u2217 2 \u03b4 (U\u03b8 (0, 1, a)) = \u03c7\u03b8 |veff\u03b8 | hdr;\u03b8i\u2217 2 , (D.5)\nwhere we used that \u03b4 (U\u03b8 (0,1, a)) = \u03b4(a\u2212 1)/|veff\u03b8 | and the regularization \u0398(0) = 1/2 of the Heaviside step function. Equation (D.5) is readily recognized as (158). In order to conclude to proof of (158), we therefore need to show that the indirect propagator \u2206 in Eq. (D.2) gives zero contribution to cpart2 .\nThis requires more work as the expression of the indirect propagator \u2206 is given through an integral equation. We report the latter equation for the specific case of the partitioning protocol (see Refs. [19,23,31] for the general discussion) This indirect propagator satisfies\n\u2206a,\u03be \u03b8 \u03c6 veff,\u03c6hdr,\u03c6i\u2217 = 2\u03c0 a eff,\u03b8 (U\u03b8 (\u03be, 1, a)/a)\n\u00d7 Wa,\u03bev eff,\u03b8hdr,\u03b8i\u2217 + \u222b \u03be \u2212\u221e d\u03b6 \u03c1tot,\u03b8 (\u03b6) f \u03b8 (\u03b6) \u2206a,\u03b6 \u03b8 \u03c6 veff,\u03c6hdr,\u03c6i\u2217\n\u2217dr (\u03b6) ,\n(D.6)\nwith the notation \u2206(0,\u03c4\u2032)\u2192(x ,\u03c4) = \u03c4\u22121\u2206(0,a)\u2192(\u03be,1) \u2261 \u03c4\u22121\u2206(a,\u03be) from the scaling property (D.4). Here and below \u03be,\u03b6 are rays, and a = t1/t2 as above (more precisely, a = t1 with t2 = 1). In the previous equation, we denoted with h\u2217dr,\u03b8 (\u03b6) = hdr,\u03b8 (\u03b6)\u2212 h\u03b8 , where dressing operation is performed with respect to the state on the ray \u03b6 for a generic function h\u03b8 of the rapidity. The operator Wa,\u03be is defined as\n[Wa,\u03bev eff,\u03b8hdr,\u03b8i\u2217 ] =\u2212\u0398 U\u03b8 (\u03be, 1, a) (\u03c1tot,\u03b8 f \u03b8 veff,\u03b8hdr,\u03b8i\u2217 ) \u2217dr(0)\n+\n\u222b \u03be \u2212\u221e d\u03b6 \u03c1tot,\u03b3(\u03b6)n\u03b3 f \u03b3 Tdr \u03b8 ,\u03b3 (\u03b6)veff,\u03b3hdr,\u03b3i\u2217 |\u2202\u03b3U\u03b3(\u03b6, 1, a)| \u03b3=\u03b8\u2217(\u03b6,a) , (D.7)\nwhere U\u03b8\u2217(\u03b6,a)(\u03b6, 1, a) = 0 that is \u03b8\u2217(\u03b6, a) is the rapidity for which the characteristic at time 1 passing by \u03b6, at time a passes by 0. We assumed monotonicity of the characteristic U\u03b8 with respect to the rapidity variable, but otherwise there is a sum over values of \u03b8\u2217(\u03b6, a). We have further denoted with Tdr \u03b8 ,\u03c6 (\u03b6,\u03bb,\u03b3) (with two upper indices to emphasize that no rapidity integration is performed inside the \u03b6 integral) the differential scattering kernel dressed with respect to the state n(\u03b6). In Eq. (D.6), we have also introduced the effective acceleration aeff \u03b8 [19], which encodes the inhomogeneity of the initial state as\naeff\u03b8 (\u03be) = \u2202\u03ben\u03b8 (\u03be)\n2\u03c0\u03c1\u03b8 (\u03be) f\u03b8 (\u03be) = \u03b4n\u03b8 2\u03c0\u03c1\u03b8 (\u03be) f\u03b8 (\u03be) \u03b4(veff\u03b8 (\u03be)\u2212 \u03be)\n1\u2212 \u2202 veff \u03b8 (\u03be)\n\u2202 \u03be\n= \u03b4n\u03b8\n2\u03c0\u03c1\u03b8 (\u03be) f\u03b8 (\u03be) \u03b4(veff\u03b8 (\u03be)\u2212 \u03be) , (D.8)\nin the second step we used Eq. (130) for the state n\u03b8 (\u03be) in the partitioning protocol and \u03b4n\u03b8 = nR,\u03b8 \u2212nL,\u03b8 . Importantly, in the partitioning protocol, the effective acceleration contains a delta function that enforces the constraint that the ray \u03be must be equal to \u03be\u2217\n\u03b8 defined as\n\u03be\u2217\u03b8 : v eff \u03b8 (\u03be \u2217 \u03b8 ) = \u03be \u2217 \u03b8 . (D.9)\nThe ray derivative of the effective velocity evaluated at \u03be\u2217 accordingly vanishes\n\u2202 veff \u03b8 (\u03be)\n\u2202 \u03be\n\u03be=\u03be\u2217\u2217 = 0 , since \u2202\u03bev eff \u03b8 (\u03be)\u03c1 tot \u03b8 (\u03be) = \u03be\u2212 veff\u03b8 (\u03be) \u2202\u03be\u03c1 tot \u03b8 (\u03be) . (D.10)\nThe last equation follows from the fact that the total density of states \u03c1tot \u03b8 (assumed to be strictly positive) satisfies the same GHD equation as \u03c1\u03b8 (written in terms of the ray \u03be = x/t coordinate). We used this property in the third equality in Eq. (D.8).\nOne can see that the effective acceleration, according to its definition, vanishes when the state n is homogeneous. In the latter case, therefore, the indirect propagator \u2206 vanishes and cumulants are solely determined by the direct contribution of Eq. (D.2). In this case, we, indeed, recover the prediction from the homogeneous BFT theory discussed in the text. For the second cumulant, in particular, one has (D.5) in agreement with Eq. (128). We now, however, show that for the partitioning protocol initial inhomogeneous state the structure of the effective acceleration in (D.8) allows to show that the indirect propagator vanishes for c2(T ). Since the effective accelaration aeff\n\u03b8 has to be computed in Eq. (D.6) along the characteristic curve\nU\u03b8 (\u03be, 1, a), we exploit the identity\n\u2202 U\u03b8 (x ,\u03c4,\u03c4\u2032) \u2202 \u03c4\u2032 = \u2202 \u03c4\u2032U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1) \u2202 \u03c4\u2032\n= U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1)\u2212 x \u03c4\u2032 \u2202 U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1) \u2202 (x/\u03c4\u2032) \u2212 \u03c4 \u03c4\u2032 \u2202 U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1)\n\u2202 (\u03c4/\u03c4\u2032) = veff\u03b8 U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1) , (D.11)\nwhere the first equality follows from the scaling property U\u03b8 (x ,\u03c4,\u03c4\u2032) = \u03c4\u2032U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1) valid for the partitioning protocol state, while in the third equality directly follows upon differentiating with respect to \u03c4\u2032 the integral equation (135) for U\u03b8 (x ,\u03c4,\u03c4\u2032). Inserting the expression for U\u03b8 (x/\u03c4\u2032,\u03c4/\u03c4\u2032, 1) from (D.11) into the expression for the effective acceleration in (D.7), one has that the latter can be rewritten as\naeff\u03b8 (U\u03b8 (\u03be/a, 1/a, 1)) = 1 2\u03c0 \u03b4n\u03b8 \u03b4(veff \u03b8 (\u03be)\u2212 \u03be) \u03c1\u03b8 (\u03be) f\u03b8 (\u03be) = 1 2\u03c0 \u03b4n\u03b8 \u03b4(\u03be\u2212 \u03be\u2217 \u03b8 ) \u03c1\u03b8 (\u03be) f\u03b8 (\u03be) , (D.12)\nwith \u03be\u2217 \u03b8\ndefined in (D.9). In order to eventually compute c2(T ) from (D.3) one needs to know\u2206a,\u03be=0 from (D.6) and, therefore a eff \u03b8 (U\u03b8 (0,1/a, 1)). The latter readily follows from the previous equation\naeff\u03b8 (U\u03b8 (0, 1/a, 1)) = 1 2\u03c0 \u03b4n\u03b8 \u03b4(veff \u03b8 (\u03be)) \u03c1\u03b8 f\u03b8 = 1 2\u03c0 \u03b4n\u03b8 \u03b4(\u03b8 \u2212 \u03b8 \u2217) |\u2202\u03b8 veff\u03b8 |\u03c1\u03b8 f\u03b8 , with veff(\u03b8 \u2217) = 0 .\n(D.13) The effective acceleration determining the integral equation for \u2206a,\u03be=0 is therefore supported only on the rapidity \u03b8 \u2217 such that the effective velocity veff\n\u03b8 on the ray \u03be = 0 is zero. Inserting\nthe expression (D.13) into (D.6) and eventually into Eq. (D.3), one readily recognizes that the indirect contribution to c2 vanishes because of effective velocity v eff \u03b8\nfactor appearing into the integral (D.3). Therefore, we conclude that c2(T ) is exactly given by Eq. (D.5), which\nremarkably depends solely on thermodynamic quantities dependent on the state \u03be = 0. This constitutes the derivation of the result in Eq. (158) of the main text within the inhomogeneous BFT formalism.\nIn order to compute higher cumulants and the whole scaled-cumulant generating function F(\u03bb, T ) one needs to solve the inhomogeneous BFT flow equation, which describes the flow of space-time dependent Lagrange multipliers \u03b2(x , t), in the manifold of inhomogeneous GGE states \u03b2(x , t) 7\u2192 \u03b2(x , t,\u03bb). This equation generalizes Eq. (79) to long-wavelength initial states (12) by embodying the effect of indirect correlations among normal modes as per the indirect propagator \u2206. This equation has been reported in Ref. [23] and it relies on the results of Ref. [19] for integrable systems. As such, the inhomogeneous BFT is at present limited to the latter class of systems, differently from its homogeneous counterpart in Eq. (79). We do not report the equation here as the investigation of higher order cumulants is left for future works. Here it is sufficient to say that from the solution of the flow equation, the SCGF F(\u03bb, T ) in Eq. (14), is eventually retrieved as F(\u03bb, T ) = \u222b \u03bb\n0 d\u03bb \u2032 \u222b T 0 dt ji\u2217(0, t,\u03bb \u2032)/T ,\nwith ji\u2217(0, t,\u03bb \u2032) = \u2329 \u0237\u0302i\u2217(0,0)\u232a\u03b2(0,t,\u03bb\u2032), which is remarkably similar to the result from BMFT in Eq. (78). It is here fundamental to emphasize that, given our findings about the existence of longrange Euler-scaled correlations, the inhomogeneous version of BFT still requires more checks. As a matter of fact, this theory is based on Eq. (C.1) and therefore by construction it does not account for the long-range contribution to correlations generated by normal modes coherently emitted at the past from the inhomogeneity (see the discussion in Appendix C). That being said, in the present manuscript, we numerically verified that the inhomogeneous BFT gives the correct second cumulant cpart2 in Eq. (158) for the partitioning protocol on the ray \u03be = x/t = 0 (see the discussion in Subsec. 5.4 of the main text and Fig. 3). This a consequence of the fact that the contribution to current-current correlators stemming from the correlations between normal modes in both the inhomogeneous BFT and the BMFT vanishes because the fluid velocity of the normal mode that propagates along the ray \u03be= 0 is zero (see Eq. (D.13)). The result for cpart2 provides the first confirmation of the validity of the inhomogeneous BFT, at least for cumulants in the partitioning protocol. The effect of the presence of long-range correlations on higher-order cumulants and on the scaled-cumulant generating function F(\u03bb, T ), requires, however, a more in-depth analysis and numerical checks which would shed light on the relation betwen the BMFT and the inhomogeneous BFT and the limits of validity of the latter. Regarding correlations functions, instead, whenever the contribution from the long-range Euler scaled correlations is present, we expect the BFT and the BMFT to predict different results, the latter of which is deemed to be correct."
        },
        {
            "heading": "E Non-canonical mesoscopic fluctuations out of equilibrium: TASEP",
            "text": "The TASEP is a classical stochastic exclusion process defined on a lattice, where particles hop only towards one direction randomly, subject to hard-core exclusion [117]. Its hydrodynamics is well-known and is given by the inviscid Burgers equation\n\u2202t\u03c1(x , t) + \u2202x[\u03c1(x , t)(1\u2212\u03c1(x , t))] = 0 , (E.1)\nwhere \u03c1(x , t) is the particle density. Its conjugate variable \u03b2(x , t) is then determined by \u2202 \u03b2/\u2202 \u03c1 = \u22121/(\u03c1(1 \u2212 \u03c1)), which yields \u03b2[\u03c1] = \u2212 log(\u03c1/(1\u2212\u03c1)). The rest of the MFT equations (98) carries over, except having only one component with the flux Jacobian replaced by v[\u03c1] := 1 \u2212 2\u03c1. Following the same argument as after Eq. (109) in Subsec. 4.6, we have H(x , t1) = \u03bb\u03b4(x \u2212 x1). Defining the characteristic curve U(x , t; t1) by\nx = v[\u03b2(U(x , t; t1), t1)](t\u2212 t1)+U(x , t; t1) so that H(x , t) = H(U(x , t; t1), t1), the full profile of H can be given by H(x , t) = \u03bb\u03b4(U(x , t; t1)\u2212 x1). Further introducing u(x , t) := U(x , t; 0) and invoking \u03b2(x2, t1) = \u03b2(u(x2, t1), 0), we therefore have, at \u03bb= 0,\n\u2202\u03bb\u03b2(x2, t1) = (\u2202\u03bb\u03b2)(u, 0) + \u2202\u03bbu\u2202u\u03b2 = (\u2202\u03bb\u03b2)(u, 0)\n1+ \u2202 v(u, 0)t1 , (E.2)\nwhere we used \u2202\u03bbu = \u2212(t \u2202\u03b2 v(\u2202\u03bb\u03b2)(u, 0))/(1+ \u2202 v(u, 0)t) and we denote by \u2202 the derivative of the function with respect to its spatial argument. Since (\u2202\u03bb\u03b2)(u(x2, t1), 0) = \u2212\u03b4(x1\u2212 x2), it turns out that the nontrivial interaction as well as the initial homogeneity amounts to a change of the local covariance matrix rather than long-range correlations:\nSq\u03020,q\u03020(x1, t1; x2, t2) = \u03b4(x1 \u2212 x2)\n1+ \u2202 v(u, 0)t1 C00(x1, t1) , (E.3)\nwhere C00[\u03c1] = \u03c1(1\u2212\u03c1). Of course, it is a well-known fact that the TASEP could generically develop shocks [118], but at least up to the time when it starts developing shocks, the above correlation function is expected to be valid. The inevitable appearance of a shock also prevents the correlator from having the vanishing weight when t1\u2192\u221e. The change of the local weight suggests an intriguing phenomenon in the TASEP, which is that the fluid cells cannot be thought of as being described by the local Gibbs distribution e\u2212\u03b2(x ,t)Q0 , as the weight differs from what one obtains from this distribution, i.e., C00(x , t). Clearly this phenomenon persists even for other one-component systems whose hydrodynamics are controlled by the hyperbolic equation of type \u2202t\u03c1+ f (\u03c1)\u2202x\u03c1 = 0 for an arbitrary function f (\u03c1). We therefore expect that the lack of long-range correlations in systems that have only one conservation law to be generically true."
        },
        {
            "heading": "F The MFT flow equation for current fluctuations in integrable systems",
            "text": "The initial condition (144) allows us to write down the flow equation for \u03b5\u03b8 (x , t). Since \u03b5\u03b8 (x , t) = \u03b5(u\u03b8 (x , t), 0), we have\n\u2202\u03bb\u03b5 \u03b8 (x , t) = \u2202\u03bbu \u03b8 \u2202y\u03b5 \u03b8 (y, 0) y=u\u03b8 (x ,t) + (\u2202\u03bb\u03b5 \u03b8 )(u\u03b8 (x , t), 0)\n= \u03bbh\u03b8dr(u \u03b8 (x , t), 0)\u0398(u\u03b8 (x , t), 0) + \u2202\u03bbu \u03b8 \u2202x\u03b5 \u03b8 (x , 0) x=u\u03b8 (x ,t)\n\u2212 (R\u2212T)\u03b8\u03b1(u \u03b8 (x , t), 0)\u2202\u03bb \u03bb(RT)\u03b1\u03c6(0, T )\u0398(x \u2212 u \u03c6(0, T ))h\u03c6dr(0, T ) . (F.1)\nThe treatment of \u2202x\u03b5(x , 0) depends on the initial condition we choose. For the most of the cases, we can simply use the boundary condition of the MFT equations and get\n\u2202x\u03b5(x , 0) = \u03bbh \u03b8 dr(0,0)\u03b4(x) + (R \u2212T)\u03b8\u03c6(x , 0)\u2202x\u03b2 \u03c6 ini(x)\u2212\u03bb\u03b4(x \u2212 u \u03b8 (0, T ))h\u03b8dr(0, T ) . (F.2)\nHaving a quantity whose argument is x = t = 0 could however cause problems in some situation, such as the partitioning protocol. In such a case one needs to take a detour by first obtaining \u03b5\u03b8 (x , 0) by differentiating \u03b2\u03b8 (x , 0) with respect to \u03bb, obtaining\n\u03b5\u03b8 (x , 0)= \u03b5\u03b8ini(x) +\n\u222b \u03bb\n0\nd\u03bb\u2032 h\u03b8dr(x , 0)\u0398(x)\u2212 (R \u2212T)\u03b8\u03b1(x , 0)\n\u00d7 \u2202\u03bb\u2032 \u03bb\u2032(RT)\u03b1\u03c6(0, T )\u0398(x \u2212 u \u03c6(0, T ))h\u03c6dr(0, T ) , (F.3)\nfrom which one obtains \u2202x\u03b5 \u03b8 (x , 0). Therefore the flow equation in a generic inhomogeneous case or in the partitioning protocol is given by (F.1) with (F.2) or (F.3), respectively."
        },
        {
            "heading": "G Third cumulant in the homogeneous case",
            "text": "In this section we shall explain how one can obtain c3 using the flow equation (147). Recall that what we have to evaluate is\nc3 = 1 T\n\u222b \u221e\n0\ndx\n\u222b\nR d\u03b8 h\u03b8\u2202 2\u03bb (\u03c1\u03b8 (x , T )\u2212\u03c1\u03b8 (x , 0))|\u03bb\u21920 . (G.1)\nFor that, we first note\n\u2202 2\u03bb\u03c1\u03b8 (x , t) = \u2212\u2202 2 \u03bb \u03b5 \u03c6(x , t)(R\u2212T)\u03c6 \u03b8 (x , t)\u03c7\u03c6(x , t)\u2212 \u2202\u03bb\u03b5\u03c6(x , t)\u2202\u03bb (R\u2212T)\u03c6 \u03b8 (x , t)\u03c7\u03c6(x , t)\n. (G.2)\nLet us start with \u2202 2 \u03bb \u03b5\u03c6(x , t). Using (147) we have\n\u2202 2\u03bb \u03b5 \u03c6(x , t) \u03bb\u21920 = 2 h \u2202\u03bbh \u03c6 dr(0, 0)\n\u03bb\u21920 \u0398(u\u03c6(x , t))\u2212 \u2202\u03bbh\n\u03c6 dr(0, T ) \u03bb\u21920 \u0398(r\u03c6(x , t)) i\n+ 2h\u03c6dr \u2202\u03bbu \u03c6(x , t) \u03bb\u21920\u03b4(u \u03c6(x , t))\u2212 \u2202\u03bbr\u03c6(x , t) \u03bb\u21920\u03b4(r \u03c6(x , t)) . (G.3)\nNote\n\u2202\u03bbh \u03c6 dr(0,0)\n\u03bb\u21920 = \u2202\u03bb\u03b5\n\u03b3(0,0)|\u03bb\u21920 \u2202\n\u2202 \u03b5\u03b3 h\u03c6dr = \u2212(T dr)\u03c6\u03b3n\u03b3 f \u03b3h\u03b3dr \u2202\u03bb\u03b5 \u03b3(0, 0)|\u03bb\u21920 , (G.4)\nwhere we recalled that h\u03c6dr = (R \u2212T)\u03c6\u03b3h\u03b3. Defining \u0398(0) := 1/2, \u2202\u03bb\u03b5\u03b3(0, 0) is simply\n\u2202\u03bb\u03b5 \u03b3(0, 0)|\u03bb\u21920 = h\n\u03b3 dr 1 2 \u2212\u0398(v\u03b3) = \u2212 1 2 sgn v\u03b3effh \u03b3 dr . (G.5)\nLikewise\n\u2202\u03bb\u03b5 \u03b3(0, T )|\u03bb\u21920 = h\n\u03b3 dr \u0398(\u2212v\u03b3)\u2212 1 2 = \u2212 1 2 sgn v\u03b3effh \u03b3 dr . (G.6)\nCombining these we can compute the first line in (G.3)\n2 h \u2202\u03bbh \u03c6 dr(0,0)\n\u03bb\u21920 \u0398\nu\u03c6(x , t) \u2212 \u2202\u03bbh \u03c6 dr(0, T )\n\u03bb\u21920 \u0398\nr\u03c6(x , t)\ni\n= sgn v\u03b3eff Tdr \u03c6 \u03b3 n\u03b3 f\u03b3 h\u03b3dr 2 \u0398 x\u2212v\u03c6eff t \u2212\u0398 x\u2212v\u03c6eff(t\u2212T ) . (G.7)\nNext we deal with the second line in (G.3). For that note first\n\u2202\u03bbr \u03c6(x , t) \u03bb\u21920 (p \u2032)\u03c6dr =\n\u222b x\n\u2212\u221e dy \u2202\u03bb(p\n\u2032)\u03c6dr[n(y, t)] \u03bb\u21920 \u2212 \u222b r\u03c6(x ,t) \u2212\u221e dy \u2202\u03bb(p \u2032)\u03c6dr[n T (y)]\n\u03bb\u21920\n.\n(G.8) Furthermore \u222b x\n\u2212\u221e dy \u2202\u03bb(p\n\u2032)\u03c6dr[n(y, t)] \u03bb\u21920 = \u2202 (p\u2032)\u03c6dr \u2202 \u03b5\u03b3 \u222b x \u2212\u221e dy \u2202\u03bb\u03b5 \u03b3[n(y, t)]|\u03bb\u21920\n= \u2212 \u2202 (p\u2032)\u03c6dr \u2202 \u03b5\u03b3 h\u03b3dr \u222b x\n\u2212\u221e dy\n\u0398(y \u2212 v\u03b3eff(t \u2212 T ))\u2212\u0398 y \u2212 v\u03b3eff t ,\n(G.9)\nand \u222b r\u03c6(x ,t)\n\u2212\u221e dy \u2202\u03bb(p\n\u2032)\u03c6dr[n T (y)]\n\u03bb\u21920\n= \u2212 \u2202 (p\u2032)\u03c6dr \u2202 \u03b5\u03b3 h\u03b3dr \u222b r\u03c6(x ,t)\n\u2212\u221e dy\n\u0398(y)\u2212\u0398(y \u2212 v\u03b3effT ) . (G.10)\nClearly \u2202\u03bbr \u03c6(x , T ) \u03bb\u21920 = 0 and\n\u2202\u03bbr \u03c6(x , 0)\n\u03bb\u21920\n= h\u03b3dr \u2202\n\u2202 \u03b5\u03b3 log\np\u2032 \u03c6\ndr\n\u222b x\n\u2212\u221e dy\n\u0398(y) +\u0398(y + v\u03c6effT )\u2212\u0398(y + v \u03b3 effT )\u2212\u0398(y + (v \u03c6 eff \u2212 v \u03b3 eff)T ) ,\n(G.11)\nwhich entails\n\u03b4(r\u03c6(x , 0))\u2202\u03bbr \u03c6(x , 0)\n\u03bb\u21920\n= h\u03b3dr \u2202\n\u2202 \u03b5\u03b3 log\np\u2032 \u03c6\ndr v\u03b3eff\u0398 \u2212v\u03b3eff + v\u03c6\u03b3\u0398 \u2212v\u03c6\u03b3 \u2212 v\u03c6\u0398 \u2212v\u03c6eff \u03b4 x + v\u03c6effT\n= \u2212 h\u03b3dr \u03c1tot \u03c6 (Tdr)\u03c6\u03b3\u03c7\u03b3 v\u03b3eff\u0398 \u2212v\u03b3eff + v\u03c6\u03b3\u0398 \u2212v\u03c6\u03b3 \u2212 v\u03c6eff\u0398 \u2212v\u03c6eff \u03b4 x + v\u03c6effT , (G.12)\nwhere v\u03c6\u03b3 = v\u03c6eff \u2212 v \u03b3 eff. In the same way, one can also show that \u2202\u03bbu \u03c6(x , 0) \u03bb\u21920 = 0 and\n\u03b4(u\u03c6(x , T ))\u2202\u03bbu \u03c6(x , T )\n\u03bb\u21920\n= \u2212 h\u03b3dr \u03c1tot \u03c6 (Tdr)\u03c6\u03b3\u03c7\u03b3 v\u03b3eff\u0398(v \u03b3 eff) + v \u03c6\u03b3\u0398(v\u03c6\u03b3)\u2212 v\u03c6eff\u0398 v\u03c6eff \u03b4 x \u2212 v\u03c6effT . (G.13)\nNext we turn to the second term in (G.2). This is easier than the first term because we merely need to evaluate\n\u2202\u03bb\u03b5 \u03c6(x , t)\u2202\u03bb((R \u2212T)\u03c6 \u03b8 (x , t)\u03c7\u03c6(x , t))\n\u03bb\u21920 = \u2202\u03bb\u03b5\n\u03c6(x , t) \u03bb\u21920 \u2202\u03bb\u03b5 \u03b3(x , t)|\u03bb\u21920\n\u2202\n\u2202 \u03b5\u03b3\n(R\u2212T)\u03c6 \u03b8 \u03c7\u03c6\n= h\u03c6drh \u03b3 dr\u0398 \u03c6(x , t)\u0398\u03b3(x , t)\n\u2202\n\u2202 \u03b5\u03b3\n(R\u2212T)\u03c6 \u03b8 \u03c7\u03c6 , (G.14)\nwhere \u0398\u03c6(x , t) := \u0398(x \u2212 v\u03c6eff(t \u2212 T ))\u2212\u0398(x \u2212 v \u03c6 eff t). Notice\n\u2202\n\u2202 \u03b5\u03b3 ((R\u2212T)\u03c6 \u03b8 \u03c7\u03c6)\n= \u2212\u03c7\u03c6(Tdr)\u03c6\u03b3n\u03b3 f \u03b3(R\u2212T) \u03b3 \u03b8 \u2212 (R\u2212T)\u03c6 \u03b8 n\u03c6 f\u03c6(T dr)\u03c6\u03b3\u03c7\u03b3 \u2212 (R\u2212T)\u03c6 \u03b8 \u03c7\u03c6(1\u2212 2n\u03c6)\u03b4\u03c6\u03b3 . (G.15)\nPlugging this into (G.14), we get\n\u2202\u03bb\u03b5 \u03c6(x , t)\u2202\u03bb((R \u2212T)\u03c6 \u03b8 (x , t)\u03c7\u03c6(x , t))\n\u03bb\u21920\n= \u22122(R\u2212T)\u03b3 \u03b8 h\u03c6drh \u03b3 dr\u03c7\u03c6(T dr)\u03c6\u03b3n\u03b3 f \u03b3\u0398\u03c6(x , t)\u0398\u03b3(x , t)\u2212 (R\u2212T)\u03c6 \u03b8 (h\u03c6dr) 2\u03c7\u03c6(1\u2212 2n\u03c6)(\u0398\u03c6(x , t))2 . (G.16)\nHaving all the relevant terms at our disposal, we are in the position to compute c3. Let us first compute the nondiagonal contributions, which read\nR\u2212T \u03b3 \u03b8 h\u03c6drh \u03b3 dr\u03c7\u03c6 Tdr \u03c6 \u03b3 n\u03b3 f\u03b3 1 T\n\u222b \u221e\n0\ndx\n\u00d7 \u2212 sgn v\u03b3eff \u0398 x \u2212 v\u03c6effT \u2212\u0398(x)\u2212 \u0398(x)\u2212\u0398 x + v\u03c6effT\n+ 2 v\u03c6eff\u0398(v \u03c6 eff)\u2212 v \u03c6\u03b3\u0398 \u2212v\u03c6\u03b3 \u2212 v\u03b3eff\u0398 v\u03b3eff \u03b4 x \u2212 v\u03b3effT\n+ 2 v\u03c6\u0398 \u2212v\u03c6eff \u2212 v\u03c6\u03b3\u0398 v\u03c6\u03b3 \u2212 v\u03b3eff\u0398 \u2212v\u03b3eff \u03b4 x + v\u03b3effT\n+ 2 \u0398(x)\u2212\u0398 x \u2212 v\u03c6effT\n\u0398(x)\u2212\u0398 x \u2212 v\u03b3effT\n\u2212 2 \u0398 x + v\u03c6effT \u2212\u0398(x) \u0398(x + v\u03b3effT )\u2212\u0398(x) . (G.17)\nIt\u2019s easier to work out each building block. The first one is\n\u2212 1 T sgn v\u03b3eff\n\u222b \u221e\n0\ndx \u0398 x \u2212 v\u03c6effT \u2212\u0398(x)\u2212 \u0398(x)\u2212\u0398 x + v\u03c6effT\n= sgn v\u03b3eff|v \u03b4 eff| . (G.18)\nThe second one is\n1 T\n\u222b \u221e\n0\ndx v\u03c6eff\u0398 v\u03c6eff \u2212v\u03c6\u03b3\u0398(\u2212v\u03c6\u03b3)\u2212v\u03b3eff\u0398 v\u03b3eff \u03b4 x\u2212v\u03b3effT\n+ v\u03c6eff\u0398(\u2212v \u03c6 eff)\u2212v \u03c6\u03b3\u0398 v\u03c6\u03b3 \u2212v\u03b3eff\u0398(\u2212v \u03b3 eff) \u03b4(x+v\u03b3effT )\n= v\u03c6eff\u0398(v \u03c6 eff)\u2212 v \u03c6\u03b3\u0398(\u2212v\u03c6\u03b3) \u0398(v\u03b3eff) + v\u03c6eff\u0398(\u2212v \u03c6 eff)\u2212 v \u03c6\u03b3\u0398(v\u03c6\u03b3) \u0398(\u2212v\u03b3eff)\u2212 v \u03b3 eff . (G.19)\nThe third one turns out to be the same as the first one, namely\n1 T\n\u222b \u221e\n0\n\u0398(x)\u2212\u0398 x \u2212 v\u03c6effT\n\u0398(x)\u2212\u0398 x \u2212 v\u03b3effT\n\u2212 \u0398 x + v\u03c6effT \u2212\u0398(x) \u0398 x + v\u03b3effT \u2212\u0398(x)\n= \u0398 v\u03b3eff \u0398(v\u03c6)min v\u03b3eff, v \u03c6 eff +\u0398 \u2212v\u03b3eff \u0398 \u2212v\u03c6eff max v\u03b3eff, v \u03c6 eff . (G.20)\nHence, the nondiagonal terms add up to\nsgn v\u03b3eff|v \u03b4 eff|+ 2 \u0398(v\u03b3eff)\u0398(v \u03c6 eff)min(v \u03b3 eff, v \u03c6 eff) +\u0398(\u2212v \u03b3 eff)\u0398(\u2212v \u03c6 eff)max(v \u03b3 eff, v \u03c6 eff)\n+ 2 v\u03c6eff\u0398(v \u03c6 eff)\u2212 v \u03c6\u03b3\u0398(\u2212v\u03c6\u03b3) \u0398(v\u03b3eff) + v\u03c6eff\u0398(\u2212v \u03c6 eff)\u2212 v \u03c6\u03b3\u0398(v\u03c6\u03b3) \u0398(\u2212v\u03b3eff)\u2212 v \u03b3 eff ,\n(G.21)\nwhich turns out to be 3|v\u03b4eff|sgn v \u03b3 eff. We then have\nc3 = h \u03b8 (hdr;\u03c6)2 s\u03c6\u03c7\u03c6 |veff\u03c6 |(R \u2212T)\u03c6 \u03b8 + 3(R\u2212T)\u03b3 \u03b8 n\u03c6 f\u03c6 |veff\u03b3 |s\u03c6\u03c7\u03b3(T dr)\u03b3\u03c6\n= h\u03b8 (hdr;\u03c6)2 s\u03c6\u03c7\u03c6 |veff\u03c6 |(R \u2212T)\u03c6 \u03b8 + 3(R\u2212T)\u03b3 \u03b8 f\u03c6 |veff\u03b3 |s\u03c6\u03c7\u03b3(R \u22121)\u03c6\u03b3 \u2212 3 f\u03c6 |v eff \u03c6 |\u03c7\u03c6(R \u2212T)\u03c6 \u03b8\n= \u03c7\u03c6 |veff\u03c6 |h dr;\u03c6 s\u03c6 f\u0303\u03c6(h dr \u03c6 ) 2 + 3[s f (hdr) 2]dr\u03c6 , (G.22)\nwhich coincides with the known c3 from Ref. [21]."
        },
        {
            "heading": "H Dynamical correlation functions in integrable systems",
            "text": "In this Appendix, we provide details on the calculations of dynamical correlation functions from inhomogeneous states in integrable systems. In Appendix H.1, we detail the derivation of the full profile of \u2202\u03bb\u03b5\n\u03b8 (x , t), with particular emphasis on the application to equal time correlations and hence to the appearance of Euler-scaled long-range correlations. In the Appendix H.2, we specialize the analysis to the hard-rod model from the partitioning protocol inhomogeneous initial state.\nH.1 General cases\nWe start with the general formula for Sq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) evaluated with respect to an arbitrary initial condition \u03b2ini(x). Using (165) and \u2202\u03bb\u03b5 \u03b8 (x2, t2) = \u2202\u03bbu \u03b8\u2202y \u03b5 \u03b8 (y, 0) y=u\u03b8 + (\u2202\u03bb\u03b5)(u \u03b8 , 0), the correlator is given by\nSq\u0302i1 ,q\u0302i2 (x1, t1; x2, t2) = \u2212 \u222b\nR d\u03b8 h\u03b8i2(R \u2212T)\u03b8\u03c6(x2, t2)\u03c7\u03c6(x2, t2)\u2202\u03bb\u03b5 \u03c6(x2, t2) \u03bb=0 . (H.1)\nThe task therefore is to compute \u2202\u03bb\u03b5\u03b8 (x2, t2). To this end recall first that\n\u03b2\u03b8 (x , 0) = \u03b2\u03b8ini(x)\u2212\u03bb (RT)\u03b8\u03c6(x1, t1)h \u03c6 dr(x1, t1) \u03b4(x \u2212 u\u03c6(x1, t1))\n\u2202 U\u03c6(u\u03c6(x1, t1), 0; t1) + \u2202\n(RT)\u03b8\u03c6(x1, t1)h \u03c6 dr(x1, t1) \u0398(x \u2212 u\u03c6(x1, t1)) . (H.2)\nRecall that here \u2202 without subscript implies that it acts as the spacial derivative with respect to the space argument of a function. The previous equation implies that \u2202\u03bb\u03b5\u03b8 (x2, t2) satisfies\n\u2202\u03bb\u03b5 \u03b8 (x2, t2)\n= \u2212 h\u03b8dr(x1, t1)\n\u2202 U\u03b8 (u\u03b8 (x1, t1), 0; t1) \u03b4(u\u03b8 (x2, t2)\u2212 u\u03b8 (x1, t1)) + \u2202\u03bbu\u03b8 (x2, t2)\u2202 \u03b5ini(u\u03b8 (x2, t2))\n+ (R\u2212T)\u03b8\u03c6(u \u03b8 (x2, t2), 0)\u2202 (RT)\u03c6\u03b1(x1, t1)h \u03b1 dr(x1, t1) \u0398 u\u03b8 (x2, t2)\u2212 u\u03b1(x1, t1) . (H.3)\nNote that \u2202\u03bbu \u03b8 (x , t) satisfies\n\u2202\u03bbu \u03b8 (x , t)\u03c1\u03b8tot(u \u03b8 (x , t), 0)\n= \u2212 \u222b u\u03b8 (x ,t)\n\u2212\u221e dy \u2202\u03bb\u03c1 \u03b8 tot(y, 0) +\n\u222b x\n\u2212\u221e dy \u2202\u03bb\u03c1 \u03b8 tot(y, t)\n= \u2212 \u222b u\u03b8 (x ,t)\n\u2212\u221e dy (R\u2212T)\u03b8\u03c6(y, 0)\u03c7\u03c6(y, 0)\u2202\u03bb\u03b5 \u03c6(y, 0) +\n\u222b x\n\u2212\u221e dy (R\u2212T)\u03b8\u03c6(y, t)\u03c7\u03c6(y, t)\u2202\u03bb\u03b5 \u03c6(y, t) .\n(H.4)\nThe case of equal-time correlations, i.e., t1 = t2 = t, is of particular interest. In this case the flow equation becomes\n\u2202\u03bb\u03b5 \u03b8 (x2, t) =\u2212 h\u03b8dr(x1, t)\u03b4(x1 \u2212 x2) + \u2202\u03bbu \u03b8 (x2, t)\u2202 \u03b5ini(u \u03b8 (x2, t))\n+ (R\u2212T)\u03b8\u03c6(u \u03b8 (x2, t), 0)\u2202 (RT)\u03c6\u03b1(x1, t)h \u03b1 dr(x1, t) \u0398 u\u03b8 (x2, t)\u2212 u\u03b1(x1, t) .\n(H.5)\nClearly the first term accounts for the local covariance matrix weight Ci1 i2(x1, t) that depends on the local state, whereas the rest of the terms contribute to long-range correlations, which amounts to Ei1 i2(x1, t) given by Eqs. (132) and (133). To be more precise, let us assume that \u2202\u03bb\u03b5\n\u03b8 (x2, t) takes the following form: \u2202\u03bb\u03b5\u03b8 (x2, t) = E0(x1, t)\u03b4(x1\u2212 x)+E(x , t), where E(x , t) is a regular function that contains no delta-function. Then plugging this into (H.5) with (H.4), it is readily seen that E0(x1, t) has to be E0(x1, t) = \u2212h\u03b8dr(x1, t), and E(x , t) satisfies the integral equation (133) (together with Eqs. (134)-(138)). Since the integral equation has the unique solution, which can also be verified numerically, the above ansatz is justified.\nH.2 Partitioning protocol in the hard-rod gas\nAs mentioned in the main text in Subsec. 5.5, in the partitioning protocol, the long-range correlations have two origins: one is the same as other protocols, i.e., correlations between normal modes, and another is due to early time dynamics controlled by non-universal micsroscopic physics. While the latter, on the basis of the numerical analysis we carried out, gives the dominant contribution, it is interesting to see how the former contribution can be exactly computed in this case. To better illustrate it, let us focus on the system of hard rods (see Appendix B) and choose the particle density for both densities in the correlator: i1 = i2 = 0. Moreover we\nset x2 = 0. The flow equation (H.5) then reads\n\u2202\u03bb\u03b5 \u03b8 (0, t) = \u2212\u03c1tot(0)\u03b4(x1)\u2212 \u2202\u03bbu\u03b8 (0, t)\u03b4\u03b5\u03b8\u03b4(u\u03b8 (0, t))\n+ 1 t \u2212 a\u03c1totR \u03b4n \u03b1\u03b4(\u03be1 \u2212 \u03be\u2217(\u03b1))\u03c1tot(\u03be1)\u0398(\u2212v\u03b8eff(0))\n+ (R\u2212T)\u03b8\u03b1(u \u03b8 , 0) + a\u03c1tot(u \u03b8 , 0)n\u03b1(\u03be1) \u03c1\u2032tot(\u03be1)\u0398(u \u03b8 (0, t)\u2212 u\u03b1(x1, t)) , (H.6)\nwhere \u03b4\u03b5\u03b8 = \u03b5\u03b8R \u2212 \u03b5 \u03b8 L and \u03b4n \u03b8 = n\u03b8R \u2212 n \u03b8 L . To proceed, we note\n(R\u2212T)\u03b8\u03b1(u \u03b8 , 0)\u0398(u\u03b8 (0, t)\u2212u\u03b1(x1, t)) = \u0398(\u2212x1)\u2212 a\u03c1tot(u\u03b8 , 0)n\u03b1(u\u03b8 , 0)\u0398(u\u03b8 (0, t)\u2212u\u03b1(x1, t)) , (H.7) and\n(n\u03b1(u \u03b1(x1, t), 0)\u2212 n\u03b1(u\u03b8 (0, t), 0))\u0398(u\u03b8 (0, t)\u2212 u\u03b1(x1, t)) = \u03b4n\u03b1\u0398(\u2212v\u03b8eff(0))\u0398(\u03be\u2217(\u03b1)\u2212 \u03be1) .\n(H.8) Furthermore,\n\u03c1totR \u2202\u03be1(\u03c1tot(\u03be1)\u03b4n \u03b1\u0398(\u03be\u2217(\u03b1)\u2212 \u03be1)) = \u03c1totR \u2202\u03be1(\u03c1tot(\u03be1)(n \u03b1(\u03be1)\u2212 n\u03b1R))\n= \u03c1totR \u03c1 \u2032(\u03be1)\u2212\u03c1R\u03c1\u2032tot(\u03be1) = \u03c1\u2032(\u03be1) . (H.9)\nUsing these the flow equation is now simplified to\n\u2202\u03bb\u03b5 \u03b8 (0, t)\n= \u2212\u03c1tot(0)\u03b4(x1)\u2212 \u2202\u03bbu\u03b8 (0, t)\u03b4\u03b5\u03b8\u03b4(u\u03b8 (0, t)) + 1 t \u03c1\u2032tot(\u03be1)\u0398(\u2212x1) + a\u03c1 \u2032(\u03be1)\u0398 \u2212v\u03b8eff(0) .\n(H.10)\nNext we turn to the term that involves \u2202\u03bbu \u03b8 . When \u03bb= 0 and u\u03b8 (0, t) = 0 we have,\n\u03c1tot(0)\u2202\u03bbu \u03b8 (0, t) =\n\u222b 0\n\u2212\u221e dy \u2202\u03bb\u03c1tot(y, t)\u2212\n\u222b 0\n\u2212\u221e dy \u2202\u03bb\u03c1tot(y, 0)\n= \u2212 \u222b t\n0\nds \u2202\u03bbv \u03b8 (0, s) = \u2212a\u03c1tot(0)\u03c1\u03c6(0)veff\u03c6 (0)\n\u222b t\n0\nds \u2202\u03bb\u03b5 \u03c6(0, s) , (H.11)\nwhich gives the full \u2202\u03bb\u03b5 \u03b8 (0, t)\n\u2202\u03bb\u03b5 \u03b8 (0, t) = \u2212\u03c1tot(0)\u03b4(x1) + 1 t E\u03b8 (\u03be1) + a\u03b4\u03b5\u03b8\u03b4(u\u03b8 (0, t))\u03c1\u03c6(0)veff\u03c6 (0)\n\u222b t\n0\nds \u2202\u03bb\u03b5 \u03c6(0, s) ,\n(H.12) where\nE\u03b8 (\u03be1) := \u03c1\u2032tot(\u03be1)\u0398(\u2212x1) + a\u03c1\u2032(\u03be1)\u0398 \u2212v\u03b8eff(0)\n= a\u03c1\u2032(\u03be1) \u0398(x1)\u0398 \u2212veff\u03b8 (0) \u2212\u0398(\u2212x1)\u0398 veff\u03b8 (0) . (H.13)\nThe term \u2212\u03c1tot(0)\u03b4(x1) on the right hand side of Eq. (H.12) gives from Eq. (161) the local covariance matrix C00(0, t) weight of the delta function in (168) (see also the discussion after Eq. (H.5)). The remaining terms determine the Euler-scaled long-range correlations E00(x1, 0; t). Let us focus on this contribution and suppose x1 \u0338= 0. It is then clear that solving the integral equation (H.12) recursively, the term containing \u03b4(x1), which is t-independent,\nmerely acquires the multiplicative factor t\u03b4(u\u03b8 (0, t)). The latter is zero, hence the deltacorrelated term remains the same. As for the other source term 1t E\u03b8 (\u03be1), it is clear that the iteration truncates after the second term because veff\n\u03b8\u2217(0) = 0. In conclusion, we have\n\u2202\u03bb\u03b5 \u03b8 (0, t) = \u2212\u03c1tot(0)\u03b4(x1) + 1 t E\u03b8 (\u03be1) + a\u03b4\u03b5\u03b8\u03b4(u\u03b8 (0, t))\u03c1\u03c6(0)veff\u03c6 (0)\n\u222b t\n0\nds 1 s E\u03c6(x1/s) ,\n(H.14) which gives\nE00(x1, 0; t) = \u2212\u03c1tot(0)\u03c1\u03b8 (0) 1 t E\u03b8 (\u03be1) + a\u03b4\u03b5\u03b8\u03b4(u\u03b8 (0, t))\u03c1\u03c6(0)veff\u03c6 (0)\n\u222b t\n0\nds 1 s E\u03c6(x1/s) ,\n(H.15) provided x1 \u0338= 0. Note again that the result above does not agree with numerical simulations we carried out, or to be more precise, it only gives the contribution that originates from hydrodynamics. But as we explained in the main text, the predominant contribution to the Euler scale correlator Sq\u03020,q\u03020(x1, t; 0, t) in the partitioning protocol stems from the transient physics that takes place at the early stage of the dynamics, which is not accounted for by hydrodynamics. One can, however, try to smear out the initial step function while keeping the asymptotic values of the distribution unchanged, in which case the correlator from BMFT is expected to agree with numerical simulations."
        },
        {
            "heading": "I Numerics: Hard-rod model simulations",
            "text": "In this Appendix we provide details about the numerical simulations of the hard-rod model. For the numerical simulations with the partitioning protocol initial state, we focused on the case where the initial state presents a jump in the inverse temperature \u03b2 iini at x = 0:\n\u03b2 iini(x) = \u03b4 i i\u0304 (\u03b2L\u0398(\u2212x) + \u03b2R\u0398(x)) , (I.1)\nwhich corresponds to the initial inhomogeneous state in Eq. (17) with the set C containing only the energy qi\u0304 conserved charge (and \u03b2 i 0 = 0 otherwise). In the previous equation i\u0304 is then the index corresponding to the energy conserved charge and the thermal state is identified by the source term \u03b2\u03b8L,R = \u03b2L,R\u03b8 2/2 in Eq. (120). The thermal occupation function n\u03b8 \u03b2L,R\ncan be obtained by solving (B.3) with this source term, which turns out to admits a closed expression (see, e.g., Ref. [21]) in terms of the Lambert function W (z) [119]:\nn\u03b8\u03b2L,R = e \u2212\u03b5\u03b8 \u03b2L,R 2\u03c0 = e\u2212\u03b2L,R\u03b8 2/2 2\u03c0 e\u2212W(ad(\u03b2L,R)) , (I.2)\nwhere d(\u03b2) = 1/ p\n2\u03c0\u03b2 . The thermal quasi-particle density \u03c1\u03b8 ,\u03b2L,R is readily obtained from Eq. (I.2) and it reads as\n\u03c1\u03b8 ,\u03b2L,R = f\u03b8 (\u03b2L,R)\u03c1(\u03b2L,R) , (I.3)\nwhere the rods spatial density \u03c1(\u03b2) can also be expressed solely in terms of the Lambert function\n\u03c1(\u03b2L,R) = W (ad(\u03b2L,R))\na[1+W (ad(\u03b2L,R))] , (I.4)\nand f\u03b8 (\u03b2) is the velocity distribution\nf\u03b8 (\u03b2) =\n\u221a \u221a\u03b2L,R\n2\u03c0 e\u2212\u03b2\u03b8 2 . (I.5)\nFrom the previous equation, it is evident that for a thermal state, the rods velocity distribution is a Gaussian with variance 1/\u03b2 and mean \u00b5 zero. It is also possible to consider velocity distribution with a non zero mean simply replacing \u03b8 \u2192 \u03b8 \u2212\u00b5 in Eq. (I.5), which corresponds to a boosted thermal distribution. In the simulations we always consider the case of \u00b5= 0.\nThe numerical simulations are done in infinite volume, but the rods are initially distributed in a symmetric interval [\u2212Lsize/2, Lsize/2] around the origin. In the numerical simulations, in addition to the discontinuity of the density at x = 0, there are, as a consequence, two depletion zones, where the density of rods jumps to zero, which move inwards as time elapses. The numerical results, as a consequence, deviate from the BMFT predictions in proximity of the depletion zones. The initial left ([\u2212Lsize/2,0]) and right half ([0, Lsize/2]) spatial distributions of rods are given in Eq. (I.3) with inverse temperature \u03b2L and \u03b2R, respectively. Rods\u2019 velocities are sampled from the Gaussian distribution in Eq. (I.5) with \u03b2L for the rods initially in the left half, and with \u03b2R for the rods initially in the right one. The number N of rods used in the simulations is then fixed by the initial size Lsize, by the rod length a and the inverse temperatures \u03b2L,R (according to the density \u03c1(\u03b2L,R) in Eq. (I.4)). We emphasize that stochasticity in the simulations is only due to the initial condition according to Eqs. (I.1), (I.4) and (I.5), while the time evolution is purely deterministic according to the hard-rod dynamics. Numerical results are eventually obtained by averaging over a large number M of independent realizations of the rods\u2019positions and velocities.\nRegarding the cumulants\u2019 analysis in the partitioning protocol we focus on the second cumulant cpart2 for particle transport (single particle eigenvalue N\u03b8 = 1 in Eq. (B.1)), as explained in Subsec. 5.4 of the main text. The second cumulant cpart2 provides a nontrivial test of the BMFT predictions as it probes fluctuations of the time-integrated particle current J\u0302(T ) beyond the mean value, described, instead, by the first cumulant cpart1 . One expects, in particular, higher cumulants to be more sensible to rare events with very rapidly moving rods. As a consequence, for the numerical calculation of cpart2 , we exploit a large initial size Lsize = 10\n5 in order to be able to observe the Euler-scale predictions from BMFT before the boundary effects due to the aforementioned depletion zones become visible. The cumulant is numerically evaluated by computing the number N+ and N\u2212 of rods on x > 0 and x < 0, respectively. We do this both at the initial time 0, getting N\u00b1(0) and at a variable observation time T , with result N\u00b1(T ). The numerical value of c part 2 is then obtained by computing the connected average of the transferred particle charge \u2206N(T ) and rescaling it by the time duration T > 0:\ncpart2 (T ) = T \u22121 \u2206N(T )2 c = T\u22121 \u2206N(T )2 \u2212 \u2329\u2206N(T )\u232a2 , (I.6)\nwith\n\u2206N(T ) = N+(T )\u2212 N\u2212(T )\n2 \u2212 N+(0)\u2212 N\u2212(0) 2 . (I.7)\nBecause of the continuity equation (6), it is immediate to verify that J\u0302(T ) = \u2206N(T ) and therefore the expression for cpart2 (T) in Eq. (I.6) coincides with the one given in Eq. (15) of the main text for c2(T ) in the long time limit T \u2192\u221e. The averages \u2329\u2022\u232a in Eq. (I.6) are done with respect to the initial partitioning inhomogeneous and non-stationary state in Eqs. (I.1). In the numerical simulations, averages \u2329\u2022\u232a of an observable A are computed as the sample mean A\u0304 over the independent realizations A(i), with i = 1, 2 . . . M , of the initial rods\u2019distribution as\nA\u0304= 1 M\nM \u2211\ni=1\nA(i). (I.8)\nThis applies, for instance, both to A1(T ) = \u2206N(T ) and A2(T ) = \u2206N(T )2 in Eq. (I.6). The resulting expression obtained for cpart2 (T ) is plotted in Fig. 3 of the main text. The statistical\nuncertainty U(A) on the sample mean A\u0304 is computed as the empirical standard deviation [120]\nA= A\u0304\u00b1 U(A) , U(A) = 1 p\nM\n\u221a \u221a \u221a \u221a\n1 M \u2212 1\nM \u2211\ni=1\nA(i) \u2212 A\u0304 2 , (I.9)\nwhich quantifies the dispersion of the samples Ai around the sample mean A\u0304. Note that the empirical standard deviation U(A) drops as 1/ p M as M increases as a consequence of the central limit. For the calculation of the uncertainty on cpart2 (T ), we use the model for the propagation of uncertainties, see, e.g., Ref. [120], which assign to cpart2 (T ) the uncertainty U(cpart2 (T )) determined from the uncertainties U(A1,2) as follows\nU(cpart2 (T )) = N \u2211\ni=1\n\u2202 cpart2 (T )\n\u2202 Ai\nAi=A\u0304i U(Ai) = 1 T U(A2) + 2A\u03041U(A1) . (I.10)\nThe previous equation has been used for the calculation of the error bars in Fig. 3, where M = 8.8 \u00b7 107 samples have been used. Note that Eq. (I.10) leads to an excess estimation of U(cpart2 (T )) since the contributions from the uncertainties U(A1,2) are summed in absolute value and therefore the possibility of a partial compensation of the the uncertainties U(A1,2) is a priori excluded (cf., the discussion in Ref. [120]). The error bars in Fig. 3, which affect the third decimal digit, thereby show an excellent agreement between the numerical result for cpart2 at long times and the BMFT prediction of Eq. (131), with the discrepancy between the two visible only on the fourth decimal digit and utterly within the error bars.\nWe conclude by reporting the formulas used for the calculation of the uncertainties\u2019bars in Fig. (1) of Ref. [24] and in Fig. 4. The equal-time two-point correlator Sq\u03020,q\u03020(x , t; 0, t) (and analogously for Sq\u03020,q\u03020(x , t;\u2212x , t)) is numerically obtained from Eq. (22) particularized the density conserved charge q\u03020\nSq\u03020,q\u03020(x , t; 0, t) = lim\u2113\u2192\u221e \u2113 \u2329q0(\u2113x ,\u2113t)q0(0,\u2113t)\u232a c \u2113 , (I.11)\nwith \u2329q0(x , t)q0(0, t)\u232a c \u2113 = \u2329q0(x , t)q0(0, t)\u232a\u2113 \u2212 \u2329q0(x , t)\u232a\u2113 \u2329q0(0, t)\u232a\u2113 . (I.12) In the numerical simulations, the fluid cell mean in Eq. (I.12) is implemented as in Eq. (35), thereby averaging only in space (see the discussion after Eq. (23) in the main text). The terms C2((x , t)) = \u2329q0(x , t)q0(0, t)\u232a\u2113, C1(x , t) = \u2329q0(x , t)\u232a\u2113 and C1(0, t) = \u2329q0(0, t)\u232a\u2113 appearing on the r.h.s. of Eq. (I.12) are evaluated in the numerical simulations by sample mean, as per Eq. (I.8). The statistical uncertainty U(Sq\u03020,q\u03020(x , t; 0, t)) of the connected correlator in Eq. (I.11) is obtained from the uncertainties U(C2(x , t)), U(C1(x , t)) and U(C1(0, t)) as\nU(Sq\u03020,q\u03020) =\n\u2202 U(Sq\u03020,q\u03020)\n\u2202 C2(x , t) C\u03042(x ,t) U(C2(x , t))\n+\n\u2202 U(Sq\u03020,q\u03020)\n\u2202 C1(x , t) C\u03041(x ,t) U(C1(x , t))\n+\n\u2202 U(Sq\u03020,q\u03020)\n\u2202 C1(0, t) C\u03041(0,t) U(C1(0, t)) . (I.13)\nIn the previous equation we dropped the arguments of Sq\u03020,q\u03020(x , t; 0, t) for the sake of brevity. From Eqs. (I.11) and (I.12) one has\nU(Sq\u03020,q\u03020(x , t; 0, t)) = \u2113 U(C2(x , t)) + C\u03041(0, t)U(C1(x , t)) + C\u03041(x , t)U(C1(0, t)) . (I.14) The Euler-scaling limit in Eq. (I.11), which requires infinite variation lengths \u2113\u2192\u221e, is taken by considering large values of \u2113= 250,500 and 1000. The previous equation, with the aforementioned values for the macroscopic length scale \u2113, has been used in Fig. (1) of Ref. [24] and in 4 to compute the uncertainties\u2019bars."
        }
    ],
    "title": "Ballistic macroscopic fluctuation theory",
    "year": 2023
}