{
    "abstractText": "This paper introduces ElecTra, an open-source code which solves the linearized Boltzmann transport equation in the relaxation time approximation for charge carriers in a full-band electronic structure of arbitrary complexity, including their energy, momentum, and band-index dependence. ElecTra stands for \u2018ELECtronic TRAnsport\u2019 and computes the electronic and thermoelectric transport coefficients electrical conductivity, Seebeck coefficient, electronic thermal conductivity, and mobility, for semiconductor materials, for both unipolar and bipolar (small bandgap) materials. The code uses computed full-bands and relevant scattering parameters as inputs and considers single crystal materials in 3D and 2D. The present version of the code (v1) considers: i) elastic scattering with acoustic phonons and inelastic scattering with non-polar optical phonons in the deformation potential approximation, ii) inelastic scattering with polar phonons, iii) scattering with ionized dopants, and iv) alloy scattering. The user is given the option of intraand inter-band scattering considerations. The simulation output also includes relevant relaxation times and mean-free-paths. The transport quantities are computed as a function of Fermi level position, doping density, and temperature. ElecTra can interface with any DFT code which saves the electronic structure in the \u2018.bxsf\u2019 format. In this paper ElecTra is validated against ideal electronic transport situations of known analytical solutions, existing codes employing the constant relaxation time approximation, as well as experimentally well-assessed materials such as Si, Ge, SiGe, and GaAs. Program summary Program title: ElecTra \u2013 Electronic Transport simulation lab Program Files doi: CPC Library link to program files: Developer\u2019s repository link: Licensing provisions: GPLv3 Programming Language: MATLAB\u00ae",
    "authors": [
        {
            "affiliations": [],
            "name": "Patrizio Graziosi"
        },
        {
            "affiliations": [],
            "name": "Zhen Li"
        },
        {
            "affiliations": [],
            "name": "Neophytos Neophytou"
        }
    ],
    "id": "SP:e721514b15beb4d94e6c4ba98e9b8aedd02edd2d",
    "references": [
        {
            "authors": [
                "B.R. Nag"
            ],
            "title": "Electron Transport in Compound Semiconductors (Springer-Verlag",
            "year": 1980
        },
        {
            "authors": [
                "M. Lundstrom"
            ],
            "title": "Fundamentals of Carrier Transport",
            "year": 2000
        },
        {
            "authors": [
                "M.V. Fischetti",
                "W.G. Vandenberghe"
            ],
            "title": "Scattering with Ionized Impurities, in: Advanced Physics of Electron Transport in Semiconductors and Nanostructures, pages 315-325",
            "venue": "Graduate Texts in Physics book series,",
            "year": 2016
        }
    ],
    "sections": [
        {
            "text": "equation in the relaxation time approximation for charge carriers in a full-band electronic structure of arbitrary complexity, including their energy, momentum, and band-index dependence. ElecTra stands for \u2018ELECtronic TRAnsport\u2019 and computes the electronic and thermoelectric transport coefficients electrical conductivity, Seebeck coefficient, electronic thermal conductivity, and mobility, for semiconductor materials, for both unipolar and bipolar (small bandgap) materials. The code uses computed full-bands and relevant scattering parameters as inputs and considers single crystal materials in 3D and 2D. The present version of the code (v1) considers: i) elastic scattering with acoustic phonons and inelastic scattering with non-polar optical phonons in the deformation potential approximation, ii) inelastic scattering with polar phonons, iii) scattering with ionized dopants, and iv) alloy scattering. The user is given the option of intra- and inter-band scattering considerations. The simulation output also includes relevant relaxation times and mean-free-paths. The transport quantities are computed as a function of Fermi level position, doping density, and temperature. ElecTra can interface with any DFT code which saves the electronic structure in the \u2018.bxsf\u2019 format. In this paper ElecTra is validated against ideal electronic transport situations of known analytical solutions, existing codes employing the constant relaxation time approximation, as well as experimentally well-assessed materials such as Si, Ge, SiGe, and GaAs.\nProgram summary Program title: ElecTra \u2013 Electronic Transport simulation lab Program Files doi: CPC Library link to program files: Developer\u2019s repository link: Licensing provisions: GPLv3 Programming Language: MATLAB\u00ae\nNature of the problem: computing the electronic and thermoelectric charge transport coefficients of materials with arbitrary complex full-band electronic structures, considering the carrier energy-, momentum-, and band-dependence of the scattering rates. Solution method: Semiclassical Linearized Boltzmann transport equation, with electronic structures (DFT or analytical) as input, formed into constant-energy surfaces, with scattering rates evaluated using Fermi\u2019s Golden Rule. Programming interface: any DFT code which saves data in the \u2018.bxsf\u2019 format. RAM: a case study for a half-Heusler bandstructure on a 51x51x51 k-mesh, 2Gb per processor is needed Running time: for the example above, depending on the number and complexity of the scattering mechanisms and the number of simulated Fermi levels and temperatures considered, the time needed varies from ~ 1 hour on a desktop PC or laptop (light simulations), to 5-10 hours on an HPC with 30- 45 cores (heavy simulations). Using the constant relaxation time and constant mean-free-path approximations on a desktop PC or laptop, the running time is of the order of minutes.\nKeywords Charge transportFull-band simulationsThermoelectric materialsMaterials properties\n1. Introduction\nElectronic and thermoelectric transport simulations in novel complex bandstructure materials is an essential aspect of understanding material properties and optimizing them towards relevant applications [1-4]. A crucial element of this is the extraction of the scattering relaxation times that determine electronic transport, and their energy-, momentum- and band-dependence complexities [5- 11]. In the absence of efficient and reliable tools to account for these, the majority of thermoelectric studies, for example, smear all these dependencies into a single number, typically \u03c4 = 10 fs, referred to as the constant relaxation time approximation (CRTA) [12, 13]. State of the art first principles methods account for all scattering complexities by calculating billions of the matrix elements that contribute to the scattering rates [14-20], but this makes them computationally extremely expensive, especially for 3D systems, [14, 20] inflexible in accounting for all major scattering mechanisms, and thus rarely used for such studies. Computationally inexpensive methods based on single parabolic bands [21] represent a first step to gain some accuracy beyond the CRTA, but appear limited to simulate complex bandstructures where full-band approaches seem more suitable.\nThe ElecTra simulator addresses the challenge of electronic and thermoelectric transport in\ncomplex bandstructure materials by solving the linearized Boltzmann transport equation (BTE) for charge transport in the relaxation time approximation. By using deformation potential theory and wave-vector and energy-dependent momentum relaxation times, ElecTra computes transport in a reliable and computationally attractive way, constituting the middle ground between the CRTA and fully ab initio scattering rate calculations. ElecTra considers the first-order solution of the BTE, [22, 23] and computes the charge transport coefficients by considering charge carrier scattering with phonons, ionized dopants, and alloy scattering, [5, 9, 22, 23] including bipolar effects.[24, 25] ElecTra takes as input the electronic bandstructure and scattering parameters, forms constant energy surfaces and scattering rate expressions, and returns the charge transport coefficients electrical conductivity (\u03c3), Seebeck coefficient (S), thermoelectric power factor (PF = S2), and electronic part\nof the thermal conductivity (e) as function of Fermi level (EF) position and temperature (T). Output results for the CRTA and constant mean-free-path considerations are also included. Finally, special attention is placed on user-friendliness, with well-defined input/output (I/O) files, GUI interfaces, and a detailed manual that accompanies the code for execution instructions.\nWe underline here that ElecTra offers the functionality of charge transport calculation beyond the constant relaxation time approximation by: i) considering the full energy/momentum/band dependence of the scattering rates, ii) distinction between intra- and inter-band transitions, including the ionized impurity scattering, and iii) bipolar transport by considering simultaneously the valence and conduction bands. Moreover, this is performed in a full-band approach and using anisotropic\nscattering rates, as detailed by Eqs. (7a), (7b), (7c), (7d), (7e), (7f) below, with the aim of an optimal trade-off between overall computational burden and accuracy. Indeed, a first step to relax the CRTA is to use energy dependent isotropic scattering rates in analytical equations and use the effective mass approximation. We have done this in the past to validate ElecTra and to gain conceptual insight in the physics of bipolar transport by using either parabolic and non-parabolic (Kane\u2019s model) bands. [24, 25] This is very similar to the approach implemented in the TOSSPB code. [21] Further, another code, AMSET, employs full-band electronic structure coupled to momentum relaxation rates, in a similar manner to ElecTra. However, it merges all e-ph coupling in one parameter, the elastic acoustic phonon deformation potential, evaluated from unit cell expansion. [18] This is quite convenient to avoid ab initio matrix element calculation, with the drawback of not considering the fine details of the different e-ph scattering events separately. Other recent codes like EPA, [15] PERTURBO,[19] EPIC-STAR [20] compute matrix elements using ab-initio Density Functional Perturbation Theory (DFPT) and then perform different treatments to reduce the computational complexity, as for example averaging a few matrix elements over the whole BZ or evaluating the scattering rates along specific BZ paths. ElecTra uses deformation potentials to construct expressions for different phonon scattering processes for non-polar phonons, and in addition includes anisotropic scattering with polar phonons and ionized dopants. The deformation potentials can be computed ab initio using only a few matrix elements as we describe in Ref. [26]. At present, the deformation potentials must be entered as input information by the user. For the general material, a method to extract those from DFT is described in Ref. [26], and we plan to integrate such methods with the ElecTra code in the future.\nThe manuscript is organized as follows: In Section 2 we describe the theory behind the linearized\nBTE formalism used. In Section 3 we describe the way that we map the electronic structure onto constant-energy surfaces, as well as the method validation with analytically known solutions and other existing codes. In Section 4 we describe the calculation of the scattering rates. Finally, Section 5 presents illustrative example cases for comparison of ElecTra results and outputs to those of existing codes and known semiconductors. The paper is accompanied with three Appendices. Appendix A shows the process and results for 2D materials. Appendix B contains additional computational technicalities while Appendix C points to the supplementary material with examples of graphical user interfaces (GUI) for using the code as an app, as well as code examples to execute the code using text files and scripts instead of app GUIs.\n2. Linearized Boltzmann Transport Equation (BTE) formalism\nThe transport (and TE) coefficients are computed using the transport distribution function (TDF) within the Linearized Boltzmann Transport equation as rank-2 tensors in the form [7, 9, 23]:\n\ud835\udf0e\ud835\udc56\ud835\udc57(\ud835\udc38F,\ud835\udc47) = \ud835\udc5e0 2 \u222b \ud835\udeef\ud835\udc56\ud835\udc57(\ud835\udc38) (\u2212\n\ud835\udf15\ud835\udc530 \ud835\udf15\ud835\udc38 ) \ud835\udc38 \ud835\udc51\ud835\udc38, (1a)\nS\ud835\udc56\ud835\udc57(\ud835\udc38F,\ud835\udc47) = \ud835\udc5e0\ud835\udc58\ud835\udc35\n\ud835\udf0e\ud835\udc56\ud835\udc57 \u222b \ud835\udeef\ud835\udc56\ud835\udc57(\ud835\udc38) (\u2212\n\ud835\udf15\ud835\udc530 \ud835\udf15\ud835\udc38 ) \ud835\udc38\u2212\ud835\udc38\ud835\udc39 \ud835\udc58B\ud835\udc47\ud835\udc38 \ud835\udc51\ud835\udc38, (1b)\n\ud835\udf05\ud835\udc52\ud835\udc56\ud835\udc57 = 1 \ud835\udc47 \u222b \ud835\udeef\ud835\udc56\ud835\udc57(\ud835\udc38) (\u2212 \ud835\udf15\ud835\udc530 \ud835\udf15\ud835\udc38 ) (\ud835\udc38 \u2212 \ud835\udc38F) 2 \ud835\udc38 \ud835\udc51\ud835\udc38 \u2212 \ud835\udf0e\ud835\udc462\ud835\udc47 (1c)\nwhere \ud835\udeef\ud835\udc56\ud835\udc57(\ud835\udc38) is the Transport Distribution Function (TDF) defined below in Eq. (2), EF, T, q0, kB, and f0, are the Fermi level, absolute temperature, electronic charge, Boltzmann constant, and equilibrium Fermi distribution, respectively.\nThe TDF is expressed as a surface integral over the constant energy surfaces, \ud835\udd0f\ud835\udc38 \ud835\udc5b, for each band,\nand then summed over the bands, as [7, 22, 23]:\n\ud835\udeef\ud835\udc56\ud835\udc57(\ud835\udc38,\ud835\udc38F,\ud835\udc47) = \ud835\udc60 (2\ud835\udf0b)3 \u2211 \ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b)\ud835\udc63\ud835\udc57(\ud835\udc8c,\ud835\udc5b)\ud835\udf0f\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38F,\ud835\udc47)\n\ud835\udd0f\ud835\udc38 \ud835\udc5b \ud835\udc8c,\ud835\udc5b\n\ud835\udc51\ud835\udc34\ud835\udc8c \ud835\udd0f\ud835\udc38 \ud835\udc5b\n|?\u20d7? (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)| (2)\nwhere \ud835\udc8c\ud835\udd0f\ud835\udc38\ud835\udc5b represents a state on the surface \ud835\udd0f\ud835\udc38 \ud835\udc5b and \ud835\udc51\ud835\udc34\ud835\udc8c\n\ud835\udd0f\ud835\udc38 \ud835\udc5b is its corresponding surface area element,\ncomputed as explained below in Section 3 [22]. \ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) is the i-component of the band velocity of the transport state, \ud835\udf0f\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) is its momentum relaxation time (combining the relaxation times of each scattering mechanism using Matthiessen\u2019s rule), \ud835\udc51\ud835\udc34(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\n|?\u20d7? (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)| is its density-of-states (DOS) [22], and s is\nthe spin degeneracy. In the code s = 2 is used when the two spin sub-bands are degenerate, i.e. the material is non-ferromagnetic, but only one spin is resolved in the bandstrucutre, thus each band needs to account for both spins. In this case the user must enter that the bands are not spin-resolved, which is the case when spin-orbit coupling (SOC) is not considered or, for a non-ferromagnetic material, when SOC is considered in DFT, but the identical bands are removed from the full computed bandstructure. This step can be done when the bandstructure in .bxsf format is imported. Note that in Eq. (2) terms such as the velocity, can be uniquely defined by the k-point and the band index. We chose to let the energy in the triad (k,n,E) to specifically emphasize that all these quantities are also energy dependent.\nhe relaxation times for each individual scattering mechanism are combined following the\nMatthiessen's rule for each \ud835\udc8c\ud835\udd0f\ud835\udc38\ud835\udc5b state, to compute the comprehensive TE coefficients. In addition, TE coefficients are computed also for each considered scattering mechanism separately. Also, the overall energy-dependent relaxation time \u03c4 and mean-free-path (mfp) \u03bb are computed as well, both perband, per scattering mechanism, and overall for all mechanisms. These are computed as:\n\ud835\udf06\ud835\udc56(\ud835\udc38,\ud835\udc38F,\ud835\udc47) = \u2211 |\ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\ud835\udf0f\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38,\ud835\udc38F,\ud835\udc47)|\ud835\udc37\ud835\udc42\ud835\udc46(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\n\ud835\udd0f\ud835\udc38 \ud835\udc5b \ud835\udc8c,\ud835\udc5b\n\u2211 \ud835\udc37\ud835\udc42\ud835\udc46(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) \ud835\udd0f\ud835\udc38 \ud835\udc5b\n\ud835\udc8c,\ud835\udc5b\n(3a)\n\ud835\udf0f\ud835\udc56(\ud835\udc38,\ud835\udc38F,\ud835\udc47) = \u2211 \ud835\udf0f\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38,\ud835\udc38F,\ud835\udc47)\ud835\udc37\ud835\udc42\ud835\udc46(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\n\ud835\udd0f\ud835\udc38 \ud835\udc5b \ud835\udc8c,\ud835\udc5b\n\u2211 \ud835\udc37\ud835\udc42\ud835\udc46(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) \ud835\udd0f\ud835\udc38 \ud835\udc5b\n\ud835\udc8c,\ud835\udc5b\n(3b).\n3. Electronic structure quantities\nThe workflow of ElecTra is shown in Figure 1. The electronic structure is entered as an input\nand it consists of a four-dimensional matrix (three-dimensional matrix for a 2D system) where the first three indexes are the space coordinates and the fourth is the band index. Because DFT codes usually use different formats, ElecTra\u2019s interface can take as input a .bxsf format file [27, 28] enabling it to interface with any DFT code that provides the electronic structure data in this format. The code also checks the \u2018completeness\u2019 of the entered input instructions related for example to scattering mechanisms, Fermi levels, temperature ranges, and others as detailed in Appendix C (e.g. whether for each phonon process, its deformation potentials and required parameters are supplied). The code then starts the construction of the constant energy surfaces that will later form the density of states (DOS) in energy by mapping the E(k) bandstructure into a k(E) one. At this level, the code computes also band-related properties such as the DOS and the band velocities, separately for each band, as well as comprehensive. Then, the code checks for the consistency between the scattering parameters and the input instructions and computes the scattering related quantities and the transport coefficients.\nTo map the E(k) into a k(E), the 3D mesh in the k-space is scanned, the mesh elements crossed\nby the constant energy surfaces are identified and the coordinates of the points on these surfaces are computed. ElecTra offers two possibilities: i) A triangulation performed locally on the k-space mesh elements which are crossed by the surface of the constant energy of interest, by dividing it into six tetrahedra as shown in Figure 2a. Each of them can be crossed by the constant energy surface under consideration in two ways as shown in Figure 2b-c. ii) An easier approximate method which uses sampling of the nearest neighbour points on the k-mesh. Although the latter is an approximation because it detects only the points along the edges of the k-mesh elements, it is around 15 to 30 times faster, but without noticeable penalty in the results compared to the triangulation. The discrepancies in terms of density of states (DOS) are for isotropic bandstructures at the level of the numerical noise, while for anisotropic bands the differences increase from negligible at the band edge to \u223c 1% around\n0.2 eV from the band edge and to \u223c 4% around 0.5 eV from the band edge. Details for the two methods are provided below.\nOnce a mesh element is identified, the three components of the band velocity \ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) are\ncomputed with the contragradient method, suitable for the arbitrary symmetry of the BZ and its 3D k-space mesh. [29] For the coordinates of the points, the E(k) is approximated to be linear between two points \u201cv1\u201d and \u201cv2\u201d of the k-mesh, which are taken as the vertexes of the element in Figure 2b, or the dots on the corners in Figure 2d. Thus, a ki-point at energy Ei between the vertexes v1 and v2 is selected as [30]:\nTriangulation: When the triangulation method is adopted, each tetrahedron will have three\n(Figure 2b), or four (Figure 2c), crossing points depending on how the energy surface crosses it. These points then define a surface whose area is computed with Heron\u2019s formula as \ud835\udc34 =\n\u221a\ud835\udc60\ud835\udc5d(\ud835\udc60\ud835\udc5d \u2212 \ud835\udc591)(\ud835\udc60\ud835\udc5d \u2212 \ud835\udc592)(\ud835\udc60\ud835\udc5d \u2212 \ud835\udc593), where A is the triangle area, \ud835\udc60\ud835\udc5d is the semi-perimeter and \ud835\udc59\ud835\udc56 are the triangle sides. When the tetrahedron has four points, the surface element is twice the average of the areas of the four defined triangles. Such surfaces are the surface area elements \ud835\udc51\ud835\udc34(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) defining the k-state-dependent DOS, \ud835\udc51\ud835\udc34(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\n|?\u20d7? (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)| , and used in the scattering rate calculations as well as the energy\nintegrations. To obtain the k-state coordinates, which is important for anisotropic scattering rates, for\nwhich the exchange vector is needed, the code finds the barycentre of the surface element, and labels this as the k-point associated to the given surface element.\nNearest-neighbour sampling method: When the nearest-neighbour sampling method is chosen,\nthe code scans all the k-points on the energy surface and checks for their nearest neighbours along the edges of the k-mesh. If the k-point of interest and a neighbour have energies one above and one below the energy value of interest, the code selects a new k-point along the edge of the k-mesh element (Figure 2d), as in Eq. (4). This new point becomes the k-point at the energy of interest for the scattering rate evaluation. In this way the code does not resolve a constant energy surface element but acquires a collection of points on the energy surface of interest. Then, the code assigns an effective dAk surface element area value to each point to allow the extraction of the density of states associated with that k-point. For this, all the points on the constant energy surfaces are grouped as a cloud of points. The space in the neighbourhood of each k-point is explored to detect its neighbours on the surface. This is done in a radius of 1.25\u221a\ud835\udc49\u2217 3 . Here \ud835\udc49\u2217 is the effective volume associated with the kmesh element computed as the average of the absolute values of each volume \ud835\udc49\ud835\udc52 used in the contragradient method, i.e. \ud835\udc49\ud835\udc52 = \ud835\udc8c\ud835\udc59\ud835\udc5a \u22c5 (\ud835\udc8c\ud835\udc59\ud835\udc5b \u00d7 \ud835\udc8c\ud835\udc5a\ud835\udc5b) , \ud835\udc8c\ud835\udc59\ud835\udc5a = (\ud835\udc8c\ud835\udc59 \u2212 \ud835\udc8c\ud835\udc5a) and l, m, n, are the vertexes of the considered mesh element. \u221a\ud835\udc49\u2217 3 is regarded as the effective distance between adjacent points in the k-mesh used in the bandstructure calculation if the mesh is cubic. Then, the code calculates the average distance between the given point and its detected neighbours, < \u2206\ud835\udc58 >. The surface element associated to the k-point is approximated by a circle of radius half the average distance to the\nneighbouring points, i.e., d\ud835\udc34\ud835\udc8c = \ud835\udf0b ( <\u2206\ud835\udc58> 2 ) 2 . Note that the assumption of a circular region and the value of 1.25 is determined empirically here to provide the best map between the DOS of this method and the DOS of the triangulation method, and works adequately for 3D and 2D, but only if the sampling distance between k-points is uniform in all three directions. When the mesh sampling is not uniform we recommend to use the triangulation instead. Essentially, it indicates that the effective radius of a point to its neighbours needs to be somewhat more than its half distance in order to include points that are placed in the diagonal direction of the grid in relation to the considered point.\nFor each band in the electronic structure, the energy-dependent DOS is then calculated as:\nDOS(\ud835\udc38, \ud835\udc5b) = \u222f \ud835\udc51\ud835\udc34(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\n|?\u20d7? (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)|\ud835\udd0f\ud835\udc38 \ud835\udc5b =\n\ud835\udc60\n(2\ud835\udf0b)3 \u2211\n\ud835\udc51\ud835\udc34(\ud835\udc8c,\ud835\udc5b,\ud835\udc38)\n|?\u20d7? (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)| \ud835\udc8c\ud835\udc38,\ud835\udc5b (5)\nwhere s is the spin degeneracy taken as 1 or 2, and \ud835\udc63 (\ud835\udc8c,\ud835\udc5b,\ud835\udc38) is the band velocity. The comprehensive DOS(E) is the sum of the DOS of all individual bands and the comprehensive velocity \ud835\udc63(\ud835\udc38) is the average of the state velocity \ud835\udc63(\ud835\udc38, \ud835\udc5b) = \u2329|\ud835\udc63 (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)|\u232a\ud835\udc8c .\nThe implementation of these concepts in ElecTra are shown in Figure 3 for three example cases:\n(i) parabolic bands, where the analytical solution is known, (ii) the valence band of the half-Heusler\nTiCoSb, and (iii) the conduction band of Mg3Sb2. Figure 3a-c shows an example of constant energy surfaces together with 1D projections of the bandstructures, with the magenta lines indicating the energy of the surfaces. In Figure 3d the DOS of an isotropic parabolic band with mass equal to the rest mass of the electron, m0, is shown, depicting in blue the analytical solution \ud835\udc37\ud835\udc42\ud835\udc46(\ud835\udc38) =\n\u221a2\n\ud835\udf0b2\u210f3 \ud835\udc5a3/2\u221a\ud835\udc38, in orange the values computed by ElecTra with the nearest-neighbour sampling method and in green with the triangulation method. In the same sub-figure we also show the cases for an anisotropic non-parabolic band, following the same colouring scheme (bottom lines). For this case the three masses along the three coordinate directions are 1, 0.5, 0.1, in units of m0, and the nonparabolicity coefficient is  = 0.5/q0 eV-1, with q0 being the electron charge. The analytical DOS in this case is \ud835\udc37\ud835\udc42\ud835\udc46(\ud835\udc38) = \u221a2\n\ud835\udf0b2\u210f3 \ud835\udc5a\ud835\udc37\n3/2 (1 + 2\ud835\udefc\ud835\udc38)\u221a\ud835\udc38(1 + \ud835\udefc\ud835\udc38) with \ud835\udc5a\ud835\udc37 = \u221a\ud835\udc5a\ud835\udc65\ud835\udc5a\ud835\udc66\ud835\udc5a\ud835\udc67 3 . Figure 3e reports\nthe band velocity for these two cases, with the isotropic parabolic band corresponding to the bottom\nlines, following the analytical solution \ud835\udc63(\ud835\udc38) = \u221a2\ud835\udc38 \ud835\udc5a\u2044 . The anisotropic non-parabolic band case\ncorresponds to the top lines, with analytical solution \ud835\udc63(\ud835\udc38) = \u221a2\ud835\udc38(1+\ud835\udefc\ud835\udc38) \ud835\udc5a\ud835\udc50 \u2044\n\u221a1+4\ud835\udefc\ud835\udc38(1+\ud835\udefc\ud835\udc38) with \ud835\udc5a\ud835\udc50 =\n3\n\u2211 1 \ud835\udc5a\ud835\udc56\u2044\ud835\udc56 .\nExcellent agreement between analytical and numerical calculations is observed. Figure 3f shows the total DOS for the TiCoSb valence band computed with Quantum Espresso [31, 32] in blue, and with ElecTra in orange and green using nearest-neighbour sampling and triangulation, respectively. An excellent agreement between ElecTra and Quantum Espresso is observed. The corresponding band velocity is shown in Figure 3g. The comparison between ElecTra and BoltzTraP [12] is shown in Figure 3h for the Mg3Sb2 conduction band, whereas the corresponding band velocity is reported in Figure 3i. Again, excellent agreement between ElecTra and BoltzTraP is observed. Some minor differences are likely because ElecTra considers constant energy surfaces and surface integrals instead of fixed k-points and volume integrals.\nfor the valence band of TiCoSb, 0.12 eV below the valence band edge. (c) Constant energy surface for the Mg3Sb2 conduction band, 0.1 eV above the edge. (d) 3D DOS for isotropic parabolic band (\ud835\udc5a\u2217 = \ud835\udc5a0 \u2013 top lines), case (a), and anisotropic non-parabolic band (\ud835\udc5a\ud835\udc65,\ud835\udc66,\ud835\udc67 \u2217 = 1,0.5,0.1 \ud835\udc5a0 and  = 0.5/q0 eV -1 \u2013 bottom lines); comparison of the known analytical solution with the one numerically computed with ElecTra, by using the two sampling schemes for the BZ. (e) Band velocity for the case in (d), top lines for anisotropic non-parabolic band and bottom lines for isotropic parabolic. (f) DOS for the TiCoSb (Zincblende structure) valence band, comparison of the results from Quantum Espresso with those from ElecTra. (g) Band velocity for the TiCoSb valence band. (h) DOS for the Mg3Sb2 conduction band, comparison between the results from BoltzTraP and ElecTra. (i) Band velocity for the Mg3Sb2 conduction band.\n4. Carrier scattering and transport quantities\nFor each transport state (k,n,E) and each scattering mechanism ms, the corresponding momentum relaxation time \ud835\udf0f\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) (\ud835\udc5a\ud835\udc60) is defined as:\n1\n\ud835\udf0f \ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) (\ud835\udc5a\ud835\udc60)\n= 1\n(2\ud835\udf0b)3 \u2211 |\ud835\udc46 \ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc5a\ud835\udc60)| (1 \u2212\n\ud835\udc63 \ud835\udc56(\ud835\udc8c\u2032)\n\ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) )\ud835\udc8c\u2032 (6)\nwhere the sum runs over all the allowed final states k\u2019 of the same carrier spin, i.e. ElecTra will not allow scattering between them. [22, 23] |Sk,k\u2019| is the transition rate between the initial k and final k\u2019 states, computed as detailed by Eqs. (7a), (7b), (7c), (7d), (7e), (7f) below for the different mechanisms. The (1 \u2212 \ud835\udc63\ud835\udc56\ud835\udc57(\ud835\udc8c\u2032)\n\ud835\udc63\ud835\udc56\ud835\udc57(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) ) term is an approximation for the momentum relaxation time, [33-36]\nwhich is used to solve the BTE in the closed form, as commonly done in the literature when\ncomputing the transport coefficients. [14, 22, 35, 36] ElecTra computes the scattering rates using Fermi\u2019s Golden Rule for the different scattering mechanisms as (for 3D materials, see Appendix for the 2D versions) [22, 23]:\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc34\ud835\udc37\ud835\udc43)| = 2\n\ud835\udf0b \u210f \ud835\udc37\ud835\udc34\ud835\udc37\ud835\udc43 2 \ud835\udc58\ud835\udc35\ud835\udc47 \ud835\udf0c\ud835\udc63\ud835\udc46 2 \ud835\udc54\ud835\udc8c\u2032 (7a)\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc42\ud835\udc37\ud835\udc43)| =\n\ud835\udf0b\ud835\udc37\ud835\udc42\ud835\udc37\ud835\udc43 2\n\ud835\udf0c\ud835\udf14 (\ud835\udc41\ud835\udf14 +\n1 2 \u2213 1 2 ) \ud835\udc54\ud835\udc8c\u2032 (7b)\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc3c\ud835\udc49\ud835\udc46)| =\n\ud835\udf0b\ud835\udc37\ud835\udc3c\ud835\udc49\ud835\udc46 2\n\ud835\udf0c\ud835\udf14 (\ud835\udc41\ud835\udf14 +\n1 2 \u2213 1 2 ) \ud835\udc54\ud835\udc8c\u2032 (7c)\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc43\ud835\udc42\ud835\udc43)| =\n\ud835\udf0b\ud835\udc5e0 2\ud835\udf14\n|\ud835\udc8c\u2212\ud835\udc8c\u2032|2\ud835\udf000 (\n1\n\ud835\udc58\u221e \u2212\n1\n\ud835\udc58\ud835\udc60 ) (\ud835\udc41\ud835\udf14,\ud835\udc35\ud835\udc38 +\n1 2 \u2213 1 2 ) \ud835\udc54\ud835\udc8c\u2032 (7d)\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc3c\ud835\udc3c\ud835\udc46)| =\n2\ud835\udf0b\n\u210f\n\ud835\udc4d2\ud835\udc5e0 4\n\ud835\udc58\ud835\udc60 2\ud835\udf000 2\n\ud835\udc41\ud835\udc56\ud835\udc5a\ud835\udc5d\n(|\ud835\udc8c\u2212\ud835\udc8c\u2032|2+ 1\n\ud835\udc3f\ud835\udc37 2 )\n2 \ud835\udc54\ud835\udc8c\u2032 (7e)\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc34\ud835\udc59\ud835\udc59\ud835\udc5c\ud835\udc66)| =\n2\ud835\udf0b\n\u210f \ud835\udefa\ud835\udc50\ud835\udc65(1 \u2212 \ud835\udc65)\ud835\udc3a\ud835\udc8c\u2212\ud835\udc8c\u2032\ud835\udee5\ud835\udc38G\n2\ud835\udc54\ud835\udc8c\u2032 (7f)\nAbove, ADP stands for \u2018Acoustic Deformation Potential\u2019 and represents the scattering between charge carriers and acoustic phonons. ODP stands for \u2018Optical Deformation Potential\u2019 and describes the charge carrier inelastic scattering with non-polar optical phonons. Both can can be chosen to be both intra- and/or inter-band (in subsequent versions of the code we will allow for the choice of intraversus inter-valley scattering as well). IVS stands for \u2018Inter-Valley Scattering\u2019 and it is specific for the inelastic inter-valley scattering. POP stands for \u2018Polar Optical Phonon\u2019 and describes the inelastic/anisotropic scattering of charge carriers with polar phonons, which here is treated as both intra- and inter-band [23]. ElecTra allows different phonon frequencies for all these inelastic processes separately, for example, for each non-polar and polar phonon branches, different frequencies can be used . IIS stands for \u2018Ionized Impurity Scattering\u2019 and describes the elastic scattering rate due to ionized dopants, for which the user can choose both intra- and/or inter-band nature for transitions. \u201cAlloy\u201d represents the alloy scattering due to intrinsic disorder in alloys or solid solutions and is both intra- and inter-band. [33] k and k\u2019 are the wave vectors of the initial and final states. \u201c-\u201d and \u201c+\u201d in Eqs. (7b)\u2013(7d) indicate the phonon absorption and emission processes, respectively. Examples for these types of transition processes are depicted in Figure 4a. We allow for the directional dependence of the momentum scattering rates because in an anisotropic band and /or under the influence of anisotropic scattering mechanisms, the rate at which the carrier\u2019s momentum relaxes, will depend on the carrier\u2019s initial momentum and the distribution of momenta of the final states.\nThe variables that appear in Eqs. (7a), (7b), (7c), (7d), (7e), (7f) are as follows: DADP, DODP,\nDIVS are the deformation potentials for the ADP, ODP, and IVS mechanisms.  is the mass density, vs the sound velocity,  the dominant frequency of optical phonons, considered as constant over the whole\nreciprocal unit cell, which has been validated to be a satisfactory approximation, [15] and N is the\nphonon Bose-Einstein statistical distribution; 0 the vacuum dielectric constant, ks and k\u221e the static and high frequency relative permittivity, Z the electric charge of the ionized impurity considered, and Nimp is the density of the ionized impurities. \ud835\udc54\ud835\udc8c\u2032 = \ud835\udc51\ud835\udc34 (\ud835\udc8c\u2032,\ud835\udc5b,\ud835\udc38)\n|?\u20d7? (\ud835\udc8c\u2032,\ud835\udc5b,\ud835\udc38)| is the single-spin DOS of the final scattering\nstate. \ud835\udc3fD = \u221a \ud835\udc58\ud835\udc60\ud835\udf000\n\ud835\udc52 (\n\ud835\udf15\ud835\udcc3 \ud835\udf15\ud835\udc38F ) \u22121 is the generalized screening lendegth with EF being the Fermi level and \ud835\udcc3\nthe carrier density. [23, 9] c is the volume of the primitive cell, x the fraction of one of the alloy elements, and EG the difference between the energy gap of the two constituent materials that form the alloy. [23, 32] The G function is the form factor of a hard sphere. [33] Rigorous studies show that the\nEG can be substituted by an effective scattering potential that can be calibrated to fit experimental values. [33] However, ElecTra uses the EG term, since in general such scattering potentials are unknown.\nThe current version of ElecTra (v1) is calibrated towards the predictive modelling of electronic and thermoelectric properties of materials and it is validated to room and higher temperatures. It considers that all dopants are ionized and does not capture the carrier freeze out region. Note that the equipartition theorem at the basis of Eq. (7a) does not hold at low temperatures either. Screening in the electron-phonon scattering processes is implemented only for the POP mechanism, where it is believed to play a major role, [37-40] for which the user has the choice to include the screening factor\n1\n(1+ 1\n|\ud835\udc8c\u2212\ud835\udc8c\u2032| 2\n1\n\ud835\udc3f\ud835\udc37 2 )\n2 in the calculation. [23, 41] The screening in the carrier-phonon scattering event has\ndifferent effect on transport depending on the bandstructure details. It has little effect for light bands with small ellipsoids and small DOS (larger LD) such as in GaAs, the difference in mobility is below 5 % and concentrated in the low doping regime, and greater effect for bands with large constant energy surfaces and large DOS (smaller LD) such as the valence bands of half-Heuslers, where the difference in the mobility can be ~ 50 % and extended in a wider doping interval. However, it substantially increases the computational complexity (as the scattering rates become Fermi level dependent), so its consideration is left to the user\u2019s choice.\nThe scattering rates and the transport coefficients are computed along orthogonal Cartesian space directions x, y, z. Consequently, the constant energy surfaces are expressed in Cartesian coordinates on orthogonal axes instead of unit cell axes, and the reciprocal unit cell is used instead of the Brillouin Zone. The surfaces in Figure 3b, represented as a collection of transport states in Cartesian coordinates, are depicted in Figure 4b. The process of carrier scattering is depicted by arrows between points (i.e. transport states).\nA further important point is that the POP and IIS scattering strengths depend on the momentum exchange vector, i.e. the distance in the k-space between the initial and final states |\ud835\udc8c \u2212 \ud835\udc8c\u2032|2. To compute this momentum exchange vector, the simulator takes into consideration every final state\u2019s k-point position in all neighbouring reciprocal unit cells, and then uses the minimum distance from the initial point in the exchange vector. For this, as shown in a 2D schematic in Figure 4c, the final point (red bullet), is shifted by the reciprocal lattice vectors in all possible directions, creating the fainted red bullet points. Here in Figure 4c the central cell with bold edges represents the cell used in the simulations and the other cells are the equivalent ones. Then the code considers the closest distant to the initial blue bullet point. This is necessary, because for example two k-points that are located at opposite edges of the reciprocal unit cell are actually very near if the equivalent point in the nearest neighbour cell is considered. Figure 4c shows a 2D schematic of this, indicating that the physical scattering vector is the green one, and not the red one. In the case of an anisotropic dielectric\nconstant or deformation potentials, at present we consider averaging of the quantities in the different directions, and are in the process of evaluating at what extent the anisotropy is important.\nIllustrative examples for transport quantities \u2013 case of parabolic bands: We now show some illustrative examples of the energy dependent quantities computed by ElecTra. We consider the\nrelaxation times , mean-free-paths , and transport distribution functions , and first compare parabolic bands (with known analytical solutions). We then consider the valence band of TiCoSb as a case study. In Figures 5a-d we show the relaxation time and mean-free-path (mfp) computed for an isotropic parabolic band with m = m0, under different scattering mechanisms as detailed in the figure. In addition to the scattering parameters detailed in the caption, we assumed a mass density of 9 g/cm3, speed of sound 3 km/s, and static and high-frequency dielectric constants of 12 and 10. We consider room temperature T = 300 K. The behaviour is the typical one described in the literature [22]. In Figure 5a the relaxation time due to ADP decreases with energy due to the increasing DOS. The same generally holds for ODP with the additional consideration that at the band edge only phonon absorption is possible. When phonon emission becomes possible, the relaxation time drops down as expected. Figure 5a also shows the relaxation time for scattering with ionized impurity scattering at a dopant density of 21019cm-3, which corresponds to a Fermi level at the band edge. It also shows the total relaxation time by combining ADP, ODP and IIS according to Matthiessen\u2019s rule. In Figure\n5b we show the mean-free-path,  for three of the situations of Figure 5a, for the parabolic bands. Namely, the mfps are: i) a roughly constant under ADP, ii) initially increasing under ODP when only absorption is possible, then decreasing and settling to a nearly constant value, and iii) following an\nincreasing trend under IIS, which is the strongest for carriers at the band edge, such that  tends to gets closer to the phonon-limited value at higher energies. We show POP separately in Figures 5c-d, specifically differentiating the role of screening which can be included for this scattering mechanism. Figures 5c and 5d show the relaxation time and mean-free-path, respectively, for the case where carrier screening is not included in the POP scattering calculation (blue lines), and when it is included (magenta lines). The three magenta lines show how these quantities vary for different carrier densities as indicated in Figure 5d. For non-degenerate conditions the effect is negligible, while it becomes sizeable at degenerate conditions by weakening the scattering strength by a factor of around 2 to 3.\nIllustrative examples for realistic materials \u2013 the case of TiCoSb: We now show the cases of relaxation times and mean-free-paths for the half-Heusler TiCoSb in Figure 5e-h, with the scattering parameters used taken from ref. [9]. Illustrative bandstructure figures are shown in Figure 3b. We start with ADP and ODP in Figure 5e-f. Note that the valence bands are in the negative energy direction and the band edge at 0eV, so the lines should be read from right to left. For both cases we have the rise of \u03c4 and \u03bb at the band edge and reduction further into the bands. In Figure 5f we also compare the effect of the mesh size, by employing two regular meshes of 51 points and 101 points along each k-space coordinate direction, respectively. A finer mesh, despite taking longer time, strongly reduces the numerical noise. The computation time is ~ 25 min. and increases to ~ 9 hrs when the mesh increases from 51 to 101 k-points meshes, when ElecTra is parallelized on a 12 CPUs desktop PC.\nIn Figures 5g-h, we show the relaxation time and mean-free-path due to POP with and without screening. The blue lines correspond to the cases without screening, whereas the magenta lines for the cases of three carrier densities as above in Figures 5c-d. For TiCoSb, the dielectric constant values assumed in the POP calculations are 30 and 20 for the static and high frequency, respectively [42]. As in the case of parabolic bands, the screening effect is negligible at low densities, but here it becomes very strong at increased carrier densities, leading to a variation of more than an order of magnitude. The valence band of TiCoSb is strongly non-parabolic with wide energy surfaces. This leads to higher carrier density (and screening lengths) and especially wider exchange vectors, two\nfactors which strongly increase carrier screening and increase scattering times and mfp (much more compared to the parabolic band cases).\nTDF illustrative examples: We now show examples of transport distribution functions (TDF) , which contain all the information relevant to charge transport within the BTE. We first show examples of these functions for different scattering mechanisms in the case of parabolic bands. In\nFigure 6a we show  for the same parabolic band as in Figures 5a-d, for the three electron-phonon scattering mechanisms computed with ElecTra. As expected, ADP gives a linear  in the parabolic band case, while for ODP and POP the onset of the phonon emission at the characteristic phonon energy is clearly observed (here we used 50 meV for ODP and 40 meV for POP). Also, the effect of the anisotropic character of the POP scattering is noticeable, with higher than linear increase of , for the high energy, large exchange vector, carriers. In Figure 6b we compare the two  functions for ODP and POP from Figure 6a to the known analytical solutions, showing once again the validity and reliability of the ElecTra numerical implementation.\nIn Figure 6c we show the corresponding TDFs for the valence band of TiCoSb to indicate how a\nfull-band treatment of non-ideal bandstructures impacts the transport distribution functions.  is no longer linear for ADP, and the abrupt jump at the phonon emission onset in ODP is mitigated (as observed in the logarithmic and linear-inset scales). Note that the assumed optical phonon frequency\nis 36 meV and that the figures need to be read from right to left. In Figure 6d we show  computed when considering all ADP, ODP and IIS altogether, and for three carrier densities, showing that an increasing dominant IIS tends to smear out some of the DOS features, although the more than linear trend expected from parabolic bands is absent \u2013 the trend here is rather linear. Note that the scattering parameters for TiCoSb are the same as used in ref. [9].\n5. Transport coefficient validations Now we present the validation of the ElecTra simulator with comparison to BoltzTraP, a widely used simulation code that uses the constant relaxation time approximation (CRTA) [12, 13]. We also show simulations from ElecTra regarding the well-studied semiconductors Si, Ge, SiGe alloy, GaAs.\nWe start with a comparison between the TE coefficients computed under the CRTA by ElecTra and BoltzTraP for TiCoSb, i.e. the electrical conductivity, , in Figure 7a and the power factor, \ud835\udc43\ud835\udc39 = \ud835\udf0e\ud835\udc462, in Figure 7b. A very good agreement is observed with a maximum difference of ~ 10%. In\nFigure 7c we report the comparison of  for two different tensorial components for another thermoelectric material, Mg3Sb2. Again the differences are below 10%. We also note that the mesh we used in this calculation is rather sparse, 51x51x51 for TiCoSb and 61x61x41 for Mg3Sb2.\nWe now validate ElecTra\u2019s transport calculations versus experimentally well-known semiconductors by comparing the computed and experimental mobility using data from the literature. [43-47]. In Figures 8a-b we show the case of n- and p-type silicon mobility respectively, including ADP, ODP and IIS with the figures, parameters, and full details of the calculation adopted from [43]. The very good agreement corroborates the validity of the implemented scattering and transport methods. The discrepancies at the higher doping region can be ascribed to electron-electron scattering, [43, 47] which is not included in the computation.\nGaAs offers the possibility to further validate the ElecTra scattering treatment by investigating a\nmaterial for which POP is dominant. In addition, two type of valleys,  and L, participate in transport and different deformation potentials determine the scattering strengths between them [22]. GaAs also offers the possibility of testing the relevance of the carrier screening in the POP mechanism. As we observe in Figure 8c, the consideration of screening in the POP mechanisms has little effect, attributed to the small effective mass of the \u0393 valley, which results in larger screening length and smaller exchange vectors. As seen above, POP screening becomes important at higher carrier densities, but then the IIS is dominant. However, materials with large energy surfaces such as halfHeuslers could have a different behaviour. In Figure 8c we also show the mobility computed without the (1 \u2212 \ud835\udc63\ud835\udc56(\ud835\udc8c\u2032)\n\ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38) ) momentum relaxation term in Eq. (6), signalling its importance when the relevant\nscattering processes are anisotropic.\nThe case of Ge mobility is shown in Figure 8d, where again the ElecTra simulations map very well to experiments. This figure, however, also highlights the importance of the mesh spacing. Using\nunits of /a, where a is the lattice parameter, a spacing of 0.01 /a corresponds to a 201\u00d7201\u00d7201\nbandstructure mesh. A spacing of 0.02 /a can be sufficient to capture the general trends in the\ntransport properties and could be sufficient in materials screening/ranking or comparisons. However,\nfor better quantitative accuracy, a spacing of maximum ~ 0.015 /a is recommended.\nThe case of the SiGe alloy, in Figure 8e, is used to validate the \u2018Alloy\u2019 scattering treatment. In this case, a low doping value of ~ 1014 cm-3 is considered. For Ge, the scattering deformation potentials are taken from reference [47], and for the SiGe alloys, they have been linearly combined, weighted by the composition. Note that in the general case, there can be different number of processes for each material and a weighted deformation potential cannot be trivially extracted. For example, with regards to IVS in silicon, there are three tabulated IVS processes [43] while there are only two for germanium [47] (for example the Si g- and f-processes are not relevant for Ge). One first order approach (not unique) to tackle this would be to determine on an arbitrary basis the deformation potentials for the minimum number of processes that however provide the elemental material mobility. Because now both materials will be described by the same number of processes, we can combine these fictitious deformation potentials with Vegard's law. The calculation agrees very well with the experiments; however, we acknowledge a better process needs to be identified. Finally, in Figure 8f we compute the mean-free-paths for some of the materials, as indicated in the figure, for both non-degenerate (dash-dot lines) and heavily degenerate conditions (solid lines), indicating the capability of ElecTra to provide meaningful intrinsic transport quantities.\nRecently, we have employed ElecTra to study the charge transport in Transparent Conductive Oxide (TCO) SnO2, for which ElecTra simulations show very good agreement to experimental data for the mobility. [48]\nWe also highlight that ElecTra approach is suitable also for metals, semimetals, and gapless semiconductors. [49, 50] For zero and negative bandgaps, ElecTra can consider the scattering between the \u201cvalence\u201d and \u201cconduction\u201d bands, which can even be the case of inelastic scattering in a semiconductor with a bandgap smaller than the phonon energy.\nFinally, we make a note regarding the use of overlap integrals. This is usually considered to be unity [51, 52], which is valid for parabolic bands, but for other cases there are expressions that can also be used for different cases and materials. [23] The assumption of an overlap integral equal to the unity can lead to an overestimation of the scattering strength, since the overlap is generally less than unity. In ElecTra the user can choose to use for the generic valence band of a material the analytical expressions developed for the overlap integrals in the valence band of Si [53]. Note that when the deformation potentials are extracted from the matrix elements as in ref. [26], the overlap integrals and scattering selection rules are already included in those values.\n6. Conclusions\nWe have introduced ElecTra, a code to solve the linearized Boltzmann transport equation by considering the full energy, momentum and band index dependence of the scattering relaxation time. The code has been tested versus analytical solutions, existing codes operating under constant relaxation time approximation, and experimental data, achieving an excellent agreement. The code can offer a large degree of accuracy with a significantly reduced computational cost compared to fully ab initio methods, and can be a useful resource in computing electronic and thermoelectric transport properties in complex bandstructure materials."
        },
        {
            "heading": "Acknowledgement",
            "text": "This work has received funding from the Marie Sk\u0142odowska-Curie Actions under the Grant agreement ID: 788465 (GENESIS - Generic semiclassical transport simulator for new generation thermoelectric materials) and from the European Research Council (ERC) under the European Union's Horizon 2020 Research and Innovation Programme (Grant Agreement No. 678763). We acknowledge support from Dr. Chathurangi Kumarasinghe in the validation of the algorithms for the formation of the constant energy surfaces, and form Prof. Laura De Sousa Oliveira for the initial set up of the parallelization concepts. For part of the computational time, we acknowledge the CINECA award under the ISCRA initiative, for the availability of high performance computing resources and support."
        },
        {
            "heading": "Appendix A \u2013 2D transport coefficients",
            "text": "In this section we present the extension of ElecTra to 2D materials, report the scattering rate equations, and validate this computational method. In 2D the TDF is expressed as [30]:\n\ud835\udeef\ud835\udc56\ud835\udc57(\ud835\udc38,\ud835\udc38F,\ud835\udc47) = \ud835\udc60 (2\ud835\udf0b)2 1 \ud835\udc61 \u2211 \ud835\udc63\ud835\udc56(\ud835\udc8c,\ud835\udc5b)\ud835\udc63\ud835\udc57(\ud835\udc8c,\ud835\udc5b)\ud835\udf0f\ud835\udc56(\ud835\udc8c,\ud835\udc5b,\ud835\udc38F,\ud835\udc47)\n\u212d\ud835\udc38 \ud835\udc5b \ud835\udc8c,\ud835\udc5b\n\ud835\udc51\u2113\ud835\udc8c \u212d\ud835\udc38 \ud835\udc5b |?\u20d7? (\ud835\udc8c,\ud835\udc5b)| (A.1),\nwhere t is the material thickness, for example the unit cell size in the vertical direction, \u212d\ud835\udc38 \ud835\udc5b is the constant energy contour of band n, and \ud835\udc51\u2113\ud835\udc8c \u212d\ud835\udc38 \ud835\udc5b is the corresponding length element for the \ud835\udc8c\u212d\ud835\udc38\ud835\udc5b state, computed by reducing to two dimensions the approach described in Section 3; all other terms in Eq. (A.1) are the same as in Eq. (2). \ud835\udc51\u2113\ud835\udc8c \u212d\ud835\udc38 \ud835\udc5b\n|?\u20d7? (\ud835\udc8c,\ud835\udc5b,\ud835\udc38)| is the k-state density-of-states. It must be noted that in 2D the\ntriangulation and nearest-neighbour approach requires nearly the same computation time for both the k(E) extraction and scattering rates calculation, so the nearest-neighbour approach does not lead to any computational cost benefits in 2D. However, both options are still available to the user. For the parabolic band example below, the computational time to build the constant energy contours is around 10 s and for scattering rates and transport coefficients around 8 minutes, in a laptop computer with 6 processors, regardless the used sampling scheme, triangulation or nearest-neighbours.\nThe scattering rate calculations, Eqs. (7a), (7b), (7c), (7d), (7e), (7f), for all the mechanisms\nexcept POP and IIS, are generally the same, with the DOS of the final state expressed in terms of the constant energy contour length element. In Eqs. (7a), (7b), (7c), (7f), a 1/t multiplication (where t is a thickness in units of m) is required to account for the 2D nature of the system and the correct units, i.e. the mass density is still entered in kg/m3 for ADP, ODP and IVS, and the 2D cell volume for \u2018Alloy\u2019 is still entered in m3. Also, in the \u2018Alloy\u2019 scattering, the form factor of a hard sphere is\nsubstituted by the one of a hard disk. Thus, we don't reprint those equations here again. The POP and IIS scattering rates, on the other hand, have a different form and are computed as:\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc43\ud835\udc42\ud835\udc43)| =\n\ud835\udf0b\ud835\udc5e0 2\ud835\udf14\n2|\ud835\udc8c\u2212\ud835\udc8c\u2032|\ud835\udf000 (\n1\n\ud835\udc58\u221e \u2212\n1\n\ud835\udc58\ud835\udc60 ) (\ud835\udc41\ud835\udf14,\ud835\udc35\ud835\udc38 +\n1 2 \u2213 1 2 )\ud835\udc54\ud835\udc8c\u2032 (A.2a)\n|\ud835\udc46\ud835\udc8c,\ud835\udc8c\u2032 (\ud835\udc3c\ud835\udc3c\ud835\udc46)| =\n\ud835\udf0b\n2\u210f\n\ud835\udc4d2\ud835\udc5e0 4\n\ud835\udc58\ud835\udc60 2\ud835\udf000 2\n\ud835\udc41\ud835\udc56\ud835\udc5a\ud835\udc5d\n|\ud835\udc8c\u2212\ud835\udc8c\u2032|2+ 1\n\ud835\udc3f\ud835\udc37 2\n\ud835\udc54\ud835\udc8c\u2032 (A.2b).\nThe terms in Eqs. (A.2a), (A.2b) are the same as in Eqs. (7a), (7b), (7c), (7d), (7e), (7f) except \ud835\udc54\ud835\udc8c\u2032 = \ud835\udc51\u2113 (\ud835\udc8c\u2032,\ud835\udc5b,\ud835\udc38) |?\u20d7? (\ud835\udc8c\u2032,\ud835\udc5b,\ud835\udc38)| . The form of Eqs. (A.2a), (A.2b) is based on the fact that the Fourier transform (FT) [22, 23] of the Coulomb-like field ~1/r in 2D is 2/q instead of the 3D 4/q2, and for a screened field the FT of ~ the 1/r exp(-LD/r) is 2\ud835\udf0b\n\u221a\ud835\udc922+\ud835\udc3fD 2\nin 2D instead of the 3D 4\ud835\udf0b\n\ud835\udc922+\ud835\udc3fD 2 , [54] where r is the distance from the\ncharge. Remarkably, the comparison between Eq. (A.2a) and Eq. (7d) reflects the expressions for 3D and 2D materials in the approximation where no dielectric is assumed to be surrounding the material and absence of image charges. [55-58] Similarly, the screening term which can be eventually added to the POP scattering mechanism becomes 1\n1+ 1\n|\ud835\udc8c\u2212\ud835\udc8c\u2032| 2\n1\n\ud835\udc3f\ud835\udc37 2\n. Finally, the screening length in 2D is computed as\n\ud835\udc3fD = 2 \ud835\udc58\ud835\udc60\ud835\udf000\n\ud835\udc52 (\n\ud835\udf15\ud835\udcc3 \ud835\udf15\ud835\udc38F ) \u22121 , [59] where \ud835\udcc3 is the 2D carrier density.\nThe validation of 2D ElecTra\u2019s scheme is represented in Figure A1, where the DOS and band\nvelocity for an isotropic parabolic band with effective mass equal to the electron rest mass, are compared with the known exact solutions in (a) and (b), respectively. The two methods (triangulation and nearest neighbour sampling) from Section 3 are considered as well. With regards to the scattering treatment, an exact solution for the ADP and ODP scattering cases can also be obtained. ElecTra\u2019s results are comparable with the analytical calculations in (c) and (d) for the TDF and the electrical conductivity, respectively.\nFigure A1: (a) Comparison of the DOS for a 2D parabolic band between the analytical value and the numerical one computed with ElecTra, by using the two BZ sampling techniques. (b) Same as in (a), for the band velocity comparison between the analytical solutions and numerical from ElecTra. (c) Comparison between the TDF computed with ElecTra with analytical known solutions for ADP and ODP scattering mechanisms. (d) Same as (c) for the electrical conductivity."
        },
        {
            "heading": "Appendix B \u2013 additional technicalities",
            "text": "In this appendix we provide some details of the code speed-up with parallelization and the available band interpolation. Additional information are provided in the Supporting Information and in the ElecTra manual. [60]\nElecTra is parallelized at the level of the carrier energy, and supports both local, multiple processors on the same node, and cluster, multiple processors on more nodes, parallelization. Figure B1 shows the scaling performance, obtained on the CINECA Galielo100 cluster [61] on a single node, equipped with Intel CascadeLake 8260, each with 24 cores, of 2.4 GHz frequency, for bipolar calculations using TiNiSn considering ADP, ODP, POP (with screening) and IIS mechanisms, four temperatures and 15 doping levels (for each polarity). The speed-up shown is compared to the execution time using 5 CPUs as the basis, for (a) the constant energy surface composition, and (b) the rates and TDF calculations. The times are evaluated with the \u2018tic\u2019-\u2018toc\u2019 functions in MATLAB\u00ae and have around 5% of error. The times required to run the computations on 5 CPUs for the formation\nof constant energy surfaces are around 40 s and 70 s for conduction and valence bands respectively. For the scattering rates and transport coefficients calculations, they are 6.5 hr and 21.7 hr for the conduction and valence band, respectively. Fig. B.1d shows interpolation results for the DOS of the TiCoSb valence band. These numerical interpolations, which use the \u2018natural-neighbor\u2019 scheme as provided by a built-in MATLAB\u00ae routine, take around 15 minutes and 45 minutes for interpolating an initial 51 \u00d7 mesh to a 101 \u00d7 and 151 \u00d7 meshes, respectively, on a laptop, which is similar time compared to the interpolation performed using Wannier interpolations, which can also be used as an alternative method.\nFigure B1: HPC speed-up in compared to a simulation of using 5 CPUs, for the case of TiNiSn and for: (a) the constant energy surfaces formation, and (b) the scattering times calculation. (c) Computation times for the case of 10 CPUs and the case detailed in the text as an example, for the computation of the constant energy surfaces, surf., and the scattering rates and transport coefficients, transp., for CB and VB, as indicated.(d) Numerical interpolation example for the TiCoSb DOS; solid lines are for a DFT mesh of 515151 points and its interpolation, and compared to the results when using a 101101101 DFT mesh (red circles).\nWe address now discretization issues and how dense the k-mesh should be. We focus on the nearest neighbor (NN) sampling, whereas the comparison between NN and Delaunay triangulation (DT) schemes is displayed in Figure 3f. A convergence test for the DOS of the conduction band of Si is shown in Figure B2a, for different\nsets of k-points extracted out of DFT. ElecTra can input in addition any interpolated DFT k-mesh, for example as provided by the Wannier90 package, and the accuracy will be the same as in any other transport code. ElecTra also offers a numerical interpolation of the k-space (using a built-in MATLAB\u00ae routine) to create a finer k-mesh and reach a larger number of points of what the bare DFT mesh would provide. We show the result in Figure B2b below, where we compare the result of the Si conduction band DOS for some numerical interpolations from an initial 30 \u00d7 30 \u00d7 30 DFT mesh, together with the actual result using a 100 \u00d7 100 \u00d7 100 DFT mesh. We then use the initial 30 \u00d7 30 \u00d7 30 DFT mesh and we interpolate to 50 \u00d7 50 \u00d7 50, 100 \u00d7 100 \u00d7 100 and 150 \u00d7 150 \u00d7 150 and use the NN sampling to extract the DOS. Good agreement is found to the 100 \u00d7 100 \u00d7 100 DFT mesh when we interpolate the 30\u00d730\u00d730 DFT mesh to 100 \u00d7 100 \u00d7 100 at energies beyond 0.1 eV. To obtain good agreement at lower energies, however, as expected, an initial finer mesh must be used. Referring to Figure B2, it appears that a DFT calculation of a 50 \u00d7 50 \u00d7 50 k-mesh, plus subsequent numerical interpolation to a 100 \u00d7 100 \u00d7 100 mesh, would provide a reasonable trade-off between accuracy and DFT computational cost.\nFigure B2: DOS for silicon conduction band (a) using different DFT k-meshes to sample the BZ using the NN sampling method. (b) starting from a 30\u00d730\u00d730 DFT mesh and interpolating it as indicated in the legend. The results are compared to the DOS results from a 100\u00d7100\u00d7100 DFT mesh. It appears that a mesh of at least 50\u00d750\u00d750, that corresponds to 0.035 /a0, must be used in the DFT calculation."
        },
        {
            "heading": "Appendix C. Supplementary material",
            "text": "The Supplementary material related to this article is listed after the references."
        },
        {
            "heading": "264, 107970 (2021)",
            "text": "20 T. Deng, G. Wu, M. B. Sullivan, Z. M. Wong, K. Hippalgaonkar, J.-S. Wang, and S.-W. Yang,\nnpj Computational Materials, 6, 46 (2020)\n21 J.-H. P\u00f6hls, Y. Mozharivskyj, Comput. Mater. Sci. 206, 111152 (2022)\n22 M. Lundstrom, Fundamentals of Carrier Transport (Cambridge University Press, 2000)\n23 B. R. Nag, Electron Transport in Compound Semiconductors (Springer-Verlag Berlin\nHeidelberg, New York, 1980)\n24 P. Graziosi and N. Neophytou, J. Phys. Chem. C 124, 18462 (2020)\n25 P. Graziosi, Z. Li, and N. Neophytou, Appl. Phys. Lett. 120, 072102 (2022)\n26 Z. Li, P. Graziosi, and N. Neophytou, Phys. Rev. B 104, 195201 (2021)\n27 A. Kokalj, J. Mol. Graphics Modelling, 17, 176 (1999)\n28 Code available from http://www.xcrysden.org/.\n29 G. Lehmannand and M. Taut, Phys .Status Solidi B 54, 469 (1972)\n30 N. Neophytou, H. Karamitaheri and H. J. J. o. C. E. Kosina, J. Comput. Electron. 12, 611\n(2013)\n31 P. Giannozzi, S. Baroni, N. Bonini, M. Calandra, R. Car, C. Cavazzoni, D. Ceresoli, G. L.\nChiarotti, M. Cococcioni, I. Dabo, A. Dal Corso, S. de Gironcoli, S. Fabris, G. Fratesi, R. Gebauer,\nU. Gerstmann, C. Gougoussis, A. Kokalj, M. Lazzeri, L. Martin-Samos, N. Marzari, F. Mauri, R.\nMazzarello, S. Paolini, A. Pasquarello, L. Paulatto, C. Sbraccia, S. Scandolo, G. Sclauzero, A. P.\nSeitsonen, A. Smogunov, P. Umari and R. M. Wentzcovitch, Journal of Physics: Condensed Matter\n21, 395502 (2009)\n32 P. Giannozzi, O. Andreussi, T. Brumme, O. Bunau, M. Buongiorno Nardelli, M. Calandra, R.\nCar, C. Cavazzoni, D. Ceresoli, M. Cococcioni, N. Colonna, I. Carnimeo, A. Dal Corso, S. de\nGironcoli, P. Delugas, R. A. DiStasio, A. Ferretti, A. Floris, G. Fratesi, G. Fugallo, R. Gebauer, U.\nGerstmann, F. Giustino, T. Gorni, J. Jia, M. Kawamura, H. Y. Ko, A. Kokalj, E. K\u00fc\u00e7\u00fckbenli, M.\nLazzeri, M. Marsili, N. Marzari, F. Mauri, N. L. Nguyen, H. V. Nguyen, A. Otero-de-la-Roza, L.\nPaulatto, S. Ponc\u00e9, D. Rocca, R. Sabatini, B. Santra, M. Schlipf, A. P. Seitsonen, A. Smogunov, I.\nTimrov, T. Thonhauser, P. Umari, N. Vast, X. Wu and S. Baroni, Journal of Physics: Condensed\nMatter 29, 465901 (2017)\n33 M.V. Fischetti, S.E. Laux, J. Appl. Phys. 80, 2234 (1996)\n34 M. V. Fischetti, Z. Ren, P. M. Solomon, M. Yang and K. Rim, J. Appl. Phys. 94, 1079 (2003)\n35 N. Neophytou and H. Kosina, Phys. Rev. B 83, 245305 (2011)\n36 N. Neophytou and H. Kosina, Phys. Rev. B 84, 085313 (2011)\n37 H. Ehrenreich, J. Phys. Chem. Solids 8, 130 (1959)\n38 G. Klimeck, R. Lake, D. Blanks, C.L. Fernando, R.C. Bowen, T. Moise, and Y.C. Kao, Phys.\nStatus Solidi B 204, 408 (1997).\n39 J. Zhou, H. Zhu, T. H. Liu, Q. Song, R. He, J. Mao, Z. Liu, W.\nRen,B.Liao,D.J.Singh,Z.F.Ren,andG.Chen,Nat.Commun. 9, 1721 (2018)\n40 Q.Ren,C.Fu,Q.Qiu,S.Dai,Z.Liu,T.Masuda,S. Asai, M. Hagihala, S. Lee, S. Torri, T.\nKamiyama, L. He, X. Tong, C. Felser, D. J. Singh, T. Zhu, J. Yang, and J. Ma, Nat. Commun. 11,"
        },
        {
            "heading": "3142 (2020)",
            "text": "41 D. Archetti, N. Neophytou, Molecules 25, 5350 (2020)\n42 https://materialsproject.org/materials/mp-5967/#dielectric-props\n43 C. Jacoboni, C. Canali, G. Ottaviani, A. Alberigi Quaranta, solid-State Electronics 20, 77,\n(1977)\n44 V. I. Fistul, M. I. Iglitsyn, and E. M. Omelyanovskii, Sov. Phys. Solid State 4, 784 (1962)\n45 Landoldt-Bornstein, Numerical Data and Functional Relationships in Science and\nTechnology , New Series Group III, Vol. 17a, Springer, Berlin, 1982\n46 M. Sotoodeh, A. H. Khalid, and A. A. Rezazadeh, J. Appl. Phys. 87, 2890 (2000)\n47 W. Fawcett and E. G. S. Paige, J. Phys. C: Solid St. Phys., 4, 1801, 1971\n48 Z. Li, P. Graziosi, and N. Neophytou, Crystals 12, 1591 (2022)\n49 M. Markov, S. E. Rezaei, S. N. Sadeghi, K. Esfarjani, and M. Zebarjadi, Phys. Rev. Materials"
        },
        {
            "heading": "3, 095401 (2019)",
            "text": "50 S E. Rezaei, M. Zebarjadi, and K. Esfarjani, J. Solid State Chem., 302, 122414 (2021)\n51 A. R. Murphy, F. Murphy-Armando, S. Fahy, and I. Savi\u0107, Phys. Rev. B 98, 085201 (2018)\n52 N. Neophytou and H. Kosina, J. Comput. Electron. 11, 29 (2012)\n53 G. Ottaviani, L. Reggiani, C. Canali, F. Nava and A. Alberigi-Quaranta, Phys. Rev. B 12,"
        },
        {
            "heading": "3318 (1975)",
            "text": "54 v-joe https://physics.stackexchange.com/users/217296/v-joe, Screening of a coulomb-like\npotential, https://physics.stackexchange.com/q/450055 (version: 2018-12-24);\nhttps://blog.cupcakephysics.com/electromagnetism/math%20methods/2014/10/04/the-fourier-\ntransform-of-the-coulomb-potential.html ;\nBGreen, https://math.stackexchange.com/users/220293/bgreen, Fourier transform of the 2D\nCoulomb potential, https://math.stackexchange.com/q/3627267 (version: 2020-04-14)\n55 T. Sohier, M. Calandra, and F. Mauri, Phys. Rev. B 94, 085415 (2016)\n56 T. Sohier, M. Gibertini, M. Calandra, F. Mauri, and N. Marzari, Nano Lett. 17, 3758 (2017)\n57 J. Ma, D. Xu, R. Hu, X. Luo, J. Appl. Phys. 128, 035107 (2020)\n58 M. Fischetti and S. Laux, Physical Review B 48, 2244 (1993)\n59 N. Neophytou, J. Guo, and M. Lundstrom, IEEE Trans. Nanotech., 5, 385 (2006)\n60 https://doi.org/10.5281/zenodo.5074943\n61 For the node performance, please see https://www.hpc.cineca.it/hardware/galileo100\nSupplementary Material\nHere we provide some details of how the code works with examples of interfaces, but a complete picture of the operation of the code can be found in the manual, and we refer the interested reader to that [1].\nGUI operation: Below we show examples of the GUIs that can be used to operate ElecTra in this mode. Further detailed explanations can be found in the manual. ElecTra offers GUIs for entering the calculation instructions, preparing the scattering parameter file, and plotting the results. Below we describe these three GUIs in this order.\na. input app\nThe calculation instructions can be entered in Basic or Advanced modes, depending on the user\u2019s confidence, knowledge of bandstructure details and needed output details. Two types of this app are available; one saves a .mat file to be passed to HPC clusters, while the other runs ElecTra directly. The second type is useful if the HPC supports GUI, or when executing ElecTra on a PC. Figure B1 shows the tab to interface with the .bxsf data format, which can be used by many DFT codes, and the tabs to save the input files/run ElecTra. All the physical quantities are in International System units (SI), except the energy which is in eV.\nFigure B1: GUIs for the interface with bandstructure in .bxsf format, and the Basic and Advanced input mode. Many more details can be found in the code manual [1].\nThe first tab of this GUI is for interfacing with DFT codes capable of saving the bandstructure in the .bxsf format. Here the user enters the material name, which must be the same one used later on for the transport calculation, the name of the .bxsf file, the value of \u2018alat\u2019, the lattice parameter used to express the reciprocal lattice vectors in the .bxsf file \u2013 this is generally an input value for DFT, but it is not saved in .bxsf files, the bands dimensionality, and if the bands are spin resolved but the material\nis non-magnetic; this is the case for SOC calculations for non-magnetic systems where single spin bands are returned by the DFT programs, but they are identical so that one of the two can be removed to speed-up the simulation. In this case, ElecTra considers the bands as double-spin and the button \u2018spin-resolved bands\u2019 must not be selected. In this interface the user can also choose to perform a numerical interpolation of the bands, based on the \u201cnatural neighbor interpolation\u201d implemented in MATLAB\u00ae, which operates on each band separately. This is useful when a sufficient dense mesh cannot be achieved by DFT.\nThe second and third tabs are about the basic and advanced mode, respectively. There are three levels of instructions: 1) General information This includes the material\u2019s name, which is used to load the E(k) file and the scattering parameters file, and the dimensionality of the system, that is specified as a number: 2 or 3. Then the user chooses the way the reciprocal space is scanned to build the constant energy surfaces. \u2018Tetrahedra Scan\u2019 adopts the tetrahedron methods, while 'NN Scan' performs the nearest-neighbour sampling. The 'NN Scan' scheme is developed to speed up the whole calculation. It is around 15\u00d7 to 30\u00d7 faster for 3D bandstructures. The computational speed of the two methods is, however, comparable in 2D. Only in the advanced mode, the user can use additional options such as specifications if the bands are spinresolved as in a ferromagnetic material, if the k-points positions are in units of pi/a (generally they are in 1/m units), or if the \u2018multivalley\u2019 option should be used. The latter then further allows in the scattering parameters file to use different parameters depending on the initial and final band-index pairs. ElecTra is parallelized in energy and can be operated in two ways: (i) the master CPU collects all the state-dependent relaxation times and after the parallel execution, composes the energy dependent quantities and integrates them, or (ii) the master CPU collects directly the energy dependent quantities so that the state individual relaxation times are used inside the CPU of the parallel pool and are not saved. Option (ii) is much more memory efficient. Option (i), although useful to look at very specific details, disentangle odd behaviours or debug the code, requires several tens of Gb to be accessible by the master CPU. This option, labelled \u2018save relaxation time\u2019 can be chosen in both the \u2018Basic\u2019 and the \u2018Advanced\u2019 operation tabs. 2) Scattering mechanisms details The user can select the scattering mechanisms via the corresponding input fields. In the basic mode the user can also choose the constant relaxation time (CRT) approximation and input a constant relaxation time in femtoseconds. In this case, the code will also perform a constant mean-free-path (CMFP) approximation calculation using 5 nm as CMFP value (although the user needs to have in\nmind that this is in general not consistent with the CRT value). For sake of generality and flexibility, ElecTra doesn\u2019t require the state wavefunctions as inputs, hence the overlap integrals [2, 3] are taken to have values of one. However, depending on the user\u2019s choice, ElecTra can use an analytical form for the overlap integrals. This is usually considered to be unity [4, 5], but there are expressions that can also be used for different cases and materials [2]. In ElecTra, the user can choose to use, for the generic valence band material case, the analytical equations developed for the overlap integrals in the valence band of Silicon[6]. In the advanced interface, the user can also choose to add the screening to the POP or to make IIS also inter-band, while it is usually considered as intra-band only in the literature [7, 8, 9]. Finally, the user can choose to restrict the ADP and ADP-IVS scattering to only the k-states which are closer than a certain cut-off distance in the BZ, to reflect the fact that these scattering mechanisms assume linear acoustic phonon dispersions and negligible phonon energy and involve small wave-vector phonons. Such a distance is expressed as a portion of the BZ side length, for example if 0.2 is entered, the ADP will be allowed only if the initial and final points are distanced less than 0.2 times the BZ side length. In the Advanced mode, the user can also choose the \u2018IVS\u2019, Inter-Valley Scattering, mechanism, which describes the inter-band inelastic scattering. While in basic mode the ODP is both intra- and inter-band, in the Advanced mode the user can separate the two, as detailed in the user\u2019s manual [1]."
        },
        {
            "heading": "3) Transport specifics",
            "text": "Here the user inputs the temperatures (in K) and the Fermi level positions (in eV) for which the simulation will be performed. In semiconductors, the Fermi level zero reference is automatically set at the majority carriers band edge, so negative Fermi level values place the Fermi level in the gap and positive values place it into the band. This is always the case for both band types, because when the user wants to simulate hole transport, the valence band is automatically flipped to positive energies. Thus, positive values of Fermi levels are always into the bands and negative values in the gap, regardless of conduction or valence bands simulations. For the case of full bipolar transport, in the current version v1, the same entered Fermi level values are used for both bands (each treated separately, so the user does not need to know the bandgap). ElecTra automatically finds the intrinsic Fermi level, adjusts the values inside the bandgap, and makes them symmetric for CB and VB. As each Fermi level corresponds to a specific doping level, it is preferable to input the Fermi level rather than the doping, because this gives the user a direct control over energy references. Indeed, in the generic material it might not be possible to know what doping levels correspond to degenerate or nondegenerate conditions.\nIn practice, the doping level in the material does not change with temperature (if the\ntemperature is above the frozen region, which is always assumed by ElecTra) due to charge neutrality. Thus, by increasing the temperature, the Fermi distribution broadens, which forces the Fermi level to shift down away from the bands to keep the carrier density constant and equal to the doping density, as depicted in Figure B2. Here a parabolic band is sketched for two different impurity densities Ni (1) for non-degenerate doping in (a) and Ni (2) for degenerate doping in (b). The dashed lines represent the Fermi level positions at 300 K and 900 K. The Fermi distributions for these temperatures are depicted in (c) \u2013 blue line for 300 K and red line for 900 K. The broadening of the Fermi distribution at higher temperatures results in more states being occupied at higher energies. Thus, to keep the carrier density constant, the Fermi level shifts down. This shift is more pronounced for the non-degenerate conditions. Since the Fermi levels positions will correspond to different densities at different temperatures, we set that the user entered Fermi levels refer to the user entered temperature closest to 300 K. A unique carrier density and doping impurity density are found for each Fermi level. ElecTra assumes the semiconductor to be in the extrinsic region at that temperature, i.e. all the dopants are ionized and all mobile carriers come from the dopants. For a specific Fermi level, the impurity density (and carrier density) are used as a reference for the temperature closer to 300 K. For higher temperatures, ElecTra shifts the Fermi levels such that the impurity and carrier densities remain constant to their reference values at the entered temperature closer to 300 K. So, different sets of triads (EF, charge density, T) are formed, and for the same carrier density we can have different EF depending on T.\nFigure B2: The shift in the Fermi level as the temperature increases from 300 K to 900 K for: (a) nondegenerate conditions, and (b) degenerate conditions. In (c), the Fermi distributions are shown for the two temperatures.\nHowever, a user might want to fix the Fermi level positions for all temperatures, being aware\nthat these will correspond to different doping/carrier densities. In this case the user can \u201clock\u201d the Fermi levels by selecting the \u2018Lock Fermi levels\u2019 button, so that the entered Fermi levels will be used at all temperatures without considering EF shifts (i.e. for a certain EF we can have different charge densities depending on T).\nBipolar transport, [10, 11] can be simulated by selecting the \u2018bipolar transport\u2019 entry. When\nalso the \u2018bipolar single carrier\u2019 is selected, ElecTra performs the calculation by placing the Fermi levels only around the selected majority carriers (but still considering the presence of the minority band when it comes to computing the charge density and IIS rates). This reproduces an experimental situation where a specimen is n-doped or p-doped. When this button is NOT selected, the code performs a full bipolar calculation (scans with EF both bands), i.e. the code will compute the transport properties for the n-type case, electron majority and hole minority, as well as p-type case, hole majority and electron minority. In the case of bipolar transport, the user can choose to change the band gap and enter a desired bandgap value. This can obviate the difficulty in computing reliable band gap values within DFT and generally offers more flexibility to the user. The new band gap must be entered with a value in eV.\nIf the material system does not have a bandgap, the \u2018metal\u2019 option can be selected. In this case\nthe distinction between the conduction and valence bands is not made. Semimetals and gapless semiconductors, [12, 13] worth a special mention. If the bandgap is zero, they can be simulated as full bipolar cases as well as metals, but if it is negative, must be considered as a metal. In the case where we want to allow the scattering between the valence and conduction bands, which can even be the case of inelastic scattering in a semiconductor with a bandgap smaller than the phonon energy, the material must be considered as a metal; ElecTra will consider the polarity of the carrier using the Seebeck sign.\nFinally, the parallelization details are selected. The entry \u2019number of parallel cpu\u2019 is the CPU\nnumber on the node on which the code will run, and this must be coordinated with the specific HPC cluster facilities. For multimode cluster parallelization other information must be introduced, which depend on the specific cluster. The number of nodes can be set to zero or one if a single node parallelization is desired. The other fields generally used in multimode cluster parallelization can be left empty if not needed.\nb. scattering app\nThe second GUI contributes to the scattering file preparation and is shown in Figure B3.\nFigure B3: GUIs tabs for the preparation of the scattering parameters file, from left to right we show the case without Alloy scattering, the case with alloy scattering, and the case for the multivalley operation.\nThe first tab is for the standard file and contains the material parameters required for the calculation of the scattering rates, i.e. Eqs. 7 except the alloy scattering. The speed of sound can be inserted in two ways: the bulk modulus K and the shear modulus G can be inserted to compute the speed of sound, [15] alternatively, the speed of sound can be directly inserted; in that case K and G will be ignored. In the case of the alloy scattering between two \u2018A\u2019 and \u2018B\u2019 parental compounds, the parameters in the first tab refer to the parental compound \u2018A\u2019 and the additional required parameters, together with the ones for the parental compound \u2018B\u2019, are entered in the second tab. The third and fourth tabs correspond to the first two tabs for the multivalley mode, which allows the user to use different scattering parameters for different pairs of initial and final bands. Each band must be labelled by a number in the \u2018band_type\u2019 entry and each scattering parameter will be represented by a matrix\nwhose element i,j corresponds to the relative scattering transition between bands i and j. Several examples on how this can be done are shown in the manual. [1]\nc. plot app\nElecTra results can be plotted using a dedicated GUI. The app plots the selected quantities in\na graph inside the app and in an independent figure. In addition, the app saves the plotted data in a .csv file in the app directory. The .csv file is designed to be opened with programs like Origin\u00ae and contains two or more columns where the first is the x-axis variable and the other(s) is (are) the y-axis quantities. The header contains the column name and specific additional description.\nThe app composes of two tabs, the first is designed to plot the charge transport coefficients\nwhereas the second to plot the energy dependent quantities. These are shown in Figure B4.\nFigure B4: GUIs to plot the simulated results, the TE coefficients (left) and the energy-dependent quantities (right). The data are plotted in the GUI graph and in a separated figure, and are saved as .csv files.\nThe first tab, devised to plot the thermoelectric coefficients, \u2018TE coefficient\u2019, allows the user\nto enter first the file name to be opened, which contains the ElecTra data. Then, the user selects the\ntransport coefficients to be plotted: PF (Power Factor),  (electrical conductivity), S (Seebeck\ncoefficient),  (mobility),  (electronic thermal conductivity); this will be displayed in the y-axis. The user also chooses the desired tensor component and the x-axis variable. After this, the user chooses if displaying the overall specific transport coefficient or only the contribution from one transport mechanism, e.g., what is the PF if only ADP is considered. When the x-axis is the doping density and the transport simulation is a full bipolar case, the carrier density for p-type is displayed as a negative value.\nFinally, we note that a transport coefficient usually depends on more than one quantity; it\nusually depends on both Fermi level position (carrier concentration) and temperature. Thus, if the\nFermi level is selected as the x-axis variable, a transport coefficient for each temperature used in the simulation will be displayed. If the user wants to display the value for only one temperature, the \u2018desired fixed value\u2019 can be selected, in this case \u2018Temperature\u2019, and the temperature of interest can be entered in the \u2018fixed value\u2019 space. Alternatively, if the x-axis is the temperature, a single value of Fermi level or carrier density can be chosen. The app will plot the data for the fixed calculated value which resides closer to the requested one. NOTE: in the \u2018fixed value\u2019 field, the Fermi level is in eV, the Doping density in cm-3, and the temperature in K.\nThe \u201cPlot and Save\u201d button will plot the data in the app graph and in an independent figure,\nand save the .csv file which will have the name of the transport coefficients, e.g., \u2018PF_xx.csv\u2019. The \u201cclear graphs\u201d button clears both the graphs.\nThe second tab is used to plot the energy dependent quantities, \u2018E-dependent quantities\u2019. The\nuser first enters the file name and chooses the quantity to plot; here these are the DOS (density of\nstates), V (band velocity), TDF (transport distribution function, eq. 2),  (mean-free-path, eq. 6) and\n (relaxation time, eq. 7). The tensor component is selected as in the previous tab (i.e. xx, yy, xy ...).\nFor  and , which do not have mixed components, only the first letter of the tensor component is used, and for DOS and V no tensor component is considered. The scattering mechanism is selected as in the previous tab.\nIn this tab the x-axis is always the carrier energy, so some of these quantities have three\nvariables (E, EF, T). For graphical reasons, at least one value must be fixed, which can be the Temperature or the Fermi level (Doping density), and has to be selected in the \u201cfixed quantity 1\u201d menu and defined in the field below. As above, the app will plot the quantities for the fixed calculated values closer to the one entered (which might not be the same as the calculated ones). The units are as above: eV for Fermi level, cm-3 for doping density, K for temperature. Eventually the user can opt for a second fixed quantity, different from the first. In this way the user will see only one line for the chosen temperature and Fermi level (doping density) values. The DOS and V (\u2018complete\u2019 band velocity data) do not require any fixed value as these are bandstructure quantities.\nThe \u201cPlot and Save\u201d and \u201cclear graphs\u201d buttons work as in the TE coefficients tab.\nText files operation:\nHere we show template examples of the input and scattering files. A user used to run calculations in HPC infrastructure without graphical interface support can find these more suitable. The user must beware that the GUIs save the data as .mat file whereas the text files have a .m extension; ElecTra will automatically check for both and will prioritize the .m file.\na. input file\nBelow we show an example of an input file for ElecTra. It must be saved in the working directory and must be named \u2018input_file_ELECTRA_v1.m\u2019 (with the \u2018v1\u2019 standing for version 1). The file here is filled for a bipolar calculation for TiCoSb. The file structure maps the one described in the GUI, where for each GUI button there is a yes/no instruction, detailed with comments, and with the numerical fields being arrays.\n% 1) GENERAL SETTINGS material_name = 'TiCoSb'; file_type = 'bxsf'; % bxsf % for .bxsf files bxsf_file_name = 'TiCoSb_fs.bxsf'; alat = 0.417 ; % in nm SOC = 'no'; % yes or no interpolation_factor = 2;\ndimensionality='3D'; % 2D, 3D\nscan_type='kScan'; % kScan or DT. This is the way the k(E) is extracted\nspin_resolved = 'no';\nk_units_SI='yes'; % in 1/m , as extracted from bxsf, okay for DFT bands k_units_pi_a='no'; % usable for numerically built bands\n%-------------------------------------------------------------------------- %--------------------------------------------------------------------------\n% 2) SCATTERING MECHANISMS ADP = 'no'; % Acoustic Deformation Potential, INTRAvalley ADP_IVS = 'no'; % INTRA- and INTER- valley k_restriction = 'no'; % only for the ADP_IVS TO BE EXTENDED WHEN VALIDATED k_restriction_cutoff = 0.2; % Portion of the BZ to be considered\nIVS = 'no'; % intervalley scattering\nODP = 'no'; % Optical deformation potential\nPOP = 'no'; % polar optical phonon, constant freq., approx. screening_POP = 'no';\nIIS = 'no'; % IIS_interband_flag = 'no';\nAlloy = 'no';\noverlap_integrals_analytical = 'no';\nsave_RTstruct = 'no';\nmultivalley = 'no'; % different types of valleys with different Deformation Potentials\nconstant_tau = 'no'; % constant relax. time approx. (CRTA) tau_const = 1e-14; % in s; value of the scattering time in the CRTA\n%-------------------------------------------------------------------------- %--------------------------------------------------------------------------\n% 3) TRANSPORT CONDITIONS\n% 3.1) FERMI LEVELS AND TEMPERATURES EF_array = [-0.2,-0.1,-0.06:0.02:0.14,0.2]; % in eV % Fermi array is in respect to the band edge that will be set to zero, % negative values mean Fermi into the gap, positive, into the band (degen.)\nT_array = 300 :100: 900; % in K Fermi_shift_flag = 'yes'; % to shift the Fermi level with the temperature\n% 3.2) CARRIERS AND ENERGY carriers = 'electrons'; % 'holes' or 'electrons'\nbipolar_transport = 'yes';\nbipolar_single_carrier = 'no' ;\nchange_band_gap = 'no'; new_band_gap = 1 ; % in eV\nmetallic = 'no'; % proper metal with Fermi in the bands free carriers without impurities\nEstep = 0.002; % energy step in eV, 2 meV is often largely sufficient\n%-------------------------------------------------------------------------- %--------------------------------------------------------------------------\n% 4) PARALLELIZATION type_of_parallelization = 'cluster'; % 'local' (one node) or 'cluster' (more than one node), 'MATLAB Parallel Cloud' is forecasted max_number_of_cpu = 15 ; % maximum number of cpu in the single node % only for cluster type number_of_nodes = 2; % number of requested nodes cluster_name = 'galileo100 R2020b'; account_name = 'IscrC_sd-FRAME'; queue_name = 'g100_usr_prod'; wall_time = '03:40:00';\nb. scattering file\nThe scattering parameters files are must be named \u2018scattering_parameters_\u2019material\u2019.m\u2019, e.g. scattering_parameters_TiCoSb.m , and must be saved in the \u201cData\u201d folder. Examples of the nomenclature are as follows. If we consider for instance the variable D_adp_e, \u2018D\u2019 stands for the deformation potential, \u2018adp\u2019 for ADP, and \u2018e\u2019 for electrons (conduction band). The phonon frequency is called, for instance, hbar_w_odp_h, where \u2018hbar_w\u2019 is for \u210f\ud835\udf14, \u2018odp\u2019 for ODP, and \u2018h\u2019 for holes (valence band), and so on. The static and high frequency dielectric constants, in units of vacuum permittivity, are named k_s and k_inf respectively.\nrho_mass_density = 7.42*1e-3/(1e-2)^3; % kg/m^3 materialsproject.org/materials/mp-5967/ K_bulk_modulus = 142e9; % Pa G_shear_modulus = 76e9; % Pa sl = sqrt((K_bulk_modulus+4/3*G_shear_modulus)/rho_mass_density); % m/s , elasticity theory st = sqrt(G_shear_modulus/rho_mass_density); % m/s , elasticity theory us_sound_vel = 1/3*sl+2/3*st; % m/s Ottaviani 1975 % experimental sl = 5.69e3; st = 3.23e3;\n% ------- for holes ------------------ D_adp_h = 0.5; % eV, DOI: 10.1038/s41467-018-03866-w % D_odp_h = 2.20e10; % eV/m, DOI: 10.1038/s41467-018-03866-w, multiplied by 1/5 of theBZ\n% ------- for electrons ------------------\nD_adp_e =1; % eV, DOI: 10.1038/s41467-018-03866-w\nD_odp_e = 1.75e10; % eV/m, DOI: 10.1038/s41467-018-03866-w, multiplied by 1/5 of theBZ\nhbar_w_odp = 0.036 ; %eV, materialsproject.org/materials/mp-5967/ from the centre of the LO phonons DOS Z_f_adp = 1; % number of final available valleys Z_f_odp = 1; % to be defined as a row for every scattering mechanism, in any row an element for each available band\nhbar_w_pop=0.038; % eV, materialsproject.org/materials/mp-5967/ value in Gamma\n% ------- Coulomb scattering - screened ------- k_s = 19.09; % from Zhou (DOI: 10.1038/s41467-018-03866-w) private communication k_inf = 5; % F.G. Aliev et al. Zh. Eksp. Teor. Fiz. 47 (t988) t5l Z_i = 1; % ionized impurity charge\nReferences\n1 DOI: 10.5281/zenodo.5074943\n2 B. R. Nag, Electron Transport in Compound Semiconductors (Springer-Verlag Berlin\nHeidelberg, New York, 1980)\n3 M. Lundstrom, Fundamentals of Carrier Transport (Cambridge University Press, 2000)\n4 A. R. Murphy, F. Murphy-Armando, S. Fahy, and I. Savi\u0107, Phys. Rev. B 98, 085201 (2018)\n5 N. Neophytou and H. Kosina, J. Comput. Electron. 11, 29 (2012)\n6 G. Ottaviani, L. Reggiani, C. Canali, F. Nava and A. Alberigi-Quaranta, Phys. Rev. B 12,"
        },
        {
            "heading": "3318 (1975).",
            "text": "7 P. Graziosi, C. Kumarasinghe, N. Neophytou, ACS Appl. Energy Mater. 3, 5913 (2020)\n8 D. M. Brown and R. Bray, Phys. Rev., 127, 1593 (1962)\n9 M. V. Fischetti and W. G. Vandenberghe, Scattering with Ionized Impurities, in: Advanced\nPhysics of Electron Transport in Semiconductors and Nanostructures, pages 315-325. Graduate Texts\nin Physics book series, Springer, Cham. (2016)\n10 C. Rudderham and J. Maassen, J. Appl. Phys. 127, 065105 (2020)\n11 P. Graziosi, Z. Li, and N. Neophytou, Appl. Phys. Lett. 120, 072102 (2022)\n12 M. Markov, S. E. Rezaei, S. N. Sadeghi, K. Esfarjani, and M. Zebarjadi, Phys. Rev. Materials"
        },
        {
            "heading": "3, 095401 (2019)",
            "text": "13 S E. Rezaei, M. Zebarjadi, and K. Esfarjani, J. Solid State Chem., 302, 122414 (2021).\n14 For the node performance, please see https://www.hpc.cineca.it/hardware/galileo100\n15 P. Graziosi, C. Kumarasinghe, N. Neophytou, J. Appl. Phys. 126, 155701 (2019)"
        }
    ],
    "title": "ElecTra Code: Full-Band Electronic Transport Properties of Materials",
    "year": 2023
}