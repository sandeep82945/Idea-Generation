{
    "abstractText": "This paper studies the online stochastic resource allocation problem (RAP) with chance constraints. The online RAP is a 0-1 integer linear programming problem where the resource consumption coefficients are revealed column by column along with the corresponding revenue coefficients. When a column is revealed, the corresponding decision variables are determined instantaneously without future information. Moreover, in online applications, the resource consumption coefficients are often obtained by prediction. To model their uncertainties, we take the chance constraints into the consideration. To the best of our knowledge, this is the first time chance constraints are introduced in the online RAP problem. Assuming that the uncertain variables have known Gaussian distributions, the stochastic RAP can be transformed into a deterministic but nonlinear problem with integer second-order cone constraints. Next, we linearize this nonlinear problem and analyze the performance of vanilla online primal-dual algorithm for solving the linearized stochastic RAP. Under mild technical assumptions, the optimality gap and constraint violation are both on the order of \u221a n. Then, to further improve the performance of the algorithm, several modified online primal-dual algorithms with heuristic corrections are proposed. Finally, extensive numerical experiments on both synthetic and real data demonstrate the applicability and effectiveness of our methods.",
    "authors": [
        {
            "affiliations": [],
            "name": "Yuwei Chen"
        },
        {
            "affiliations": [],
            "name": "Zengde Deng"
        },
        {
            "affiliations": [],
            "name": "Yinzhi Zhou"
        },
        {
            "affiliations": [],
            "name": "Zaiyi Chen"
        },
        {
            "affiliations": [],
            "name": "Yujie Chen"
        },
        {
            "affiliations": [],
            "name": "Haoyuan Hu"
        }
    ],
    "id": "SP:f089b09af85731dc831ac6b5bf288ab91377c9d8",
    "references": [
        {
            "authors": [
                "Arash Asadpour",
                "Xuan Wang",
                "Jiawei Zhang"
            ],
            "title": "Online resource allocation with limited flexibility",
            "venue": "Management Science, vol. 66, no. 2, pp. 642\u2013666, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "David A. Schmidt",
                "Changxin Shi",
                "Randall A. Berry",
                "Michael L. Honig",
                "Wolfgang Utschick"
            ],
            "title": "Distributed resource allocation schemes",
            "venue": "IEEE Signal Processing Magazine, vol. 26, no. 5, pp. 53\u201363, 2009.",
            "year": 2009
        },
        {
            "authors": [
                "James F. Kurose",
                "Rahul Simha"
            ],
            "title": "A microeconomic approach to optimal resource allocation in distributed computer systems",
            "venue": "IEEE Transactions on Computers, vol. 38, no. 5, pp. 705\u2013717, 1989.",
            "year": 1989
        },
        {
            "authors": [
                "Masaaki Ida"
            ],
            "title": "Portfolio selection problem with interval coefficients",
            "venue": "Applied Mathematics Letters, vol. 16, no. 5, pp. 709\u2013713, 2003.",
            "year": 2003
        },
        {
            "authors": [
                "Marco Molinaro",
                "Ramamoorthi Ravi"
            ],
            "title": "The geometry of online packing linear programs",
            "venue": "Mathematics of Operations Research, vol. 39, no. 1, pp. 46\u201359, 2014.",
            "year": 2014
        },
        {
            "authors": [
                "Xiaocheng Li",
                "Yinyu Ye"
            ],
            "title": "Online linear programming: Dual convergence, new algorithms, and regret bounds",
            "venue": "Operations Research, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "Shipra Agrawal",
                "Zizhuo Wang",
                "Yinyu Ye"
            ],
            "title": "A dynamic near-optimal algorithm for online linear programming",
            "venue": "Operations Research, vol. 62, no. 4, pp. 876\u2013890, 2014.",
            "year": 2014
        },
        {
            "authors": [
                "Anupam Gupta",
                "Marco Molinaro"
            ],
            "title": "How experts can solve lps online",
            "venue": "European Symposium on Algorithms. Springer, 2014, pp. 517\u2013529.",
            "year": 2014
        },
        {
            "authors": [
                "Xiao Alison Chen",
                "Zizhuo Wang"
            ],
            "title": "A dynamic learning algorithm for online matching problems with concave returns",
            "venue": "European Journal of Operational Research, vol. 247, no. 2, pp. 379\u2013388, 2015.",
            "year": 2015
        },
        {
            "authors": [
                "Wenzhi Gao",
                "Chunlin Sun",
                "Yuyang Ye",
                "Yinyu Ye"
            ],
            "title": "Boosting method in approximately solving linear programming with fast online algorithm",
            "venue": "arXiv preprint arXiv:2107.03570, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "Xiaocheng Li",
                "Chunlin Sun",
                "Yinyu Ye"
            ],
            "title": "Simple and fast algorithm for binary integer and online linear programming",
            "venue": "Advances in Neural Information Processing Systems, 2020, pp. 9412\u20139421.",
            "year": 2020
        },
        {
            "authors": [
                "Santiago R Balseiro",
                "Haihao Lu",
                "Vahab Mirrokni"
            ],
            "title": "Dual mirror descent for online allocation problems",
            "venue": "International Conference on Machine Learning. PMLR, 2020, pp. 613\u2013628.",
            "year": 2020
        },
        {
            "authors": [
                "Santiago R Balseiro",
                "Haihao Lu",
                "Vahab Mirrokni"
            ],
            "title": "The best of many worlds: Dual mirror descent for online allocation problems",
            "venue": "Operations Research, 2022.",
            "year": 2022
        },
        {
            "authors": [
                "Russell Bent",
                "Pascal Van Hentenryck"
            ],
            "title": "Online stochastic and robust optimization",
            "venue": "Annual Asian Computing Science Conference. Springer, 2004, pp. 286\u2013300.",
            "year": 2004
        },
        {
            "authors": [
                "Russell Bent",
                "Pascal Van Hentenryck"
            ],
            "title": "Online stochastic optimization without distributions",
            "venue": "Proceedings of the Fifteenth International Conference on International Conference on Automated Planning and Scheduling. 2005, pp. 171\u2013180, AAAI Press.",
            "year": 2005
        },
        {
            "authors": [
                "Jiashuo Jiang",
                "Xiaocheng Li",
                "Jiawei Zhang"
            ],
            "title": "Online stochastic optimization with wasserstein based nonstationarity",
            "venue": "arXiv preprint arXiv:2012.06961, 2020.",
            "year": 2012
        },
        {
            "authors": [
                "Jialin Liu",
                "Yuantao Gu",
                "Mengdi Wang"
            ],
            "title": "Averaging random projection: A fast online solution for large-scale constrained stochastic optimization",
            "venue": "IEEE ICASSP. IEEE, 2015, pp. 3586\u20133590.",
            "year": 2015
        },
        {
            "authors": [
                "Jiashuo Jiang",
                "Jiawei Zhang"
            ],
            "title": "Online resource allocation with stochastic resource consumption",
            "venue": "arXiv preprint arXiv:2012.07933, 2020.",
            "year": 2012
        },
        {
            "authors": [
                "Abraham Charnes",
                "William W Cooper"
            ],
            "title": "Chanceconstrained programming",
            "venue": "Management Science, vol. 6, no. 1, pp. 73\u201379, 1959.",
            "year": 1959
        },
        {
            "authors": [
                "Andrzej Ruszczy\u0144ski",
                "Alexander Shapiro"
            ],
            "title": "Stochastic programming models",
            "venue": "Handbooks in Operations Research and Management Science, vol. 10, pp. 1\u201364, 2003.",
            "year": 2003
        },
        {
            "authors": [
                "Raj Jagannathan"
            ],
            "title": "Chance-constrained programming with joint constraints",
            "venue": "Operations Research, vol. 22, no. 2, pp. 358\u2013372, 1974.",
            "year": 1974
        },
        {
            "authors": [
                "Abraham Charnes",
                "William W Cooper"
            ],
            "title": "Deterministic equivalents for optimizing and satisficing under chance constraints",
            "venue": "Operations Research, vol. 11, no. 1, pp. 18\u201339, 1963.",
            "year": 1963
        },
        {
            "authors": [
                "Andras Prekopa"
            ],
            "title": "Contributions to the theory of stochastic programming",
            "venue": "Mathematical Programming, vol. 4, no. 1, pp. 202\u2013221, 1973.",
            "year": 1973
        },
        {
            "authors": [
                "Pu Li",
                "Harvey Arellano-Garcia",
                "G\u00fcnter Wozny"
            ],
            "title": "Chance constrained programming approach to process optimization under uncertainty",
            "venue": "Computers & Chemical Engineering, vol. 32, no. 1-2, pp. 25\u201345, 2008.",
            "year": 2008
        },
        {
            "authors": [
                "F. Hosseinzadeh Lotfi",
                "N. Nematollahi",
                "M.H. Behzadi",
                "M. Mirbolouki",
                "Z. Moghaddas"
            ],
            "title": "Centralized resource allocation with stochastic data",
            "venue": "Journal of Computational and Applied Mathematics, vol. 236, no. 7, pp. 1783\u20131788, 2012.",
            "year": 2012
        },
        {
            "authors": [
                "Maxime C Cohen",
                "Philipp W Keller",
                "Vahab Mirrokni",
                "Morteza Zadimoghaddam"
            ],
            "title": "Overcommitment in cloud services: Bin packing with chance constraints",
            "venue": "Management Science, vol. 65, no. 7, pp. 3255\u20133271, 2019.",
            "year": 2019
        },
        {
            "authors": [
                "Yuwei Chen",
                "Zengde Deng",
                "Zaiyi Chen",
                "Yinzhi Zhou",
                "Yujie Chen",
                "Haoyuan Hu"
            ],
            "title": "Online primal-dual algorithms for stochastic resource allocation problems",
            "venue": "arXiv preprint arXiv:2203.16818, 2022.",
            "year": 2022
        },
        {
            "authors": [
                "Yuwei Chen",
                "Zengde Deng"
            ],
            "title": "Experiment results",
            "venue": "2022, Google Drive https://docs.google.com/spreadsheets/d/11-gPDpoai704BtRPJgJFRNMUMoO4iNZ /.",
            "year": 2022
        }
    ],
    "sections": [
        {
            "text": "ar X\niv :2\n30 3.\n03 25\n4v 1\n[ m\nat h.\nO C\n] 6\nM ar\n2 02\nlem (RAP) with chance constraints. The online RAP is a 0-1 integer linear programming problem where the resource consumption coefficients are revealed column by column along with the corresponding revenue coefficients. When a column is revealed, the corresponding decision variables are determined instantaneously without future information. Moreover, in online applications, the resource consumption coefficients are often obtained by prediction. To model their uncertainties, we take the chance constraints into the consideration. To the best of our knowledge, this is the first time chance constraints are introduced in the online RAP problem. Assuming that the uncertain variables have known Gaussian distributions, the stochastic RAP can be transformed into a deterministic but nonlinear problem with integer second-order cone constraints. Next, we linearize this nonlinear problem and analyze the performance of vanilla online primal-dual algorithm for solving the linearized stochastic RAP. Under mild technical assumptions, the optimality gap and constraint violation are both on the order of \u221a n. Then, to further improve the performance of the algorithm, several modified online primal-dual algorithms with heuristic corrections are proposed. Finally, extensive numerical experiments on both synthetic and real data demonstrate the applicability and effectiveness of our methods.\nIndex Terms\u2014 Chance constraints, online optimization, primal-\ndual, stochastic programming\n1. INTRODUCTION\nThe resource allocation problem (RAP) [1] is to find the best allocation of a fixed amount of resources to various activates, in order to maximize the total revenue. The online RAP has a wide range of applications such as signal processing [2], computer resource allocation [3] and portfolio selection [4]. This paper studies a multidimensional online RAP with uncertainty. There are m resources and k resource consumption schemes for each request. The request for the resources arrives one by one. When the i-th request is revealed, one or none of k resource consumption schemes is chosen to satisfy this request. If l-th resource consumption scheme is chosen, the revenue and the consumption of the j-th resource are ctl and atjl respectively. The decision is irrevocable and has to be decided immediately according to the historical information {(c\u03c4 ,A\u03c4 )}t\u03c4=1, without future information. Our aim is to maximize the total revenue with limited resource capacities, given the total number n of incoming requests and considering the uncertainty of atjl.\nThe deterministic RAP can be modeled as a 0-1 integer linear programming (ILP) problem. Many recent papers have studied the online ILP problems (see [5\u201313] and references therein). Algorithms in [5\u201313] are all dual-based which maintain dual prices in iterations\n\u2217 Denotes equal contribution. The corresponding author is Yuwei Chen (chen yw16@163.com).\nand can achieve near-optimal solutions under mild conditions. When a new request arrives, the decision is made immediately based on the dual price vector. Among these studies, researchers [5\u20139] construct dual problems by using historical information and solving them to obtain the dual prices. To deal with the disadvantage that solving dual problems may be time-consuming, researchers [10\u201313] propose online primal-dual (OPD) algorithms that update the dual prices by utilizing the dual mirror descent or projected stochastic subgradient descent without solving optimization problems.\nHowever, the optimization models studied in [5\u201313] are deterministic and may suffer from poor performance when the resource consumption is uncertain in practice. In the existing articles that study the uncertain online optimization, the uncertainty is modeled by the worst-case scenario value, expectation, regret, or a linear combination of the above (see [14\u201318]). These modeling methods are mainly aimed at the uncertainty in the objective function, while almost no chance constraint is considered in the existing studies.\nChance constrained programming (CCP) [19] is a widely used stochastic programming technique to model the uncertainty in constraints. In stochastic programming [20, 21], it is assumed that some parameters are uncertain and their distributions are known. If the uncertain parameters in an active inequality constraint are set to the medians, the probability of this constraint not holding is 50%. To avoid this issue in the online RAP, this paper adopts the chance constraints to model the uncertainty. The chance constraint is the constraint on the uncertain parameters whose holding probability is not lower than the prescribed level. The solution methods for CCPs have been studied by [19, 22\u201325]. If the uncertain parameters have a known multivariate Gaussian distribution, the chance constrained counterparts of linear constraints can be transformed into deterministic second-order cone (SOC) constraints. prekopa2013stochastic\nThis paper studies the online stochastic RAP considering the uncertainty of resource consumption coefficients. The chance constraint are used to model the uncertainty and can be transformed into the SOC constraints equivalently. The non-linearity and indecomposability of the SOC constraints make the online problem challenging to handle. The main contributions of this paper are as follows.\n(1) To the best of our knowledge, this is the first time chance\nconstraints are introduced in the online RAP. A linearization method is presented to transform the SOC constrained problem into a linear form suitable for the online solution. (2) We theoretically analyze the performance of the vanilla OPD\nalgorithm when it is applied to solve the SOC constrained RAP. Under mild technical assumptions, the expected optimality gap and constraint violation are both O( \u221a n). (3) We propose modified versions of the OPD approach by lever-\naging the structure of the SOC constraints to effectively reduce the probability deviation in practice. (4) Massive numerical experiments based on both synthetic and\nreal data are conducted to demonstrate the applicability and effectiveness of the proposed algorithms.\n2. MODEL DESCRIPTION\nIn this section, we first formulate the deterministic model of the RAP. Then, a nonlinear chance constrained counterpart of the RAP is established. Finally, the CCP problem is relaxed into an integer linear problem suitable for online solution."
        },
        {
            "heading": "2.1. Deterministic Problem",
            "text": "Consider the multi-dimensional RAP with n requests and m resources. For each request, there are always k resource consumption schemes that can satisfy it. When a request is revealed, the decision maker chooses one scheme or none. Without loss of generality, a deterministic multi-dimensional RAP can be modeled as follows:\nmax x\nn \u2211\nt=1\nc \u22a4 t xt\ns.t. n \u2211\nt=1\na \u22a4 tjxt \u2264 bj ,\u2200j = 1, . . . ,m\n1 \u22a4 xt \u2264 1,xt \u2208 {0, 1}k,\u2200t = 1, . . . , n\n(1)\nwhere the revenue coefficient vector ct \u2208 Rk, and the resource consumption vector atj \u2208 Rk. The decision variables are (x1, . . . ,xn). xtl = 1 means that t-th request is satisfied by resource consumption scheme l. bj is the capacity of resource j. 1 denotes all-one vector. In the online setting of ILP, the input data (ct,at1, . . . ,atm) is revealed one by one and xt is determined instantaneously when (ct,at1, . . . ,atm) is revealed without future information. Moreover, n and b is known and fixed before the first input arrives."
        },
        {
            "heading": "2.2. CCP Problem",
            "text": "In practical, the value of atj can be obtained by prediction which yields the uncertainty. Consequently, taken the uncertainty of atj into consideration, we formulate the following CCP problem:\nmax x\n\u2211n\nt=1 c \u22a4 t xt\ns.t. P ( \u2211n t=1 a \u22a4 tjxt \u2264 bj ) \u2265 \u03b7j ,\u2200j = 1, . . . ,m\n1 \u22a4 xt \u2264 1,xt \u2208 {0, 1}k,\u2200t = 1, . . . , n\n(2)\nwhere P means probability and \u03b7j is the given confidence level. Assume that the true value of atj belongs to a known Gaussian distribution with mean a\u0304tj and covariance matrix Ktj [26], and then problem (2) is equivalent to the following deterministic problem [27]:\nmax x\n\u2211n\nt=1 c \u22a4 t xt\ns.t. \u2211n t=1 a\u0304 \u22a4 tjxt + \u03a6 \u22121(\u03b7j)\n\u221a\n\u2211n\nt=1 x\u22a4t Ktjxt\n\u2264 bj , \u2200j = 1, . . . ,m 1 \u22a4 xt \u2264 1,xt \u2208 {0, 1}k,\u2200t = 1, . . . , n\n(3)\nwhere \u03a6(\u00b7) represents the cumulative distribution function of the standard Gaussian distribution. Moreover, when atj follows a distribution with a finite support, which need not to be Gaussian distribution, problem (2) can also be translated into the same form in (3) according to the previous work [28]. Problem (3) is an integer secondorder cone programming (ISOCP) problem when \u03b7j > 50%, \u2200j. The offline ISOCP problems can be solved by commercial solvers such as Gurobi. However, in the online setting, it is difficult to solve problem (3) due to its non-linearity: xt with different subscripts t are coupled with each other in ( \u2211n\nt=1 x \u22a4 t Ktjxt) 1/2. In the online\nsetting of CCP, the input data is (ct, a\u0304t1, . . . , a\u0304tm,Kt1, . . . ,Ktm).\nAlgorithm 1: OPD Algorithm for ILP\nInput: d = b/n Output: x = (x1, ...,xn)\n1 Initialize: p1 = 0 2 for t = 1, ..., n do 3 Set vt = maxl=1,...,k (c \u22a4 t \u2212 p\u22a4t A\u0303t)el 4 if vt > 0 then 5 Pick an index lt randomly from\n{ l : vt = (c \u22a4 t \u2212 p\u22a4t A\u0303t)el }\n6 Set xt = elt 7 else 8 Set xt = 0 9 Compute pt+1 = max {\npt + 1\u221a n\n( A\u0303txt \u2212 d ) ,0 }"
        },
        {
            "heading": "2.3. Relaxed Linear Problem",
            "text": "Proposition 1. For all t and j, the following equation holds. \u221a\nx\u22a4t Ktjxt = \u03b3 \u22a4 tjxt,\u2200xt \u2208 {x \u2208 {0, 1}k|1\u22a4x \u2264 1},\nwhere \u03b3tj is formed by concatenating the square roots of the diagonal elements of the matrix Ktj .\nTo address the non-decomposable issue raised by the non-\nlinearity of\n\u221a\n\u2211n t=1 x \u22a4 t Ktjxt, we linearize this term to decouple\ndifferent xt. Specifically, according to Cauchy-Schwarz inequality \u221a\nn \u2211n t=1 x \u22a4 t Ktjxt \u2265 \u2211n t=1\n\u221a\nx\u22a4t Ktjxt and Proposition 1, the\nnonlinear problem (3) can be approximated by\nmax x\n\u2211n\nt=1 c \u22a4 t xt\ns.t. \u2211n\nt=1\n( a\u0304 \u22a4 tj + \u03a6 \u22121(\u03b7j)\u03b3 \u22a4 tj/ \u221a n )\nxt \u2264 bj , \u2200j = 1, . . . ,m 1 \u22a4 xt \u2264 1,xt \u2208 {0, 1}k, \u2200t = 1, . . . , n.\n(4)\nProblem (4) is linear and can be solved in the online setting. The online algorithm for solving this relaxed problem is the basis of our algorithm for solving the CCP problem (3) and we will detail it in the following section.\n3. SOLUTION ALGORITHMS\nIn this section, we introduce several online primal-dual methods to handle the online SOC constrained problem (3). Firstly, we revisit the state-of-the-art OPD algorithm for solving the relaxed problem (4). Then, some heuristic correction methods based on the structure of (3) are proposed to improve the practical performance."
        },
        {
            "heading": "3.1. OPD Algorithm for online ILP",
            "text": "Recall that (4) is an ILP problem and Li et al. [11] have proposed an effective OPD algorithm to solve the online ILP problem. For simplicity, denote a\u0303tj = a\u0304tj +\u03a6 \u22121(\u03b7j)\u03b3tj/ \u221a n and we present the OPD method as shown in Algorithm 1.\nIn Algorithm 1, denote A\u0303t = (a\u0303 \u22a4 t1, . . . , a\u0303 \u22a4 tm) \u22a4 and b = (b1, . . . , bm) \u22a4. Algorithm 1 is dual-based which maintains a dual vector pt. In each iteration, new ct and A\u0303t are revealed. Then, xt is determined by choosing l that maximizes (c \u22a4 t \u2212 p\u22a4t A\u0303t)el, where el is the unit vector with all components equal to 0 except the l-th, which is 1. After determining xt, pt is updated by a projected\nAlgorithm 2: Modified OPD Algorithm for CCP\nInput: d = b/n Output: x = (x1, ...,xn)\n1 Initialize: p1 = 0, d1 = d 2 for t = 1, ..., n do 3 Compute \u03b2t via equation (7) 4 Set vt = maxl=1,...,k (c \u22a4 t \u2212 p\u22a4t A\u0302t(\u03b2t))el 5 if vt > 0 then 6 Pick an index lt randomly from\n{\nl : vt = (c \u22a4 t \u2212 p\u22a4t A\u0302t(\u03b2t))el\n}\n7 Set xt = elt 8 else 9 Set xt = 0\n10 Compute dt via equation (8) 11 Compute\npt+1 = max { pt + 1\u221a n ( A\u0302t(\u03b2t)xt \u2212 dt ) ,0 }\nstochastic subgradient descent method where (d \u2212 A\u0303txt) is the subgradient corresponding to pt.\nThe following Theorem 1 states that Algorithm 1 achieves O( \u221a n) regret and constraint violation compared to the optimal solution of the ISOCP problem (3). The detailed proof of Theorem 1 as well as Proposition 1 is presented in the full-length version [29].\nTheorem 1. Assume coefficient sets {ctj , a\u0304tj ,Ktj}s are bounded and sampled i.i.d. from an unknown distribution, and the upper and lower bounds of b/n are finite and positive. Then, the expected regret and constraint violation of Algorithm 1 compared to the optimal solution of the ISOCP problem (3) are on the order of \u221a n, i.e.,\nE{ctj ,a\u0304tj ,Ktj}nt=1\n[ R\u0302ISOCPn \u2212 n \u2211\nt=1\nc \u22a4 t xt\n] \u2264 O( \u221a n) (5)\nE{ctj ,a\u0304tj ,Ktj}nt=1 [\u2225 \u2225(g (x)\u2212 b)+ \u2225 \u2225 2 ]\n\u2264 O( \u221a n) (6)\nwhere R\u0302ISOCPn is the optimal objective value of (3), x = (x1, ...,xn) is the output of Algorithm 1, (\u00b7)+ is the positive part function, and g(x) is the left-hand side of the SOC constraints."
        },
        {
            "heading": "3.2. Modified OPD Algorithm for online CCP",
            "text": "Although Algorithm 1 has been able to obtain a near-optimal solution of the ISOCP problem (3) according to Theorem 1, its practical performance can be further improved by narrowing the gap between the solutions generated by Algorithm 1 and the offline ISOCP (3). To be specific, this gap mainly comes from the following two points:\n(a) The error between the offline ILP problem (4) and the offline\nISOCP problem (3).\n(b) The error between the online solution and offline solution of\nthe ILP problem (4).\nTo address these issues, we propose the modified OPD Algorithm 2 for solving the online CCP problem (3). In Algorithm 2, several heuristic corrections are applied to correct the above-mentioned errors.\nFirst is to correct the error (a). For the j-th constraint, we introduce scale factors\n\u03b2tj =\n\n\n\n1, t = 1 or \u2211t\u22121 i=1 \u03b3 \u22a4 ijxi = 0 \u221a t\u22121 \u221a\n\u2211t\u22121 i=1 x\u22a4 i Kijxi\n\u2211t\u22121 i=1 \u03b3\u22a4 ij xi , t > 1 and\n\u2211t\u22121 i=1 \u03b3 \u22a4 ijxi > 0\n(7)\nto reduce the gap between\n\u221a\n\u2211n t=1 x \u22a4 t Ktjxt and \u2211n t=1 \u03b3 \u22a4 tjxt\n/ \u221a n. Next, we define a\u0302t1(\u03b2tj) = a\u0304tj + \u03b2tj\u03a6 \u22121(\u03b7j)\u03b3tj/ \u221a n and A\u0302t(\u03b2t) = (a\u0302 \u22a4 t1(\u03b2t1), . . . , a\u0302 \u22a4 tm(\u03b2tm)) \u22a4. In Algorithm 2, A\u0302t(\u03b2t) is used in place of A\u0303t. That is, we use \u2211n t=1 \u03b2tj\u03b3 \u22a4 tjxt/ \u221a n to\napproximate\n\u221a\n\u2211n t=1 x \u22a4 t Ktjxt. At time t, \u03b2t is calculated ac-\ncording to (7) which is based on the historical decisions and will be used in the next iteration for correction. It is worth noting that \u03b2t = (\u03b2t1, . . . , \u03b2tm) \u22a4 is calculated in each round and can be computed incrementally with low computational cost.\nIn the numerical experiments section 4, it is illustrated that Algorithm 2 has better performance than Algorithm 1 in terms of the constraint violation. An intuitive explanation is that Algorithm 2 is more inclined to reject the orders with high uncertainty of resource consumption (i.e., Ktj ) than Algorithm 1 because \u03b2t \u2265 1. Next is to correct the error (b). The error (b) consists of two parts, the optimality gap and constraint violation. The constraint violation will cause the probability P ( \u2211n\nt=1 a \u22a4 tjxt \u2264 bj ) to devi-\nate from the target value \u03b7j . It is almost impossible to reduce the optimality gap and probability deviation simultaneously. Compared with the optimality gap, the CCP problems have a lower tolerance for the probability deviation. In order to reduce the probability deviation, we propose the following method to dynamically adjust the right-hand-side capacity d in each iteration:\ndtj = 1\nn\u2212 t\n( bj \u2212 \u03a6\u22121(\u03b7j) \u221a t\nn\n\u2211t\ni=1 x\u22a4i Kijxi\n\u2212 \u2211t i=1 a\u0304 \u22a4 ijxi\n) ,\u2200j = 1, . . . ,m. (8)\nThe intuition behind the correction formula (8) is given as follows: if too many resources are spent in the early rounds, the average remaining resources d will diminish. Then Algorithm 2 will raise the dual price and be more likely to reject an order with high resource consumption as a result. On the other hand, if a large number of orders with high resource consumption are rejected at the start, resulting in an excess of remaining resources, Algorithm 2 will decrease the dual price in order to accept more orders in the future. This correction strategy makes Algorithm 2 perform better than Algorithms 1 in numerical experiments.\n4. NUMERICAL EXPERIMENTS\nIn this section, we compare the performance of Algorithm 1, Algorithm 2, Algorithm 2 without correction (7) and Algorithm 2 without correction (8) in terms of optimality gap and probability deviation. These algorithms are implemented on two different models, with details given in Table 1. Table 1 lists the distributions from which the elements in ctj, a\u0304tj or Ktj are i.i.d. sampled in two synthetic-data experiments. X \u223c f(\u03c72(v)) denotes X = f(Y ) and Y \u223c \u03c72(v)."
        },
        {
            "heading": "4.1. Synthetic-data Experiment I (Bounded Setting)",
            "text": "In the first experiment, we set k = 5 and m = 4. The confidence levels of chance constraints are set to (0.65, 0.75, 0.85, 0.95). For each value of n, we run 20 simulation trials. In each trial, coefficients ctj , a\u0304tj and Ktj are resampled.\nFig. 1 shows the average optimality gap and probability deviation over all the simulation trials. The probability deviation of the whole problem in one trail is an average:\n1\nm\nm \u2211\nj=1\n( \u03b7j \u2212 \u03a6 ( bj \u2212 \u2211n t=1 a\u0304 \u22a4 tjxt \u221a\n\u2211n t=1 x \u22a4 t Ktjxt\n))+\n, (9)\nwhere xt is the output of the algorithms. The calculation formula for the expected optimality gap is (5). From Fig. 1, we observe that the optimality gaps of these algorithms are close and Algorithm 2 has the smallest probability deviation. Fig. 1 (a) also shows that the optimality gap of Algorithm 2 is on the order of \u221a n. Fig. 2 presents the probability deviations of each chance constraint of Algorithm 1 and 2. Fig. 1 and 2 both illustrate that the proposed two corrections (7) and (8) can effectively reduce the probability deviation with minor negative effects on the optimality gap."
        },
        {
            "heading": "4.2. Synthetic-data Experiment II (Unbounded Setting)",
            "text": "In the second experiment, k and m are still set to 5 and 4. The confidence levels are also the same as those in Experiment I. For each value of n, we run 20 simulation trials. In each trial, coefficients ctj, a\u0304tj and Ktj are i.i.d. sampled from Chi-square distributions which are unbounded.\nFig. 3 shows the average optimality gap and probability deviation, and Fig. 4 shows the probability deviations of each chance constraint of Algorithm 1 and 2. The results of Experiment II are similar to those of Experiment I: Algorithm 2 has the smallest probability deviation; corrections (7) and (8) can effectively reduce the probability deviation. Although Algorithm 2 produces slightly larger optimality gap, its optimality gap is still approximately on the order of \u221a n. In this experiment with unbounded input, Algorithm 2 has obvious advantages: the probability deviations of the algorithms except Algorithm 2 are larger than 10%, while the probability deviation of Algorithm 2 is less than 1%.\nIn addition, the competitive ratios of Algorithm 2 in Experiment I and II are not less than 96%, with details provided in this doc [30]."
        },
        {
            "heading": "4.3. Real-data Experiment",
            "text": "In the following, we present an engineering application of our method in the task of order fulfillment based on the real data obtained from Cainiao Network which is a supply chain company.\nThe request (order) is revealed one by one, and the algorithm needs to decide which transportation channel the order will be sent to. xtl = 1 denotes the order t is sent to channel l. The objective coefficient is the revenue of each channel and the constraint coefficient is the predicted transportation time of each channel. The deterministic problem is to maximize the total revenue while ensuring that the average transportation time is not larger than 15 working days. The transportation time is obtained from prediction which introduces the uncertainty in the constraint coefficients. We adopt the chance constraint with the holding probability of average transportation time \u2265 90%. Due to that each order must be assigned to a channel, the constraint 1\u22a4xt \u2264 1 in (2) is replaced with 1\u22a4xt = 1 and Algorithms are also slightly modified accordingly: do not judge whether vt > 0 and always set xt = elt . Three different transportation channels are considered. The simulation results are shown blow.\nThe above results also show that Algorithm 2 with proposed corrections is effective for reducing the value of the probability deviation while not sacrificing the optimality gap too much.\n5. CONCLUSION\nIn this paper, we study the online stochastic RAP with chance constraints. First, we present a linearization method that decouples the non-linear term in second-order cone constraints and makes the online solution possible. Then, we adopt the online primal-dual (OPD) algorithm for the integer linear programming problem and establish the O( \u221a T ) regret for both the optimality gap and constraint violation. Moreover, several heuristic corrections are proposed to further improve the performance of the OPD algorithm. Extensive numerical experiments on both synthetic and real data verify the effectiveness of our proposed methods."
        }
    ],
    "year": 2023
}