{
    "abstractText": "Industrial robotic arms integrated with server computers, sensors and actuators have revolutionized the way automated non-destructive testing is performed in the aeronautical sector. Currently, there are commercial, industrial robots that have the precision, speed and repetitiveness in their movements that make them suitable for use in numerous non-destructive testing inspections. Automatic ultrasonic inspection of complex geometry parts remains one of the most difficult challenges in the market. The closed configuration, i.e., restricted access to internal motion parameters, of these robotic arms makes it difficult for an adequate synchronism between the movement of the robot and the acquisition of the data. This is a serious problem in the inspection of aerospace components, where high-quality images are necessary to assess the condition of the inspected component. In this paper, we applied a methodology recently patented for the generation of high-quality ultrasonic images of complex geometry pieces using industrial robots. The methodology is based on the calculation of a synchronism map after a calibration experiment and to introduce this corrected map in an autonomous, independent external system developed by the authors to obtain precise ultrasonic images. Therefore, it has been shown that it is possible to establish the synchronization of any industrial robot with any ultrasonic imaging generation system to generate high-quality ultrasonic images.",
    "authors": [
        {
            "affiliations": [],
            "name": "Sof\u00eda Aparicio Secanellas"
        },
        {
            "affiliations": [],
            "name": "Montserrat Parrilla"
        },
        {
            "affiliations": [],
            "name": "Montserrat Acebes"
        },
        {
            "affiliations": [],
            "name": "Alberto Ib\u00e1\u00f1ez"
        },
        {
            "affiliations": [],
            "name": "Mat\u00edas Jim\u00e9nez"
        },
        {
            "affiliations": [],
            "name": "\u00d3scar Mart\u00ednez-Graullera"
        },
        {
            "affiliations": [],
            "name": "Margarita Gonz\u00e1lez Hern\u00e1ndez"
        },
        {
            "affiliations": [],
            "name": "Javier Anaya Velayos"
        }
    ],
    "id": "SP:c397501ade9dd022c82e397a0f27cd1c1cd4c8d7",
    "references": [
        {
            "authors": [
                "Valdecantos",
                "C. SARA 10"
            ],
            "title": "A system for high speed automatic NDE of large composite parts",
            "venue": "e-J. Nondestruct. Test. 1997, 2. Available online: http://www.ndt.net/article/aero1197/sara10/sara10.htm",
            "year": 2022
        },
        {
            "authors": [
                "R. Bogue"
            ],
            "title": "The role of robotics in non-destructive testing",
            "venue": "Ind. Robot. Int. J",
            "year": 2010
        },
        {
            "authors": [
                "C. Mineo",
                "S.G. Pierce",
                "P.I. Nicholson",
                "I. Cooper"
            ],
            "title": "Robotic path planning for non-destructive testing\u2013A custom MATLAB toolbox approach",
            "venue": "Robot. Comput. -Integr. Manuf",
            "year": 2016
        },
        {
            "authors": [
                "E. Cuevas",
                "M. L\u00f3pez",
                "M. Garc\u00eda"
            ],
            "title": "Ultrasonic Techniques and Industrial Robots: Natural Evolution of Inspection Systems",
            "venue": "In Proceedings of the 4th International Symposium on NDT in Aerospace, Augsburg, Germany,",
            "year": 2012
        },
        {
            "authors": [
                "D. Lluveras",
                "M. Molero Armenta",
                "M.A.G. Izquierdo",
                "M.G. Hern\u00e1ndez",
                "J.J. Anaya"
            ],
            "title": "Ultrasound Transmission Tomography for the Assessment of Inclusions in Concrete",
            "venue": "Sensors 2017,",
            "year": 2017
        },
        {
            "authors": [
                "X. Zhen",
                "Y. Yong",
                "X.C. Guang",
                "X.D. Guo",
                "F.L. Fang",
                "L.X. Liang"
            ],
            "title": "Profile tracking with ultrasonic alignment for automatic Non-destructive testing of complex structures",
            "venue": "Robot. Comput. \u2013Integr. Manuf",
            "year": 2018
        },
        {
            "authors": [
                "I. Cooper",
                "I. Nicholson",
                "D. Yan",
                "B. Wright",
                "D. Liaptsis",
                "C. Mineo"
            ],
            "title": "Development of a fast inspection system for complex composite structure\u2013the Intacom project",
            "venue": "In Proceedings of the 5th International Symposium on NDT in Aerospace,",
            "year": 2013
        },
        {
            "authors": [
                "C. Mineo",
                "C. MacLeod",
                "M. Morozov",
                "S.G. Pierce",
                "T. Lardner",
                "R. Summan",
                "J. Powell",
                "P. McCubbin",
                "C. McCubbin",
                "G Munro"
            ],
            "title": "Fast ultrasonic phased array inspection of complex geometries delivered through robotic manipulators and high speed data acquisition instrumentation",
            "venue": "In Proceedings of the IEEE International Ultrasonics Symposium (IUS),",
            "year": 2016
        },
        {
            "authors": [
                "M. Morozov",
                "S.G. Pierce",
                "C. MacLeod",
                "C. Mineo"
            ],
            "title": "Summan, Off-line scan path planning for robotic NDT",
            "venue": "Measurement",
            "year": 2018
        },
        {
            "authors": [
                "C. Guo",
                "C. Xu",
                "J. Hao",
                "D. Xiao",
                "W. Yang"
            ],
            "title": "Ultrasonic Non-Destructive Testing System of Semi-Enclosed Workpiece with Dual-Robot Testing System",
            "venue": "Sensors 2019,",
            "year": 2019
        },
        {
            "authors": [
                "Z. Xiao",
                "C. Xu",
                "D. Xiao",
                "F. Liu",
                "M. Yin"
            ],
            "title": "An Optimized Robotic Scanning Scheme for Ultrasonic NDT of Complex Structures",
            "year": 2017
        },
        {
            "authors": [
                "N.D.M. Phan",
                "Y. Quinsat",
                "S. Lavernhe",
                "C. Lartigue"
            ],
            "title": "Scanner path planning with the control of overlap for part inspection with an industrial robot",
            "venue": "Int. J. Adv. Manuf. Technol",
            "year": 2018
        },
        {
            "authors": [
                "C. Guo",
                "C. Xu",
                "D. Xiao",
                "J. Hao",
                "H. Zhang"
            ],
            "title": "Trajectory planning method for improving alignment accuracy of probes for dual-robot air-coupled ultrasonic testing system",
            "venue": "Int. J. Adv. Robot. Syst. 2019,",
            "year": 2019
        },
        {
            "authors": [
                "A.S. Sof\u00eda",
                "P.R. Montserrat",
                "I.R. Alberto",
                "M. \u00d3scar",
                "G.H. Margarita",
                "G. I\u00f1aki",
                "A.M. Montserrat",
                "M. H\u00e9ctor de",
                "A. Alejandro"
            ],
            "title": "M\u00e9todo y Sistema de Calibraci\u00f3n de un Sistema de Inspecci\u00f3n Mediante Ultrasonidos; Spanish Patent Office: Madrid, Spain, 2021; Available online: https://digital.csic.es/handle/10261/288205 (accessed on 1 February 2022)",
            "year": 2022
        }
    ],
    "sections": [
        {
            "text": "Citation: Aparicio Secanellas, S.;\nGauna Le\u00f3n, I.; Parrilla, M.; Acebes,\nM.; Ib\u00e1\u00f1ez, A.; de Mat\u00edas Jim\u00e9nez, H.;\nMart\u00ednez-Graullera, \u00d3.; \u00c1lvarez de\nPablos, A.; Gonz\u00e1lez Hern\u00e1ndez, M.;\nAnaya Velayos, J.J. Methodology for\nthe Generation of High-Quality\nUltrasonic Images of Complex\nGeometry Pieces Using Industrial\nRobots. Sensors 2023, 23, 2684.\nhttps://doi.org/10.3390/\ns23052684\nAcademic Editors: Pai Zheng,\nXinyu Li and Longfei Zhou\nReceived: 30 January 2023\nRevised: 23 February 2023\nAccepted: 24 February 2023\nPublished: 1 March 2023\nCopyright: \u00a9 2023 by the authors.\nLicensee MDPI, Basel, Switzerland.\nThis article is an open access article\ndistributed under the terms and\nconditions of the Creative Commons\nAttribution (CC BY) license (https://\ncreativecommons.org/licenses/by/\n4.0/).\nKeywords: industrial robots; complex geometry pieces; ultrasonic images; synchronism"
        },
        {
            "heading": "1. Introduction",
            "text": "The aeronautical sector is a strategic sector that has been subjected to great activity since its inception and, more specifically, in recent years since it is in an international context marked by major changes in the relationships within the value chain and a complete globalization of the market with new opportunities for growth and activity. The constant need to overcome the technological barriers that mark the aeronautical sector poses new challenges in the short-, medium- and long-term. In this context, the Technological Platform of Advanced Materials and the Aerospace Spanish Platform have identified (thanks to a representative group of the main aeronautical components and structures manufacturers operating in Spain) the need for research, development and innovation in the field of materials in the short\u2013medium-term (2020\u20132030). Non-destructive inspection techniques, beyond the use as support in the manufacture of components, are extremely important in the industry [1]. In addition to enabling the introduction of new materials and/or designs in a sector such as aerospace, which has a clear incentive for technological developments, they have a very beneficial impact on design capabilities in other sectors [2,3]. Ultrasonic examination is one of the most suitable and easily automated methods for inspections of composite materials [4,5]. In contrast to other techniques, they have\nSensors 2023, 23, 2684. https://doi.org/10.3390/s23052684 https://www.mdpi.com/journal/sensors\nSensors 2023, 23, 2684 2 of 12\nthe advantage that the nature of both the matrix and the type of fibers do not affect the result of the inspection. They also have great importance in the defectology of composite materials because it is possible to go over great depths, the technique is quite fast, it has a very practical and simple use, and at the same time, it allows the detection of different defects and the knowledge of the material in different ways of failure [6]. However, despite being a widely used technique in the field of composite materials [7], inspections on critical parts or complex geometry entail additional difficulties compared to standard inspection, needing special requirements, both from the point of view of the inspection and the evaluation. These needs are common to different industrial sectors where high reliability, high precision and adequate cost control are required [8]. Cartesian robots are widely used in the aeronautical sector because it is easy to know the position of the transducer in the piece at each moment. However, every time the pieces to be inspected are more complex, and it is not possible to use Cartesian robots; therefore, complex industrial robots must be used. A good option for the inspection of parts with complex geometry is the use of robotic arms. Industrial robotic arms can manipulate and move ultrasonic probes along programmed paths with enough speed, precision, and repeatability to automate inspections. The main drawback of this approach is that the control systems of current industrial robots do not provide information on the position of their end effector with the precision and updating rate that the strict inspection standards for aerospace components require. Therefore, the inspection of parts with complex geometry, in which the movement of the ultrasonic transducer along the inspection trajectories is not carried out at a constant and known speed, and where it is not possible to install encoders that report the transducer position cannot be performed with commercial, industrial robots. In [9], a scan path was generated offline for automated eddy currents non-destructive inspection of a complex shape test piece by means of a six-axis KUKA robotic arm. A dual-robot NDT system is established in [10] for the inspection of semi-enclosed workpieces and presents a specific trajectory planning approach for the NDT scheme to inspect these workpieces. To reduce the inspection time for evaluating defects in geometrically complex structures, a more efficient scheme in which the test object is grasped by the robot (TOGR) is investigated in [11]. In this work, a six-degrees-of-freedom industrial robot is used to hold the non-destructive testing (NDT) probe normal to the test surface, and ultrasonic time-domain reflectometry (UTDR) is used to identify the flaw echo. The ultrasonic signals are acquired synchronously with positional data regarding the robot. The TOGR solution shows a significant improvement in the positional accuracy of the robotic trajectory. A new scanner path planning method for part inspection using an industrial six-axis robot is presented in [12]. The novelty of the approach is to generate a scan path with the control of the overlap between two adjacent scanning paths based on the use of the least-squares conformal maps, which stretches a 3D mesh surface on a 2D plane. In [13], a dual-robot air-coupled ultrasonic non-destructive testing scheme is shown and introduces the structure of the system and a general calibration method for the workpiece frame of a dual-robot system in detail. A tangential constraint method, which makes the probes completely aligned during the inspection process, is proposed. In this paper, a synchronism methodology recently patented [14] is proven to facilitate the generation of ultrasonic images of pieces of complex geometry through the use of industrial robots. This methodology is based on a previous calibration method performed in the piece to be inspected, adding discontinuities in known positions to obtain the instants of time in which the acquisition system must emit an ultrasonic pulse. These instants of time are used by an external independent system to synchronize the movement of the robot with the ultrasonic system. Therefore, in this paper, we present an autonomous, independent external system whose information comes mainly from the generated ultrasonic images without acting on the programming of the robot. Moreover, the synchronization of any industrial robot with any system of generation of ultrasonic images will be established.\nSensors 2023, 23, 2684 3 of 12"
        },
        {
            "heading": "2. Materials and Methods",
            "text": "The methodology for the generation of high-quality ultrasonic images of complex geometry pieces using industrial robots is based on a calibration method to compute a more precise synchronism map. A synchronism map is a trigger synchronism that determines the instants of time in which the acquisition system must emit an ultrasonic pulsed wave to obtain pixel values to fulfill inspection requirements. The calibration method starts generating an initial synchronism map by carrying out a constant pulse repetition frequency (PRF) inspection of a standard specimen with discontinuities in known positions. After that, the initial synchronism map is processed to obtain a more precise map, and this new map is introduced in an autonomous, independent external system to synchronize the movement of the robot with the ultrasonic system. We assume that the geometric variations when installing the different pieces of the same type in the inspection system and the variations of the trajectories described by the robot in repetitions of its program are, in all cases, lower than the desired resolution for the inspection. Therefore, if a map is built with the time elapsed from the start of each inspection line and the position of the transducers on the piece, this can be applied to the inspection of all pieces of the same type."
        },
        {
            "heading": "2.1. Inspection Systems",
            "text": "The methodology was proved first using a Cartesian robot available at ITEFI laboratory in Madrid, Spain, and after that, a Tecnitest Company in Madrid, Spain, industrial robot was used, see Figure 1.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 3\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nthe\u00a0instants\u00a0of\u00a0time\u00a0in\u00a0which\u00a0the\u00a0acquisition\u00a0system\u00a0must\u00a0emit\u00a0an\u00a0ultrasonic\u00a0pulse.\u00a0These\u00a0 instants\u00a0of\u00a0 time\u00a0are\u00a0used\u00a0by\u00a0an\u00a0external\u00a0 independent\u00a0system\u00a0to\u00a0synchronize\u00a0 the\u00a0move\u2010 ment\u00a0of\u00a0the\u00a0robot\u00a0with\u00a0the\u00a0ultrasonic\u00a0system.\u00a0Therefore,\u00a0in\u00a0this\u00a0paper,\u00a0we\u00a0present\u00a0an\u00a0au\u2010 tonomous,\u00a0 independent\u00a0 external\u00a0 system\u00a0 whose\u00a0 information\u00a0 comes\u00a0 mainly\u00a0 from\u00a0 the\u00a0 generated\u00a0ultrasonic\u00a0images\u00a0without\u00a0acting\u00a0on\u00a0the\u00a0programming\u00a0of\u00a0the\u00a0robot.\u00a0Moreover,\u00a0 the\u00a0synchronization\u00a0of\u00a0any\u00a0industrial\u00a0robot\u00a0with\u00a0any\u00a0system\u00a0of\u00a0generation\u00a0of\u00a0ultras nic\u00a0 images\u00a0will\u00a0be\u00a0established.\u00a0\n2.\u00a0Materials\u00a0and\u00a0Methods\u00a0 The\u00a0methodology\u00a0 for\u00a0 the\u00a0generation\u00a0of\u00a0high\u2010quality\u00a0ultrasonic\u00a0 images\u00a0of\u00a0complex\u00a0 geometry\u00a0pieces\u00a0using\u00a0 industrial\u00a0robots\u00a0 is\u00a0based\u00a0on\u00a0a\u00a0calibration\u00a0method\u00a0to\u00a0compute\u00a0a\u00a0 more\u00a0precise\u00a0synchronism\u00a0map.\u00a0A\u00a0synchronism\u00a0map\u00a0 is\u00a0a\u00a0 trigger\u00a0synchronism\u00a0 that\u00a0de\u2010 termines\u00a0 the\u00a0 instants\u00a0of\u00a0 time\u00a0 in\u00a0which\u00a0 the\u00a0acquisition\u00a0 system\u00a0must\u00a0 emit\u00a0an\u00a0ultrasonic\u00a0 pulsed\u00a0wave\u00a0 to\u00a0 obtain\u00a0 pixel\u00a0 values\u00a0 to\u00a0 fulfill\u00a0 inspection\u00a0 requirements.\u00a0 The\u00a0 calibration\u00a0 method\u00a0starts\u00a0generating\u00a0an\u00a0 initial\u00a0synchronism\u00a0map\u00a0by\u00a0carrying\u00a0out\u00a0a\u00a0constant\u00a0pulse\u00a0 repetition\u00a0 frequency\u00a0 (PRF)\u00a0 inspection\u00a0 of\u00a0 a\u00a0 standard\u00a0 specimen\u00a0with\u00a0 discontinuities\u00a0 in\u00a0 known\u00a0positions.\u00a0After\u00a0that,\u00a0the\u00a0initial\u00a0synchr nism\u00a0map\u00a0is\u00a0processed\u00a0to\u00a0obtain\u00a0a\u00a0more\u00a0 precise\u00a0map,\u00a0and\u00a0 this\u00a0new\u00a0map\u00a0 is\u00a0 introduced\u00a0 in\u00a0an\u00a0auto omous,\u00a0 independent\u00a0ext rnal\u00a0 syste \u00a0to\u00a0sync ronize\u00a0the\u00a0movement\u00a0 f\u00a0the\u00a0robot\u00a0with\u00a0the\u00a0ultrasonic\u00a0system.\u00a0\n\u00a0ass \u00a0t t\u00a0t e\u00a0ge tri \u00a0 ri ti \u00a0 \u00a0i lli \u00a0 \u00a0 i \u00a0 i \u00a0 \u00a0t \u00a0 \u00a0 \u00a0 \u00a0 \u00a0i \u00a0 \u00a0 \u00a0 \u00a0 i \u00a0 \u00a0 \u00a0t j \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0i \u00a0 \u00a0 ,\u00a0i \u00a0 ll\u00a0 ,\u00a0l \u00a0t \u00a0t \u00a0 i \u00a0 l \u00a0 \u00a0 \u00a0 i \u00a0 f ,\u00a0i \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\ni \u00a0 \u00a0 ll\u00a0 i \u00a0 f\u00a0t \u00a0 \u00a0t .\u00a0\n2.1.\u00a0Inspection\u00a0Systems\u00a0 The\u00a0methodology\u00a0was\u00a0proved\u00a0first\u00a0using\u00a0a\u00a0Cartesian\u00a0robot\u00a0available\u00a0at\u00a0ITEFI\u00a0labor\u2010 atory\u00a0in\u00a0Madrid,\u00a0Spain,\u00a0and\u00a0after\u00a0that,\u00a0a\u00a0Tecnitest\u00a0Company\u00a0in\u00a0Madrid,\u00a0Spain,\u00a0industrial\u00a0 robot\u00a0was\u00a0used,\u00a0see\u00a0Figure\u00a01.\u00a0\n\u00a0\nFigure\u00a01.\u00a0(a)\u00a0Cartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0laboratory\u00a0used\u00a0for\u00a0the\u00a0initial\u00a0tests.\u00a0(b)\u00a0Industrial\u00a0robot\u00a0used\u00a0\nfor\u00a0the\u00a0experiments\u00a0at\u00a0Tecnitest\u00a0Company.\u00a0\nA\u00a0 standard\u00a0 automatic\u00a0 system\u00a0 (with\u00a0 three\u00a0 Cartesian\u00a0 axes)\u00a0 was\u00a0 used\u00a0 to\u00a0 test\u00a0 the\u00a0 methodology\u00a0 at\u00a0 the\u00a0 Institute\u00a0 for\u00a0 Physical\u00a0 and\u00a0 Information\u00a0 Technologies\u00a0 \u201cLeonardo\u00a0 Torres\u00a0Quevedo\u201d\u00a0(ITEFI)\u00a0laboratory.\u00a0 The\u00a0Tecnitest\u00a0Company\u00a0 industrial\u00a0robot\u00a0used\u00a0was\u00a0 the\u00a0Fanuc\u00a0Brand\u00a0model\u00a0R\u20102000\u00a0 iC/125\u00a0L\u00a0with\u00a06\u00a0axes\u00a0 [15].\u00a0This\u00a0 robot\u00a0 is\u00a0equipped\u00a0with\u00a0Socomate\u00a0model\u00a0SOCO\u20108S\u2010UT\u2010\u00a0 Multiplexer\u00a0ultrasonic\u00a0equipment\u00a0[16].\u00a0\n2.2.\u00a0Standard\u00a0Specimen\u00a0\nFigure 1. (a) Cartesian robot at ITEFI laboratory used for the initial tests. (b) Industrial robot used for the experiments at Tecnitest Company.\nstandard automatic system (with three Cartesian axes) was used to test the methodology at the Institute for Physical and Informatio Technologies \u201cLeonardo Torres Quevedo\u201d (ITEFI) laboratory.\nec it t i i l t r l - 125 it is r t i - - -\nlt i i t [ ]."
        },
        {
            "heading": "2.2. Standard Speci en",
            "text": "A standard piece has been used to fine-tune the methodology that allows the position of the transducers to be accurately determined during the scan. Any standard specimen must have the following characteristics:\n(1) They must generate discontinuities in the ultrasonic image that are easy to detect, ideally through automatic defect detection processes or at least through visual inspection by trained operators. (2) The positions of the marks that produce the discontinuities must be known. The separation of these marks depends on the inspection areas where accelerations of robot occur and must allow detection of the maximum accelerations.\nSensors 2023, 23, 2684 4 of 12\nA standard plastic specimen with 47 slots 3 mm wide and separated 10 mm was fabricated at ITEFI laboratory, Figure 2.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 4\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nA\u00a0standard\u00a0piece\u00a0has\u00a0been\u00a0used\u00a0to\u00a0fine\u2010tune\u00a0the\u00a0methodology\u00a0that\u00a0allows\u00a0the\u00a0posi\u2010 tion\u00a0 of\u00a0 the\u00a0 transducers\u00a0 to\u00a0 be\u00a0 accurately\u00a0 determined\u00a0 during\u00a0 the\u00a0 scan.\u00a0 Any\u00a0 standard\u00a0 specimen\u00a0must\u00a0have\u00a0the\u00a0following\u00a0characteristics:\u00a0 (1) They\u00a0must\u00a0generate\u00a0discontinuities\u00a0 in\u00a0the\u00a0ultrasonic\u00a0 image\u00a0that\u00a0are\u00a0easy\u00a0to\u00a0detect,\u00a0\nideally\u00a0 through\u00a0automatic\u00a0defect\u00a0detection\u00a0processes\u00a0or\u00a0at\u00a0 least\u00a0 through\u00a0visual\u00a0 in\u2010 spection\u00a0by\u00a0trained\u00a0operators.\u00a0\n(2) The\u00a0positions\u00a0of\u00a0 the\u00a0marks\u00a0 that\u00a0produce\u00a0 the\u00a0discontinuities\u00a0must\u00a0be\u00a0known.\u00a0The\u00a0 separation\u00a0of\u00a0 these\u00a0marks\u00a0depends\u00a0on\u00a0 the\u00a0 inspection\u00a0areas\u00a0where\u00a0accelerations\u00a0of\u00a0 robot\u00a0occur\u00a0and\u00a0must\u00a0allow\u00a0detection\u00a0of\u00a0the\u00a0maximum\u00a0accelerations.\u00a0 \u00a0 standard\u00a0plastic\u00a0 speci en\u00a0 ith\u00a047\u00a0 slots\u00a03\u00a0 \u00a0 ide\u00a0and\u00a0 separated\u00a010\u00a0 \u00a0 as\u00a0 fabricated\u00a0at\u00a0ITEFI\u00a0laboratory,\u00a0Figure\u00a02.\u00a0\n\u00a0\nFigure\u00a02.\u00a0Plastic\u00a0specimen\u00a0fabricated\u00a0at\u00a0ITEFI\u00a0laboratory.\u00a0\nSuppose\u00a0 the\u00a0 accelerations\u00a0 are\u00a0uniform,\u00a0 in\u00a0 general.\u00a0 In\u00a0 that\u00a0 case,\u00a0 three\u00a0defects\u00a0 are\u00a0 required\u00a0 in\u00a0 the\u00a0acceleration\u00a0zones\u00a0 so\u00a0 that\u00a0 the\u00a0 error\u00a0 in\u00a0determining\u00a0 the\u00a0position\u00a0of\u00a0 the\u00a0 transducer\u00a0is\u00a0almost\u00a0zero\u00a0when\u00a0performing\u00a0an\u00a0adjustment\u00a0using\u00a0a\u00a0cubic\u00a0function.\u00a0With\u00a0 this\u00a0 specimen,\u00a0 it\u00a0 was\u00a0 verified\u00a0 that\u00a0 if\u00a0 three\u00a0 defects\u00a0 are\u00a0 not\u00a0 available\u00a0 and\u00a0 a\u00a0 linear\u00a0 adjustment\u00a0is\u00a0made,\u00a0the\u00a0position\u00a0error\u00a0will\u00a0depend\u00a0on\u00a0the\u00a0acceleration\u00a0value,\u00a0as\u00a0can\u00a0be\u00a0 seen\u00a0in\u00a0the\u00a0following\u00a0graph,\u00a0see\u00a0Figure\u00a03.\u00a0This\u00a0figure\u00a0shows\u00a0the\u00a0error\u00a0depending\u00a0on\u00a0the\u00a0 separation\u00a0 of\u00a0 defects\u00a0 in\u00a0 the\u00a0 piece\u00a0 to\u00a0 be\u00a0 inspected\u00a0 and\u00a0 the\u00a0 acceleration\u00a0 of\u00a0 the\u00a0 robot\u2019s\u00a0 movement.\u00a0 If\u00a0we\u00a0know\u00a0 the\u00a0maximum\u00a0acceleration\u00a0of\u00a0 the\u00a0robot\u00a0 (we\u00a0usually\u00a0know),\u00a0we\u00a0 can\u00a0determine\u00a0the\u00a0separation\u00a0of\u00a0the\u00a0defects\u00a0to\u00a0ensure\u00a0a\u00a0maximum\u00a0error\u00a0of\u00a0positioning.\u00a0\n\u00a0\nFigure\u00a03.\u00a0Linear\u00a0approximation\u00a0of\u00a0errors\u00a0depending\u00a0on\u00a0the\u00a0separation\u00a0of\u00a0defects\u00a0of\u00a0the\u00a0test\u00a0speci\u2010 men.\u00a0\n2.3.\u00a0Sync\u00a0Map\u00a0Generation\u00a0 The\u00a0synchronism\u00a0map\u00a0is\u00a0obtained\u00a0from\u00a0an\u00a0inspection\u00a0of\u00a0the\u00a0standard\u00a0piece\u00a0carried\u00a0 out\u00a0at\u00a0constant\u00a0PRF\u00a0that\u00a0allows\u00a0us\u00a0to\u00a0determine\u00a0the\u00a0position\u00a0of\u00a0the\u00a0transducers\u00a0from\u00a0the\u00a0 marks\u00a0of\u00a0the\u00a0standard\u00a0specimen.\u00a0Depending\u00a0on\u00a0the\u00a0type\u00a0of\u00a0inspection,\u00a0the\u00a0process\u00a0can\u00a0be\u00a0 more\u00a0or\u00a0 less\u00a0complex.\u00a0In\u00a0a\u00a0rectangular\u00a0scan,\u00a0 it\u00a0will\u00a0be\u00a0enough\u00a0to\u00a0correct\u00a0the\u00a0comb\u00a0that\u00a0 usually\u00a0occurs\u00a0in\u00a0any\u00a0automatic\u00a0inspection\u00a0system.\u00a0While\u00a0in\u00a0complex\u00a0scans,\u00a0where\u00a0nei\u2010\nFigure 2. lastic s eci en fabricated at ITEFI laboratory.\nS s t e accelerati s are unifor , in general. , t ef ct are req ire i the accelerati z s s t at the error in deter ini the positi of the tra s r is al st zero hen perfor i an adjust e t using a cubic function. ith this specimen, it was verified that if three defects are not available and a linear adjustment is made, the position error will depend on the acceleration value, as can be seen in the following graph, see Figure 3. This figure shows the error depending on the separation of defects in the piece to be inspected and the acceleration of the robot\u2019s movement. If we know the maximum acceleration of the robot (we usually know), e can determine the separation of the defects to ensure a maximum error of positioning.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 4\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nA\u00a0standard\u00a0piece\u00a0has\u00a0been\u00a0used\u00a0to\u00a0fine\u2010tune\u00a0the\u00a0methodology\u00a0that\u00a0allows\u00a0the\u00a0posi\u2010 tion\u00a0 of\u00a0 the\u00a0 trans ucers\u00a0 to\u00a0 be\u00a0 acc rately\u00a0 det rmined\u00a0 during\u00a0 the\u00a0 scan.\u00a0 Any\u00a0 standard\u00a0 specimen\u00a0must\u00a0h ve\u00a0the\u00a0following\u00a0charac ristics:\u00a0 (1) They\u00a0must\u00a0generate\u00a0discontinuities\u00a0 in\u00a0the\u00a0ultrasonic\u00a0 image\u00a0that\u00a0are\u00a0easy\u00a0to\u00a0detect,\u00a0\nideally\u00a0 through\u00a0automatic\u00a0defect\u00a0detection\u00a0proces es\u00a0or\u00a0at\u00a0 leas \u00a0 through\u00a0visual\u00a0 in\u2010 spection\u00a0by\u00a0t ained\u00a0operators.\u00a0\n(2) The\u00a0pos tions\u00a0of\u00a0 th \u00a0marks\u00a0 that produce\u00a0 the\u00a0discontinuities\u00a0must\u00a0be\u00a0known.\u00a0The\u00a0 separation\u00a0of\u00a0 these\u00a0marks\u00a0depends on\u00a0 the\u00a0 inspect on\u00a0areas\u00a0where\u00a0accelerati ns\u00a0of\u00a0 robot\u00a0occur\u00a0and\u00a0must\u00a0allow\u00a0detection\u00a0of\u00a0the\u00a0maximum\u00a0accelerations.\u00a0 A\u00a0 standard\u00a0plastic specimen\u00a0with\u00a047\u00a0 slots\u00a03\u00a0mm\u00a0wide\u00a0and\u00a0 sep rated\u00a010\u00a0mm\u00a0was\u00a0 fabricated\u00a0at\u00a0ITEFI\u00a0laboratory,\u00a0F gure 2.\u00a0\n\u00a0 Figure\u00a02.\u00a0Plastic\u00a0specimen\u00a0fabricated\u00a0at\u00a0ITEFI\u00a0laboratory.\u00a0\nSuppose\u00a0 the\u00a0 accelerations\u00a0 are\u00a0uniform,\u00a0 in\u00a0 general.\u00a0 In\u00a0 that\u00a0 case,\u00a0 three\u00a0defects\u00a0 are\u00a0 required\u00a0 in\u00a0 the\u00a0acc leration\u00a0zones\u00a0 so\u00a0 that\u00a0 the\u00a0 error\u00a0 i \u00a0determining\u00a0 th \u00a0position\u00a0of\u00a0 he\u00a0 transd c r\u00a0is\u00a0almost\u00a0z ro\u00a0when\u00a0performing\u00a0an\u00a0adjustme t\u00a0using\u00a0a\u00a0cubic\u00a0function.\u00a0With\u00a0 this\u00a0 specim n,\u00a0 it\u00a0 wa \u00a0 v ified\u00a0 that\u00a0 if\u00a0 three\u00a0 defects\u00a0 are\u00a0 ot\u00a0 available\u00a0 and\u00a0 a\u00a0 li ear\u00a0 adjustment\u00a0is\u00a0made,\u00a0the\u00a0position\u00a0error\u00a0w ll\u00a0dep n \u00a0on\u00a0 he\u00a0acceleration\u00a0valu ,\u00a0as\u00a0c n\u00a0be\u00a0 seen\u00a0in\u00a0the\u00a0following\u00a0graph,\u00a0see\u00a0Figure\u00a03. This\u00a0figure\u00a0shows\u00a0the\u00a0error\u00a0depending o \u00a0the separatio \u00a0 of\u00a0 defects\u00a0 in\u00a0 the\u00a0 piece\u00a0 to\u00a0 be\u00a0 inspected\u00a0 and t e\u00a0 accel rati n\u00a0 of\u00a0 the\u00a0 rob t\u2019s\u00a0 movement.\u00a0 If we\u00a0know\u00a0 the\u00a0maximum\u00a0acc leration\u00a0of\u00a0 the\u00a0r bot\u00a0 (w \u00a0usually\u00a0know),\u00a0we\u00a0 can\u00a0det r i e the\u00a0s paration\u00a0of\u00a0the\u00a0defects\u00a0to\u00a0 nsure\u00a0a\u00a0maximum\u00a0error\u00a0of\u00a0positioni g.\u00a0\nFigure\u00a03.\u00a0Linear\u00a0approximation\u00a0of\u00a0errors\u00a0depending\u00a0on\u00a0the\u00a0separation\u00a0of\u00a0defects\u00a0of\u00a0the\u00a0test\u00a0speci\u2010\nmen.\u00a0\n2.3.\u00a0Sync\u00a0Map\u00a0Generation\u00a0 The\u00a0synchronism\u00a0map\u00a0is\u00a0obtained\u00a0from\u00a0an\u00a0inspection\u00a0of\u00a0the\u00a0standard\u00a0piece\u00a0carried\u00a0 out\u00a0at\u00a0constant\u00a0PRF\u00a0that\u00a0allows\u00a0us\u00a0to\u00a0determine\u00a0the\u00a0position\u00a0of\u00a0the\u00a0transducers\u00a0from\u00a0the\u00a0 marks of the\u00a0 dard\u00a0specimen.\u00a0Depending\u00a0on\u00a0th ype\u00a0 f\u00a0 nspection, he\u00a0process\u00a0can\u00a0be\u00a0 more\u00a0or\u00a0 less\u00a0complex.\u00a0In\u00a0a\u00a0rectangular\u00a0scan,\u00a0 it will\u00a0be\u00a0enough\u00a0to\u00a0correct\u00a0the\u00a0c mb\u00a0that usually\u00a0occur \u00a0in\u00a0any\u00a0autom tic\u00a0inspection\u00a0system.\u00a0While\u00a0i \u00a0complex\u00a0scans,\u00a0where\u00a0nei\u2010"
        },
        {
            "heading": "2.3. Sync Map Generation",
            "text": "The synchronism map is obtained from an inspection of the standard piece carried out at constant PRF that allows us to determine the position of the transducers from the marks of the standard specimen. Depending on the type of inspection, the process can be more or less complex. In a rectangular scan, it will be enough to correct the comb that usually occurs in any automatic inspection system. While in complex scans, where neither the trajectories nor the speeds are the same, each scan line will have to be calibrated, and the trigger instants corresponding to each image line must be generated.\n2.3.1. Images Filtering\nTo facilitate the detection of discontinuities in the pattern piece, we used a usual process to remove pixels out of range. These pixels are created in the image for various reasons; the most common are the drops that are produced when inspections are carried out by coupling with water jets, see Figure 4a. Impulsive electromagnetic noises are also usually frequent in industrial environments. These pixels must be removed since; otherwise, they generate large errors in the automatic detection of defects. The usual techniques to eliminate these noises are based on the redundancy of the images, either by averaging or by using nonlinear filters such as the median filter, Figure 4b.\nSensors 2023, 23, 2684 5 of 12\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 5\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nther\u00a0the\u00a0trajectories\u00a0nor\u00a0the\u00a0speeds\u00a0are\u00a0the\u00a0same,\u00a0each\u00a0scan\u00a0line\u00a0will\u00a0have\u00a0to\u00a0be\u00a0calibrated,\u00a0 and\u00a0the\u00a0trigger\u00a0instants\u00a0corresponding\u00a0to\u00a0each\u00a0image\u00a0line\u00a0must\u00a0be\u00a0generated.\u00a0 2.3.1.\u00a0Images\u00a0Filtering\u00a0 To\u00a0 facilitate\u00a0 the\u00a0detection\u00a0of\u00a0discontinuities\u00a0 in\u00a0 the\u00a0pattern\u00a0piece,\u00a0we\u00a0used\u00a0a\u00a0usual\u00a0\nprocess\u00a0to\u00a0remove\u00a0pixels\u00a0out\u00a0of\u00a0range.\u00a0These\u00a0pixels\u00a0are\u00a0created\u00a0in\u00a0the\u00a0image\u00a0for\u00a0various\u00a0 reasons;\u00a0the\u00a0most\u00a0common\u00a0are\u00a0the\u00a0drops\u00a0that\u00a0are\u00a0produced\u00a0when\u00a0inspections\u00a0are\u00a0carried\u00a0 out\u00a0by\u00a0coupling\u00a0with\u00a0water\u00a0jets,\u00a0see\u00a0Figure\u00a04a.\u00a0Impulsive\u00a0electromagnetic\u00a0noises\u00a0are\u00a0also\u00a0 usually\u00a0 frequent\u00a0 in\u00a0 industrial\u00a0environments.\u00a0These\u00a0pixels\u00a0must\u00a0be\u00a0removed\u00a0since;\u00a0oth\u2010 erwise,\u00a0they\u00a0generate\u00a0large\u00a0errors\u00a0in\u00a0the\u00a0automatic\u00a0detection\u00a0of\u00a0defects.\u00a0The\u00a0usual\u00a0tech\u2010 niques\u00a0 to\u00a0eliminate\u00a0 these\u00a0noises\u00a0are\u00a0based\u00a0on\u00a0 the\u00a0 redundancy\u00a0of\u00a0 the\u00a0 images,\u00a0either\u00a0by\u00a0 averaging\u00a0or\u00a0by\u00a0using\u00a0nonlinear\u00a0filters\u00a0such\u00a0as\u00a0the\u00a0median\u00a0filter,\u00a0Figure\u00a04b.\u00a0\n\u00a0\nFigure\u00a04.\u00a0Ultrasonic\u00a0image\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0using\u00a0water\u00a0jets\u00a0as\u00a0coupling\u00a0method.\u00a0(a)\u00a0original\u00a0\nimage.\u00a0(b)\u00a0image\u00a0after\u00a0filtering.\u00a0\nFigure\u00a05\u00a0represents\u00a0the\u00a0ultrasonic\u00a0image\u00a0of\u00a0the\u00a0specimen\u00a0obtained\u00a0at\u00a0constant\u00a0PRF.\u00a0\nIn\u00a0this\u00a0case,\u00a0a\u00a0rectangular\u00a0scan\u00a0has\u00a0been\u00a0carried\u00a0out\u00a0with\u00a0the\u00a0ITEFI\u00a0Cartesian\u00a0robot,\u00a0and\u00a0it\u00a0\ncan\u00a0be\u00a0observed\u00a0that\u00a0the\u00a0main\u00a0distortion\u00a0in\u00a0the\u00a0image\u00a0is\u00a0due\u00a0to\u00a0the\u00a0comb.\u00a0In\u00a0this\u00a0case,\u00a0it\u00a0\nwould\u00a0suffice\u00a0to\u00a0generate\u00a0a\u00a0time\u00a0map\u00a0for\u00a0the\u00a0even\u00a0lines\u00a0and\u00a0another\u00a0for\u00a0the\u00a0odd\u00a0lines\u00a0that\u00a0\nwould\u00a0be\u00a0repeated\u00a0throughout\u00a0the\u00a0entire\u00a0scan.\u00a0\n\u00a0 Figure\u00a05.\u00a0Ultrasonic\u00a0 image\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0obtained\u00a0with\u00a0the\u00a0Cartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0 la\u2010 boratory.\u00a0\nTherefore,\u00a0the\u00a0image\u00a0obtained\u00a0is\u00a0divided\u00a0into\u00a0two,\u00a0one\u00a0formed\u00a0by\u00a0odd\u00a0lines\u00a0and\u00a0the\u00a0 other\u00a0by\u00a0even\u00a0lines,\u00a0see\u00a0Figure\u00a06.\u00a0\nPixel\n100 200 300 400 500 600 700 800 900 1000\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 5\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nther\u00a0the\u00a0trajectories\u00a0nor\u00a0the\u00a0speeds\u00a0are\u00a0the\u00a0same,\u00a0each\u00a0scan\u00a0line\u00a0will\u00a0have\u00a0to\u00a0be\u00a0calibrated,\u00a0 and\u00a0the\u00a0trigger\u00a0instants\u00a0corresponding\u00a0to\u00a0each\u00a0image\u00a0line\u00a0must\u00a0be\u00a0generated.\u00a0 2.3.1.\u00a0Images\u00a0Filtering\u00a0 To\u00a0 facilitate\u00a0 the\u00a0detection\u00a0of\u00a0discontinuities\u00a0 in\u00a0 the\u00a0pattern\u00a0piece,\u00a0we\u00a0used\u00a0a\u00a0usual\u00a0\nprocess\u00a0to\u00a0remove\u00a0pixels\u00a0out\u00a0of\u00a0range.\u00a0These\u00a0pixels\u00a0are\u00a0created\u00a0in\u00a0the\u00a0image\u00a0for\u00a0various\u00a0 reasons;\u00a0the\u00a0most\u00a0common\u00a0are\u00a0the\u00a0drops\u00a0that\u00a0are\u00a0produced\u00a0when\u00a0inspections\u00a0are\u00a0carried\u00a0 out\u00a0by\u00a0coupling\u00a0with\u00a0water\u00a0jets,\u00a0see\u00a0Figure\u00a04a.\u00a0Impulsive\u00a0electromagnetic\u00a0noises\u00a0are\u00a0also\u00a0 usually\u00a0 frequent\u00a0 in\u00a0 industrial\u00a0environments.\u00a0These\u00a0pixels\u00a0must\u00a0be\u00a0removed\u00a0since;\u00a0oth\u2010 erwise,\u00a0they\u00a0generate\u00a0large\u00a0errors\u00a0in\u00a0the\u00a0automatic\u00a0detection\u00a0of\u00a0defects.\u00a0The\u00a0usual\u00a0tech\u2010 niques\u00a0 to\u00a0eliminate\u00a0 these\u00a0noises\u00a0are\u00a0based\u00a0on\u00a0 the\u00a0 redundancy\u00a0of\u00a0 the\u00a0 images,\u00a0either\u00a0by\u00a0 averaging\u00a0or\u00a0by\u00a0using\u00a0nonlinear\u00a0filters\u00a0such\u00a0as\u00a0the\u00a0median\u00a0filter,\u00a0Figure\u00a04b.\u00a0\n\u00a0 Figure\u00a04.\u00a0Ultrasonic\u00a0image\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0using\u00a0water\u00a0jets\u00a0as\u00a0coupling\u00a0method.\u00a0(a)\u00a0original\u00a0 image.\u00a0(b)\u00a0image\u00a0after\u00a0filtering.\u00a0\nIn\u00a0this\u00a0cas ,\u00a0a\u00a0recta gular\u00a0scan\u00a0has\u00a0been\u00a0c rried\u00a0out\u00a0with\u00a0the\u00a0ITEFI\u00a0Cartesia \u00a0robot,\u00a0and\u00a0it\u00a0\ncan\u00a0be\u00a0observed\u00a0that\u00a0the\u00a0main\u00a0distortion\u00a0in the image\u00a0is\u00a0due\u00a0to\u00a0th \u00a0comb.\u00a0In\u00a0this case,\u00a0it\u00a0\nwould\u00a0suffice\u00a0to\u00a0gener te\u00a0a\u00a0time\u00a0map\u00a0for \u00a0ev n\u00a0lines\u00a0and\u00a0another\u00a0for\u00a0the\u00a0odd\u00a0l nes\u00a0that\u00a0\nwould\u00a0be\u00a0r p at d\u00a0throughout\u00a0the\u00a0entir sca .\u00a0\n\u00a0 Figure\u00a05.\u00a0Ultrasonic\u00a0 image\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0obtained\u00a0with\u00a0the\u00a0Cartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0 la\u2010 boratory.\u00a0\nTherefore,\u00a0the\u00a0image\u00a0obtained\u00a0is\u00a0divided\u00a0into\u00a0two,\u00a0one\u00a0formed\u00a0by\u00a0odd\u00a0lines\u00a0and\u00a0the\u00a0 other\u00a0by\u00a0even\u00a0lines,\u00a0see\u00a0Figure\u00a06.\u00a0\nPixel\ni re 5. Ultrasonic image of the plastic specimen obtained with the Cartesian robot t ITEFI laboratory.\nTherefore, the i age obtained is divided into t o, one for ed by odd lines and the other by even lines, see Figure 6.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 6\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n\u00a0\nFigure\u00a06.\u00a0Ultrasonic\u00a0image\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0divided\u00a0by\u00a0odd\u00a0and\u00a0even\u00a0lines\u00a0obtained\u00a0with\u00a0the\u00a0\nCartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0laboratory.\u00a0\nThe\u00a0 correction\u00a0of\u00a0 the\u00a0 comb\u00a0would\u00a0be\u00a0 carried\u00a0out\u00a0by\u00a0measuring\u00a0 the\u00a0displacement\u00a0 between\u00a0two\u00a0equivalent\u00a0areas\u00a0of\u00a0the\u00a0specimen\u00a0and\u00a0adding\u00a0an\u00a0initial\u00a0delay\u00a0equivalent\u00a0to\u00a0 half\u00a0the\u00a0number\u00a0of\u00a0pixels\u00a0of\u00a0the\u00a0displacement.\u00a0For\u00a0example,\u00a0a\u00a0pulse\u00a0repetition\u00a0period\u00a0of\u00a0 25\u00a0ms\u00a0 (PRF\u00a0=\u00a040\u00a0Hz)\u00a0was\u00a0used\u00a0 to\u00a0obtain\u00a0 this\u00a0 image;\u00a0 the\u00a0displacement\u00a0of\u00a0 the\u00a0specimen\u00a0 center\u00a0lines\u00a0is\u00a048\u00a0pixels;\u00a0therefore,\u00a0the\u00a0initial\u00a0delay\u00a0in\u00a0applying\u00a0to\u00a0the\u00a0odd\u00a0and\u00a0even\u00a0lines\u00a0is\u00a0 24\u00a0\u00a025\u00a0ms\u00a0=\u00a0600\u00a0ms.\u00a0 To\u00a0determine\u00a0 the\u00a0position\u00a0of\u00a0 the\u00a0discontinuities\u00a0of\u00a0 the\u00a0 specimen\u00a0 in\u00a0 the\u00a0 image\u00a0ob\u2010 tained,\u00a0we\u00a0convolved\u00a0each\u00a0line\u00a0of\u00a0the\u00a0image\u00a0with\u00a0the\u00a0shape\u00a0of\u00a0the\u00a0discontinuities\u00a0used\u00a0(in\u00a0 this\u00a0case,\u00a0a\u00a0rectangular\u00a0pulse).\u00a0The\u00a0result\u00a0of\u00a0this\u00a0processing\u00a0is\u00a0an\u00a0image\u00a0with\u00a0the\u00a0maxima\u00a0 located\u00a0at\u00a0the\u00a0position\u00a0of\u00a0the\u00a0defects.\u00a0This\u00a0maximum\u00a0can\u00a0be\u00a0detected\u00a0with\u00a0any\u00a0maximum\u00a0 relative\u00a0detector,\u00a0but\u00a0a\u00a0manual\u00a0correction\u00a0of\u00a0the\u00a0position\u00a0of\u00a0some\u00a0of\u00a0the\u00a0defects\u00a0will\u00a0often\u00a0 be\u00a0necessary\u00a0if\u00a0the\u00a0image\u00a0of\u00a0the\u00a0defects\u00a0is\u00a0not\u00a0of\u00a0sufficient\u00a0quality.\u00a0In\u00a0the\u00a0example\u00a0in\u00a0Fig\u2010 ure\u00a07,\u00a0you\u00a0can\u00a0check\u00a0the\u00a0maximum\u00a0displacement\u00a0in\u00a0the\u00a0detection\u00a0of\u00a0some\u00a0of\u00a0the\u00a0central\u00a0 grooves\u00a0that\u00a0were\u00a0not\u00a0sufficiently\u00a0sharp.\u00a0\n\u00a0 Figure\u00a07.\u00a0Maximum\u00a0detection\u00a0of\u00a0the\u00a0discontinuities\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0after\u00a0the\u00a0convolution.\u00a0\nFrom\u00a0 these\u00a0 measurements,\u00a0 \ud835\udc41 \u00a0 values \ud835\udc4b ,\ud835\udc47 ,\u00a0 corresponding\u00a0 to\u00a0 the\u00a0 \ud835\udc41 \u00a0 reference\u00a0 marks,\u00a0are\u00a0obtained\u00a0for\u00a0each\u00a0line,\u00a0being\u00a0\ud835\udc4b the\u00a0position\u00a0of\u00a0the\u00a0mark\u00a0and\u00a0 \ud835\udc47 \u00a0 the\u00a0time\u00a0in\u00a0 which\u00a0it\u00a0appears\u00a0is\u00a0calculated\u00a0with\u00a0the\u00a0following\u00a0formula:\u00a0\n\ud835\udc47 1\ud835\udc43\ud835\udc45\ud835\udc39 \u2219 \ud835\udc58 \ud835\udc50\ud835\udc5c\ud835\udc5b \ud835\udc5b 1, \u2026 ,\ud835\udc41 \u00a0 being\u00a0 \ud835\udc58 \u00a0 the\u00a0position\u00a0 in\u00a0pixels\u00a0of\u00a0 the\u00a0n\u2010th\u00a0mark\u00a0 and\u00a0 \ud835\udc43\ud835\udc45\ud835\udc39\u00a0 the\u00a0 repetition\u00a0 frequency\u00a0of\u00a0 pulses.\u00a0 The\u00a0result\u00a0of\u00a0this\u00a0processing\u00a0on\u00a0the\u00a0standard\u00a0specimen\u00a0is\u00a0shown\u00a0in\u00a0Figure\u00a08.\u00a0As\u00a0it\u00a0is\u00a0a\u00a0 rectangular\u00a0scan,\u00a0it\u00a0is\u00a0enough\u00a0to\u00a0distinguish\u00a0between\u00a0even\u00a0and\u00a0odd\u00a0lines,\u00a0having\u00a0the\u00a0po\u2010 sition\u00a0and\u00a0time\u00a0of\u00a0the\u00a0first\u00a0defect\u00a0of\u00a0the\u00a0specimen\u00a0as\u00a0the\u00a0origin\u00a0of\u00a0coordinates.\u00a0\nOdd\n100 200 300 400 500 600 700 800 900 1000\n5\n10\n15\n20\n25\nEven\n100 200 300 400 500 600 700 800 900 1000\n5\n10\n15\n20\n25\n10\n15\n20\n25\n30\n35\n40\n10\n15\n20\n25\n30\n35\n40\ndB\ndB\nFigure 6. Ultrasonic image of the plastic specimen divided by o d and even lines obtained with the Cartesian robot at ITEFI laboratory.\nSensors 2023, 23, 2684 6 of 12\nThe correction of the comb would be carried out by measuring the displacement between two equivalent areas of the specimen and adding an initial delay equivalent to half the number of pixels of the displacement. For example, a pulse repetition period of 25 ms (PRF = 40 Hz) was used to obtain this image; the displacement of the specimen center lines is 48 pixels; therefore, the initial delay in applying to the odd and even lines is 24 \u00d7 25 ms = 600 ms. To determine the position of the discontinuities of the specimen in the image obtained, we convolved each line of the image with the shape of the discontinuities used (in this case, a rectangular pulse). The result of this processing is an image with the maxima located at the position of the defects. This maximum can be detected with any maximum relative detector, but a manual correction of the position of some of the defects will often be necessary if the image of the defects is not of sufficient quality. In the example in Figure 7, you can check the maximum displacement in the detection of some of the central grooves that were not sufficiently sharp.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 6\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n\u00a0 Figure\u00a06.\u00a0Ultrasonic\u00a0image\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0divided\u00a0by\u00a0odd\u00a0and\u00a0even\u00a0lines\u00a0obtained\u00a0with\u00a0the\u00a0 Cartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0laboratory.\u00a0\nThe\u00a0 correction\u00a0of\u00a0 the\u00a0 co b\u00a0 ould\u00a0be\u00a0 carried\u00a0out\u00a0by\u00a0 easuring\u00a0 the\u00a0displace ent\u00a0 bet een\u00a0t o\u00a0equivalent\u00a0areas\u00a0of\u00a0the\u00a0speci en\u00a0and\u00a0adding\u00a0an\u00a0initial\u00a0delay\u00a0equivalent\u00a0to\u00a0 alf\u00a0the\u00a0number\u00a0of\u00a0pixels\u00a0of\u00a0the\u00a0displacement.\u00a0For\u00a0example,\u00a0a\u00a0pulse\u00a0repetition\u00a0period\u00a0 f\u00a0 25\u00a0ms\u00a0 (PRF\u00a0=\u00a040\u00a0Hz)\u00a0was\u00a0used\u00a0 to\u00a0obtain\u00a0 this\u00a0 image;\u00a0 the\u00a0displacement\u00a0of\u00a0 t e\u00a0s ci e \u00a0 ce t r\u00a0li s\u00a0is\u00a048\u00a0 ixels;\u00a0t eref r ,\u00a0t \u00a0i iti l\u00a0 l \u00a0i \u00a0 l i \u00a0t \u00a0t \u00a0 \u00a0a \u00a0e e \u00a0li es\u00a0is\u00a0 24\u00a0\u00a025\u00a0ms\u00a0=\u00a060 \u00a0ms.\u00a0 \u00a0 i e\u00a0 the\u00a0position\u00a0of\u00a0 the\u00a0disco tinuities\u00a0of\u00a0 the\u00a0 specimen\u00a0 in\u00a0 the\u00a0 image\u00a0ob\u2010 tained,\u00a0we\u00a0convolved\u00a0each\u00a0lin \u00a0of\u00a0the\u00a0image\u00a0with\u00a0the\u00a0shape\u00a0of\u00a0the\u00a0discontinuities\u00a0used\u00a0(in\u00a0 thi \u00a0case,\u00a0a\u00a0rectangular\u00a0pulse).\u00a0The\u00a0result\u00a0of\u00a0this\u00a0proce sing\u00a0is\u00a0an\u00a0i age\u00a0 \u00a0 \u00a0 i a\u00a0 l cate \u00a0at\u00a0t e\u00a0 siti \u00a0 f\u00a0t \u00a0 f ts.\u00a0 is\u00a0 axi u \u00a0ca \u00a0 e\u00a0 etecte \u00a0 it \u00a0a \u00a0 a i \u00a0 r l ti \u00a0 ,\u00a0 t\u00a0a\u00a0 anual\u00a0co rection\u00a0of\u00a0the\u00a0pos tion\u00a0of\u00a0some\u00a0of\u00a0the\u00a0d fects\u00a0will\u00a0often\u00a0 be\u00a0necessary\u00a0if\u00a0the\u00a0image\u00a0of\u00a0th \u00a0defects\u00a0is\u00a0not\u00a0of\u00a0sufficient\u00a0quality.\u00a0In\u00a0the\u00a0example\u00a0in\u00a0Fig\u2010 ure\u00a07,\u00a0you\u00a0can\u00a0check\u00a0the\u00a0maximum\u00a0displacement\u00a0in\u00a0the\u00a0detection\u00a0of\u00a0some\u00a0of\u00a0the\u00a0central\u00a0 grooves\u00a0that\u00a0were\u00a0not\u00a0sufficiently\u00a0sharp.\u00a0\n\u00a0\nFigure\u00a07.\u00a0Maximum\u00a0detection\u00a0of\u00a0the\u00a0discontinuities\u00a0of\u00a0the\u00a0plastic\u00a0specimen\u00a0after\u00a0the\u00a0convolution.\u00a0\nFrom\u00a0 these\u00a0 measurements,\u00a0 \ud835\udc41 \u00a0 values \ud835\udc4b ,\ud835\udc47 ,\u00a0 corresponding\u00a0 to\u00a0 the\u00a0 \ud835\udc41 \u00a0 reference\u00a0 marks,\u00a0are\u00a0obtained\u00a0for\u00a0each\u00a0line,\u00a0being\u00a0\ud835\udc4b the\u00a0position\u00a0of\u00a0the\u00a0mark\u00a0and\u00a0 \ud835\udc47 \u00a0 the\u00a0time\u00a0in\u00a0 which\u00a0it\u00a0appears\u00a0is\u00a0calculated\u00a0with\u00a0the\u00a0following\u00a0formula:\u00a0\n\ud835\udc47 1\ud835\udc43\ud835\udc45\ud835\udc39 \u2219 \ud835\udc58 \ud835\udc50\ud835\udc5c\ud835\udc5b \ud835\udc5b 1, \u2026 ,\ud835\udc41 \u00a0 being\u00a0 \ud835\udc58 \u00a0 the\u00a0position\u00a0 in\u00a0pixels\u00a0of\u00a0 the\u00a0n\u2010th\u00a0mark\u00a0 and\u00a0 \ud835\udc43\ud835\udc45\ud835\udc39\u00a0 the\u00a0 repetition\u00a0 frequency\u00a0of\u00a0 pulses.\u00a0 The\u00a0result\u00a0of\u00a0this\u00a0processing\u00a0on\u00a0the\u00a0standard\u00a0specimen\u00a0is\u00a0shown\u00a0in\u00a0Figure\u00a08.\u00a0As\u00a0it\u00a0is\u00a0a\u00a0 rectangular\u00a0scan,\u00a0it\u00a0is\u00a0enough\u00a0to\u00a0distinguish\u00a0between\u00a0even\u00a0and\u00a0odd\u00a0lines,\u00a0having\u00a0the\u00a0po\u2010 sition\u00a0and\u00a0time\u00a0of\u00a0the\u00a0first\u00a0defect\u00a0of\u00a0the\u00a0specimen\u00a0as\u00a0the\u00a0origin\u00a0of\u00a0coordinates.\u00a0\nOdd 100 200 300 400 500 600 700 800 900 1000 5 10 15 20 25 Even\n100 200 300 400 500 600 700 800 900 1000\n5\n10\n15\n20\n25\n10 15 20 25 30 35 40\n10\n15\n20\n25\n30\n35 40 dB dB\nFigure 7. Maximum detection of the discontinuities of the plastic specimen after the convolution.\nFrom these measurements, N values (Xn, Tn), corresponding to the N reference marks, are obtained for each lin , b ing Xn the position of the mark and Tn he time in which it appears is calculated with t e followi formula:\nTn = 1\nPRF \u00b7kn con n = {1, . . . , N}\nbeing kn the position in pixels of the n-th mark and PRF the repetition frequency of pulses. The result of this processing on the standard specimen is shown in Figure 8. As it is a rectangular scan, it is enough to distinguish between even and odd lines, having the position and time of the first defect of the specimen as the origin of coordinates. Sensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 7\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n\u00a0 Figure\u00a08.\u00a0Position\u00a0of\u00a0the\u00a0tranducers\u00a0at\u00a0each\u00a0time\u00a0for\u00a0odd\u00a0and\u00a0even\u00a0lines.\u00a0\nFrom\u00a0 this\u00a0processing,\u00a0we\u00a0 can\u00a0 calculate\u00a0different\u00a0movement\u00a0parameters\u00a0of\u00a0 the\u00a0 in\u2010 spection,\u00a0such\u00a0as\u00a0the\u00a0velocity,\u00a0as\u00a0shown\u00a0in\u00a0Figure\u00a09.\u00a0In\u00a0this\u00a0figure,\u00a0you\u00a0can\u00a0see\u00a0a\u00a0typical\u00a0 movement\u00a0 of\u00a0 a\u00a0 linear\u00a0 inspection\u00a0 of\u00a0 flat\u00a0 pieces,\u00a0 an\u00a0 acceleration\u00a0 ramp\u00a0 until\u00a0 the\u00a0 pro\u2010 grammed\u00a0 inspection\u00a0speed\u00a0 is\u00a0obtained,\u00a0200\u00a0mm/s,\u00a0and\u00a0then\u00a0another\u00a0deceleration\u00a0ramp\u00a0 that\u00a0is\u00a0the\u00a0same\u00a0for\u00a0all\u00a0the\u00a0lines.\u00a0\n\u00a0 Figure\u00a09.\u00a0Velocity\u00a0measured\u00a0in\u00a0each\u00a0pixel\u00a0of\u00a0the\u00a0image\u00a0with\u00a0the\u00a0Cartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0laboratory.\u00a0\nSmall\u00a0oscillations\u00a0can\u00a0be\u00a0observed\u00a0when\u00a0the\u00a0robot\u00a0goes\u00a0at\u00a0maximum\u00a0speed.\u00a0If\u00a0these\u00a0 oscillations\u00a0were\u00a0greater,\u00a0they\u00a0could\u00a0deteriorate\u00a0the\u00a0image\u00a0obtained.\u00a0It\u00a0was\u00a0verified\u00a0that\u00a0 they\u00a0are\u00a0less\u00a0than\u00a05%\u00a0of\u00a0the\u00a0maximum\u00a0velocity,\u00a0see\u00a0Figure\u00a09;\u00a0therefore,\u00a0they\u00a0would\u00a0give\u00a0 an\u00a0error\u00a0of\u00a05%\u00a0of\u00a0the\u00a0position\u00a0of\u00a0that\u00a0pixel\u00a0with\u00a0respect\u00a0to\u00a0the\u00a0previous\u00a0one.\u00a0Therefore,\u00a0 this\u00a0error\u00a0is\u00a0completely\u00a0negligible\u00a0since\u00a0the\u00a0digitization\u00a0of\u00a0the\u00a0ultrasonic\u00a0image\u00a0allows\u00a0a\u00a0 precision\u00a0of\u00a0one\u00a0pixel.\u00a0 \u00a0 With\u00a0this\u00a0methodology,\u00a0we\u00a0obtain\u00a0a\u00a0synchronized\u00a0map\u00a0to\u00a0introduce\u00a0in\u00a0the\u00a0external\u00a0 synchronization\u00a0system\u00a0to\u00a0perform\u00a0the\u00a0corrected\u00a0image\u00a0of\u00a0the\u00a0piece.\u00a0\n\u00a0 \u00a0\ni r . siti f t tr rs t ti f\nFro this processing, e can calculate different ove ent para eters of the inspection, such as the velocity, as sho n in Figure 9. In this figure, you can see a typical\nove ent of a linear inspection of flat pieces, an acceleration ramp until the programmed\nSensors 2023, 23, 2684 7 of 12\ninspection speed is obtained, 200 mm/s, and then another deceleration ramp that is the same for all the lines.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 7\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n\u00a0 Figure\u00a08.\u00a0Position\u00a0of\u00a0the\u00a0tranducers\u00a0at\u00a0each\u00a0time\u00a0for\u00a0odd\u00a0and\u00a0even\u00a0lines.\u00a0\nFrom\u00a0 this\u00a0processing,\u00a0we\u00a0 can\u00a0 calculate\u00a0different\u00a0movement\u00a0parameters\u00a0of\u00a0 the\u00a0 in\u2010 spection,\u00a0such\u00a0as\u00a0the\u00a0velocity,\u00a0as\u00a0shown\u00a0in\u00a0Figure\u00a09.\u00a0In\u00a0this\u00a0figure,\u00a0you\u00a0can\u00a0see\u00a0a\u00a0typical\u00a0 movement\u00a0 of\u00a0 a\u00a0 linear\u00a0 inspection\u00a0 of\u00a0 flat\u00a0 pieces,\u00a0 an\u00a0 acceleration\u00a0 ramp\u00a0 until\u00a0 the\u00a0 pro\u2010 grammed\u00a0 inspection\u00a0speed\u00a0 is\u00a0obtained,\u00a0200\u00a0mm/s,\u00a0and\u00a0then\u00a0another\u00a0deceleration\u00a0ramp\u00a0 that\u00a0is\u00a0the\u00a0same\u00a0for\u00a0all\u00a0the\u00a0lines.\u00a0\nFigure\u00a09.\u00a0Velocity\u00a0measured\u00a0in\u00a0each\u00a0pixel\u00a0of\u00a0the\u00a0image\u00a0with\u00a0the\u00a0Cartesian\u00a0robot\u00a0at\u00a0ITEFI\u00a0laboratory.\u00a0\nSmall\u00a0oscillations\u00a0can\u00a0be\u00a0observed\u00a0when\u00a0the\u00a0robot\u00a0goes\u00a0at\u00a0maximum\u00a0speed.\u00a0If\u00a0these\u00a0 oscillations\u00a0were\u00a0greater,\u00a0they\u00a0could\u00a0deteriorate\u00a0the\u00a0image\u00a0obtained.\u00a0It\u00a0was\u00a0verified\u00a0that\u00a0 they\u00a0are\u00a0less\u00a0than\u00a05%\u00a0of\u00a0the\u00a0maximum\u00a0velocity,\u00a0see\u00a0Figure\u00a09;\u00a0therefore,\u00a0they\u00a0would\u00a0give\u00a0 an\u00a0error\u00a0of\u00a05%\u00a0of\u00a0the\u00a0position\u00a0of\u00a0that\u00a0pixel\u00a0with\u00a0respect\u00a0to\u00a0the\u00a0previous\u00a0one.\u00a0Therefore,\u00a0 this\u00a0error\u00a0is\u00a0completely\u00a0negligible\u00a0since\u00a0the\u00a0digitization\u00a0of\u00a0the\u00a0ultrasonic\u00a0image\u00a0allows\u00a0a\u00a0 precision\u00a0of\u00a0one\u00a0pixel.\u00a0 \u00a0 With\u00a0this\u00a0methodology,\u00a0we\u00a0obtain\u00a0a\u00a0synchronized\u00a0map\u00a0to\u00a0introduce\u00a0in\u00a0the\u00a0external\u00a0 synchronization\u00a0system\u00a0to\u00a0perform\u00a0the\u00a0corrected\u00a0image\u00a0of\u00a0the\u00a0piece.\u00a0\n\u00a0 \u00a0\nSmall oscillations can be observed when the robot goes at maximum speed. If these oscillations were greater, they could deteriorate the image obtained. It was verified that they are less than 5% of the maximum velocity, see Figure 9; therefore, they would give an error of 5% of the position of that pixel with respect to the previous one. Therefore, this error is completely negligible since the digitization of the ultrasonic image allows a precision of one pixel. With this methodology, we obtain a synchronized map to introduce in the external synchronization system to perform the corrected image of the piece."
        },
        {
            "heading": "2.4. External Synchronization System (ESS)",
            "text": "An autonomous, independent external system called iTotalSynchro was designed and developed by the authors. It is a programmable trigger pulse system that allows synchronizing the movement of the robot with the ultrasound system using the synchronism map generated in the calibration. The hardware of iTotalSynchro is composed of a Raspberry Pi 3b+ and an Arduino Mega 2560 mote with an SPI memory 23LC1024. The Arduino is connected by USB to the Raspberry, Figure 10. The Raspberry has been adapted with an external real-time clock (RTC) since it does not have an internal one.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 8\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n2.4.\u00a0 xternal\u00a0Synchronization\u00a0Syste \u00a0(ESS)\u00a0 n\u00a0autonomous,\u00a0 independent\u00a0external\u00a0 system\u00a0 called\u00a0 iTotalSynchro\u00a0was\u00a0designed\u00a0 and\u00a0developed\u00a0by\u00a0 e\u00a0 authors.\u00a0 It\u00a0 is\u00a0 \u00a0programmable\u00a0 trigger\u00a0pulse\u00a0 system\u00a0 that\u00a0 allows\u00a0 synchronizing\u00a0 th \u00a0m vement\u00a0 of\u00a0 the\u00a0 robot\u00a0with\u00a0 the\u00a0ultraso nd\u00a0 system\u00a0using\u00a0 the\u00a0 syn\u2010 chronism\u00a0map\u00a0generated\u00a0in\u00a0the\u00a0calibration.\u00a0\nThe\u00a0hard are\u00a0of\u00a0iTotalSynchro\u00a0is\u00a0composed\u00a0of\u00a0a\u00a0Raspberry\u00a0Pi\u00a03b+\u00a0and\u00a0an\u00a0Arduino\u00a0 ega\u00a02560\u00a0 ote\u00a0 ith\u00a0an\u00a0SPI\u00a0 e ory\u00a023LC1024.\u00a0The\u00a0 rduino\u00a0is\u00a0connected\u00a0by\u00a0 SB\u00a0to\u00a0the\u00a0 Raspberry,\u00a0Figure\u00a010.\u00a0The\u00a0Raspberry\u00a0has\u00a0been\u00a0adapted\u00a0 ith\u00a0an\u00a0external\u00a0real\u2010ti e\u00a0clock\u00a0 (RTC)\u00a0since\u00a0it\u00a0does\u00a0not\u00a0have\u00a0an\u00a0internal\u00a0one.\u00a0\n\u00a0\nFigure\u00a010.\u00a0iTotalSynchro\u00a0hardware\u00a0composition.\u00a0\nThe\u00a0Raspberry\u00a0oversees\u00a0 the\u00a0communications\u00a0between\u00a0 the\u00a0 robot\u00a0and\u00a0 the\u00a0Arduino.\u00a0 The\u00a0Arduino\u00a0mote\u00a0will\u00a0receive\u00a0the\u00a0information\u00a0from\u00a0the\u00a0Raspberry,\u00a0and\u00a0it\u00a0will\u00a0activate\u00a0a\u00a0 pin\u00a0to\u00a0tell\u00a0 the\u00a0ultrasonic\u00a0system\u00a0to\u00a0start\u00a0the\u00a0emission\u00a0of\u00a0pulses.\u00a0For\u00a0that\u00a0purpose,\u00a0serv\u2010 er/client\u00a0 communication\u00a0 has\u00a0 been\u00a0 created\u00a0 to\u00a0 communicate\u00a0 the\u00a0 robot\u00a0 (client)\u00a0with\u00a0 the\u00a0 server\u00a0(Raspberry)\u00a0using\u00a0an\u00a0Ethernet\u00a0cable.\u00a0Six\u00a0different\u00a0ultrasonic\u00a0emission\u00a0modes\u00a0were\u00a0 added:\u00a0 \u00a0 1. Positive\u00a0edge.\u00a0 2. Negative\u00a0edge.\u00a0 3. Right\u00a0encoder.\u00a0 4. Left\u00a0encoder.\u00a0 5. This\u00a0mode\u00a0uses\u00a0an\u00a0external\u00a0hardware\u00a0signal.\u00a0Right\u00a0encoder\u00a0as\u00a0mode\u00a03\u00a0when\u00a0an\u00a0ex\u2010 ternal\u00a0trigger\u00a0arrives.\u00a0 6. This\u00a0mode\u00a0uses\u00a0an\u00a0external\u00a0hardware\u00a0signal.\u00a0Left\u00a0encoder\u00a0as\u00a0mode\u00a04\u00a0when\u00a0an\u00a0ex\u2010\nternal\u00a0trigger\u00a0arrives.\u00a0 The\u00a0ability\u00a0to\u00a0shoot\u00a0at\u00a0constant\u00a0PRF\u00a0has\u00a0also\u00a0been\u00a0considered.\u00a0The\u00a0Raspberry\u00a0with\u00a0\nthe\u00a0Arduino\u00a0mote\u00a0was\u00a0introduced\u00a0in\u00a0an\u00a0IP67\u00a0box\u00a0to\u00a0be\u00a0suitable\u00a0to\u00a0place\u00a0in\u00a0the\u00a0industrial\u00a0 robot.\u00a0 In\u00a0 Figure\u00a0 11,\u00a0 the\u00a0 frontal\u00a0 vision\u00a0 of\u00a0 both\u00a0 sides\u00a0 of\u00a0 the\u00a0 synchronization\u00a0 system\u00a0 is\u00a0 shown.\u00a0On\u00a0 the\u00a0 left\u00a0 side,\u00a0 input\u00a0and\u00a0output\u00a0 trigger\u00a0connectors\u00a0and\u00a0a\u00a0 tricolor\u00a0 led\u00a0can\u00a0be\u00a0 observed\u00a0to\u00a0indicate\u00a0to\u00a0the\u00a0user\u00a0the\u00a0different\u00a0states\u00a0of\u00a0the\u00a0system.\u00a0On\u00a0the\u00a0right\u00a0side,\u00a0the\u00a0 power\u00a0supply\u00a0and\u00a0the\u00a0Ethernet\u00a0connectors\u00a0can\u00a0be\u00a0seen.\u00a0\n\u00a0\nFigure 10. iTotalSynchro hardware composition.\nSensors 2023, 23, 2684 8 of 12\nThe Raspberry oversees the communications between the robot and the Arduino. The Arduino mote will receive the information from the Raspberry, and it will activate a pin to tell the ultrasonic system to start the emission of pulses. For that purpose, server/client communication has been created to communicate the robot (client) with the server (Raspberry) using an Ethernet cable. Six different ultrasonic emission modes were added:\n1. Positive edge. 2. Negative edge. 3. Right encoder. 4. Left encoder. 5. This mode uses an external hardware signal. Right encoder as mode 3 when an external trigger arrives. 6. This mode uses an external hardware signal. Left encoder as mode 4 when an external\ntrigger arrives.\nThe ability to shoot at constant PRF has also been considered. The Raspberry with the Arduino mote was introduced in an IP67 box to be suitable to place in the industrial robot. In Figure 11, the frontal vision of both sides of the synchronization system is shown. On the left side, input and output trigger connectors and a tricolor led can be observed to indicate to the user the different states of the system. On the right side, the power supply and the Ethernet connectors can be seen.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 8\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n2.4.\u00a0External\u00a0Synchronization\u00a0System\u00a0(ESS)\u00a0 An\u00a0autonomous,\u00a0 independent\u00a0external\u00a0 system\u00a0 called\u00a0 iTotalSynchro\u00a0was\u00a0designed\u00a0 and\u00a0developed\u00a0by\u00a0 the\u00a0 authors.\u00a0 It\u00a0 is\u00a0 a\u00a0programmable\u00a0 trigger\u00a0pulse\u00a0 system\u00a0 that\u00a0 allows\u00a0 synchronizing\u00a0 the\u00a0movement\u00a0 of\u00a0 the\u00a0 robot\u00a0with\u00a0 the\u00a0ultrasound\u00a0 system\u00a0using\u00a0 the\u00a0 syn\u2010 chronism\u00a0map\u00a0generated\u00a0in\u00a0the\u00a0calibration.\u00a0 The\u00a0hardware\u00a0of\u00a0iTotalSynchro\u00a0is\u00a0composed\u00a0of\u00a0a\u00a0Raspberry\u00a0Pi\u00a03b+\u00a0and\u00a0an\u00a0Arduino\u00a0 Mega\u00a02560\u00a0mote\u00a0with\u00a0an\u00a0SPI\u00a0memory\u00a023LC1024.\u00a0The\u00a0Arduino\u00a0is\u00a0connected\u00a0by\u00a0USB\u00a0to\u00a0the\u00a0 Raspberry,\u00a0Figure\u00a010.\u00a0The\u00a0Raspberry\u00a0has\u00a0been\u00a0adapted\u00a0with\u00a0an\u00a0external\u00a0real\u2010time\u00a0clock\u00a0 (RTC)\u00a0since\u00a0it\u00a0does\u00a0not\u00a0have\u00a0an\u00a0internal\u00a0one.\u00a0\n\u00a0 Figure\u00a010.\u00a0iTotalSynchro\u00a0hardware\u00a0composition.\u00a0\nThe\u00a0Raspberry\u00a0oversees\u00a0 the\u00a0communications\u00a0between\u00a0 the\u00a0 robot\u00a0and\u00a0 the\u00a0Arduino.\u00a0 The\u00a0Arduino\u00a0mote\u00a0will\u00a0receive\u00a0the\u00a0information\u00a0from\u00a0the\u00a0Raspberry,\u00a0and\u00a0it\u00a0will\u00a0activate\u00a0a\u00a0 pin\u00a0to\u00a0tell\u00a0 the\u00a0ultrasonic\u00a0system\u00a0to\u00a0start\u00a0the\u00a0emission\u00a0of\u00a0pulses.\u00a0For\u00a0that\u00a0purpose,\u00a0serv\u2010 er/client\u00a0 communication\u00a0 has\u00a0 been\u00a0 created\u00a0 to\u00a0 communicate\u00a0 the\u00a0 robot\u00a0 (client)\u00a0with\u00a0 the\u00a0 server\u00a0(Raspberry)\u00a0using\u00a0an\u00a0Ethernet\u00a0cable.\u00a0Six\u00a0different\u00a0ultrasonic\u00a0emission\u00a0modes\u00a0were\u00a0 added:\u00a0 \u00a0 1. Positive\u00a0edge.\u00a0 2. egative\u00a0edge.\u00a0 3. ight\u00a0encoder.\u00a0 4. eft\u00a0e co er.\u00a0 5. is\u00a0 e\u00a0 ses\u00a0an\u00a0external\u00a0hardware\u00a0signal.\u00a0Right\u00a0encoder\u00a0as\u00a0mode\u00a03\u00a0when\u00a0a \u00a0ex\u2010 ternal\u00a0trigger\u00a0arrives.\u00a0 6. i \u00a0 ode\u00a0uses\u00a0an\u00a0external\u00a0hardware\u00a0signal.\u00a0L ft\u00a0encoder\u00a0as\u00a0mode\u00a04\u00a0when\u00a0an\u00a0ex\u2010\nernal\u00a0trigger\u00a0arrives.\u00a0 The\u00a0ability\u00a0to\u00a0shoot\u00a0at\u00a0constant\u00a0PRF\u00a0has\u00a0also\u00a0b en\u00a0considered.\u00a0The\u00a0Raspberry\u00a0 ith\u00a0\nthe\u00a0 rduino\u00a0 ote\u00a0 as\u00a0intro ce \u00a0i \u00a0an\u00a0IP67\u00a0box\u00a0to\u00a0be\u00a0suitable\u00a0to\u00a0place\u00a0in\u00a0the\u00a0industrial\u00a0 robot.\u00a0 In\u00a0 Figure\u00a0 11,\u00a0 the\u00a0 frontal\u00a0 vision\u00a0 f\u00a0 both\u00a0 sides\u00a0 of\u00a0 the\u00a0 synchr ization\u00a0 sy tem\u00a0 is\u00a0 shown.\u00a0On\u00a0 the\u00a0 left\u00a0 side,\u00a0 input\u00a0and\u00a0output\u00a0 trigger\u00a0connectors\u00a0and\u00a0a\u00a0 tricolor\u00a0 led\u00a0can\u00a0be\u00a0 observ d\u00a0to\u00a0indicate\u00a0to\u00a0the\u00a0user\u00a0 he\u00a0dif erent\u00a0states\u00a0of\u00a0the\u00a0system.\u00a0On\u00a0 \u00a0right\u00a0side,\u00a0the\u00a0 power\u00a0supply\u00a0and\u00a0the\u00a0Ethernet\u00a0conn ctors\u00a0can\u00a0be\u00a0seen.\u00a0"
        },
        {
            "heading": "3. Results and Discussion",
            "text": "In this section, the results obtained from applying the proposed methodology and using the external system developed by the authors in a real case are shown. For that purpose, a complex piece from Tecnitest Company was selected and inspected using the industrial robot that they have in their laboratory, Figures 12 and 13.\n\u00a0\n3.\u00a0Results\u00a0and\u00a0Discussion\u00a0 In\u00a0this\u00a0section,\u00a0the\u00a0results\u00a0obtained\u00a0from\u00a0applying\u00a0the\u00a0proposed\u00a0methodology\u00a0and\u00a0 using\u00a0 the\u00a0external\u00a0system\u00a0developed\u00a0by\u00a0 the\u00a0authors\u00a0 in\u00a0a\u00a0 real\u00a0case\u00a0are\u00a0shown.\u00a0For\u00a0 that\u00a0 purpose,\u00a0a\u00a0complex\u00a0piece\u00a0from\u00a0Tecnitest\u00a0Company\u00a0was\u00a0selected\u00a0and\u00a0inspected\u00a0using\u00a0the\u00a0 industrial\u00a0robot\u00a0that\u00a0they\u00a0have\u00a0in\u00a0their\u00a0laboratory,\u00a0Figures\u00a012\u00a0and\u00a013.\u00a0\n\u00a0\nFigure\u00a012.\u00a0Complex\u00a0piece\u00a0to\u00a0be\u00a0inspected\u00a0(a)\u00a0plan\u00a0of\u00a0the\u00a0piece\u00a0and\u00a0(b)\u00a0real\u00a0piece\u00a0with\u00a0the\u00a0equidis\u2010\ntant\u00a0marks\u00a0added\u00a0to\u00a0calibrate\u00a0the\u00a0movement.\u00a0\n\u00a0 Figure\u00a013.\u00a0Assembly\u00a0of\u00a0 the\u00a0complex\u00a0piece\u00a0 to\u00a0be\u00a0 inspected\u00a0 for\u00a0 the\u00a0experiments\u00a0on\u00a0 the\u00a0 Industrial\u00a0 robot\u00a0at\u00a0Tecnitest\u00a0Company.\u00a0\nIn\u00a0this\u00a0case,\u00a0to\u00a0obtain\u00a0the\u00a0position\u00a0of\u00a0the\u00a0transducers\u00a0with\u00a0respect\u00a0to\u00a0the\u00a0piece\u00a0during\u00a0 the\u00a0scan,\u00a0the\u00a0same\u00a0target\u00a0piece\u00a0was\u00a0used\u00a0as\u00a0a\u00a0pattern.\u00a0A\u00a0series\u00a0of\u00a0elements\u00a0were\u00a0incorpo\u2010 rated\u00a0that\u00a0generate\u00a0detectable\u00a0discontinuities\u00a0or\u00a0uniform\u00a0bands\u00a0in\u00a0the\u00a0ultrasonic\u00a0images\u00a0 and\u00a0whose\u00a0separation\u00a0is\u00a0known\u00a0and\u00a0constant,\u00a0Figure\u00a012b.\u00a0 As\u00a0can\u00a0be\u00a0seen\u00a0in\u00a0Figure\u00a014,\u00a0the\u00a0image\u00a0obtained\u00a0at\u00a0constant\u00a0PRF\u00a0is\u00a0distorted.\u00a0This\u00a0is\u00a0 due\u00a0to\u00a0the\u00a0fact\u00a0that\u00a0the\u00a0position\u00a0of\u00a0the\u00a0acquisition\u00a0module\u00a0is\u00a0not\u00a0exactly\u00a0known\u00a0at\u00a0each\u00a0 instant.\u00a0The\u00a0equidistant\u00a0parallel\u00a0bands\u00a0incorporated\u00a0into\u00a0the\u00a0piece\u00a0are\u00a0not\u00a0obtained,\u00a0they\u00a0 present\u00a0irregularities,\u00a0and\u00a0most\u00a0importantly,\u00a0it\u00a0would\u00a0be\u00a0difficult\u00a0to\u00a0evaluate\u00a0the\u00a0internal\u00a0 structure\u00a0of\u00a0the\u00a0piece,\u00a0which\u00a0is\u00a0the\u00a0objective\u00a0of\u00a0this\u00a0type\u00a0of\u00a0ultrasonic\u00a0image.\u00a0\n\u00a0 Figure\u00a014.\u00a0Imprecise\u00a0image\u00a0obtained\u00a0at\u00a0constant\u00a0PRF.\u00a0\nFigure 12. Complex piece t l of the piece and (b) real piece with the quid stant marks adde to calibrate the movement.\nIn this case, to obtain the position of the transducers with respect to the piece during the scan, the same target piece was used as a pattern. A series of elements were incorporated that generate detectable discontinuities or uniform bands in the ultrasonic images and whose separation is known and constant, Figure 12b.\nSensors 2023, 23, 2684 9 of 12\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 9\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nFigure\u00a011.\u00a0iTotalSynchro\u00a0frontal\u00a0vision.\u00a0 3.\u00a0Results\u00a0and\u00a0Discussion\u00a0 In\u00a0this\u00a0section,\u00a0the\u00a0results\u00a0obtained\u00a0from\u00a0applying\u00a0the\u00a0proposed\u00a0methodology\u00a0and\u00a0 using\u00a0 the\u00a0external\u00a0system\u00a0developed\u00a0by\u00a0 the\u00a0authors\u00a0 in\u00a0a\u00a0 real\u00a0case\u00a0are\u00a0shown.\u00a0For\u00a0 that\u00a0 purpose,\u00a0a\u00a0complex\u00a0piece\u00a0from\u00a0Tecnitest\u00a0Company\u00a0was\u00a0selected\u00a0and\u00a0inspected\u00a0using\u00a0the\u00a0 industrial\u00a0robot\u00a0that\u00a0they\u00a0have\u00a0in\u00a0their\u00a0laboratory,\u00a0Figures\u00a012\u00a0and\u00a013.\u00a0\n\u00a0 Figure\u00a012.\u00a0Complex\u00a0piece\u00a0to\u00a0be\u00a0inspected\u00a0(a)\u00a0plan\u00a0of\u00a0the\u00a0piece\u00a0and\u00a0(b)\u00a0real\u00a0piece\u00a0with\u00a0the\u00a0equidis\u2010 tant\u00a0marks\u00a0added\u00a0to\u00a0calibrate\u00a0the\u00a0movement.\u00a0\n\u00a0\nFigure\u00a013.\u00a0Assembly\u00a0of\u00a0 the\u00a0complex\u00a0piece\u00a0 to\u00a0be\u00a0 inspected\u00a0 for\u00a0 the\u00a0experiments\u00a0on\u00a0 the\u00a0 Industrial\u00a0\nrobot\u00a0at\u00a0Tecnitest\u00a0Company.\u00a0\nIn\u00a0this\u00a0case,\u00a0to\u00a0obtain\u00a0the\u00a0position\u00a0of\u00a0the\u00a0transducers\u00a0with\u00a0respect\u00a0to\u00a0the\u00a0piece\u00a0during\u00a0 the\u00a0scan,\u00a0the\u00a0same\u00a0target\u00a0piece\u00a0was\u00a0used\u00a0as\u00a0a\u00a0pattern.\u00a0A\u00a0series\u00a0of\u00a0elements\u00a0were\u00a0incorpo\u2010 rated\u00a0that\u00a0generate\u00a0detectable\u00a0discontinuities\u00a0or\u00a0uniform\u00a0bands\u00a0in\u00a0the\u00a0ultrasonic\u00a0images\u00a0 and\u00a0whose\u00a0separation\u00a0is\u00a0known\u00a0and\u00a0constant,\u00a0Figure\u00a012b.\u00a0 As\u00a0can\u00a0be\u00a0seen\u00a0in\u00a0Figure\u00a014,\u00a0the\u00a0image\u00a0obtained\u00a0at\u00a0constant\u00a0PRF\u00a0is\u00a0distorted.\u00a0This\u00a0is\u00a0 due\u00a0to\u00a0the\u00a0fact\u00a0that\u00a0the\u00a0position\u00a0of\u00a0the\u00a0acquisition\u00a0module\u00a0is\u00a0not\u00a0exactly\u00a0known\u00a0at\u00a0each\u00a0 instant.\u00a0The\u00a0equidistant\u00a0parallel\u00a0bands\u00a0incorporated\u00a0into\u00a0the\u00a0piece\u00a0are\u00a0not\u00a0obtained,\u00a0they\u00a0 present\u00a0irregularities,\u00a0and\u00a0most\u00a0importantly,\u00a0it\u00a0would\u00a0be\u00a0difficult\u00a0to\u00a0evaluate\u00a0the\u00a0internal\u00a0 structure\u00a0of\u00a0the\u00a0piece,\u00a0which\u00a0is\u00a0the\u00a0objective\u00a0of\u00a0this\u00a0type\u00a0of\u00a0ultrasonic\u00a0image.\u00a0\n\u00a0 Figure\u00a014.\u00a0Imprecise\u00a0image\u00a0obtained\u00a0at\u00a0constant\u00a0PRF.\u00a0\nFigure 13. Assembly of the complex piece to be inspected for the experiments on the Industrial robot at Tecnitest Company.\nAs can be seen in Figure 14, the image obt ined at constant PRF is distort d. This is du to the fact that the position of the acquisition modul is n t xactly known at each instan . The quidistant parallel bands incorporated into the piece are not obtained, they present irr gularities, and most importan ly, it wo ld be difficult to evaluate the internal structure of th pi ce, which is the objective of th s type of ultr sonic image.\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 9\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nFigure\u00a011.\u00a0iTotalSynchro\u00a0frontal\u00a0vision.\u00a0 3.\u00a0Results\u00a0and\u00a0Discussion\u00a0 In\u00a0this\u00a0section,\u00a0the\u00a0results\u00a0obtained\u00a0from\u00a0applying\u00a0the\u00a0proposed\u00a0methodology\u00a0and\u00a0 using\u00a0 the\u00a0external\u00a0system\u00a0developed\u00a0by\u00a0 the\u00a0authors\u00a0 in\u00a0a\u00a0 real\u00a0case\u00a0are\u00a0shown.\u00a0For\u00a0 that\u00a0 purpose,\u00a0a\u00a0complex\u00a0piece\u00a0from\u00a0Tecnitest\u00a0Company\u00a0was\u00a0selected\u00a0and\u00a0inspected\u00a0using\u00a0the\u00a0 industrial\u00a0robot\u00a0that\u00a0they\u00a0have\u00a0in\u00a0their\u00a0laboratory,\u00a0Figures\u00a012\u00a0and\u00a013.\u00a0\n\u00a0 Figure\u00a012.\u00a0Complex\u00a0piece\u00a0to\u00a0be\u00a0inspected\u00a0(a)\u00a0plan\u00a0of\u00a0the\u00a0piece\u00a0and\u00a0(b)\u00a0real\u00a0piece\u00a0with\u00a0the\u00a0equidis\u2010 tant\u00a0marks\u00a0added\u00a0to\u00a0calibrate\u00a0the\u00a0movement.\u00a0\n\u00a0 Figure\u00a013.\u00a0Assembly\u00a0of\u00a0 the\u00a0complex\u00a0piece\u00a0 to\u00a0be\u00a0 inspected\u00a0 for\u00a0 the\u00a0experiments\u00a0on\u00a0 the\u00a0 Industrial\u00a0 robot\u00a0at\u00a0Tecnitest\u00a0Company.\u00a0\nIn\u00a0this\u00a0case,\u00a0to\u00a0obtain\u00a0the\u00a0position\u00a0of\u00a0the\u00a0transducers\u00a0with\u00a0respect\u00a0to\u00a0the\u00a0piece\u00a0during\u00a0 the\u00a0scan,\u00a0the\u00a0same\u00a0target\u00a0piece\u00a0was\u00a0used\u00a0as\u00a0a\u00a0pattern.\u00a0A\u00a0series\u00a0of\u00a0elements\u00a0were\u00a0incorpo\u2010\nrated\u00a0that\u00a0generate\u00a0detectable\u00a0discontinuities\u00a0or\u00a0uniform\u00a0bands\u00a0in\u00a0the\u00a0ultrasonic\u00a0images\u00a0\nand\u00a0whose\u00a0separation\u00a0is\u00a0known\u00a0and\u00a0constant,\u00a0Figure\u00a012b.\u00a0\nAs\u00a0can\u00a0be\u00a0seen\u00a0in\u00a0Figure\u00a014,\u00a0the\u00a0image\u00a0obtained\u00a0at\u00a0constant\u00a0PRF\u00a0is\u00a0distorted.\u00a0This\u00a0is\u00a0 due\u00a0to\u00a0the\u00a0fact\u00a0that\u00a0the\u00a0position\u00a0of\u00a0the\u00a0acquisition\u00a0module\u00a0is\u00a0not\u00a0exactly\u00a0known\u00a0at\u00a0each\u00a0 instant.\u00a0The\u00a0equidistant\u00a0parallel\u00a0bands\u00a0incorporated\u00a0into\u00a0the\u00a0piece\u00a0are\u00a0not\u00a0obtained,\u00a0they\u00a0 present\u00a0irregularities,\u00a0and\u00a0most\u00a0importantly,\u00a0it\u00a0would\u00a0be\u00a0difficult\u00a0to\u00a0evaluate\u00a0the\u00a0internal\u00a0 structure\u00a0of\u00a0the\u00a0piece,\u00a0which\u00a0is\u00a0the\u00a0objective\u00a0of\u00a0this\u00a0type\u00a0of\u00a0ultrasonic\u00a0image.\u00a0\n\u00a0 Figure\u00a014.\u00a0Imprecise\u00a0image\u00a0obtained\u00a0at\u00a0constant\u00a0PRF.\u00a0Figure 14. Imprecise image obtained at constant PRF.\nFrom this image, the positions of the bands can be obtained, see Figure 15, and, based on them, the synchronism map can be generated to guarantee that the inspection is carried out in compliance with the demanded requirements and that it can be correctly evaluated. The method has been described in the previous section and is registered in the patent [14].\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 10\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nFrom\u00a0 this\u00a0 image,\u00a0 the\u00a0positions\u00a0of\u00a0 the\u00a0bands\u00a0 can\u00a0be\u00a0obtained,\u00a0 see\u00a0Figure\u00a0 15,\u00a0 and,\u00a0 based\u00a0on\u00a0them,\u00a0the\u00a0synchronism\u00a0map\u00a0can\u00a0be\u00a0generated\u00a0to\u00a0guarantee\u00a0that\u00a0the\u00a0inspection\u00a0is\u00a0 carried\u00a0out\u00a0in\u00a0compliance\u00a0with\u00a0the\u00a0demanded\u00a0requirements\u00a0and\u00a0that\u00a0it\u00a0can\u00a0be\u00a0correctly\u00a0 evaluated.\u00a0The\u00a0method\u00a0has\u00a0been\u00a0described\u00a0in\u00a0the\u00a0previous\u00a0section\u00a0and\u00a0is\u00a0registered\u00a0in\u00a0the\u00a0 patent\u00a0[14].\u00a0\n\u00a0\nFigure\u00a015.\u00a0Band\u00a0detection\u00a0example.\u00a0\nIf\u00a0we\u00a0observe,\u00a0in\u00a0this\u00a0case,\u00a0the\u00a0instantaneous\u00a0velocity\u00a0curves\u00a0of\u00a0the\u00a0robot\u00a0movement\u00a0 during\u00a0the\u00a0scan,\u00a0Figure\u00a016,\u00a0we\u00a0will\u00a0see\u00a0that\u00a0they\u00a0are\u00a0not\u00a0simple\u00a0acceleration\u00a0and\u00a0deceler\u2010 ation\u00a0ramps.\u00a0They\u00a0vary\u00a0along\u00a0the\u00a0line,\u00a0and\u00a0they\u00a0are\u00a0different\u00a0for\u00a0each\u00a0line\u00a0scanned\u00a0due\u00a0to\u00a0 the\u00a0conical\u00a0shape\u00a0of\u00a0the\u00a0piece.\u00a0Differences\u00a0are\u00a0also\u00a0observed\u00a0in\u00a0the\u00a0movement\u00a0of\u00a0the\u00a0robot\u00a0 between\u00a0one\u00a0and\u00a0the\u00a0other\u00a0direction\u00a0of\u00a0movement.\u00a0\n\u00a0 Figure\u00a016.\u00a0Velocity\u00a0measured\u00a0in\u00a0each\u00a0pixel\u00a0of\u00a0the\u00a0image.\u00a0\nFinally,\u00a0 applying\u00a0 the\u00a0 synchronism\u00a0map\u00a0 through\u00a0 the\u00a0 iTotalSynchro\u00a0 external\u00a0 syn\u2010 chronization\u00a0system,\u00a0the\u00a0image\u00a0of\u00a0Figure\u00a017\u00a0is\u00a0obtained.\u00a0In\u00a0this\u00a0figure,\u00a0the\u00a0parallel\u00a0bands\u00a0 incorporated\u00a0into\u00a0the\u00a0piece\u00a0can\u00a0be\u00a0observed,\u00a0and\u00a0therefore,\u00a0it\u00a0can\u00a0be\u00a0guaranteed\u00a0that\u00a0the\u00a0 inspection\u00a0is\u00a0carried\u00a0out\u00a0in\u00a0compliance\u00a0with\u00a0the\u00a0requirements\u00a0demanded,\u00a0and\u00a0it\u00a0will\u00a0be\u00a0 possible\u00a0to\u00a0evaluate\u00a0correctly.\u00a0\n0 200 400 600 800 1000 1200 1400 1600 1800 2000 0\n10\n20\n30\n40\n50\n60\n70 Line:37\nSamples\nA tte\nnu at\nio n\n(d B\n)\nFigure 15. Ban d tection example.\nIf we observe, in this case, the instantaneous velocity curves of the robot movement during the scan, Figure 16, ill s that they are not simple accel ration and eceleration ramps. They vary along the line, and they are different for each line scanned ue to the conical shape of the piece. ifferences are also observe in the movement of the robot between one and the other direction of movement.\nSensors 2023, 23, 2684 10 of 12\nSensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 10\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\nFrom\u00a0 this\u00a0 image,\u00a0 the\u00a0positions\u00a0of\u00a0 the\u00a0bands\u00a0 can\u00a0be\u00a0obtained,\u00a0 see\u00a0Figure\u00a0 15,\u00a0 and,\u00a0 based\u00a0on\u00a0them,\u00a0the\u00a0synchronism\u00a0map\u00a0can\u00a0be\u00a0generated\u00a0to\u00a0guarantee\u00a0that\u00a0the\u00a0inspection\u00a0is\u00a0 carried\u00a0out\u00a0in\u00a0compliance\u00a0with\u00a0the\u00a0demanded\u00a0requirements\u00a0and\u00a0that\u00a0it\u00a0can\u00a0be\u00a0correctly\u00a0 evaluated.\u00a0The\u00a0method\u00a0has\u00a0been\u00a0described\u00a0in\u00a0the\u00a0previous\u00a0section\u00a0and\u00a0is\u00a0registered\u00a0in\u00a0the\u00a0 patent\u00a0[14].\u00a0 \u00a0 Figure\u00a015.\u00a0Band\u00a0detection\u00a0example.\u00a0\nIf\u00a0we\u00a0observe,\u00a0in\u00a0this\u00a0case,\u00a0the\u00a0instantaneous\u00a0velocity\u00a0curves\u00a0of\u00a0the\u00a0robot\u00a0movement\u00a0 during\u00a0the\u00a0scan,\u00a0Figure\u00a016,\u00a0we\u00a0will\u00a0see\u00a0that\u00a0they\u00a0are\u00a0not\u00a0simple\u00a0acceleration\u00a0and\u00a0deceler\u2010 ation\u00a0ramps.\u00a0They\u00a0vary\u00a0along\u00a0the\u00a0line,\u00a0and\u00a0they\u00a0are\u00a0different\u00a0for\u00a0each\u00a0line\u00a0scanned\u00a0due\u00a0to\u00a0 the\u00a0conical\u00a0shape\u00a0of\u00a0the\u00a0piece.\u00a0Differences\u00a0are\u00a0also\u00a0observed\u00a0in\u00a0the\u00a0movement\u00a0of\u00a0the\u00a0robot\u00a0 between\u00a0one\u00a0and\u00a0the\u00a0other\u00a0direction\u00a0of\u00a0movement.\u00a0\nFigure\u00a016.\u00a0Velocity\u00a0measured\u00a0in\u00a0each\u00a0pixel\u00a0of\u00a0the\u00a0image.\u00a0\nFinally,\u00a0 applying\u00a0 the\u00a0 synchronism\u00a0map\u00a0 through\u00a0 the\u00a0 iTotalSynchro\u00a0 external\u00a0 syn\u2010 chronization\u00a0system,\u00a0the\u00a0image\u00a0of\u00a0Figure\u00a017\u00a0is\u00a0obtained.\u00a0In\u00a0this\u00a0figure,\u00a0the\u00a0parallel\u00a0bands\u00a0 incorporated\u00a0into\u00a0the\u00a0piece\u00a0can\u00a0be\u00a0observed,\u00a0and\u00a0therefore,\u00a0it\u00a0can\u00a0be\u00a0guaranteed\u00a0that\u00a0the\u00a0 inspection\u00a0is\u00a0carried\u00a0out\u00a0in\u00a0compliance\u00a0with\u00a0the\u00a0requirements\u00a0demanded,\u00a0and\u00a0it\u00a0will\u00a0be\u00a0 possible\u00a0to\u00a0evaluate\u00a0correctly.\u00a0\n0 200 400 600 800 1000 1200 1400 1600 1800 2000 0 10 20 30 40 50 60 70 Line:37 Samples A tte nu at io n (d B )\nFinally, applying the synchronism map through the iTotalSynchro external synchronization system, the image of Figure 17 is obtained. In this figure, the parallel bands incorporated into the piece can be observed, and therefore, it can be guaranteed that the i spection is carried out in compliance with the requirements demanded, and it will be possible to evaluate c rrectly. Sensors\u00a02023,\u00a023,\u00a0x\u00a0FOR\u00a0PEER\u00a0REVIEW\u00a0 11\u00a0 of\u00a0 12\u00a0 \u00a0\n\u00a0\n\u00a0\nFigure\u00a0 17.\u00a0Final\u00a0 image\u00a0obtained\u00a0 from\u00a0 the\u00a0proposed\u00a0methodology\u00a0and\u00a0using\u00a0 the\u00a0external\u00a0 iTotal\u2010\nSynchro\u00a0with\u00a0the\u00a0industrial\u00a0robot.\u00a0\nTherefore,\u00a0 it\u00a0becomes\u00a0clear\u00a0that\u00a0 it\u00a0 is\u00a0possible\u00a0to\u00a0calibrate\u00a0 in\u00a0an\u00a0economical,\u00a0precise\u00a0 and\u00a0efficient\u00a0way\u00a0the\u00a0trajectories\u00a0followed\u00a0by\u00a0the\u00a0displacement\u00a0module\u00a0in\u00a0order\u00a0to\u00a0ade\u2010 quately\u00a0 synchronize\u00a0 the\u00a0 firing\u00a0of\u00a0each\u00a0ultrasonic\u00a0wave\u00a0with\u00a0 the\u00a0movement\u00a0of\u00a0 the\u00a0dis\u2010 placement\u00a0module.\u00a0 In\u00a0this\u00a0development,\u00a0it\u00a0has\u00a0been\u00a0shown\u00a0that\u00a0it\u00a0is\u00a0possible\u00a0to\u00a0establish\u00a0the\u00a0synchro\u2010 nization\u00a0of\u00a0any\u00a0industrial\u00a0robot\u00a0with\u00a0any\u00a0ultrasonic\u00a0imaging\u00a0generation\u00a0system\u00a0by\u00a0means\u00a0 of\u00a0the\u00a0developed\u00a0synchronization\u00a0module.\u00a0Therefore,\u00a0this\u00a0system\u00a0allows\u00a0not\u00a0depending\u00a0 on\u00a0 a\u00a0 specific\u00a0 robot\u00a0 and\u00a0ultrasonic\u00a0 acquisition\u00a0 system,\u00a0but\u00a0 rather\u00a0 it\u00a0will\u00a0be\u00a0possible\u00a0 to\u00a0 choose\u00a0the\u00a0set\u00a0that\u00a0best\u00a0suits\u00a0the\u00a0needs\u00a0at\u00a0any\u00a0given\u00a0time.\u00a0\n4.\u00a0Conclusions\u00a0 In\u00a0this\u00a0paper,\u00a0a\u00a0methodology\u00a0recently\u00a0patented\u00a0[14]\u00a0to\u00a0obtain\u00a0precise\u00a0ultrasonic\u00a0in\u2010 formation\u00a0on\u00a0complex\u00a0pieces\u00a0using\u00a0industrial\u00a0robots\u00a0is\u00a0shown.\u00a0For\u00a0Cartesian\u00a0robots,\u00a0it\u00a0is\u00a0 easy\u00a0to\u00a0know\u00a0the\u00a0position\u00a0of\u00a0the\u00a0transducer\u00a0in\u00a0the\u00a0piece\u00a0at\u00a0each\u00a0moment.\u00a0Every\u00a0time\u00a0the\u00a0 pieces\u00a0to\u00a0be\u00a0inspected\u00a0are\u00a0more\u00a0complex,\u00a0it\u00a0is\u00a0not\u00a0possible\u00a0to\u00a0use\u00a0Cartesian\u00a0robots;\u00a0there\u2010 fore,\u00a0complex\u00a0industrial\u00a0robots\u00a0must\u00a0be\u00a0used.\u00a0For\u00a0these\u00a0robots,\u00a0it\u00a0is\u00a0very\u00a0difficult\u00a0to\u00a0know\u00a0 the\u00a0position\u00a0of\u00a0 the\u00a0 transducer\u00a0 in\u00a0 the\u00a0 inspected\u00a0piece,\u00a0and\u00a0 they\u00a0are\u00a0closed\u00a0systems,\u00a0 i.e.,\u00a0 there\u00a0is\u00a0no\u00a0access\u00a0to\u00a0their\u00a0configuration.\u00a0To\u00a0solve\u00a0this\u00a0problem,\u00a0we\u00a0propose\u00a0a\u00a0methodol\u2010 ogy\u00a0to\u00a0overcome\u00a0these\u00a0difficulties\u00a0that\u00a0have\u00a0been\u00a0patented.\u00a0We\u00a0apply\u00a0this\u00a0methodology\u00a0 to\u00a0a\u00a0complex\u00a0aeronautical\u00a0piece\u00a0and\u00a0show\u00a0the\u00a0results\u00a0obtained.\u00a0The\u00a0methodology\u00a0is\u00a0based\u00a0 on\u00a0the\u00a0calculation\u00a0of\u00a0a\u00a0corrected\u00a0synchronism\u00a0map\u00a0after\u00a0a\u00a0calibration\u00a0experiment\u00a0to\u00a0in\u2010 troduce\u00a0 this\u00a0 corrected\u00a0map\u00a0 in\u00a0 an\u00a0 external\u00a0 system\u00a0developed\u00a0by\u00a0 the\u00a0 authors\u00a0 to\u00a0obtain\u00a0 precise\u00a0ultrasonic\u00a0images.\u00a0Therefore,\u00a0it\u00a0has\u00a0been\u00a0shown\u00a0that\u00a0it\u00a0is\u00a0possible\u00a0to\u00a0establish\u00a0the\u00a0 synchronization\u00a0of\u00a0any\u00a0industrial\u00a0robot\u00a0with\u00a0any\u00a0ultrasonic\u00a0 imaging\u00a0generation\u00a0system\u00a0 by\u00a0means\u00a0of\u00a0the\u00a0developed\u00a0synchronization\u00a0module.\u00a0 In\u00a0addition,\u00a0the\u00a0validity\u00a0of\u00a0the\u00a0described\u00a0procedure\u00a0has\u00a0been\u00a0demonstrated\u00a0both\u00a0in\u00a0 simple\u00a0geometry\u00a0parts,\u00a0such\u00a0as\u00a0the\u00a0rectangular\u00a0specimen\u00a0tested\u00a0at\u00a0the\u00a0ITEFI\u00a0facilities\u00a0with\u00a0 a\u00a0Cartesian\u00a0 robot,\u00a0and\u00a0 in\u00a0more\u00a0 complex\u00a0pieces,\u00a0 such\u00a0as\u00a0 the\u00a0one\u00a0 inspected\u00a0at\u00a0Tecnitest\u00a0 using\u00a0a\u00a0robotic\u00a0arm.\u00a0\n5.\u00a0Patents\u00a0 The\u00a0methodology\u00a0 explained\u00a0 and\u00a0proved\u00a0 in\u00a0 this\u00a0 article\u00a0has\u00a0 been\u00a0patented\u00a0 and\u00a0 li\u2010 censed\u00a0by\u00a0Tecnitest\u00a0Company\u00a0[9].\u00a0\nAuthor\u00a0Contributions:\u00a0Conceptualization,\u00a0S.A.S.,\u00a0I.G.L.,\u00a0M.A.,\u00a0J.J.A.V.,\u00a0M.P.\u00a0and\u00a0A.I.;\u00a0methodolo\u2010 gy,\u00a0S.A.S.,\u00a0J.J.A.V.;\u00a0software,\u00a0S.A.S.,\u00a0M.P.\u00a0and\u00a0I.G.L.;\u00a0validation,\u00a0S.A.S.,\u00a0J.J.A.V.,\u00a0M.P.,\u00a0M.A.,\u00a0I.G.L.,\u00a0 H.d.M.J.,\u00a0A.\u00c1.d.P.\u00a0and\u00a0A.I.;\u00a0formal\u00a0analysis,\u00a0S.A.S.,\u00a0J.J.A.V.,\u00a0M.P.,\u00a0A.I.,\u00a0M.A.\u00a0and\u00a0I.G.L.;\u00a0investiga\u2010 tion,\u00a0S.A.S.,\u00a0J.J.A.V.,\u00a0M.G.H.,\u00a0M.P.,\u00a0A.I.\u00a0and\u00a0\u00d3.M.\u2010G.;\u00a0resources,\u00a0S.A.S.,\u00a0J.J.A.V.\u00a0and\u00a0I.G.L.;\u00a0data\u00a0cu\u2010 ration,\u00a0 S.A.S.,\u00a0 J.J.A.V.,\u00a0M.P.,\u00a0M.A.,\u00a0 I.G.L.\u00a0 and\u00a0 A.I.;\u00a0 writing\u2014original\u00a0 draft\u00a0 preparation,\u00a0 S.A.S.;\u00a0 writing\u2014review\u00a0and\u00a0editing,\u00a0S.A.S.,\u00a0J.J.A.V.,\u00a0M.G.H.,\u00a0M.P.,\u00a0A.I.,\u00a0\u00d3.M.\u2010G.,\u00a0I.G.L.,\u00a0M.A.,\u00a0H.d.M.J.\u00a0and\u00a0 A.\u00c1.d.P.;\u00a0visualization,\u00a0S.A.S.,\u00a0M.P.\u00a0and\u00a0I.G.L.;\u00a0supervision,\u00a0J.J.A.V.,\u00a0A.I.,\u00a0I.G.L.\u00a0and\u00a0M.A.;\u00a0project\u00a0\nFigure 17. Final image obtained from the proposed methodology and using the external iTotalSynchro with the industrial robot.\nTherefore, it becomes clear that it is possible to calibrate in an economical, precise and efficient way the trajectories followed by the displacement module in order to adequately synchronize the firing of each ultrasonic wave with the movement of the displacement module. In this development, it has been shown that it is possible to establish the synchronization of any industrial robot with any ultrasonic imaging generation system by means of the developed synchronization module. Therefore, this system allows not depending on a specific robot and ultrasonic acquisition system, but rather it will be possible to choose the set that best suits the needs at any given time.\ni , l l i i l i i - f ti l i i i t i l t i . t i t , it i\ns t t siti f t tr s c r i t i c t c t. r ti t ieces to be inspected are more complex, it is not possible to use Cartesian robots; therefore, complex industrial robots must be used. For these robots, it is very difficult to know the position of the transducer in the inspected piece, and they are closed systems, i.e., there is no access to their configuration. To solve this problem, we propose a methodology to\nSensors 2023, 23, 2684 11 of 12\novercome these difficulties that have been patented. We apply this methodology to a complex aeronautical piece and show the results obtained. The methodology is based on the calculation of a corrected synchronism map after a calibration experiment to introduce this corrected map in an external system developed by the authors to obtain precise ultrasonic images. Therefore, it has been shown that it is possible to establish the synchronization of any industrial robot with any ultrasonic imaging generation system by means of the developed synchronization module. In addition, the validity of the described procedure has been demonstrated both in simple geometry parts, such as the rectangular specimen tested at the ITEFI facilities with a Cartesian robot, and in more complex pieces, such as the one inspected at Tecnitest using a robotic arm."
        },
        {
            "heading": "5. Patents",
            "text": "The methodology explained and proved in this article has been patented and licensed by Tecnitest Company [9].\nAuthor Contributions: Conceptualization, S.A.S., I.G.L., M.A., J.J.A.V., M.P. and A.I.; methodology, S.A.S., J.J.A.V.; software, S.A.S., M.P. and I.G.L.; validation, S.A.S., J.J.A.V., M.P., M.A., I.G.L., H.d.M.J., A.\u00c1.d.P. and A.I.; formal analysis, S.A.S., J.J.A.V., M.P., A.I., M.A. and I.G.L.; investigation, S.A.S., J.J.A.V., M.G.H., M.P., A.I. and \u00d3.M.-G.; resources, S.A.S., J.J.A.V. and I.G.L.; data curation, S.A.S., J.J.A.V., M.P., M.A., I.G.L. and A.I.; writing\u2014original draft preparation, S.A.S.; writing\u2014review and editing, S.A.S., J.J.A.V., M.G.H., M.P., A.I., \u00d3.M.-G., I.G.L., M.A., H.d.M.J. and A.\u00c1.d.P.; visualization, S.A.S., M.P. and I.G.L.; supervision, J.J.A.V., A.I., I.G.L. and M.A.; project administration, J.J.A.V. and M.A.; funding acquisition, M.A. and A.\u00c1.d.P. All authors have read and agreed to the published version of the manuscript.\nFunding: This research was funded by FEDER/Ministerio de Ciencia e Innovaci\u00f3n\u2013 Agencia Estatal de Investigaci\u00f3n with grant number RTC-2017-6744-4.\nData Availability Statement: Not applicable.\nAcknowledgments: The authors want to acknowledge Tecnitest Ingenieros SL Company for helping to test the methodology proposed in this article in their facilities.\nConflicts of Interest: The authors declare no conflict of interest.\nReferences 1. Valdecantos, C. SARA 10: A system for high speed automatic NDE of large composite parts. e-J. Nondestruct. Test. 1997, 2. Available online: http://www.ndt.net/article/aero1197/sara10/sara10.htm (accessed on 1 February 2022). 2. Bogue, R. The role of robotics in non-destructive testing. Ind. Robot. Int. J. 2010, 37, 421\u2013426. [CrossRef] 3. Mineo, C.; Pierce, S.G.; Nicholson, P.I.; Cooper, I. Robotic path planning for non-destructive testing\u2013A custom MATLAB toolbox approach. Robot. Comput. -Integr. Manuf. 2016, 37, 1\u201312. [CrossRef] 4. Cuevas, E.; L\u00f3pez, M.; Garc\u00eda, M. Ultrasonic Techniques and Industrial Robots: Natural Evolution of Inspection Systems. In Proceedings of the 4th International Symposium on NDT in Aerospace, Augsburg, Germany, 13\u201315 November 2012. 5. Lluveras, D.; Molero Armenta, M.; Izquierdo, M.A.G.; Hern\u00e1ndez, M.G.; Anaya, J.J. Ultrasound Transmission Tomography for the Assessment of Inclusions in Concrete. Sensors 2017, 17, 1085. [CrossRef] [PubMed] 6. Zhen, X.; Yong, Y.; Guang, X.C.; Guo, X.D.; Fang, F.L.; Liang, L.X. Profile tracking with ultrasonic alignment for automatic Non-destructive testing of complex structures. Robot. Comput. \u2013Integr. Manuf. 2018, 49, 134\u2013142. [CrossRef] 7. Cooper, I.; Nicholson, I.; Yan, D.; Wright, B.; Liaptsis, D.; Mineo, C. Development of a fast inspection system for complex\ncomposite structure\u2013the Intacom project. In Proceedings of the 5th International Symposium on NDT in Aerospace, Singapore, 13\u201315 November 2013.\n8. Mineo, C.; MacLeod, C.; Morozov, M.; Pierce, S.G.; Lardner, T.; Summan, R.; Powell, J.; McCubbin, P.; McCubbin, C.; Munro, G.; et al. Fast ultrasonic phased array inspection of complex geometries delivered through robotic manipulators and high speed data acquisition instrumentation. In Proceedings of the IEEE International Ultrasonics Symposium (IUS), Tours, France, 18\u201321 September 2016. 9. Morozov, M.; Pierce, S.G.; MacLeod, C.; Mineo, C. Summan, Off-line scan path planning for robotic NDT. Measurement 2018, 122, 284\u2013290. [CrossRef] 10. Guo, C.; Xu, C.; Hao, J.; Xiao, D.; Yang, W. Ultrasonic Non-Destructive Testing System of Semi-Enclosed Workpiece with Dual-Robot Testing System. Sensors 2019, 19, 3359. [CrossRef]\nSensors 2023, 23, 2684 12 of 12\n11. Xiao, Z.; Xu, C.; Xiao, D.; Liu, F.; Yin, M. An Optimized Robotic Scanning Scheme for Ultrasonic NDT of Complex Structures. Exp. Tech. 2017, 41, 389\u2013398. [CrossRef] 12. Phan, N.D.M.; Quinsat, Y.; Lavernhe, S.; Lartigue, C. Scanner path planning with the control of overlap for part inspection with an industrial robot. Int. J. Adv. Manuf. Technol. 2018, 98, 629\u2013643. [CrossRef] 13. Guo, C.; Xu, C.; Xiao, D.; Hao, J.; Zhang, H. Trajectory planning method for improving alignment accuracy of probes for dual-robot air-coupled ultrasonic testing system. Int. J. Adv. Robot. Syst. 2019, 16. [CrossRef] 14. Sof\u00eda, A.S.; Montserrat, P.R.; Alberto, I.R.; \u00d3scar, M.; Margarita, G.H.; I\u00f1aki, G.; Montserrat, A.M.; H\u00e9ctor de, M.; Alejandro, A. M\u00e9todo y Sistema de Calibraci\u00f3n de un Sistema de Inspecci\u00f3n Mediante Ultrasonidos; Spanish Patent Office: Madrid, Spain, 2021; Available online: https://digital.csic.es/handle/10261/288205 (accessed on 1 February 2022). 15. Available online: https://www.fanuc.eu/es/es/robots/p%c3%a1gina-filtro-robots/serie-r-2000/r-2000ic-125l (accessed on 1 February 2022). 16. Available online: https://www.socomate.com/products/socomate-products/oem-conventional-ut/soco-8s-ut-multiplexer (accessed on 1 February 2022).\nDisclaimer/Publisher\u2019s Note: The statements, opinions and data contained in all publications are solely those of the individual author(s) and contributor(s) and not of MDPI and/or the editor(s). MDPI and/or the editor(s) disclaim responsibility for any injury to people or property resulting from any ideas, methods, instructions or products referred to in the content."
        }
    ],
    "title": "Methodology for the Generation of High-Quality Ultrasonic Images of Complex Geometry Pieces Using Industrial Robots",
    "year": 2023
}