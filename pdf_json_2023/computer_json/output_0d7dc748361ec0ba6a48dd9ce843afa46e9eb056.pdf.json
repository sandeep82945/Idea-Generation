{
    "abstractText": "A set of hardware in the loop simulation methods based on the UAV model is proposed to create fault data, which is used to judge the parts where faults happen. Actual flight experimental data is utilized to prove the reliability of Simulink models. Then a series of typical faults with various amplitudes are injected into different channels of UAV parts in hardware in the loop simulation platform. Fault data is created this way, and the effect on UAV flight and task/control can be obtained through damage analysis. Typical fault characters are extracted, and those parts that have faults can be analyzed and judged. We can also know the trend that faults will develop and conclude the reasons for faults based on exterior performance, which supports precise attack and performance evaluation techniques. Keywords-fault injection; hardware in the loop platform; data generation; damage analysis; feature extraction;",
    "authors": [
        {
            "affiliations": [],
            "name": "Tianshun Li"
        },
        {
            "affiliations": [],
            "name": "Huaimin Chen"
        }
    ],
    "id": "SP:90e18d98d1e19eb866afaf5dcb2fd426cca44b99",
    "references": [
        {
            "authors": [
                "M. Xue",
                "X. Zhou",
                "W. Kong"
            ],
            "title": "Research Status and Key Technology Analysis of Anti UAV System",
            "venue": "[J]. Cruise Missile,",
            "year": 2021
        },
        {
            "authors": [
                "S. Lan"
            ],
            "title": "UAV Battle\u201d over Ukraine",
            "venue": "[J]. World Knowledge,",
            "year": 2022
        },
        {
            "authors": [
                "J. Ma"
            ],
            "title": "Looking at the Future Land Warfare Scheme from Zhuhai Airshow [N] Global Times, 2022-11-09",
            "year": 2022
        },
        {
            "authors": [
                "X. Wu"
            ],
            "title": "Analysis of the Development and Application of Simulation Technology [J",
            "venue": "Electronic Technology and Software Engineering,",
            "year": 2015
        },
        {
            "authors": [
                "R. Li"
            ],
            "title": "Research on hardware in the loop simulation technology of small fixed-wing UAV [D",
            "venue": "Beijing University of Technology,",
            "year": 2018
        },
        {
            "authors": [
                "R. Huang",
                "H. Li",
                "J. Liu",
                "W. Kong"
            ],
            "title": "Analysis of the status quo and development trend of aircraft hardware in the loop simulation technology [J",
            "venue": "Journal of System Simulation,",
            "year": 2019
        },
        {
            "authors": [
                "G. Zheng",
                "S. Yang",
                "K. Zhang"
            ],
            "title": "Research Status and Development Trend of Semi-physical Simulation Technology [J",
            "venue": "Naval Electronics Engineering,",
            "year": 2016
        },
        {
            "authors": [
                "G. Li"
            ],
            "title": "Life Analysis and Research of Small UAV [D",
            "venue": "Northwestern Polytechnical University,",
            "year": 2007
        },
        {
            "authors": [
                "Y. Zhong",
                "Y. Zhang",
                "W. Zhang",
                "J. Zuo",
                "H. Zhan"
            ],
            "title": "Robust Actuator Fault Detection and Diagnosis for a Quadrotor UAV With External Disturbances,",
            "venue": "IEEE Access,",
            "year": 2018
        },
        {
            "authors": [
                "G. Heredia",
                "A. Ollero"
            ],
            "title": "Sensor fault detection in small autonomous helicopters using observer/Kalman filter identification,",
            "venue": "IEEE International Conference on Mechatronics, Malaga, Spain,",
            "year": 2009
        },
        {
            "authors": [
                "Y. Peng",
                "S. Shi",
                "K. Guo",
                "D. Liu"
            ],
            "title": "Fault Simulation and Data Generation of UAV Flight Control System [J",
            "venue": "Journal of Instrumentation,",
            "year": 2019
        },
        {
            "authors": [
                "Y. Zhang",
                "B. Xian",
                "Y.-P. Yu",
                "B. Zhao"
            ],
            "title": "Research on Visual Hardware in the loop Simulation Platform for quadrotor UAV [J",
            "venue": "Journal of Instrumentation,",
            "year": 2012
        },
        {
            "authors": [
                "G. Ouyang",
                "D. Zhao",
                "Z. Ping"
            ],
            "title": "Agility evaluation and visualizing simulation of fighter post stall manual missions [C]//Control",
            "venue": "Conference IEEE,",
            "year": 2015
        },
        {
            "authors": [
                "L. Wang",
                "W. Hu"
            ],
            "title": "Design of UAV Flight Reproduction Simulation System [A] China Association for Science and Technology, Ministry of Transport of the People\u2019s Republic of China, Chinese Academy of Engineering. Proceedings of the World Transport Conference in 2019 (Part 2) [C]. China Association for Science and Technology, Ministry of Transport of the People\u2019s Republic of China, Chinese Academy of Engineering: China Highway Society, 2019:5",
            "year": 2019
        },
        {
            "authors": [
                "P. Liu"
            ],
            "title": "Research on Flight Simulation Technology of Unmanned Helicopters Based on FlightGear [D",
            "venue": "Nanjing University of Aeronautics and Astronautics,",
            "year": 2011
        },
        {
            "authors": [
                "Q.-L. Jia",
                "D.-L. Yuan",
                "Y.-F. Luan"
            ],
            "title": "System Simulation, Analysis and Design Based on MATLAB 7. X/Simulink/Stateflow [M",
            "year": 2006
        },
        {
            "authors": [
                "M.M. Tousi",
                "K. Khorasani"
            ],
            "title": "Robust observer-based fault diagnosis for an unmanned aerial vehicle,",
            "venue": "IEEE International Systems Conference,",
            "year": 2011
        },
        {
            "authors": [
                "Y.-T.Ni"
            ],
            "title": "Design of a universal unmanned aerial vehicle system simulator based on a semi physical simulation platform",
            "venue": "[J]. Software Engineering,",
            "year": 2021
        },
        {
            "authors": [
                "X. Shao",
                "J. Zhang",
                "Z. Zhao"
            ],
            "title": "The position servo system based on dSPACE [C]//Control and Decision Conference (CCDC), 2012 24th Chinese two thousand and twelve",
            "year": 2012
        },
        {
            "authors": [
                "V Truong N",
                "L Vu D"
            ],
            "title": "Hardware in the Loop approach to the development and validation of precision induction motor servo drive using xPC Target [C]//Computer Science and Software Engineering",
            "venue": "(JCSSE), 2012 International Joint Conference on. IEEE,",
            "year": 2012
        },
        {
            "authors": [
                "S. Wu",
                "Y. Fei"
            ],
            "title": "Flight control system [M] Beijing: Beijing",
            "year": 2005
        },
        {
            "authors": [
                "Z. Tan"
            ],
            "title": "Research on Modeling and Simulation of Large Civil Aircraft Flight Control System [D",
            "venue": "Nanjing University of Aeronautics and Astronautics,",
            "year": 2014
        },
        {
            "authors": [
                "J. Song",
                "W. Shang",
                "S. Ai",
                "K. Zhao"
            ],
            "title": "Model and Data-Driven Combination: A Fault Diagnosis and Localization Method for Unknown Fault Size of Quadrotor UAV Actuator Based on Extended State Observer and Deep Forest[J",
            "year": 2022
        },
        {
            "authors": [
                "F. Liu"
            ],
            "title": "Research on data-driven UAV fault diagnosis method [D",
            "venue": "Harbin University of Technology,",
            "year": 2021
        }
    ],
    "sections": [
        {
            "text": "Keywords-fault injection; hardware in the loop platform; data generation; damage analysis; feature extraction;\nI. INTRODUCTION\nUAV is a complex system that contains mechanics, electronics, automatic control, sensing, and computer control. UAVs are divided into two categories: fixed-wing and multirotor UAVs. UAVs have become a comprehensive weapon platform that offers destruction by fire, reconnaissance of information, and electronic countermeasures. Unmanned combat will be an important form of war [1]. Fixed-wing UAVs often play a role in reconnaissance strike in the\nmilitary field because they have a long voyage length, high speed, and big task load [2].\nIn the process of mission execution, the critical systems and components of UAV may be interfered with due to the complex and changeable battlefield environment and the continuous use of various anti-UAV equipment. That may affect the quality of mission execution and even result in a UAV crash, leading to severe consequences for strategic and tactical layouts [3]. System simulation technology has made significant progress with the rapid development of control theory, modeling, and computer graphics technology. According to the difference in simulation models, the simulation technology can be divided into pure digital simulation, physical simulation, and semi-physical simulation [4]. Semiphysical simulation refers to the real-time simulation of some real objects in the simulation experiment system\u2019s simulation loop. Part of the mathematical model is replaced with real objects, and the software and hardware of the system are required to run in real time. The advantage is that it is closer to the actual situation to obtain more accurate and reliable simulation information [5]. Compared with pure digital simulation, semi-physical simulation is more realistic and economical than physical simulation, so it has a broader range of applications in aerospace, vehicle research and ar X iv :2 30 9.\n03 46\ndevelopment, and other fields [6] [7]. In this paper, medium-sized fixed-wing UAVs are taken as the research object. Typical medium-sized fixed-wing UAVs are modeled after \u201cCoyote\u201d UAVs, developed after \u201cCoyote\u201d tube-launched UAVs of Raytheon. They have similar design concepts, system architecture, and aerodynamic shapes. As a typical tube-launched UAV with multiple platforms, the imitation \u201cCoyote\u201d UAV can be equipped with various loads and swarm operations. Whether it is launched by air, land, or water surface, it is a significant threat. Therefore, it is of representative significance to study its failure mode. If the actual flight is directly used to obtain the simulation test data, the research and development cycle is long, and the development cost is high. Therefore, the design and development of the semi-physical simulation platform for medium-sized fixed-wing UAVs are conducive to increasing the accuracy and reliability of the simulation.\nIn the early 21st century, unmanned aerial vehicles were mainly applied to replace manned piloting in harsh environments, aiming at meeting the technical combat index. There are no strict requirements on the service life of UAVs [8]. With the continuous deepening of intelligence and extensive data integration, the unit cost of UAV equipment keeps rising. Zhong et al. proposed an adaptive three-level Kalman filter [9] to reduce the computational burden and establish the dynamic model of UAV, thus realizing the fault diagnosis of multi-rotor actuator in different scenarios. Heredia and Ollero A proposed an input-output model with a Romberg observer [10] to estimate the measured values of sensors and actuators, thus realizing the detection of UAV sensor faults and verifying them with real flight data. The damage effect analysis method of key components proposed in this paper is conducive to timely confirming whether the UAV has a fault and the fault location according to the external performance of the UAV. The fault characteristics are summarized to achieve the purpose of extending the service life of UAVs.\nThe fault data of drones is of great significance for fault detection [11] . Due to the lack of real fault data, the previous research has proposed three types of methods for generating fault data for unmanned aerial vehicles: full digital simulation, semi-physical simulation, and physical simulation. Physical simulation is the earliest method of generating fault data, but its drawbacks include long simulation time and difficulties in parameter modification. With the development of computer technology, all digital simulation has gradually replaced physical simulation, with the advantages of low cost and easy implementation. Representative digital simulation software includes Flightgear and MATLAB/Simulink. Flightgear is an open source flight simulator released on the internet. Flightgear provides a professional flight dynamics model that can set up various scenarios, weather, and aircraft types in simulation [12], it has strong flight visualization and interactive simulation capabilities, and is widely used in simulation modeling of unmanned aerial vehicles and\ndesign research of visual simulation systems [13] [14]. L Wang and others built a joint system based on MATLAB and Flightgear to recover and generate fault data after a drone crash [15]. However, the Flightgear platform has weak processing ability for a large amount of experimental data generated during the simulation process, and lacks a systematic data management and analysis tool [16]. At the same time, the selection of fault injection nodes, types, and sizes is not flexible enough, which is not conducive to fault simulation and data generation. MATLAB/Simulink has powerful data processing capabilities, and Simulink provides a kind of graphical programming language [17], which is easy to operate and avoids writing and debugging a large amount of flight control code. Tousi et al. established a linear model of UAV system [18] and proposed a fault detection and location algorithm based on robust observer. Natural factors such as strong wind, heavy snow and frost are considered to improve the accuracy of fault detection. The effectiveness of our proposed approach is illustrated and demonstrated through digital simulation results. However, full digital simulation\u2019s credibility is insufficient, and the established model does not match the actual data very well. Semi-physical simulation integrates a portion of the actual hardware of the aircraft into the simulation system, replacing the physical model with a portion of the physical model, avoiding modeling difficulties and making the simulation system closer to the actual situation, improving the reliability of fault data. Semi-physical simulation combines the advantages of high reliability in physical simulation and low cost in digital simulation, avoiding the disadvantages of high cost in physical simulation and low reliability in digital simulation, it can flexibly simulate various fault modes [19]. DSPACE and xPC Target have been widely used in laboratory research [20] [21]. Considering about the pros and cons, this article will use a semi-physical simulation method to generate fault data for unmanned aerial vehicle flight control systems. Compared to the previous work, the fault generation method proposed in this article can simulate the randomness of the occurrence time of fault, fault location, and fault mode, and the switching between fault modes and fault locations is simple. It can obtain fault data from different time periods, different parts, and different fault modes, solving the problem of lacking fault samples for unmanned aerial vehicles."
        },
        {
            "heading": "II. UAV MODELING",
            "text": "The simulation model of the flight control system is the basis of fault simulation. This chapter introduces the mathematical model of the UAV. It verifies the matching between the UAV model and the actual flight data to enhance the credibility of the semi-physical simulation."
        },
        {
            "heading": "A. Drone Model",
            "text": "Based on the aerodynamic data of the true UAV, combined with Newton\u2019s rigid body dynamics and kinematics theory, the 6-DOF nonlinear model and dynamic system model of UAV were established.\nThe American \u201cCoyote\u201d UAV is taken as the research object in this paper. The physical parameters of the mathematical model established are consistent with those of the true UAV, and the control strategy is also wholly consistent. The motion mode of UAV mainly includes three linear and three angular motions, that is, spatial position change and attitude change. Generally, the 6-DOF motion state of a UAV is described by selecting the appropriate coordinate system and corresponding motion parameters. Figure 1 shows the control system of the UAV. Figure 2 demonstrates Simulink model of the UAV.\nAccording to the actual situation of the UAV, the following assumptions should be made before building the nonlinear mathematical model of the UAV [22] :\n1) : A UAV is a rigid body with constant mass. 2) : The ground coordinate system is considered an inertial coordinate system. 3) : Ignoring the curvature of the Earth, the \u201cFlat Earth Hypothesis\u201d is adopted. 4) : The gravitational acceleration is constant. 5) : In the body coordinate system, the plane obxbzb is the plane of UAV symmetry, the UAV geometric shape is symmetrical, the mass distribution is uniform, and the inertia product Ixy = Iyz = Ixz = 0.\nThe Simulink simulation model of UAV in figure 2 includes a dynamics model, propulsion system model, and aerodynamics model. The UAV dynamics model receives information such as mass, the moment of inertia, local gravity acceleration, thrust, aerodynamic force, and moment. According to the differential equations, the position, velocity, attitude angle, angular velocity, and other information of the aircraft are calculated in real-time. The aerodynamics module inputs the UAV speed, attitude, rudder deflection angle, atmospheric density, local sound speed, and other information, and interpolates the aerodynamic force and moment according to the test data and calculation data; The\npropulsion system module calculates thrust by interpolation according to real-time flight status and thrust test data table.\nB. Validation of Model\nAfter the establishment of the system model, it is necessary to verify the model to ensure the accuracy of the simulation model and the certainty of the simulation results and ensure that the input of the system can obtain the correct response, which is the key to flight simulation research [23].\n1) Model Matching Verification: According to the real flight data, the flight test with a cruising altitude of 150m and a cruising speed of 45m/s was carried out. The real flight altitude and speed comparison with the simulation test flight altitude and speed is shown in the figure below. According to the curve comparison, it can be seen in figure 3 and figure 4 that the simulation can cruise at a speed of 45m/s at the height of 150m.\nIt can be seen from the simulation results that the variation trend of the simulation output is consistent with the actual flight data, and the simulation model has a good match with the actual flight data. Considering that the real UAV will be affected by various noises and disturbances in the actual flight, it can be considered that the simulation model has a high matching degree with the actual UAV, which proves the correctness and practicability of the model.\n2) Dynamic Characteristic Verification: Taking the longitudinal motion of the UAV as an example, the simulation time was set as 250s, and the sampling time was set as 0.001s, where a step signal with an amplitude of it was applied to the height. The step response curve of the system was obtained. As shown in the figure 5, the dotted line is the given step input, and the solid line is the simulation result of the height.\nAccording to the step response curve in Figure 5, the maximum overshoot of the UAV system is 23.15%, the adjustment time is 55.382s, and the steady-state error is 0. The high steady-state error tracking control is realized, which has good dynamic characteristics and proves the effectiveness of the model control law in the longitudinal control of the UAV."
        },
        {
            "heading": "III. COMPOSITION AND FAULT MODELING OF FLIGHT CONTROL SYSTEM",
            "text": "A physical object is the physical system of physical simulation, which is very important to the whole system. To ensure the authenticity and accuracy of the test data, the flight control computer and attitude sensor were connected to the simulation loop as the physical system, and the semi-physical simulation was carried out for the fixed-wing UAV system. LKD-KFS-001 Aircraft Management Computer is selected as the navigation flight control and aircraft management computing platform, which adopts the stacked structure design and is composed of three parts: bottom\nplate, processor board, and shell. The outline diagram is shown as figure 6.\nThe LKD-KFS-001 Aircraft Management Computer is used as the semi-physical simulation flight control, management, and mission computer. It has high integration, internal integration of the CPU, industrial double redundant attitude sensor, magnetometer, static and static pressure sensor and dual redundant GNSS sensors, built-in 900Mhz data link. High reliability, with full metal shielding housing and J30J aviation connector, double redundant GNSS positioning system and doubles redundant attitude sensor automatic switch. Power-on self-test and flight self-test. Power failure\nprotection within 50ms, dual differential positioning, high control accuracy. The technical parameters are shown in table I.\nTo carry out fault injection on the above model, the fault characteristics of the steering gear and sensor are analyzed in detail. The corresponding mathematical model is established according to the common fault modes of the two, which is the basis for the subsequent fault simulation and fault injection. The implementation process of fault injection and the problems needing attention are summarized to ensure the availability of fault data."
        },
        {
            "heading": "A. Analysis and Modeling of Sensor Fault Characteristics",
            "text": "The sensor in UAV can measure the parameters of the flight state in real-time, which plays an important role in UAV flight. The flight control sensor can be divided into a gyroscope, accelerometer, GPS, and so on, according to the measured physical quantities. An IMU sensor typically consists of three uniaxial accelerometers and three uniaxial gyroscopes. This paper analyzes the fault characteristics of IMU and GPS, and the measured parameters are shown in Table II.\nVarious kinds of sensor faults may happen during the actual flight of a UAV. The analysis of the characteristics of the sensor before and after the fault is beneficial to the classification and modeling of the sensor fault, laying the foundation for the subsequent fault simulation and diagnosis.\nAccording to the causes of sensor faults, this paper analyzes and models the characteristics of GPS spoofing, weak signal, weaker signal, signal interruption fault, IMU multiplier fault, constant deviation fault, drift fault, transient signal drift, communication disconnection fault, and finally generates fault data through simulation.\nAfter a comprehensive analysis of the causes and manifestations of sensor faults, the mathematical model of the sensor is expressed in the following formula [24] [25].\nys (t) = k (t) y (t) + d (t) (1)\nWhere ys (t) represents the given expected output value; y (t) represents the actual output value; k (t) represents gain; trepresents the current moment; d (t) represents the deviation generated by the output value. The table II shows the importance of parameters in typical sensor fault modes. Figure 7 shows different fault types of sensors."
        },
        {
            "heading": "B. Analysis and modeling of steering gear fault characteristics",
            "text": "This paper studies the performance forms of the fault and analyzes the characteristics of the steering gear\u2019s constant deviation fault, stuck fault, loose fault, and damage fault. The corresponding mathematical model is established. According to the established model, the fault injection and simulation are carried on, and the fault data is generated. The figure 8 shows the fault types of the steering gear.\nThe mathematical model of the steering gear is shown in equation 2.\num (t) = k (t)uc (t) + d (t) (2)\nWhere um (t) represents the actual output value of the steering gear; uc (t) represents the given expected output value; d (t) represents the deviation generated by the output value; t represents the current moment; k (t) represents the gain. Table IV describes the parameters in a typical steering gear fault mode."
        },
        {
            "heading": "IV. BUILDING OF PLATFORM",
            "text": "The composition of the UAV damage effect semi-physical simulation evaluation system is shown in figure 9, which includes flight control, mission, and management computers (flight control computers), a digital simulation platform, and a comprehensive simulation management platform. Among them, the flight control computer includes the flight control computer of the UAV, which is the physical part of the semiphysical simulation system. The digital simulation platform consists of a simulation test computer, a conditioning interface module, and a digital model. The integrated simulation management platform includes the integrated management computer and its simulation management software.\nThe system hardware equipment is integrated into an 18U cabinet, mainly including flight control, management, and task computers, integrated management computers, simulation test computers, integrated control boxes, displays, and switches.\nThe imitation UAV studied in this project (shown on the left in figure 10), and Raytheon Co. \u2019s \u201cCoyote\u201d UAV (shown on the right in figure 10) both adopt up-down folding wings and a folded V tail, which can also be launched from the air or the ground using tubular containers.\nThe weight of the imitation UAV is about 6.5 kg (including the power device, power battery, parachute recovery system, control steering gear, and cable connector) shown in figure 11 and table V.\nThe semi-physical simulation platform is built based on the simulation test mode of the flight control computer in the loop. The flight control computer adopts the selfdeveloped physical product, corresponding to the flight control of the imitation UAV. Digital and discrete protocol interfaces and simulation test computers manage the flight status and instructions. The flight control algorithm is solved and analyzed on a real flight control computer.\nThe automatic injection of the test is mainly built by the integrated management computer and the simulation testing mechanism. The integrated management computer is mainly used for simulation test management, data moni-\ntoring, tracking attitude display, data acquisition, recording, etc. The built-in resource board card of the simulation test aircraft adopts the VxWorks real-time simulation system, which is mainly used to receive the simulation instructions of the integrated management computer, perform the realtime calculation of the digital model of the UAV and the functional model of the peripherals, and send real-time flight simulation data to the integrated management computer.\nThe signal resources of the simulation test machine are connected to the flight control computer through the conditioning interface box. The integrated control box has the function of signal disconnection, conditioning, and interface adaptation shown in figure 12."
        },
        {
            "heading": "V. DATA GENERATION AND DAMAGE EFFECT ANALYSIS",
            "text": "This paper only analyzes the damaging effect of steering gear failure, GPS failure, and IMU failure. The test process is shown in figure 13, and the specific steps are as follows:\n1) Fault injection and test: According to the fault feature extraction strategy, the fault injection test was carried out using multiple modes and fault nodes. 2) Test result recording and statistics: Record each test\u2019s input and output data, and make summary statistics. 3) UAV damage effect evaluation: The damage effect evaluation of UAVs is carried out."
        },
        {
            "heading": "A. Sensor Fault",
            "text": "1) GPS Fault: The size of the steering gear fault injected in hardware in the loop simulation is shown in table VI.\nDeception jamming faults, weak signals, and signal interruption faults in level flight all affect the normal completion of the task of the UAV, but the UAV can still land and attack. The weak signal fault will not affect the flight control of the UAV.\nIt can be seen from figure 14 that, after a given altitude of 400m, the UAV is subject to deception jamming for about 136 seconds in the level flight segment, GPS positioning fails, flight control is switched to IMU for positioning\ncontrol, and then after about 30 seconds of IMU positioning control divergence, flight control is switched to level flight control. Since the UAV cannot be controlled at a fixed height, it gradually glides downward. After estimation, At an average speed of 40m/s, after the fault is injected in the cruise section, it can still slide forward for about 8km and attack. The distance of sliding forward depends on the flight speed and vertical speed. IMU positioning control latitude changes by 0.05 \u00b0 within one second. After a period of time, the ground station judges that GPS positioning is invalid. After receiving the fault, the flight control enters the level flight control strategy, the pitch angle is kept at about 3 \u00b0, the lateral mode remains the same as the navigation state, glides forward, and the altitude gradually reduces to the final landing for the attack. The level flight phase of GPS deception jamming influences the target of UAV\u2019s surveillance and strike mission, but it can still attack.\nDeception jamming faults, weak signals, and signal in-\nterruption faults in the glide slope impact the normal completion of the task of the UAV, but the UAV can still land and attack. The weak signal fault will not affect the flight control of the UAV.\nIt can be seen from figure 15 that, after a given altitude of 400m, the UAV is subject to deception jamming in the glide section for about 188 seconds, GPS positioning fails, flight control is switched to IMU for positioning control, and then after about 30 seconds of IMU positioning control divergence, flight control is switched to level flight control. Since the UAV cannot be controlled at a fixed height, it gradually glides downward. After estimation, At an average speed of 40m/s, after the fault is injected into the glide slope, it can still glide forward for about 7km and attack.\nThe distance to glide forward depends on the flight speed and vertical speed. IMU positioning control latitude changes by 0.05 \u00b0 within one second. After a period of time, the ground station judges that GPS positioning is invalid. After receiving the fault, the flight control enters the level of the flight control strategy. The pitch angle changes from - 5 \u00b0 in the original glide state to about 3 \u00b0 in the level flight and continues to maintain. The lateral mode keeps the navigation state unchanged, glides forward, gradually decreases altitude, and finally lands to attack. GPS deception jamming climb phase influences the target of the UAV\u2019s surveillance and strike mission, but it can still attack.\n2) IMU Fault: The IMU fault size injected in the hardware in the loop simulation is shown in table VII.\nThe IMU drift fault and communication disconnection in the level flight phase impact the normal completion of the task of the UAV, but the UAV can still land and attack. Ride fault, constant deviation fault, and transient signal drift will not affect the flight control of UAVs.\nThe drift generated by the IMU sensor itself cannot return to the normal state for a while. The resulting error accumulation makes it difficult for the IMU to achieve longterm direction estimation, resulting in a large error between the parameters measured by the IMU and the actual.\nIt can be seen from figure 16 that after a given altitude of 400m, the control strategy is to maintain the previous rudder after the UAV injects IMU drift fault in the level flight phase. Since the aircraft\u2019s attitude cannot be maintained, it can only continue to output the rudder before IMU divergence, maintain speed control, and carry out tasks. The pitch angle gradually decreases, and the aircraft lowers its head. The roll angle is also declining, and the plane turns to a left roll. The flight track changes from the original straight-line cruise to\na slow glide to the left with a certain roll angle and can still attack the ground but cannot attack the target normally.\nThe IMU drift fault and communication disconnection in the glide slope impact the normal completion of the task of the UAV, but the UAV can still land and attack. Ride fault, constant deviation fault, and transient signal drift will not affect the flight control of UAVs.\nFrom figure 17, it can be seen that after a given altitude of 400m, the longitude and latitude of the UAV have little change after IMU drift fault is injected into the glide section, and the control strategy is to maintain the previous rudder. At this time, the output value of the airborne vertical gyroscope is randomly added with a constant compared with the output value of the normal value. The pitch angle maintains the previous angle, then glides at a certain descent speed, unable to complete the established task normally."
        },
        {
            "heading": "B. Actuator Failure",
            "text": "The size of the steering gear fault injected in hardware in the loop simulation is shown in table VIII.\nWhen the UAV runs to the level flight phase, inject a stuck fault in the steering gear channel through the S function as an example, and the system state output is shown in the figure above. When the jamming fault occurs, there is always a control angle for the steering gear, which constantly changes the three-axis attitude angle. The signal difference with the normal flight state increases continuously, leading to the UAV being out of control, causing severe consequences.\nThe steering gear jamming fault in the level flight phase impacts the normal completion of the mission of the UAV, but the UAV can still land and attack. Constant deviation fault, loose steering gear, damaged steering gear, and abnormal jitter will not affect the flight control of a UAV.\nIt can be seen from figure 18 that after a given altitude of 400m, the longitude and latitude of the UAV have little change before and after the injection of the steering gear\njamming fault in the level flight phase. The three-axis attitude angles are significantly reduced due to the influence of the steering gear jamming. The pitch angle is reduced, the roll angle is reduced, the yaw angle is reduced, the UAV lowers its head, and the altitude begins to decline. The UAV failed to resist the jamming of the steering gear, and the flight control computer could not control the UAV to adjust its attitude. The airspeed of the UAV gradually increased from 40m/s under the effect of gravity and finally hit the ground at a speed of 50m/s, unable to complete the task\nnormally. The steering gear jamming fault in the glide section impacts the expected completion of the task of the UAV, but the UAV can still land and attack. Constant deviation fault, loose steering gear, damaged steering gear, and abnormal jitter will not affect the flight control of a UAV.\nIt can be seen from figure 19 that after a given altitude of 400m, the longitude and latitude of the UAV do not change much before and after the injection of the steering gear jamming fault in the glide section, the pitch angle decreases by 10 \u00b0, the roll angle decreases, the yaw angle decreases, the UAV lowers its head, and the altitude starts to decline. The UAV failed to resist the interference of the jammed steering gear, and the flight control computer could not control the UAV to adjust its attitude, so it could not complete the task typically."
        },
        {
            "heading": "VI. DAMAGE ANALYSIS AND FAILURE COMPARISON",
            "text": "After the fault injection test on the UAV model, relevant test data are obtained, test data and data are sorted out for calculation and analysis, and test results are comprehensively analyzed.\nThe UAV damage effect analysis process is shown in figure 20, including:\n1) Damage effect analysis: analyze the impact of each failure mode on UAV flight and mission/control based on historical cases and test data. 2) Damage feature extraction: analyze and obtain UAV fault state features. 3) Comparative analysis: based on the fault state characteristics, analyze and judge the fault location, the impact on system performance, and the development trend of the fault to reverse the fault cause through the fault performance and provide technical support for the accurate strike and effectiveness analysis."
        },
        {
            "heading": "A. GPS Fault Feature Extraction",
            "text": "GPS deception jamming can locate the receiver in the wrong position, which is harmful. The basic idea of deception jamming is to change the input conditions of the location equation and input the wrong input conditions into the location equation to obtain the wrong solution. Therefore, the characteristic of GPS deception jamming fault is that it cannot maintain the previous flight state at the moment of fault injection, and it turns into an abnormal glide section with a larger glide slope. The roll angle and roll angle rate are rapidly and intensively oscillating. The throttle is reset to zero, which makes the UAV unable to complete the task typically and damages the UAV platform. After receiving the fault, the flight control enters the level flight control strategy, the pitch angle is maintained, the lateral mode remains the same as the navigation state, glides forward, and the altitude is gradually reduced, and finally lands to attack. The GPS deception jamming fault impacts the target of the UAV\u2019s surveillance and strike mission, but it can still attack.\nB. IMU Fault Feature Extraction\nIMU, namely inertial measurement unit, is used to measure the three-axis attitude angle (or angular rate) and acceleration of objects. IMU provides attitude and angular rate data for UAVs in the flight control system. IMU communication disconnection is harmful, and UAVs cannot obtain attitude and angular rate data. During fault injection, the throttle will return to zero, the altitude will drop, the UAV will bow, roll right to roll left, the yaw angle will fall, the roll angle and yaw angle will drop rapidly, and the roll angle rate and yaw angle rate will drop while shaking. It has an impact\non the UAV task and the UAV body platform. IMU drift fault is harmful. When the fault is injected, the throttle will return to zero, the altitude will drop, the UAV will bow, roll right to roll left, the yaw angle will fall, and the roll angle and yaw angle will drop rapidly after vibration. It will affect the UAV task and the UAV body platform.The IMU transient signal drift has little impact on the UAV mission but no impact on the UAV platform. The feature is that after fault injection, the three-axis attitude angle and angular attitude rate suddenly change. The airspeed rises and then drops, and the throttle falls and then rises."
        },
        {
            "heading": "C. Fault Feature Extraction of Steering Gear Faults",
            "text": "The characteristics of the constant deviation of the steering gear are that it does not affect the airspeed. The threeaxis attitude angle changes less, and there is no damage to the UAV platform. The UAV can generally complete the established task, and the aircraft is yaw free. The constant deviation of the injection steering gear in the climb phase does not affect the climb. The injection failure in the level flight phase makes the aircraft maintain level flight at a lower altitude, and the injection failure in the glide phase makes the aircraft turn to level flight. The characteristic of the steering gear jamming fault is that the steering gear jamming fault is injected in a specific flight phase. The control surface and flight characteristics of the previous flight phase will be maintained in the next flight phase, reflected explicitly in the delay of damage to the UAV platform. They will interfere with the regular progress of the aircraft mission. For example, the UAV with the injection steering gear stuck in the climb phase can generally complete the climb. Still, the steering gear cannot normally rotate after entering the level flight phase, resulting in the UAV lowering its head and altitude. The looseness of the steering gear is similar to the damage to the steering gear. After receiving the fault, the model cannot fully respond to the steering command sent by the flight control and cannot reach the target deflection angle given by the flight control, which increases the difficulty of flight control. There is no noticeable feature. The pitch angle changes abnormally and fluctuates up and down. The aircraft can normally complete the task with minor UAV platform damage. The three-axis attitude angle changes steadily. The abnormal jitter fault of the steering gear belongs to the odd departure of the steering gear, characterized by sharp changes in the roll angle, little impact on the altitude trajectory, burrs in the pitch angle change curve, and no obvious airspeed and altitude anomalies. It does not affect the UAV platform, and the aircraft can complete the task usually."
        },
        {
            "heading": "VII. CONCLUSION",
            "text": "Aiming at the problem of lack of fault data of UAVs, this paper proposes hardware in the loop simulation method based on the UAV digital simulation model to generate fault\ndata. First, a Simulink simulation model of the \u201cCoyote\u201d UAV is built according to the aerodynamic shape, and structural parameters of the American \u201cCoyote\u201d UAV, and then the dynamic characteristics of the model are verified. The matching degree between the simulation model and the real UAV is verified using actual flight data. Then, based on the simulation model, fault modeling and fault injection of sensors and actuators are completed to generate fault data. All digital simulation tests in this paper are carried out on the MATLAB 2018b platform.\nThe laboratory independently develops the hardware and software of this hardware in the loop simulation system. It has a broad versatility for the UAV platform. The experimental process based on multiple flights and airfoil tests is convenient. According to the different fault sizes, injection nodes, and fault types, a series of fault data are generated through hardware in the loop simulation, which provides a practical way for the damage effect analysis and feature extraction of the UAV Efficient and reliable solution. The rapid and effective evaluation of UAV status is necessary to improve weapon attack effectiveness. The damage effect evaluation results of UAVs serve as the basis for the commander\u2019s decision-making, quickly judge the damage of UAV, provide criteria for transferring the next target or continuing to attack, and achieve accurate fire control and efficient attack."
        },
        {
            "heading": "ACKNOWLEDGMENT",
            "text": "This research was supported by Northwestern Polytechnical University and Xi\u2019an Lyncon Electronic Sci. & Tech. Co., Ltd."
        }
    ],
    "title": "Research on Damage Analysis of Key Parts of UAV Flight Control System",
    "year": 2023
}