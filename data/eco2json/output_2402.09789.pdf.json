{
    "abstractText": "I provide a model of rational inattention with heterogeneity and prove it is observationally equivalent to a state-dependent stochastic choice model subject to attention costs. I demonstrate that additive separability of unobservable heterogeneity, together with an independence assumption, suffice for the empirical model to admit a representative agent. Using conditional probabilities, I show how to identify: how covariates affect the desirability of goods, (a measure of) welfare, factual changes in welfare, and bounds on counterfactual market shares.",
    "authors": [
        {
            "affiliations": [],
            "name": "Mart\u00edn Bustos"
        }
    ],
    "id": "SP:b01b83d1085e10c36ab0d7162d809e17e96f2de4",
    "references": [
        {
            "authors": [
                "V.H. Aguiar",
                "M.J. Boccardi",
                "N. Kashaev",
                "J. Kim"
            ],
            "title": "Random utility and limited consideration",
            "venue": "Quantitative Economics,",
            "year": 2023
        },
        {
            "authors": [
                "R. Allen",
                "J. Rehbeck"
            ],
            "title": "Identification with additively separable heterogeneity",
            "year": 2019
        },
        {
            "authors": [
                "R. B\u00e9nabou",
                "J. Tirole"
            ],
            "title": "Mindful economics: The production, consumption, and value of beliefs",
            "venue": "Journal of Economic Perspectives,",
            "year": 2016
        },
        {
            "authors": [
                "Z.Y. Brown",
                "J. Jeon"
            ],
            "title": "Endogenous information and simplifying insurance choice. Mimeo, University of Michigan",
            "year": 2020
        },
        {
            "authors": [
                "A. Caplin",
                "M. Dean"
            ],
            "title": "Revealed preference, rational inattention, and costly information acquisition",
            "venue": "American Economic Review,",
            "year": 2015
        },
        {
            "authors": [
                "A. Caplin",
                "M. Dean",
                "J. Leahy"
            ],
            "title": "Rational inattention, optimal consideration sets, and stochastic choice",
            "venue": "The Review of Economic Studies,",
            "year": 2019
        },
        {
            "authors": [
                "A. Caplin",
                "M. Dean",
                "J. Leahy"
            ],
            "title": "Rationally inattentive behavior: Characterizing and generalizing Shannon entropy",
            "venue": "Journal of Political Economy,",
            "year": 2022
        },
        {
            "authors": [
                "A. Caplin",
                "J.V. Leahy"
            ],
            "title": "Wishful thinking (No. w25707)",
            "venue": "National Bureau of Economic Research",
            "year": 2019
        },
        {
            "authors": [
                "M. Fosgerau",
                "E. Melo",
                "A. De Palma",
                "M. Shum"
            ],
            "title": "Discrete choice and rational inattention: A general equivalence result",
            "venue": "International economic review,",
            "year": 2020
        },
        {
            "authors": [
                "J. Joo"
            ],
            "title": "Rational inattention as an empirical framework for discrete choice and consumer-welfare evaluation",
            "venue": "Journal of Marketing Research, 60(2), 278-298.",
            "year": 2023
        },
        {
            "authors": [
                "M. Kovach"
            ],
            "title": "Twisting the truth: Foundations of wishful thinking",
            "venue": "Theoretical Economics, 15(3), 989-1022.",
            "year": 2020
        },
        {
            "authors": [
                "M. Liao"
            ],
            "title": "Identification of a rational inattention discrete choice model",
            "venue": "Journal of Econometrics, 240(1), 105670.",
            "year": 2024
        },
        {
            "authors": [
                "B. Ma\u0107kowiak",
                "F. Mat\u011bjka",
                "M. Wiederholt"
            ],
            "title": "Rational inattention: A review",
            "venue": "Journal of Economic Literature,",
            "year": 2023
        },
        {
            "authors": [
                "F. Mat\u011bjka",
                "A. McKay"
            ],
            "title": "Rational inattention to discrete choices: A new foundation for the multinomial logit model",
            "venue": "American Economic Review,",
            "year": 2015
        },
        {
            "authors": [
                "R.T. Rockafellar"
            ],
            "title": "Convex Analysis",
            "venue": "Princeton Math. Series, 28.",
            "year": 1970
        },
        {
            "authors": [
                "Caplin",
                "Dean",
                "Leahy"
            ],
            "title": "Q\u0302, q\u0302) \u2208 \u039b is an optimizer of (1) iff there exists \u03b8 \u2208 R such that, for each \u03b3\u0302 \u2208 Supp(Q\u0302) and a \u2208 A with q(a|\u03b3\u0302) > 0, the following inequality holds",
            "year": 2022
        }
    ],
    "sections": [
        {
            "text": "ar X\niv :2\n40 2.\n09 78\n9v 1\n[ ec\non .E\nM ]\n1 5"
        },
        {
            "heading": "1 Introduction",
            "text": "Seemingly mistaken decisions are sometimes rational. Often times, choice situations involve uncertainty about the payoffs to different alternatives. In principle individuals can gather information to learn about outcomes. Regardless of the abundance of available information, the extent to which uncertainty can be reduced is constrained when information acquisition is costly. Information costs can arise due to a variety of reasons, such as the cognitive effort to pay attention and the opportunity cost of the time needed to attend to the environment. Rationally inattention (RI) models incorporate attention as a scarce resource. There is a trade-off between accuracy of information and attention costs: on the one hand, the decision maker (DM) wants to learn as much as she can so as to make better informed deicisons; on the other hand, learning is costly in terms of attention effort. Rationally inattentive behavior involves a two-step optimization problem: first, the individual decides how to allocate her attention (i.e. how much and what to learn about the true state of the world -the true payoffs); then, she decides her choice given what was learned.\nRecent evidence suggests attention costs play a key role in rejecting the standard random utility model at describing aggregate behavior (Aguiar, Boccardi, Kashaev, and Kim, 2023). Moreover, RI models have been shown to have empirical content (Mat\u011bjka and McKay, 2015; Caplin, Dean, and Leahy, 2019) and nonparametric test for rationally inattentive behavior have been provided (Caplin and Dean, 2015; Caplin, Dean, and Leahy, 2022). Recent papers have proposed ways to estimate demand that account for costly information acquisition when the characteristics of the different alternatives are complex (Brown and Jeon, 2020) or not directly observable (Joo, 2023), reaching to conclusions, such that limiting the number of options available increases welfare, that contradict standard discrete-choice models.\n\u2217University of Western Ontario. Email: mbustos3@uwo.ca\nIn this paper, I aim at contributing to bridge the gap between the theory of rational inattention and empirical work.\nTaking RI models to the data is challenging. First, most of the literature is restricted to individual behavior, not accounting for heterogeneity. Notable exceptions that include heterogeneity are recent papers proposing ways to estimate these models (Brown and Jeon, 2023; Joo, 2023; Liao, 2024). Second, the standard cost function used in the literature, the Shannon entropy, is too empirically restrictive. As shown in Mat\u011bjka and McKay (2015), in RI models with Shannon entropy, choice probabilities follow a multinomial logit form. Albeit conveniently tractable, this modeling choice comes at the cost of imposing the condition of independence of irrelevant alternatives (IIA) on observable behavior, hence resulting in unrealistic substitution patterns (i.e. the ratio of choice frequencies between two alternatives does not change when adding or substracting a third item from the menu). Recent efforts have been made to keep tractability without harming empirical relevance. Caplin and Dean (2015) use a generic cost function. Fosgerau, Melo, De Palma, and Shum (2020) use Bregmann information costs, a generalized entropy that allows for more realistic substitution patterns. Caplin et al. (2022) propose two classes of posterior-separable cost functions that allow for the use of standard Lagrangian methods to solve the model, while relaxing the restrictions placed by the Shannon entropy. To prevent undesirable behavioral restrictions, I present a theoretical model that generalizes Caplin et al. (2022) by including additively separable latent heterogeneity in both preferences and attention costs. By introducing unobservable heterogeneity, I am able to describe the population of rationally inattentive DMs. To my best knowkledge, this is the first paper using RI for identifying demand that does not make use of an entropy cost.\nThird, most features of RI models cannot be directly observable. For instance, attention allocations are modeled either as information structures (e.g. Caplin and Dean, 2015) or Bayes-consistent mixtures of posterior distributions (Caplin et al., 2022). For this reason, the literature has provided an equivalent empirical counterpart: a state-dependent stochastic choice (SDSC) model subject to information costs (Mat\u011bjka and McKay, 2015; Caplin et al., 2019; Caplin et al., 2022). SDSC data consists of choice frequencies at each possible (discrete) state of the world. I present a constrained SDSC model with additively separable heterogeneity and prove it is equivalent to my theoretical model.\nFourth, most papers in the literature assume that the utilities are known. Moreover, in these models, it is usually not possible to separately identify preferences and attention costs. I address this issue by adding observable covariates (i.e. alternativespecific attributes) in the alternative-specific utility indices. Due to additive separability of latent heterogeneity and an independence assumption, I show that my model admits a representative agent and belongs to the class of perturbed utility models (PUMs), thus allowing me to use the identification results in Allen and Rehbeck (2019). Using conditional probabilities of choice given observed covariates and states, I recover utility indices, (a measure of) welfare, factual changes in welfare, and counterfactual bounds on choice probabilities.\nFurthermore, by assuming that alternative-specific utility indices are additively separable in states, I am able to extend the identification results to stochastic choice data, that is, assuming the econometrician observes conditional probabilities of choice given observed covariates only. This latter result is of interest to practitioners of demand estimation since the requirement on observables is only market-level data.\nMore generally, my paper is related to models of costly information acquisition. A strand of this literature studies models of motivated cognition, where decision makers form beliefs and make choices under uncertainty in the presence of a trade-\noff between accuracy and desirability of information. Individuals with motivated cognition typically either have preferences over beliefs or derive anticipatory utility from the flow of expected returns that investment in beliefs yield (B\u00e9nabou and Tirole, 2016). Within the theory of motivated cognition, models of wishful thinking predict that individuals manipulate their beliefs to maximize their subjective expected utility net of belief-distorsion costs (Caplin and Leahy, 2019; Kovach, 2020). The types of behavior explained by wishful thinking span procrastination, confirmation bias, and polarization. One of the most relevant applications of these models is the market for assets as the behavior predicted by the theory explains the occurrence of price bubbles.\nThe RI model with heterogeneity I provide is of general interest since it might be extended to cover models of costly information acquisition other than rational inattention, such as wishful thinking. Moreover, it could be used to develop a statistical test for the null hypothesis that a dataset of conditional distributions was generated by a population of rationally inattentive consumers.\nThe rest of the paper proceeds as follows. Section 2 introduces my RI model. Section 3 shows equivalence between this model and an empirical counterpart. Section 4 covers the properties of the latter, which are exploited for establishing identification with conditional mean state-dependent stochastic choice data in Section 5. Section 6 imposes additional structure to the model that enables identification with conditional mean stochastic choice data. Section 7 concludes and discusses future research."
        },
        {
            "heading": "2 Model",
            "text": "Consider a population of decision makers (DMs) who choose among a finite set of alternatives A whose payoffs vary with the occurrence of different states of the world. The set of conceivable states of the world \u2126 is finite and known to them, and at the moment of making a decision, it is uncertain what the actual realization of the state is. \u03b3 \u2208 \u2206(\u2126) is a belief about the true state, where \u2206(\u2126) denotes the set of probability distributions on \u2126. DMs want to pick the alternative that gives the highest perturbed expected utility,\n\u03b3 \u00b7 ua(\u03c9) +E(a),\nwhere ua(\u03c9) is a |\u2126|-dimensional vector whose j th component is the utility index ua(\u03c9j) representing the desirability of item a in state \u03c9j , and the disturbance function E : A 7\u2192 R \u222a {\u2212\u221e} denotes unobservable heterogeneity in preferences, independent of the state.1 The distrubance function can be interpreted as heterogeneity across individuals in the population and across choice instances, i.e. a preference shock. Importantly, at the moment of decision-making, the realization of this disturbance function is known to the individual.\nIn this environment, DMs are endowed with a prior belief \u00b5 \u2208 \u2206(\u2126), which they can update by gathering information about the state. A DM is said to learn something when the posterior belief \u03b3 she forms differs from the prior. Learning, however, comes at a cost. Let T \u2208 T be the posterior-specific attention cost function, where T is the space of convex functions T : \u2206(\u2126) 7\u2192 R+ \u222a{+\u221e} that satisfy T (\u00b5) = 0. Intuitively, learning nothing is costless and learning something is weakly costly. This function represents latent heterogeneity in disutility from attention\n1Throughout the paper, I use boldface to refer to random objects.\neffort. One may think of these attention costs as cognitive effort from paying attention or the opportunity cost of the time spent on learning. The realization of the attention costs is also known to the individual at the moment of deciding. Define\nNa(\u03b3;\u03c9,E,T) := \u03b3 \u00b7 ua(\u03c9) +E(a)\u2212T(\u03b3),\nthe net expected utility of choosing a at \u03b3. Note the trade-off between accuracy of information and attention effort. Whereas in principle, individuals would like to learn as much as possible about the true state to make better informed decisions that lead to higher payoffs, acquiring information is costly.\nDMs face a two-step decision problem. The first step is deciding the attention allocation: how much to learn from the environment. An attention allocation Q \u2208 \u2206(\u2206(\u2126)) is a probability distribution over beliefs, where Q(\u03b3) denotes the probability of a posterior \u03b3. Intuitively, the extent to which the formed posterior belief \u03b3 differs from the prior \u00b5 indicates how much is learned. Let\nQ :=\n\n\n\nQ \u2208 \u2206(\u2206(\u2126)) \u2223 \u2223\n\u2223\n\u2211\n\u03b3\u2208Supp(Q)\nQ(\u03b3)\u03b3 = \u00b5\n\n\n\nbe the set of feasible attention allocations, that is, the set of distributions in \u2206(\u2206(\u2126)) that satisfy Bayes\u2019 rule.2 The second step is selecting a stochastic choice function q : Supp(Q) 7\u2192 \u2206(A) which, for each realized posterior, gives a probability distribution over alternatives in the choice set. Let\n\u039b := {Q \u2208 Q, q : Supp(Q) 7\u2192 \u2206(A)}\nbe the set of feasible posterior-based policies. The perturbed expected utility of a given feasible posterior-based policy (Q, q) \u2208 \u039b is given by\n\u2211\n\u03b3\u2208Supp(Q)\n\u2211\na\u2208A\nQ(\u03b3)q(a|\u03b3) (\u03b3 \u00b7 ua(\u03c9) +E(a)) .\nThe expression\n\u2211\n\u03b3\u2208Supp(Q)\nQ(\u03b3)T(\u03b3)\ndenotes the attention cost at a Bayes-consistent attention allocation Q \u2208 Q. A DM is said to be rationally inattentive if she chooses a pair (Q,q) in the subset of feasible posterior-based policies \u039b \u2282 \u039b that majorize the perturbed expected utility net of attention costs,\nsup (Q,q)\u2208\u039b\n\u2211\n\u03b3\u2208Supp(Q)\n\u2211\na\u2208A\nQ(\u03b3)q(a|\u03b3) (\u03b3 \u00b7 ua(\u03c9) +E(a)\u2212T(\u03b3)) . (1)\nWrite (1) as a two-step optimization problem:\nsup Q\u2208Q\n\u2211\n\u03b3\u2208Supp(Q)\nQ(\u03b3) sup q(\u03b3)\u2208\u2206(A)\n\u2211\na\u2208A\nq(a|\u03b3)Na(\u03b3;\u03c9,E,T).\nFix any \u03b3 \u2208 SuppQ. Then the second-stage problem satisfies:\n2The notation SuppQ refers to the support of distribution Q.\nsup q(\u03b3)\u2208\u2206(A)\n\u2211\na\u2208A\nq(a|\u03b3)Na(\u03b3, \u03c9,E,T) = Na(\u03b3;\u03c9,E,T),\nfor each a \u2208 A with q(a|\u03b3) > 0. Define the value of a posterior \u03b3 as the maximized net expected utility at \u03b3,\nN(\u03b3;\u03c9,E,T) := max a\u2208A\n{Na(\u03b3;\u03c9,E,T)} .\nNote that the maximized value attained in (1) can then be written as the optimization of posterior-specific values over Bayes-consistent attention policies,\nsup Q\u2208Q\n\u2211\n\u03b3\u2208Supp(Q)\nQ(\u03b3)N(\u03b3;\u03c9,E,T). (2)\nBefore stating my first assumption, I introduce some concepts that are necessary to characterize the solution to the model. Fix any (E, T ) in the support. In the interest of compactness in the notation, below I will not explicitly write (E, T ) in the functions parametrized by this tuple (e.g. N(\u03b3) \u2261 N(\u03b3;\u03c9,E, T )). Define the supporting function of the hypograph of N in the direction \u03bb \u2208 R|\u2126|,\n\u03b4\u2217(\u03bb|hypN) := sup \u03b3\u2208\u2206(\u2126),r\u2264N(\u03b3) \u03bb1r + \u03bb2 \u00b7 \u03b3,\nand denote by \u0393 (\u03bb) the set of posteriors supported by the supporting hyperplane in the direction \u03bb,\n\u0393 (\u03bb) := { \u03b3 \u2208 \u2206(\u2126) \u2223 \u2223\n\u2223 \u03bb1N(\u03b3)\u2212 \u03bb2 \u00b7 \u03b3 = \u03b4\n\u2217(\u03bb|hypN) } ,\nwhich generates the matrix\n\u0393\u03bb := [\u03b3 (1) ... \u03b3(N)], where\n{ \u03b3(1) ... \u03b3(N) } = \u0393 (\u03bb),\nwith arbitrary order n = 1, ..., N .3\nExample 1. Consider A = {a, b}, \u2126 = {\u03c91, \u03c92}, ua(\u03c91) = 10, ua(\u03c92) = 5, ub(\u03c91) = 12, ub(\u03c92) = 3, E(a) = 1, E(b) = 2, and T (\u03b3) = 4(\u03b3 \u2212 1 2 )\n2. In Figure 1, see the plots for the net expected utility functions Na, N b, the objective function N , the hypograph of the objective function hypN , and examples of supporting hyperplanes of hypN .\nAssumption 1. Suppose the following: (i) Q, q, E, and T satisfy (1); (ii) E(a) 6= \u2212\u221e for some a \u2208 A, T is strictly convex in \u03b3; (iii) the joint distribution of (E,T) satisfies\nP\n({ (E, T ) \u2208 E \u00d7 T \u2223 \u2223\n\u2223 rank\u0393\u03bb(E, T ) = |\u0393 (\u03bb,E, T )|\n})\n= 1,\nfor all directions \u03bb \u2208 R|\u2126|; and (iv) for any arbitrary order j = 1, ..., J = |\u2126|,\n(ua,\u03c91 \u2212 ua,\u03c9J , ..., ua,\u03c9J\u22121 \u2212 ua,\u03c9J ) T 6= (ub,\u03c91 \u2212 ua,\u03c9J , ..., ub,\u03c9J \u2212 ua,\u03c9J ) T\nfor each a \u2208 A, b \u2208 A\\{b}.\n3See Section 13 in Rockafellar (1970) for a more thorough explanation of the support function.\nIn Assumption 1, condition (i) means that the model in (1) is the data-generating process. Condition (ii) ensures that the disturbance function is such that there is always at least one alternative a whose perturbed expected utility is a real number. Since the attention cost function evaluated at the prior is 0, then the feasible strategy (Q, q) with Q(\u00b5) = 1 and q(a|\u00b5) = 1 gives always a real value. Therefore, the model has at least one maximizer. Condition (iii) implies that for any direction, the number of posteriors on the supporting hyperplane is at most as large as the number of possible states. This condition prevents the model from having mutiple optimal attention allocations. Finally, condition (iv), imposes that for each pair of alternatives a and b, their corresponding net expected utilities Na(\u03b3) and N b(\u03b3) have different slopes at each posterior belief \u03b3. This condition precludes optimal stochastic choice functions from giving nondegenerate distributions at any posterior supported by the optimal attention allocation. In other words, indifference among alternatives is ruled out at each optimal posterior, thus resulting in a unique optimal choice function. Overall, the conditions stated in this assumption suffice for an optimizer of the model to exist and to be unique.\nProposition 1. (Uniqueness). Let Assumption 1 hold. Then for any fixed (D,T ) in the support, (Q\u0302, q\u0302) \u2208 \u039b that solves (1) exists and is unique. In particular, the optimal attention policy Q\u0302 is the fully-supported distribution over posteriors supported by the hyperplane tangent to the lower concave envelope of the function N at the prior \u00b5, and the optimal choice q\u0302 maps each optimal posterior \u03b3\u0302 \u2208 Supp(Q\u0302) to a degenerate distribution on A.\nFor any (D,T ) in the support, an optimal posterior \u03b3\u0302 is said to be uniquely associated with an alternative a in the choice set if at \u03b3\u0302, a is chosen with probability 1 and a is not chosen with positive probability at any other optimal posterior.\nDue to functions (Na) a\u2208A being strictly concave in \u03b3 and since at each optimal posterior, there are no ties among alternatives, then it follows that the supporting hyperplane that characterizes optimal posteriors can be tangent to any function Na at most at one point. As a result, each optimal posterior is uniquely associated with one alternative in the choice set, i.e. if (Q\u0302, q\u0302) is optimal, then it follows that for each \u03b3\u0302 \u2208 Supp(Q\u0302) there is a \u2208 A such that q\u0302(a|\u03b3\u0302) = 1 and q\u0302(a|\u03b3\u0302\u2032) = 0 for each \u03b3\u0302\u2032 \u2208 Supp(Q\u0302)\\{\u03b3\u0302}. I formalize this result below.\nDefine the set of posteriors at which, the optimal choice is a,\n\u03b3a := {\u03b3 \u2208 Supp(Q)|q(a|\u03b3) = 1} .\nCorollary 1. Under Assumption 1, for any fixed (E, T ), the solution (Q\u0302, q\u0302) to (1) is such that each \u03b3\u0302 \u2208 Supp(Q\u0302) is such that \u03b3a = {\u03b3\u0302} for a unique a \u2208 A.\nIf an optimal posterior \u03b3\u0302 is uniquely associated with an alternative a in the choice set, it is known that when \u03b3\u0302 is realized, a is picked with probability 1, and that the only optimal posterior at which a is chosen is \u03b3\u0302. This property will be crucial to map the model to observables in the next section.\nFinally, note that (1) can be further reexpressed as\nsup Q\u2208Q\n\u2211\n{a\u2208A|\u2203\u03b3\u2208SuppQ:\u03b3=\u03b3a}\nQ(\u03b3a)Na(\u03b3a;\u03c9,E,T). (3)"
        },
        {
            "heading": "3 State-Dependent Stochastic Choice",
            "text": "In this section, I explore the link between my model with heterogeneity and statedependent stochastic choice data, the empirical primitive in the literature. Such datasets comprise choice frequencies at each possible state.\nDefine P := {P : \u2126 7\u2192 \u2206(A)}, the set of state-dependent stochastic choice (SDSC) functions. While attention allocations and choice functions are not directly observable, SDSC functions might be in principle observed by the analyst. I then study how, according to my model, decisions by rationally inattentive individuals relate to SDSC data.\nDefinition 1. (Generated State-Dependent Stochastic Choice Data) Let P \u2208 P be the SDSC data generated by (Q, q) \u2208 \u039b, where for each \u03c9 \u2208 \u2126, a \u2208 A,\nP (a|\u03c9) := \u00b5(\u03c9)\u22121 \u2211\n\u03b3\u2208Supp(Q)\nQ(\u03b3)q(a|\u03b3)\u03b3(\u03c9),\nis the conditional probability of picking item a at state \u03c9, and for each a \u2208 A,\nP (a) := \u2211\n\u03b3\u2208Supp(Q)\nQ(\u03b3)q(a|\u03b3)\ndenotes the unconditional probability of choosing a.\nUniqueness of the maximizer in the rational inattention model entails that, for any given realization of heterogeneity (D,T ), the pair consisting of the optimal attention allocation and the optimal choice function (Q, q) unequivocally induces a unique SDSC function P . I formalize this result below.\nLemma 1. Let Assumption 1 hold. Then the SDSC function P generated by (Q,q) that solves (1) is unique and such that for each a \u2208 A, it satisfies\nP(a|\u03c9) =\n{\n\u00b5(\u03c9)\u22121Q(\u03b3)\u03b3a(\u03c9), if \u03b3a \u2208 Supp(Q)\n0, otherwise,\nfor each \u03c9 \u2208 \u2126, and consequently,\nP(a) =\n{\nQ(\u03b3a), if \u03b3a \u2208 Supp(Q)\n0 otherwise.\nProof. By Proposition 1, (Q,q) solving (1) is unique and such that at each \u03b3 \u2208 Supp(Q), q(\u03b3) is a degenerate distribution over A. Moreover, by Corollary 1, each \u03b3 \u2208 Supp(Q) satisfies \u03b3 = \u03b3a for some a \u2208 A.\nCorollary 2. Under Assumption 1, the optimal posterior uniquely associated with a is such that satisfies\n\u03b3 a(\u03c9) =\nP(a|\u03c9)\u00b5(\u03c9)\nP(a) , for each \u03c9 \u2208 \u2126.\nNext, I show what plausibly observable SDSC data reveals from rationally inattentive behavior and provide a state-dependent stochastic choice model subject to attention costs with latent heterogeneity.\nDefinition 2. Define the following objects revealed by a SDSC function \u03c1 \u2208 P : (Revealed posteriors) \u03b3\u0304a(\u03c9) := \u03c1(a|\u03c9)\u00b5(\u03c9) \u03c1(a) , for each a \u2208 Supp(\u03c1), \u03c9 \u2208 \u2126; (Revealed attention) Q\u0304(\u03b3) := \u2211\n{a\u2208A|\u03b3=\u03b3\u0304a} \u03c1(a), for each \u03b3 \u2208 \u2206(\u2126); and (Revealed choice)\nq\u0304(a|\u03b3\u0304a) := \u03c1(a) Q\u0304(\u03b3\u0304a) , for each a \u2208 Supp(\u03c1) and 0 otherwise.\nNow consider an alternative model where the choice set, uncertainty about payoffs, prior beliefs, and latent heterogeneity, all remain the same as in (1), but where, instead of solving a two-step problem, DMs make a single-step decision. In other words, given a choice set A and an endowment of utility indices u and prior belief \u00b5, individuals drawing latent functions E and T choose a SDSC function \u03c1 \u2208 P that gives a probability distribution over alternatives in A at each state \u03c9 \u2208 \u2126. In this model, the perturbed expected utility of an item a is\nJ \u2211\nj=1\n\u03c1(a|\u03c9j)\u00b5(\u03c9j)\n\u03c1(a) ua(\u03c9j) +E(a).\nLet f be a vector-valued function f : P \u00d7 A 7\u2192 \u2206(\u2126) where for \u03c1 \u2208 P , a \u2208 A, the jth entry of f(\u03c1; a) is defined as fj (\u03c1; a) := \u03c1(a|\u03c9j)\u00b5(\u03c9j)\n\u03c1(a) for a \u2208 Supp(\u03c1), \u03c9j \u2208 \u2126,\nand f (\u03c1; a) = 0|\u2126|\u22121 for a \u2208 A\\{Supp(\u03c1)}. Interpret the function f evaluated at (\u03c1; a) as the posterior belief resulting from \u03c1(a). The net expected utility of a at f(\u03c1; a) is\nNa (f(\u03c1; a);\u03c9,E,T) := f(\u03c1; a) \u00b7 ua(\u03c9) +E(a)\u2212T (f(\u03c1; a)) .\n\u03c1 \u2208 P is chosen to solve\nsup \u03c1\u2208P\n\u2211\na\u2208A\n\u03c1(a) [f(\u03c1; a) \u00b7 ua(\u03c9) +E(a)\u2212T (f(\u03c1; a))] . (4)\nNote that by definition of Na, the model can be equivalently expressed as\nsup \u03c1\u2208P\n\u2211\na\u2208A\n\u03c1(a)Na (f(\u03c1; a);\u03c9,E,T) .\nNotice further that under Assumption 1 (iv), a \u2208 Supp(\u03c1) implies that for any (E, T ) in the support,"
        },
        {
            "heading": "Na (f(\u03c1; a);\u03c9,E, T ) > N b (f(\u03c1; a);\u03c9,E, T ) , for each b \u2208 A.",
            "text": "Hence, by definition of N , the model can be further reexpressed as\nsup \u03c1\u2208P\n\u2211\na\u2208A\n\u03c1(a)N (f(\u03c1; a);\u03c9,E,T) . (5)\nUnder my assumptions, this model too has a unique maximizer. As a result, fixing any latent functions (E, T ) in the support, revealed posteriors, revealed attention and revealed choice functions may be recovered from SDSC data.\nProposition 2. Let Assumption 1 hold. Then there exists a unique \u03c1 \u2208 P that solves (4). Moreover, for each a \u2208 Supp(\u03c1) the following conditions are met: the revealed posterior satisfies \u03b3\u0304a(\u03c9j) = \u03c1(b|\u03c9j)\u00b5(\u03c9j)\n\u03c1(b) for each \u03c9j \u2208 \u2126 only if b = a; the\nrevealed attention satisfies Q\u0304(\u03b3\u0304a) = \u03c1(a); and the revealed choice is such that\nq\u0304(b|\u03b3\u0304a) =\n{\n1, for b = a 0, otherwise, for each b \u2208 A.\nUniqueness in both models allows me to enunciate the main result of the paper.\nTheorem 1. (Equivalence) Let Assumption 1 hold. Then, the following propositions are equivalent:\n(i) The posterior-based policy (Q,q) \u2208 \u039b is the maximizer of (1); (ii) The SDSC function P \u2208 P generated by (Q,q) \u2208 \u039b is the maximizer of (4). (iii) The SDSC function \u03c1 \u2208 P is the maximizer of (4); and (iv) The pair consisting of an attention and choice distribution (Q\u0304, q\u0304) \u2208 \u039b re-\nvealed by \u03c1 \u2208 P is the maximizer of (1).\nUnder Assumption 1, the optimizer of each version of the model satisfies the one-to-one mapping property with respect to the other. If a pair of an attention allocation and a choice function is the optimizer (1), then it follows that its empirical counterpart, its generated SDSC function, is the maximizer of (4). On the other hand, if a SDSC function is the maximizer (4), then its theoretical counterpart, the pair consisting of its revealed attention and revealed choice function, is the optimizer of (1).\nOne of the reasons why this result is critical to learn about aggregate demand of a population of rationally inattentive individuals is because it implies the theoretical model and its empirical counterpart, the constrained SDSC model, can be used interchangeably. This is useful as mean SDSC data might in principle be observable."
        },
        {
            "heading": "4 Properties of the SDSC model",
            "text": "The SDSC model presented before is a perturbed utility model (PUM). In the interest of identifying structural and counterfactual parameters related to changes in prices and other attributes, I extend the model to incorporate covariates. I then impose assumptions sufficient to derive desirable aggregation properties of the model and features of its optimization structure that enable identification with conditional mean SDSC data.\nFor each alternative a \u2208 A, let xa \u2208 Xa \u2286 R La be a random vector listing attributes of a. For each a \u2208 A, \u03c9j \u2208 \u2126, let ua(., \u03c9j) : Xa 7\u2192 R be a utility index that represents how attributes affect the desirability of item a at state \u03c9. Denote ua(xa, \u03c9) := (ua(xa, \u03c91), ..., ua,(xa, \u03c9J)) T , the vector of utilities of item a evaluated at xa at each possible state \u03c91, ..., \u03c9J \u2208 \u2126.\nAssumption 2. Suppose the following: (i) Q, q, x, E, and T satisfy\nsup (Q,q)\u2208\u039b\n\u2211\n\u03b3\u2208Supp(Q)\n\u2211\na\u2208A\nQ(\u03b3)q(a|\u03b3) (\u03b3 \u00b7 ua(xa, \u03c9) +E(a)\u2212T(\u03b3)) ;\nand (ii) x and (E,T) are independent."
        },
        {
            "heading": "4.1 Aggregation",
            "text": "For the purpose of identification of structural and counterfactual parameters, the SDSC model is useful, not only due to being the observable counterpart of the theoretical model, but also because it keeps the additively separability property of latent heterogeneity. This condition together with the independence assumption allow me to link my rational inattention model with latent heterogeneity to the identification framework in Allen and Rehbeck (2019).\nConcretely, additively separable latent heterogeneity and independence are the key conditions that suffice for the model to admit a representative agent, which is key for establishing identification under the assumption that conditional mean SDSC data is observable.\nLemma 2. (Theorem 1 in Allen and Rehbeck [2019]). Let Assumption 1 hold except (i). Let Assumption 2 hold. Let x \u2208 Supp(x) and suppose P is (x,E,T)-measurable, and both E[P|x = x] and\nE\n[\n\u2211\na\u2208A\nP(a) (E(a)\u2212T(\u03b3a))\n]\nexist and are finite, where the expectations are over the joint distribution of (E,T). Then it follows that (i) E[P|x = x] is an optimizer of the representative agent problem,\nsup P\u2208P\n\u2211\n\u03c9\u2208\u2126\n\u2211\na\u2208A\nP (a|\u03c9)\u00b5(\u03c9)ua(xa, \u03c9) + D\u0304(P ),\nwith\nD\u0304(P ) = sup {P \u2032\u2208P(E,T)|E[P \u2032]=P} E\n[\n\u2211\na\u2208A\nP \u2032(a) (E(a)\u2212T (f(P \u2032, a)))\n]\n,\nwhere P(E,T) is the set of (E,T)-measurable functions that map to P. (ii) Define the indirect utility function of the representative agent problem,\nV (v) := sup P\u2208P\n\u2211\n\u03c9\u2208\u2126\n\u2211\na\u2208A\nP (a|\u03c9)\u00b5(\u03c9)va,\u03c9 + D\u0304(P ).\nThus, V satisfies\nV (u(x, \u03c9)) = E\n[\nsup P\u2208P\n\u2211\n\u03c9\u2208\u2126\n\u2211\na\u2208A\nP (a|\u03c9)\u00b5(\u03c9)ua(xa, \u03c9) + \u2211\na\u2208A\nP (a) (E(a)\u2212T (f(P, a)))\n]\n.\nThis aggregation result renders identification of the distribution of unobservable heterogeneity unnecessary to identify utility indices or mean indirect utility, as well as specifies the data requirements for identification. Specifically, it is sufficient to observe conditional mean SDSC functions (E[P|\u03c9,x = x])\u03c9\u2208\u2126. Note that in both the problem of the representative agent and the average indirect utility V , optimization is over function in P . According to the original theorem in Allen and Rehbeck (2019), optimization in both cases is over the convex hull of the set P . However, the convex hull of P is the set P itself.\nAs the aggregation theorem requires the convex hull of the feasibility set, using the SDSC model is necessary for measure-theoretic reasons. If one considers the theoretical model, the convex hull of \u039b is \u039b itself. It is clear that, in contrast to P , Q is an infinite-dimensional set, and hence, does not fit in the theorem proposed by Allen and Rehbeck (2019)."
        },
        {
            "heading": "4.2 Structure",
            "text": "Building upon the aggregation result, I am able to exploit the optimization structure of the model for identification. Concretely, I apply an envelope theorem to the representative agent model and leverage asymmetries of cross-parital derivatives of the conditional mean SDSC function.\nBelow, I derive the properties that follow from the optimization structure of the model and leave the identification results for the next section.\nRemark 1. ConvP is a nonempty, closed and convex set.\nAssumption 3. Suppose the following: (i) E[P|x = x] is the unique optimizer of\nsup P\u2208P\n\u2211\n\u03c9\u2208\u2126\n\u2211\na\u2208A\nP (a|\u03c9)\u00b5(\u03c9)ua(xa, \u03c9) + D\u0304(P ),\nfor each x \u2208 Supp(x); (ii) D\u0304 : P 7\u2192 R\u222a{\u2212\u221e} is concave, upper semi\u2013continuous, and finite at some P \u2208 P.\nLemma 3. (Roy\u2019s identity [Lemma 2 in Allen and Rehbeck (2019)] Let Assumption 3 hold. Then, for each a \u2208 A, \u03c9j \u2208 \u2126,\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j) = \u2202\n\u2202va,j V (~v)\n\u2223 \u2223 \u2223 \u2223 \u2223\nv=u(x,\u03c9)\n.\nLemma 4. (Slutsky conditions [Lemma 2 in Allen and Rehbeck (2019)]). Let Assumption 3 hold and let V be twice continuously differentiable in a neighbourhood of v \u2208 R|A|\u00d7|\u2126|. Then, the following conditions are satisfied: (i) (Positive semi-definitiness) \u03bbT\u22072V (v)\u03bb \u2265 0, for all \u03bb \u2208 R|A|\u00d7|\u2126|; and (ii) (Symmetry)\n\u22022\n\u2202va,j\u2202vb,j V (v) = \u2202\n2\n\u2202vb,j\u2202va,j V (v) for all a, b \u2208 A and j = 1, ..., J .\nLemma 5. [Lemma 3 in Allen and Rehbeck (2019)] Let Assumption 3 hold. Define\nD\u0304P(P ) :=\n{\nD\u0304(P ), if P \u2208 P\n\u2212\u221e, otherwise.\nIf D\u0304P(P ) is differentiable at E[P|x = x], then for each a \u2208 A, \u03c9j \u2208 \u2126,\n\u00b5(\u03c9j)ua(xa, \u03c9j) = \u2212 \u2202\n\u2202P (a|\u03c9j) D\u0304P(P )\n\u2223 \u2223 \u2223 \u2223 \u2223\nP=E[P|x=x]\n."
        },
        {
            "heading": "5 Identification with SDSC data",
            "text": "The fact that the model admits a representative agent indicates that observing the conditional mean SDSC function is the only data requirement for identification. This is to say, it is enough for the analyst to observe the conditional probability distribution of choice at each possible state.\nAssumption 4. Suppose the following: (i) (Observables) the econometrician observes (can consistently estimate) the mean generated SDSC data\n{P(a|\u03c9j,x = x)}a\u2208A,\u03c9j\u2208\u2126 ,\nfor each x \u2208 Supp(x), where P(a|\u03c9j ,x = x) = E[P(a|\u03c9j)|x = x] and the expectation is over the joint distribution of (E,T); and (ii) (Full support) for each \u03c9j \u2208 \u2126, x \u2208 Supp(x), E[P(a|\u03c9j)|x = x] > 0 for each a \u2208 A."
        },
        {
            "heading": "5.1 Identification of good-state-specific utility indices",
            "text": "Using assymmetry of the cross-partial derivatives of the conditional mean SDSC function and an exclusion restriction (i.e. covariates are exclusive to one alternative), I identify the utility indices up to location and scale without having to recover the distribution of latent heterogeneity.\nDefinition 3. \u2202 \u2202xa,p ua(xa, \u03c9j)|xa=x\u2217a and \u2202 \u2202xb,q ub(xb, \u03c9j)|xb=x\u2217b are said to be paired if they exist and the following conditions holds: (i) There exists a known value x\u2217 \u2208 Supp(x) whose ath and bth components are x\u2217a and x \u2217 b , respectively; (ii)\n\u2202 \u2202xa,p E[P(a|\u03c9j)|x = x]|x=x\u2217 and \u2202 \u2202xb,q E[P(b|\u03c9j)|x = x]|x=x\u2217 exist; (iii) V is twice continuously differentiable in a neighbourhood of u(x\u2217); and \u2202 2\n\u2202va,j\u2202vb,j V (v)|v=u(x\u2217,\u03c9) 6=\n0. If, in addition, \u2202 \u2202xa,p ua(xa, \u03c9j)|xa=x\u2217a 6= 0 and \u2202 \u2202xb,q ub(xb, \u03c9j)|xb=x\u2217b 6= 0, then they are said to be strictly paired.\nLemma 6. [Proposition 1 in Allen and Rehbeck (2019)] Let Assumption 3 hold and assume xa,p and xb,q are regresssors specific to a and b, respectively. If the points\n\u2202 \u2202xa,p ua(xa, \u03c9j)|xa=x\u2217a and \u2202 \u2202xb,q ub(xb, \u03c9j)|xb=x\u2217b are paired and \u2202 \u2202xb,p ub(xb, \u03c9j)|xb=x\u2217b 6= 0, then there is some known x\u2217 \u2208 Supp(x) such that\n\u2202 \u2202xa,p\nE[P(b|\u03c9j)|x = x] \u2223 \u2223 \u2223\nx=x\u2217\n\u2202 \u2202xb,q\nE[P(a|\u03c9j)|x = x] \u2223 \u2223 \u2223\nx=x\u2217\n=\n\u2202 \u2202xa,p\nua(xa, \u03c9j) \u2223 \u2223 \u2223\nxa=x\u2217a\n\u2202 \u2202xb,q\nub(xb, \u03c9j) \u2223 \u2223 \u2223\nxb=x\u2217b\n. (6)\nSuppose further that Assumption 4 holds, then the right-hand side of (3) is identified.\nLemma 7. [Proposition 2 in Allen and Rehbeck (2019)] Let Assumptions 3 and 4 hold. Assume that all regressors are good-specific and |A|, |\u2126| \u2265 2. Assume x has a rectangular support; u is differentiable and u (Supp(x)) contains an open ball; and V is twice continuously differentiable with nonzero second-order mixed partial derivatives. Then it follows that u := (ua, ..., uK)\nT , with K = |A|, is identified over Supp(x) under the following normalization: (i) (Scale) \u2202\n\u2202xb,q ub(xb, \u03c9j)|xb=x\u2217b \u2208\n{\u22121, 1} for each tuple (b, q, x\u2217b , j) J j=1 such that x \u2217 b \u2208 Supp(xb); and (ii) (Location) for each a \u2208 A,~ua(0La) = 0, where 0La \u2208 Supp(xa)."
        },
        {
            "heading": "5.2 Identification of mean indirect utility",
            "text": "Lemma 8. [Theorem 4 in Allen and Rehbeck (2019)] Let Assumptions 3 and 4 hold. Assume ~u is known, V is everywhere finite, and let x, x\u2032 \u2208 Supp(x). Suppose there is a vector-valued function x(t) such that, for each a \u2208 A, \u03c9j \u2208 \u2126, ua (x(t), \u03c9j) = tua(x\n\u2032, \u03c9j) + (1\u2212 t)ua(x, \u03c9j) and x(t) \u2208 Supp(x) for t \u2208 [0, 1]. Then it follows that V (u(x\u2032, \u03c9))\u2212 V (u(x, \u03c9)) and D\u0304 (E [P|x = x\u2032])\u2212 D\u0304 (E [P|x = x]) are identified. In particular,\nV (u(x\u2032, \u03c9))\u2212V (u(x, \u03c9)) =\n1 \u02c6\n0\nJ \u2211\nj=1\n\u2211\na\u2208A\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j) (ua(x \u2032 a, \u03c9j)\u2212 ua(xa, \u03c9j)) dt.\nCorollary 3. Let Assumptions 3 and 4 hold. Suppose ~u is known, V is finite everywhere, and the set u (Supp(x)) is convex. It follows that for each x, x\u2032 \u2208 Supp(x), V (u(x\u2032, \u03c9))\u2212 V (u(x, \u03c9)) and D\u0304 (E [P|x = x\u2032])\u2212 D\u0304 (E [P|x = x]) are identified.\nBy Lemma 3,\n\u2202\n\u2202xa,p V (u(x, \u03c9)) = E[P(a|\u03c9j)|x = x]\u00b5(\u03c9j)\n\u2202\n\u2202xa,p ua(xa, \u03c9j)\nBy Lemma 6,\n\u2202 \u2202xa,p E[P(b|\u03c9)|x = x]\n\u2202 \u2202xb,q\nE[P(a|\u03c9)|x = x] =\n\u2202 \u2202xa,p ua(xa, \u03c9j)\n\u2202 \u2202xb,q\nub(xb, \u03c9j) .\nThen,\n\u2202\n\u2202xa,p V (u(x, \u03c9)) = E[P(a|\u03c9j)|x = x]\u00b5(\u03c9j)\n\u2202 \u2202xa,p E[P(b|\u03c9j)|x = x]\n\u2202 \u2202xb,q E[P(a|\u03c9j)|x = x]\n\u2202\n\u2202xb,q ub(xb, \u03c9j)\nConsider x\u2032, x\u2032\u2032 \u2208 Supp(x). Let x\u2032\u2032 be identical to x\u2032 except for the (a, p)th\ncomponent, then\nV (u(x\u2032, \u03c9))\u2212 V (u(x, \u03c9))\n= \u00b4 x\u2032\u2032a,p x\u2032a,p E[P(a|\u03c9)|x = x]\u00b5(\u03c9j)\n\u2202 \u2202xa,p E[P(b|\u03c9j)|x = x]\n\u2202 \u2202xb,q\nE[P(a|\u03c9j)|x = x] dxa,p\n\u2202 \u2202xb,q ub(xb, \u03c9j).\nRecall \u2202 \u2202xb,q ub(xb, \u03c9j) is the scale term at a fixed value xb. If xb is the price of\ngood b and \u2202 \u2202xb,q ub(xb, \u03c9j) = \u22121, then V (u(x \u2032, \u03c9))\u2212 V (u(x, \u03c9)) can be interpreted as the change in mean indirect utility in terms of dollars."
        },
        {
            "heading": "5.3 Identification of counterfactual bounds",
            "text": "Lemma 9. (Counterfactual bounds [Theorem 5 in Allen and Rehbeck (2019)] Let Assumptions 3 and 4 hold and assume u is known. Let x0 6\u2208 Supp(x) and assume E[P|x = x0] solves\nsup P\u2208ConvP\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(x 0 a, \u03c9j) + D\u0304(P ).\nThen, for every integer S and every sequence x1, ..., xS \u2208 Supp(x),\nJ \u2211\nj=1\n\u2211\na\u2208A\nE[P(a|\u03c9j)|x = x 0]\u00b5(\u03c9j)\n(\nua(x 0 a, \u03c9j)\u2212 ua(x S\u22121 a , \u03c9j)\n)\n\u2265 J \u2211\nj=1\n\u2211\na\u2208A\n\u00b5(\u03c9)\n[\nE[P(a|\u03c9j)|x = x 1]ua(x 0, \u03c9j)\u2212 E[P(a|\u03c9j)|x = x S\u22121]ua(x S\u22121, \u03c9j)\n\u2212 S\u22122 \u2211\ns=1,\n(\nE[P(a|\u03c9j)|x = x s]\u2212 E[P(a|\u03c9j)|x = x s+1] ) \u00b5(\u03c9j)ua(x s, \u03c9j)\n]\n."
        },
        {
            "heading": "6 Additive separability in latent states",
            "text": "Define ua(xa, \u03c9j) := ua(xa) +G a(\u03c9j), where G a : \u2126 7\u2192 R. Treat \u03c9 as a latent variable with known support \u2126. Importantly, both the support of \u03c9 and the functions {Ga}a\u2208A are known to the decision maker at the moment of deciding.\nAssumption 5. Suppose the following: (i) Q, q, x, \u03c9, D, and T satisfy:\nsup (Q,q)\u2208\u039b\n\u2211\n\u03b3\u2208Supp(Q)\n\u2211\na\u2208A\nQ(\u03b3)q(a|\u03b3) (ua(xa) + \u03b3 \u00b7G a(\u03c9) +E(a)\u2212T(\u03b3)) ; (7)\n(ii) x and (\u03c9,E,T) are independent; (iii) E(a) 6= \u2212\u221e for some a \u2208 A and T is strictly convex in \u03b3 and T(\u03b3) < \u221e on some \u03b3 \u2208 int (\u2206(\u2126)); (iv) given G, the joint probability distribution of (\u03c9,E,T) satisfies\nP\n({\n(\u03c9,E, T ) \u2208 \u2126\u00d7 E \u00d7 T\n\u2223 \u2223 \u2223 \u2223 \u2223 rank\u0393\u03bb(x, \u03c9,E, T ) = \u2223 \u2223 \u2223 \u0393(x, \u03bb, \u03c9,E, T ) \u2223 \u2223 \u2223 }) = 1,\nfor each point x \u2208 X and each direction \u03bb \u2208 R|\u2126|; and (v) for each a \u2208 A, b \u2208 A\\{a}, G satisfies Ga(\u03c9) 6= Gb(\u03c9).\nLemma 10. Let Assumption 5 hold. Then for any fixed (\u03c9,E, T ) in the support, (7) has a unique optimizer (Q\u0302, q\u0302), where at each \u03b3\u0302 \u2208 Supp(Q\u0302), q\u0302 gives a degenerate distribution over A.\nConsider the alternative model where \u03c1 \u2208 P is chosen to satisfy\nsup \u03c1\u2208P\n\u2211\na\u2208A\n\u03c1(a) [ua(xa) + f(\u03c1, a) \u00b7G a(\u03c9) +E(a)\u2212T (f(\u03c1, a))] . (8)\nProposition 3. (Equivalence) Let Assumption 4 hold. Then, the following propositions are equivalent:\n(i) The posterior-based policy (Q,q) \u2208 \u039b is the maximizer of (7); (ii) The SDSC function P \u2208 P generated by (Q,q) is the maximizer of (8); (iii) The SDSC function \u03c1 \u2208 P is the unique maximizer of (8); and (iv) The pair consisting of the attention and choice distribution (Q\u0304, q\u0304) revealed\nby \u03c1 is the maximizer of (7)."
        },
        {
            "heading": "6.1 Properties of the model",
            "text": "Additive separability in states and the independence of covariates and unobservable heterogeneity ensure the model with latent states too admits a representative agent."
        },
        {
            "heading": "6.1.1 Aggregation",
            "text": "Lemma 11. (Theorem 1 in Allen and Rehbeck [2019]). Let Assumption 5 hold. Let x \u2208 Supp(x) and suppose P is (x,\u03c9,E,T)-measurable, and both E[P|x = x] and\nE\n[\n\u2211\na\u2208A\nP(a) (f(P, a) \u00b7Ga(\u03c9) +E(a)\u2212T (f(P, a)))\n]\nexist and are finite, where the expectations are over the joint distribution of (\u03c9,E,T). Then it follows that (i) E[P|x = x] is an optimizer of the representative agent problem,\nsup P\u2208P\n\u2211\na\u2208A\nP (a)ua(xa) + D\u0304(P ),\nwith\nD\u0304(P ) = sup {P \u2032 \u2208 P(\u03c9,E,T)| E[P \u2032] = P} E\n[\n\u2211\na\u2208A\nP \u2032(a) (f(P \u2032, a) \u00b7Ga(\u03c9) +E(a)\u2212T (f(P \u2032, a)))\n]\n,\nwhere P(\u03c9,E,T) is the set of (\u03c9,E,T)-measurable functions that map to P. (ii) Define the indirect utility function of the representative agent problem,\nV (v) := sup P\u2208P\n\u2211\na\u2208A\nP (a)va + D\u0304(P ).\nThus, V satisfies\nV (u(x)) = E\n[\nsup P\u2208P\n\u2211\na\u2208A\nP (a) (ua(xa) + f(P, a) \u00b7G a(\u03c9) +E(a)\u2212T (f(P, a)))\n]\n.\nThis aggregation property of the model indicates that only conditional mean stochastic choice data E[P|x = x] is the only data requirement for identification. The fact that the actual realization of the state needs not to be observed suggests that market-level data might be used, thus broadening the scope of the empirical applications of the model."
        },
        {
            "heading": "6.1.2 Structure",
            "text": "I enunciate the envelope theorem below and leave the identification results for the Appendix.\nAssumption 6. Suppose the following: (i) for each x \u2208 Supp(x), E [P|x = x] is the unique optimizer of\nsup P\u2208P\n{\n\u2211\na\u2208A\nP (a)ua(xa) + D\u0304(P )\n}\n;\nand (ii) D\u0304 : P 7\u2192 R \u222a {\u2212\u221e} is concave, upper semi-continuous, and finite at some P \u2208 P.\nLemma 12. Let Assumption 6 hold. Then,\nE[P|x = x] = \u2207V (u(x)) .\nLemma 13. Let Assumption 6 hold and let V be twice continuously differentiable in a neighbourhood of v \u2208 R|A|. Then, the following conditions are satisfied: (i) \u03bbT\u22072V (v)\u03bb \u2265 0, for all \u03bb \u2208 R|A|; and (ii) \u2202 2\n\u2202va\u2202vb V (v) = \u2202\n2\n\u2202vb\u2202va V (v), for all\na, b \u2208 A.\nLemma 14. Let Assumption 6 hold. Define\nD\u0304P(P ) :=\n{\nD\u0304(P ), if P \u2208 P\n\u2212\u221e, otherwise.\nIf D\u0304P is differentiable at E[P|x = x], then for each a \u2208 A,\nua(xa) = \u2212 \u2202\n\u2202Pa D\u0304 (E[P|x = x]) ."
        },
        {
            "heading": "7 Concluding remarks",
            "text": "I present a theoretical model with additively separable latent heterogeneity that describes the behavior of a population of rationally inattentive decision makers. Under some regularity conditions, I show that this model is observationally equivalent to a state-dependent stochastic choice model constrained by attention costs. In the interest of learning how demand responds to changes in attributes, I include covariates as arguments in the utility indices. Assuming regressors and unobservable heterogeneity are independent, I show that my model admits a representative agent. This aggregation property, together with the structure of the model, allows me to to identify structural and counterfactual parameters when the conditional mean SDSC function is observable, that is, when the econometrician observes conditional probabilities given states and covariates. In particular, I identify how attributes shift the desirability of different goods, (a measure of) welfare, factual changes in welfare, and bounds on counterfactual probabilities of choice. Further assuming utility indices are additively separable in (latent) states, I establish identification with conditional mean stochastic choice data. In the latter case, as the analyst does not need to observe the realization of the state, the model can be used for empirical applications using market-level data.\nI close by mentioning extensions to the paper that I will pursue in further research:\n(i) Some applications require the states to be continuous. I will generalize the aggregation theorem so as to accomodate for infinite states.\n(ii) Although utility indices are identified up to location and scale and unobservable heterogeneity is recovered, the components of the latter, that is, latent preferences and latent attention costs are not separately identified. I will place bounds on both components of latent heterogeneity by deriving the empirical content of the model, under the assumption that the econometrician observes exogenous variation in choice sets. This strategy might also serve for placing bounds on choice frequencies after a counterfactual change in choice sets.\n(iii) So far, I assumed a known, homogeneous prior. I will let the prior be a latent random variable. Using again the empirical content of the model, I will build a finite mixture model based on equivalence classes, i.e. partitions of the space of subjective priors that are equivalent in terms of revealed preference relations.\n(iv) I will generalize my model to include other types of costly information acquisition, such as wishful thinking."
        },
        {
            "heading": "Appendix A \u2013Main proofs",
            "text": ""
        },
        {
            "heading": "Proof of Proposition 1",
            "text": "Before proving this proposition, I introduce some necessary definitions and intermediate results. Fix any (E, T ). Define: the concave conjugate of N in the direction \u03b8,\nN\u2217(\u03b8) := sup \u03b3\u2208\u2206(\u2126) N(\u03b3)\u2212 \u03b8 \u00b7 \u03b3;\nthe lower concave envelope of N ,\nN := inf { N\u0303 : \u2206(\u2126) 7\u2192 R|N\u0303 -concave, N\u0303 \u2265 N } ;\nand the set of directions \u03b8 at which the prior lies in the convex hull of the set of supported posteriors,\n\u0398 := { \u03b8 \u2208 R|\u2126|\u22121 \u2223 \u2223 \u2223 \u00b5 \u2208 Conv\u0393 (\u03b8) } .\nLemma 15. (Lagrangian Lemma [Lemma 1 in Caplin, Dean and Leahy (2022)]. Fix any (D,T ). (Q\u0302, q\u0302) \u2208 \u039b is an optimizer of (1) iff there exists \u03b8 \u2208 R|\u2126|\u22121 such that, for each \u03b3\u0302 \u2208 Supp(Q\u0302) and a \u2208 A with q(a|\u03b3\u0302) > 0, the following inequality holds\nNa(\u03b3\u0302)\u2212 \u03b8 \u00b7 \u03b3\u0302 \u2265 N b(\u03b3\u2032)\u2212 \u03b8 \u00b7 \u03b3\u2032, for all b \u2208 A, \u03b3\u2032 \u2208 \u2206(\u2126).\nLemma 16. (Carath\u00e9odory\u2019s Theorem [Theorem 17.1 in Rockafellar (1970)]) Let S be any set of points and directions in R|\u2126|\u22121. Then \u00b5 \u2208 Conv(S) iff \u00b5 can be expressed as a convex combination of at most |\u2126| of the points and directions in S.\nCorollary 4. [Corollary 17.1.5 in Rockafellar (1970)] Let N be a function from R |\u2126|\u22121 to (\u2212\u221e,+\u221e]. Then,\nConvN(\u00b5) = inf\n{\nN \u2211\nn=1\nQ(n)N(\u03b3(n))\n\u2223 \u2223 \u2223 \u2223 \u2223 N \u2211\nn=1\nQ(n)\u03b3(n) = \u00b5\n}\n,\nwhere ConvN(\u00b5) denotes the convex hull of the function Nat \u00b5.\nLemma 17. Fix any direction \u03b8 \u2208 R|\u2126|\u22121. By definition of N\u2217, \u0393 , and \u03b4\u2217, the following statements are equivalent:\n(i) \u03b3 \u2208 \u2206(\u2126) satisfies N(\u03b3)\u2212 \u03b8 \u00b7 \u03b3 \u2265 N(\u03b3\u2032)\u2212 \u03b8 \u00b7 \u03b3\u2032, for all \u03b3\u2032 \u2208 \u2206(\u2126); (ii) \u03b3 \u2208 \u2206(\u2126) satisfies N(\u03b3)\u2212 \u03b8 \u00b7 \u03b3 = N\u2217(\u03b8); (iii) \u03b3 \u2208 \u0393 (\u03b8); and (iv) (\u03b3,N(\u03b3)) \u2208 \u2206(\u2126)\u00d7 R satisfies N(\u03b3)\u2212 \u03b8 \u00b7 \u03b3 = \u03b4\u2217 ((1,\u2212\u03b8)|hypN).\nProof. First, I prove uniqueness of optimal attention. Consider the lower concave envelope of N at the prior,\nN(\u00b5) = sup{Q\u2208\u2206(\u2206(\u2126)): \u2211\n\u03b3\u2208Supp(Q) Q(\u03b3)\u03b3=\u00b5}\n\u2211\n\u03b3\u2208Supp(Q) Q(\u03b3)N(\u03b3)\n= supQ\u2208\u2206(\u0393 (\u03b8)),\u03b8\u2208\u0398 \u2211 \u03b3\u2208Supp(Q) Q(\u03b3)N(\u03b3) = sup\u03b3\u2208\u0393 (\u03b8),\u03b8\u2208\u0398 \u03b4 \u2217 ((1,\u2212\u03b8)|hypN) + \u03b8 \u00b7 \u03b3.\nThe first equality, that is, the lower concave envelope of N at \u00b5 being equal to the optimization problem in (3), is implied by Corollary 4. From Lemma 15\n(Lagrangian lemma), it follows that Q\u0302 \u2208 Q is a maximizer only provided that, for some \u03b8 \u2208 R|\u2126|\u22121, each \u03b3\u0302 \u2208 Supp(Q\u0302) satisfies\nN(\u03b3\u0302)\u2212 \u03b8 \u00b7 \u03b3\u0302 \u2265 N(\u03b3\u2032)\u2212 \u03b8 \u00b7 \u03b3\u2032, for all \u03b3\u2032 \u2208 \u2206(\u2126).\nTherefore, by equivalence between (i), (ii), and (iii) in Lemma 16, Q\u0302 maximizing (3) is constrained to lie in the probability simplex over \u0393 (\u03b8) for some \u03b8 \u2208 R|\u2126|\u22121. Moreover, in order for Q\u0302 to be Bayes-consistent, it is necessarily the case that \u03b8 lives in \u0398, which implies the equality in the second line. An optimal attention Q\u0302 is such that, by definition of N\u2217(\u03b8), each optimal posterior \u03b3\u0302 \u2208 Supp(Q\u0302) \u2286 \u0393 (\u03b8) satisfies N\u2217(\u03b8) + \u03b8 \u00b7 \u03b3\u0302 = N(\u03b3\u0302) for some \u03b8 \u2208 \u0398. The equality in the third line follows from the equivalence between (iii) and (iv) in Lemma 16.\nNote that, due to the lower concave envelope of N at \u00b5 being a convex combination of all values N(\u03b3\u0302) where each \u03b3\u0302 is an optimal posterior, it follows that it is linear in \u03b3, thus being differentiable. As a result, by equality between N(\u00b5) and the supporting hyperplane in the direction (1,\u2212\u03b8), there is a unique optimal direction\n\u03b8\u0302 = \u2202N(\u00b5). By Lemma 16 (Carath\u00e9odory\u2019s Theorem), \u00b5 \u2208 Conv\u0393 (\u2202N(\u00b5)) entails it can be written as a convex combination of at most |\u2126| posteriors in \u0393 (\u2202N(\u00b5)). Since Assumption 1 (iii) (full column rank) implies that \u0393 (\u2202N(\u00b5)) consists of \u2223 \u2223 \u2223 \u0393 (\u2202N(\u00b5)) \u2223 \u2223 \u2223 \u2264 |\u2126| linearly independent posteriors, such convex combination is\nunique and equal to a fully-supported distribution Q\u0302 \u2208 \u2206(\u0393 (\u2202N(\u00b5))), the optimal attention.\nIn what follows, I show that optimal choice is unique and gives a degenerate distribution at each optimal posterior. Define the set of alternatives that yield the maximum net expected utility according to a given posterior belief \u03b3,\nA(\u03b3) := argmax a\u2208A\nNa(\u03b3).\nAn optimal choice policy q\u0302 is such that, for each posterior supported by the optimal attention, \u03b3\u0302 \u2208 SuppQ\u0302, it is chosen so that\nq\u0302(\u03b3\u0302) \u2208 arg max q\u2208\u2206(A)\n\u2211\na\u2208A\nq(a|\u03b3\u0302)Na(\u03b3\u0302).\nBy Assumption 1 (iv), for any a, b \u2208 A, with a 6= b, ua 6= ub, which implies \u2202Na(\u03b3) 6= \u2202N b(\u03b3) at each \u03b3 \u2208 \u2206(\u2126). As a result, for any \u03b3 \u2208 \u2206(\u2126), |A(\u03b3)| = 1. For each \u03b3\u0302 \u2208 Supp(Q\u0302), q\u0302(\u03b3) is therefore a degenerate distribution that assigns probability mass 1 to a unique a \u2208 A such that {a} = A(\u03b3\u0302). Due to its degenerateness, the optimal choice is unique."
        },
        {
            "heading": "Proof of Proposition 2",
            "text": "Proof. Fix any (E, T ) in the support and consider the following optimization problem\nN(\u00b5) = sup\n\u03c1\u2208P\n\u2211\na\u2208A\n\u03c1(a)N (f(\u03c1; a))\n= sup \u03c1\u2208Q\n\u2211\n{a\u2208A|\u2203f(\u03c1;a)\u2208Supp(\u03c1)}\nQ (f(\u03c1; a))Na (f(\u03c1; a)) .\nThe expressions in the first and second line being equivalent means the lower concave envelope of N at \u00b5 is attained by the optimization problem in (4). This\nfollows from Corollary 4 and the fact that \u03c1 averages the values (f(\u03c1; a))a\u2208A to the prior.4 The equalitiy in the third line follows directly from Corollary 1. By Lemma 16 (Carath\u00e9odory\u2019s Theorem), \u00b5 being in the convex hull of the set (f(\u03c1; a))a\u2208A, entails \u00b5 can be written as a convex combination of at most |\u2126|\u22121 values in the set, restricting the cardinality of this set to \u2223 \u2223\n\u2223 (f(\u03c1; a))a\u2208A\n\u2223 \u2223 \u2223 \u2264 |\u2126| \u2212 1. The full column\nrank condition restricts the cardinality of the set of vectors (f(\u03c1\u0302; a))a\u2208Supp(\u03c1\u0302), and hence, the cardinality of the support of \u03c1\u0302, to be at most |\u2126| for optimal \u03c1\u0302. Therefore, the convex combination satisfying \u2211\na\u2208Supp(\u03c1) \u03c1\u0302(a)f(\u03c1\u0302; a) = \u00b5 is unique. In consequence, the optimal SDSC function \u03c1\u0302 is unique."
        },
        {
            "heading": "Proof of Theorem 1",
            "text": "Proof. Fix any (E, T ) in the support and consider the following sequence of equalities,\nN(\u00b5) = supQ\u2208Q \u2211 {a\u2208A|\u2203\u03b3\u2208Supp(Q):\u03b3=\u03b3a} Q(\u03b3 a)Na(\u03b3a) = supP\u2208P \u2211 a\u2208A P (a)N a(\u03b3a) = sup\u03c1\u2208P \u2211 a\u2208A \u03c1(a)N a (f(\u03c1, a)) = sup\u03c1\u2208P \u2211 a\u2208A \u03c1(a)N a (\u03b3\u0304a) = supQ\u0304\u2208Q \u2211 {a\u2208A|\u2203\u03b3\u2208Supp(Q\u0304):\u03b3=\u03b3\u0304a} Q\u0304 (\u03b3\u0304 a)Na (\u03b3\u0304a) = N(\u00b5).\nIt is known from proof of Proposition 1 that the lower concave envelope of N at the prior equals the maximized value function in (1). The equality in the second line follows from (1) being equivalent to (3). The equality in the third line is implied by the definition of generated SDSC function P \u2208 P . \u03b3a \u2208 Supp(Q) satisfying \u03b3a = f(P ; a) entails the equality in the fourth line. The posterior-based policy (Q\u0302, q\u0302) \u2208 \u039b that optimizes (1) generates a SDSC function P\u0302 that optimizes (4).\nThe equality in the fifth line follows from the definition of revealed posteriors. The equality in the sixth line follows from the definition of revealed attention and the fact that it averages revealed posteriors to the prior.5 By Corollary 4, the optimization problem over Bayes-consistent revealed attention policies attains the lower concave envelope of N at \u00b5. The SDSC function \u03c1\u0302 \u2208 P that optimizes (4) reveals a posterior based policy (Q\u0304, q\u0304) that optimizes (1).\n4 \u2211 a\u2208A \u03c1(a)f (\u03c1; a) = \u2211 a\u2208A \u03c1(a) (f\u03c91 (\u03c1; a) , ...., f\u03c9J (\u03c1; a)) T\n= ( \u2211 a\u2208A \u03c1(a)f\u03c91 (\u03c1; a) , ...., \u2211 a\u2208A \u03c1(a)f\u03c9J (\u03c1; a) )T = ( \u2211\na\u2208A \u03c1(a) \u03c1(a|\u03c91)\u00b5(\u03c91) \u03c1(a) , ...., \u2211 a\u2208A \u03c1(a) \u03c1(a|\u03c9J )\u00b5(\u03c9J ) \u03c1(a)\n)T\n= ( \u00b5(\u03c91) \u2211 a\u2208A \u03c1(a|\u03c91), ...., \u00b5(\u03c9J ) \u2211 a\u2208A \u03c1(a|\u03c9J ) )T = (\u00b5(\u03c91), ...., \u00b5(\u03c9J )) T\n= \u00b5. 5 \u2211\n{a\u2208A|\u03b3\u2208Supp(Q\u0304):\u03b3=\u03b3\u0304a} Q\u0304(\u03b3\u0304 a)\u03b3\u0304a =\n\u2211 a\u2208Supp(\u03c1) \u03c1(a) ( \u03c1(a|\u03c9)\u00b5(\u03c91) \u03c1(a) , ..., \u03c1(a|\u03c9)\u00b5(\u03c9J) \u03c1(a) ) = \u00b5."
        },
        {
            "heading": "Appendix B \u2013Proofs in Allen and Rehbeck (2019)",
            "text": ""
        },
        {
            "heading": "Proof of Lemma 2 (Theorem 1 in Allen and Rehbeck, 2019)",
            "text": "Proof. Below I follow the proof of Theorem 1 in Allen and Rehbeck (2019). Consider the following cycle of inequalities beginning with the expected value of the pointwise optimization problem,\nE\n[\nsup P\u2208P\n\u2211\na\u2208A\nP (a) (f(P, a) \u00b7 u(xa) +E(a)\u2212T (f(P, a)))\n]\n= J \u2211\nj=1\n\u2211\na\u2208A\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j)ua(xa, \u03c9j) + E\n[\n\u2211\na\u2208A\nP(a) (E(a)\u2212T (f(P, a)))\n]\n\u2264 J \u2211\nj=1\n\u2211\na\u2208A\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j)ua(xa, \u03c9j)\n+ sup {P \u2032\u2208P(E,T)|E[P \u2032]=E[P|x=x]} E\n[\n\u2211\na\u2208A\nP \u2032(a) (E(a)\u2212T (f(P \u2032, a)))\n]\n}\n\u2264 sup P\u2208Conv(P)\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j)\n+ sup {\nP \u2032\u2208P(E,T)\n\u2223 \u2223 \u2223 E[P \u2032]=P\n}\n{\nE\n[\n\u2211\na\u2208A\nP \u2032(a) (E(a)\u2212T (f(P \u2032, a)))\n]\n}\n= sup P\u2208Conv(P) sup {P \u2032 \u2208 P(E,T)| E[P \u2032] = p} E\n[\n\u2211\na\u2208A\nP (a) (f(P, a) \u00b7 ua(xa) +E(a)\u2212T (f(P \u2032, a)))\n]\n\u2264 sup P \u2032\u2208P(E,T) E\n[\n\u2211\na\u2208A\nP \u2032(a) (f(P \u2032, a) \u00b7 ua(xa) +E(a)\u2212T (f(P \u2032, a)))\n]\n\u2264 E\n[\nsup P\u2208P\n\u2211\na\u2208A\nP (a) (f(P, a) \u00b7 ua(xa) +E(a)\u2212T (f(P, a)))\n]\n.\nThe equality in the second line obtains by P being the maximizer of (2) at (x,E,T) and distributing the expectation. The inequality in the third line follows from the assumptions that P at x is (E,T)-measurable and E[P|x = x] exists. Since P \u2208 P at each (E, T ) in the support and it is assumed that E[P|x = x] is finite, then E[P|x = x] \u2208 P , thus explaining the inequality in the fourth line. The equality in the fifth line results from \u2211J\nj=1\n\u2211\na\u2208A P (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j) being a constant term relative to P \u2032 and (E,T). The inequality in the sixth line is implied by relaxing constrains in the feasibility set in the optimization problem in the previous line. At each (E,T) in the support, the optimizer in the pointwise problem in the last line satisfies\n\u2211\n\u03c9\u2208\u2126\n\u2211\na\u2208A\nP(a|\u03c9)\u00b5(\u03c9)ua,\u03c9(xa) + \u2211\na\u2208A\nP(a) (E(a)\u2212T (f(P, a)))\n\u2265 \u2211\n\u03c9\u2208\u2126\n\u2211\na\u2208A\nP \u2032(a|\u03c9)\u00b5(\u03c9)ua,\u03c9(xa) + \u2211\na\u2208A\nP \u2032(a) (E(a)\u2212T (f(P \u2032, a))) ,\nfor each P \u2208 P(E,T), which implies the inequality in the seventh line. Because the chain of inequalities is such that the expression in the first and last line are\nidentical, it follows that all the inqualities hold with equality. In particular, note that by equality between the third and fourth lines, the mean optimizer of the pointwise problem E[P|x = x] solves the representative agent problem,\nJ \u2211\nj=1\n\u2211\na\u2208A\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j)ua(xa, \u03c9j) + D\u0304(E[P|x = x])\n= sup P\u2208Conv(P)\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j) + D\u0304(P ).\nMoreover, by equality between the fourth and seventh lines, the value function in the representative agent problem equals the mean maximized value in the pointwise problem,\nsup P\u2208Conv(P)\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j) + D\u0304(P )\n= E\n[\nsup P\u2208P\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j) + \u2211\na\u2208A\nP (a) (E(a)\u2212T (f(P, a)))\n]\n."
        },
        {
            "heading": "Proof of Lemma 3",
            "text": "Proof. Consider the following sequence of equalities,\nJ \u2211\nj=1\n\u2211\na\u2208A\nE [P(a|\u03c9j)|x = x]\u00b5(\u03c9j)ua(xa, \u03c9j) + D\u0304(E [P|x = x])\n= sup P\u2208Conv(P)\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j) + D\u0304 (P )\n= V (~u(x))\n= E\n[\nsup P\u2208P\nJ \u2211\nj=1\n\u2211\na\u2208A\nP (a|\u03c9j)\u00b5(\u03c9j)ua(xa, \u03c9j) + \u2211\na\u2208A\nP (a) (E(a)\u2212T (f(P, a)))\n]\n= J \u2211\nj=1\n\u2211\na\u2208A\nE [P(a|\u03c9j)|x = x]\u00b5(\u03c9j)ua(xa, \u03c9j) + E\n[\n\u2211\na\u2208A\nP(a) (E(a)\u2212T (f(P, a)))\n]\n,\nwhere the first equivalence follows from E [P|x = x] being the maximizer of the problem of the representative agent and the equivalence in the third line is implied by the definition of the average indirect utility. Lemma 2 (ii) entails the equality in the fourth line. The equality in the fifth line follows from distributing the expectation.\nHence, taking the partial derivative of V at ~u(x) with respect to its (a, j)th\ncomponent,\n\u2202\n\u2202va,j V (u(x, \u03c9))\n\u2223 \u2223 \u2223 \u2223 \u2223\nv=u(x,\u03c9)\n= E [P(a|\u03c9j)|x = x]\u00b5(\u03c9j)."
        },
        {
            "heading": "Proof of Lemma 5",
            "text": "Proof. Recall E[P|x = x] optimizes the representative agent problem at x, thus attaining the average indirect utility at u(x). Differentiate V (u(x, \u03c9)) with respect to any P (a|\u03c9j),\n\u2202 \u2202P (a|\u03c9j) V (u(x, \u03c9)) = \u00b5(\u03c9j)ua(xa, \u03c9j) + \u2202 \u2202P (a|\u03c9j) D\u0304ConvP(P )\n\u2223 \u2223 \u2223 \u2223 \u2223\nP=E[P|x=x]\n= 0.\nwhere the second equality comes from differentiating the value function evaluated at the optimizer. Hence,\n\u00b5(\u03c9j)ua(xa, \u03c9j) = \u2212 \u2202\n\u2202P (a|\u03c9j) D\u0304ConvP(P )\n\u2223 \u2223 \u2223 \u2223 \u2223\nP=E[P|x=x]\n."
        },
        {
            "heading": "Proof of Lemma 6",
            "text": "Proof. By Lemma 4 (ii) (symmetry), for any \u03c9j \u2208 \u2126, a, b \u2208 A,\n\u22022\n\u2202ua(xa, \u03c9j)\u2202ub(xb, \u03c9j) V (u(x, \u03c9)) =\n\u22022\n\u2202ub(xb, \u03c9j)\u2202ua(xa, \u03c9j) V (u(x, \u03c9)) .\nBy Lemma 3 (Roy\u2019s identity),\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j) = \u2202\n\u2202ua(xa, \u03c9j) V (u(x, \u03c9)) and\nE[P(b|\u03c9j)|x = x]\u00b5(\u03c9j) \u2202\n\u2202ub(xb, \u03c9) V (u(x, \u03c9)) .\nHence,\n\u2202 \u2202ub(xb,\u03c9j)\nE[P(a|\u03c9j)|x = x]\u00b5(\u03c9j) = \u22022\n\u2202ub(xb,\u03c9j)\u2202ua(xa,\u03c9j) V (u(x, \u03c9))\n= \u2202 2\n\u2202ua(xa,\u03c9)\u2202ub(xb,\u03c9j) V (u(x, \u03c9))\n= \u2202 \u2202ua(xa,\u03c9j) E[P(b|\u03c9j)|x = x]\u00b5(\u03c9j).\nThen,\n\u2202\n\u2202ub(xb, \u03c9j) E[P(a|\u03c9j)|x = x] =\n\u2202\n\u2202ua(xa, \u03c9j) E[P(b|\u03c9j)|x = x].\nTaking partial derivatives\n\u2202\n\u2202xb,q E[P(a|\u03c9j)|x = x] =\n\u2202\n\u2202ub(xb, \u03c9j) E[P(a|\u03c9j)|x = x]\n\u2202\n\u2202xb,q ub(xb, \u03c9j),\n\u2202\n\u2202xa,p E[P(b|\u03c9j)|x = x] =\n\u2202\n\u2202ua(xa, \u03c9j) E[P(b|\u03c9j)|x = x]\n\u2202\n\u2202xa,p ua(xa, \u03c9j).\nThus, by \u2202 \u2202ub(xb,\u03c9j) E[P(a|\u03c9j)|x = x] = \u2202 \u2202ua(xa,\u03c9j) E[P(b|\u03c9j)|x = x],\n\u2202 \u2202xa,p\nE[P(b|\u03c9j)|x = x] \u2223 \u2223 \u2223\nx=x\u2217\n\u2202 \u2202xb,q\nE[P(a|\u03c9j)|x = x] \u2223 \u2223 \u2223\nx=x\u2217\n=\n\u2202 \u2202xa,p\nua(xa, \u03c9j) \u2223 \u2223 \u2223\nxa=x\u2217a\n\u2202 \u2202xb,q\nub(xb, \u03c9j) \u2223 \u2223 \u2223\nxb=x\u2217b\n."
        },
        {
            "heading": "Proof of Lemma 12",
            "text": "Proof. Consider the following sequence of equivalent expressions,\n\u2211\na\u2208A\nE[P(a)|x = x]ua(xa) + D\u0304 (E[P|x = x])\n= sup P\u2208Conv(P)\n\u2211\na\u2208A\nP (a)ua(xa) + D\u0304 (P )\n= V (u(x))\n= E\n[\nsup P\u2208P\n\u2211\na\u2208A\nP (a) (ua(xa) + f(P, a) \u00b7G a(\u03c9) +E(a)\u2212T (f(P, a)))\n]\n= \u2211\na\u2208A\nE[P(a)|x = x]ua(xa) + E\n[\n\u2211\na\u2208A\nP(a) (f(P, a) \u00b7Ga(\u03c9) +E(a)\u2212T (f(P, a)))\n]\n,\nwhere the first equivalence follows from E[P|x = x] being the maximizer of the problem of the representative agent and the equivalence in the third line is implied by the definition of the average indirect utility. Lemma 11 (ii) entails the equality in the fourth line. The equality in the fifth line follows from distributing the expectation.\nHence, taking the partial derivative of the ath component of V at u(x),\n\u2202\n\u2202va V (~u(x))\n\u2223 \u2223 \u2223 \u2223 \u2223\n~v=~u(x)\n= E[P(a)|x = x]."
        },
        {
            "heading": "Appendix C \u2013Identification with stochastic choice",
            "text": "data\nAssumption 7. Suppose the following: (i) (Observables) the econometrician observes (can consistently estimate) the unconditional distribution corresponding to the mean generated SDSC data\n{P(a|x = x)}a\u2208A ,\nfor each x \u2208 Supp(x), where P(a|x = x) = E[P(a)|x = x] and the expectation is over the joint distribution of (\u03c9,E,T); and (ii) (Full support) for each x \u2208 Supp(x), E[P(a)|x = x] > 0 for each a \u2208 A.\nIdentification of good-specific utility indices\nDefinition 4. The points \u2202 \u2202xa,p ua(xa)|xa=x\u2217a and \u2202 \u2202xb,q ub(xb)|xb=x\u2217b are said to be paired if they exist and the following conditions hold: (i) there exists a known value x\u2217 \u2208 Supp(x) whose ath andd bth components are x\u2217a and x \u2217 b , respectively;\n\u2202 \u2202xa,p E[P(a)|x = x]|xa=x\u2217a and \u2202 \u2202xb,q E[P(b)|x = x]|xb=x\u2217b exist; (iii) V is twice continuously differentiable in a neighbourhood of u(x\u2217); and \u2202 2\n\u2202va,\u2202vb V (v) |v=u(x\u2217) 6= 0.\nIf, in addition, \u2202 \u2202xa,p ua(xa)|xa=x\u2217a 6= 0 and \u2202 \u2202xb,q ub(xb)|xb=x\u2217b 6= 0, then they are said to be strictly paired.\nDefinition 5. Let Assumption 6 hold and suppose xa,p and xb,q are regressors specific to a and b, respectively. If \u2202\n\u2202xa,p ua(xa)|xa=x\u2217a and \u2202 \u2202xb,q ub(xb)|xb=x\u2217b are\npaired and \u2202 \u2202xb,q ub(xb)|xb=x\u2217b 6= 0, then there is some known x \u2217 \u2208 Supp(x) such that\n\u2202 \u2202xa,p\nE[P(b)|x = x] \u2223 \u2223\n\u2223\nx=x\u2217\n\u2202 \u2202xb,q\nE[P(a)|x = x] \u2223 \u2223\n\u2223\nx=x\u2217\n=\n\u2202 \u2202xa,p\nua(xa) \u2223 \u2223 \u2223\nxa=x\u2217a\n\u2202 \u2202xb,q\nub(xb) \u2223 \u2223 \u2223\nxb=x\u2217b\n. (9)\nLet Assumption 7 hold, then the right-hand side of (9) is identified.\nLemma 18. Let all the assumptions in Lemma 7 hold except for Asssumption 3 and 4. Let Assumptions 6 and 7 hold. Then, it follows that ~u(x) is identified over Supp(x) under the following normalization: (i) \u2202\n\u2202xb,q ub(xb)|xb=x\u2217b \u2208 {\u22121, 1} for a\ntuple (b, q, x\u2217b ) such that x \u2217 b \u2208 Supp(xb); and (ii) for each a \u2208 A, ~ua(0La) = 0, where 0La \u2208 Supp(xa).\nIdentification of average indirect utility\nLemma 19. Let conditions in Lemma 8 hold, except for Assumptions 3 and 4. Suppose Assumptions 6 and 7 hold. Then, it follows that for x, x\u2032 \u2208 Supp(x), V (~u(x\u2032)) \u2212 V (~u(x)) and D\u0304 (E[P|x = x\u2032]) \u2212 D\u0304 (E[P|x = x]) are identified. In particular,\nV (~u(x\u2032))\u2212 V (~u(x)) =\n1 \u02c6\n0\n\u2211\na\u2208A\nE[P(a)|x = x(t)] (ua(x \u2032 a)\u2212 ua(xa)) dt.\nCorollary 5. Let Assumptions 6 and 7 hold. Suppose u is known, V is finite everywhere, and the set u(Supp(x)) is convex. It follows that x, x\u2032 \u2208 Supp(x), V (u(x\u2032))\u2212 V (u(x)) and D\u0304 (E[P|x = x\u2032])\u2212 D\u0304 (E[P|x = x]) are identified."
        },
        {
            "heading": "Identification of counterfactual bounds",
            "text": "Lemma 20. Let Assumptions 6 and 7 hold and assume ~u is known. Let x0 6\u2208 Supp(x) and assume E[P|x = x0] solves\nsup P\u2208ConvP\n\u2211\na\u2208A\nP (a)ua(x 0 a) + D\u0304(P ).\nThen, for every integer S and every sequence x1, ..., xS \u2208 Supp(x),\n\u2211\na\u2208A\nE[P(a)|x = x0] ( ua(x 0 a)\u2212 ua(x S\u22121 a ) )\n\u2265 \u2211\na\u2208A\n[\nE[P(a)|x = x1]ua(x 0 a)\u2212 E[P(a)|x = x S\u22121]ua(x S\u22121 a )\n\u2212 S\u22122 \u2211\ns=1\n( E[P(a)|x = xs]\u2212 E[P(a)|x = xs+1] ) ua(x s)\n]\n."
        }
    ],
    "title": "Identification with Posterior-Separable Latent Information Costs",
    "year": 2024
}