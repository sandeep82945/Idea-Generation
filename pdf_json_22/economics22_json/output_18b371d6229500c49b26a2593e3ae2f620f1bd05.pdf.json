{
    "abstractText": "This study investigated one-way car-sharing systems under dynamic pricing. Despite their convenience, oneway car-sharing systems have the limitation that vehicles can be unevenly parked according to the demand of customers. To distribute car parking, we consider introducing dynamic pricing in which customers can shift their demand (i.e., change origins and destinations by walking) according to usage prices. A model of this system is developed with consideration of stochastic processes representing human behavior in the demand shift. Furthermore, we develop a common, distributed dynamic pricing policy to minimize the unevenness of the vehicles according to the network topology representing the layout of stations. Numerical examples using a realistic traffic simulator demonstrate the effectiveness of the developed method.",
    "authors": [
        {
            "affiliations": [],
            "name": "Kazunori Sakurama"
        },
        {
            "affiliations": [],
            "name": "Takanori Aoki"
        }
    ],
    "id": "SP:0e28eb3440ec6012f82028da2b746c63554d854a",
    "references": [
        {
            "authors": [
                "Shoshi Mizokami",
                "Takuya Maruyama",
                "Junya Hashimoto",
                "Toshikatsu Mori",
                "Daisuke Sunaga"
            ],
            "title": "Research and development on the possibility \u2211 t \u2211 ij r i j (t )p ij (t ) pr ic e un it Time t hour Fig. 6: Incremental value of total income \u2211 ij rij(t)pij(t) with DP (solid line) and without DP (dashed line). of introducing a one-way car sharing system and new ways to utilize road space; New Road Technology",
            "year": 2019
        },
        {
            "authors": [
                "Stefan Illgen",
                "Michael Hock"
            ],
            "title": "Literature review of the vehicle relocation problem in one-way car sharing networks; Transportation",
            "venue": "Research Part B,",
            "year": 2019
        },
        {
            "authors": [
                "Giuseppe Carlo Calafiore",
                "Christian Bongiorno",
                "Alessandro Rizzo"
            ],
            "title": "A control-oriented model for mobility on demand systems; IEEE Conference on Decision and Control",
            "year": 2018
        },
        {
            "authors": [
                "Stephen L. Smith",
                "Marco Pavone",
                "Mac Schwager",
                "Emilio Frazzoli",
                "Daniela Rus"
            ],
            "title": "Rebalancing the Rebalancers: Optimally routing vehicles and drivers in mobility on-demand systems; American Control",
            "year": 2013
        },
        {
            "authors": [
                "Matthew Barth",
                "Michael Todd"
            ],
            "title": "Simulation model performance analysis of a multiple station shared vehicle system; Transportation",
            "venue": "Research Part C: Emerging Technologies,",
            "year": 1999
        },
        {
            "authors": [
                "Diana Jorge",
                "Goran Molnar",
                "Goncalo H.A. Correia"
            ],
            "title": "Trip pricing of one-way station based carsharing networks with zone and time of day price variations; Transportation",
            "venue": "Research Part B: Methodological,",
            "year": 2015
        },
        {
            "authors": [
                "Min Xu",
                "Qiang Meng",
                "Zhiyuan Liu"
            ],
            "title": "Electric vehicle fleet size and trip pricing for one-way carsharing services considering vehicle relocation and personnel assignment",
            "venue": "Transportation Research Part B: Methodological,",
            "year": 2018
        },
        {
            "authors": [
                "Rui Xie",
                "Wei Wei",
                "Qiuwei Wu",
                "Tao Ding",
                "Shengwei Mei"
            ],
            "title": "Optimal service pricing and charging scheduling of an electric vehicle sharing",
            "venue": "IEEE Transactions on Vehicular Technology,",
            "year": 2020
        },
        {
            "authors": [
                "Lei Wang",
                "Wanjing Ma"
            ],
            "title": "Pricing approach to balance demands for one-way car-sharing systems; Proc. of the 22nd IEEE Intelligent Transportation Systems",
            "year": 2019
        },
        {
            "authors": [
                "Toya Kamatani",
                "Yusuke Nakata",
                "Sachiyo Arai"
            ],
            "title": "Dynamic pricing method to maximize utilization of one-way car sharing",
            "venue": "IEEE International Conference on Agents (ICA)",
            "year": 2019
        },
        {
            "authors": [
                "Zulqarnain Haidera",
                "Alexander Nikolaevb",
                "Jee Eun Kangb",
                "Changhyun"
            ],
            "title": "Kwona: Inventory rebalancing through pricing in public bike sharing systems",
            "venue": "European Journal of Operational Research,",
            "year": 2018
        },
        {
            "authors": [
                "Kazuki Sumida",
                "Kazunori Sakurama",
                "Takanori Aoki"
            ],
            "title": "Demand Shift Model of a One-Way Car-Sharing System with Real-Time Pricing",
            "venue": "Proc. of the 24th IEEE International Intelligent Transportation Systems Conference",
            "year": 2021
        },
        {
            "authors": [
                "i-Transport Lab. Co",
                "Ltd"
            ],
            "title": "SOUND Ver.5, a traffic simulator for wide area road networks; https://www.itransportlab.jp/en/index/products/sound",
            "venue": "(last visited Feb",
            "year": 2022
        }
    ],
    "sections": [
        {
            "text": "I. INTRODUCTION\nCar-sharing services have become popular as a new transportation form due to several advantages, including low cost and traffic reduction. In particular, in a station-based oneway car-sharing service, customers can return the vehicle to any available station. This service is promising in urban areas because normal parking slots can be utilized as stations. This service has rapidly spread in Europe and the U.S. In Japan, the round-trip model was initially employed due to legal restrictions, but one-way service has been legally allowed since 2014. Therefore, one-way car sharing is currently being developed, and many field trials are underway [1], including Ha:mo Ride Toyota [2].\nOne-way car-sharing services have been eagerly investigated, as reviewed in [3]. Despite the convenience, this service has the critical limitation that vehicles become unevenly distributed among stations due to customer demand, which causes the problem that no vehicles are parked in some stations, while no parking slots are available in other stations. To solve this problem, vehicles must be redeployed to maintain an even distribution. This redeployment is generally performed by the service staff driving the vehicles one at a time, which involves significant labor costs. Hence, an inexpensive redeployment strategy is indispensable to the practical implementation of the one-way car-sharing service. Previous studies have considered the problem of reducing the cost of redeployment. In [4], the model predictive control method was employed to minimize the cost. In [5], a model was developed in which the behavior of staff for\nThis work was partially supported by the joint project of Kyoto University and Toyota Motor Corporation, titled \u201cAdvanced Mathematical Science for Mobility Society\u201d.\nKazunori Sakurama and Takanori Aoki are with Graduate School of Informatics, Kyoto University, Yoshidahonmachi, Kyoto, Japan sakurama@i.kyoto-u.ac.jp, aoki.takanori.35z@st.kyoto-u.ac.jp.\nredeployment was considered. In [6], a simulation-based study was conducted to investigate a car-sharing system in a resort area in Southern California to minimize the number of redeployments.\nAnother solution is to introduce dynamic pricing, which can naturally encourage customers to evenly distribute vehicles by adjusting prices appropriately at every time interval. In [7], a model was developed in which the price was determined to maximize both the customers\u2019 and operating company\u2019s profits. The model developed in [8] aimed at maximizing profits with consideration of the allocation of redeployment staff. In [9], optimal pricing and charge scheduling of an electric vehicle sharing system were investigated. Additionally, [10] and [11] investigated pricing policies for the one-way car sharing service. In most models presented in these papers, only the increases/decreases in demand were considered. In contrast, the authors considered a model with demand shift [13], which represents the customer behavior of shifting links (i.e., changing origins and destinations by walking) to cheaper ones. This scenario was first adopted for bike sharing systems [12], while it is also feasible in carsharing systems in urban areas because numerous stations are located within walking distance of each other.\nIn this paper, a one-way car sharing system with dynamic pricing is theoretically analyzed with consideration of demand shift. First, this system is modeled with four components: parking-slot, reservation, demand, and demandshift models. In particular, a demand-shift model, which represents the voluntary behavior of shifting to other links according to prices, is introduced with stochastic processes to describe the uncertain behavior of customers. Subsequently, based on the models, the best common, distributed dynamic pricing policy is designed to minimize the unevenness of occupied parking slots. Finally, the effectiveness of the developed method is illustrated through numerical examples using the realistic traffic simulator, Simulation On Urban road Network with Dynamic route choice (SOUND) [14].\nThe differences from the previous papers [12], [13] considering demand shift are as follows. First, this paper theoretically analyzes the system and designs the best distributed dynamic pricing policy, while [12], [13] did not provide any theoretical results. In particular, by simplifying the models in this paper, the essence of the dynamics of the target system is revealed such that the dynamics are equivalent to a consensus control system with external disturbance, which has been well-studied in the field of control engineering [15]. Second, we design a common, distributed dynamic pricing policy, which is advantageous for large-scale systems\nbecause the price of each link can be easily computed with the information on neighboring stations. This contrasts with other centralized optimization-based methods, including [12]. Third, this paper verifies the validity of the models through a realistic traffic simulator, while [12], [13] did not conduct such simulations.\nThe remainder of this paper is organized as follows. Section 2 describes models in the target system and provides a control objective. In Section 3, as a main result, the best distributed dynamic pricing policy is developed. Section 4 presents simulation results. Finally, Section 5 concludes the paper.\nII. PROBLEM FORMULATION\nA. Notation\nLet R, R+, Z, and Z+ be the sets of real numbers, non-negative real numbers, integers, and non-negative integers, respectively. For \u03ba \u2208 R, define \u03baZ = {. . . ,\u22122\u03ba,\u2212\u03ba, 0, \u03ba, 2\u03ba, . . .}. The floor and ceiling functions with respect \u03ba are defined for x \u2208 R as follows:\n\u230ax\u230b\u03ba = max{y \u2208 \u03baZ : y \u2264 x}, \u2308x\u2309\u03ba = min{y \u2208 \u03baZ : y \u2265 x}.\nThe identity matrix is denoted by I \u2208 Rn\u00d7n, the unit vector with the ith entry 1 is denoted by ei \u2208 Rn, and 1 = [1 \u00b7 \u00b7 \u00b7 1]\u22a4. For a1, . . . , an \u2208 R, diag(a1, . . . , an) represents the diagonal matrix whose ith diagonal entry is ai. For a vector a = [a1 \u00b7 \u00b7 \u00b7 an]\u22a4 \u2208 Rn, diag(a) = diag(a1, . . . , an).\nLet x : Z+ \u2192 Z+ be a stochastic variable of time t \u2208 Z+ with a domain of non-negative integers. The probability that x(t) takes the value x \u2208 Z+ is represented as Pr(x(t) = x) \u2208 [0, 1]. For a function f : Z+ \u2192 R of x(t), the expectation of f(x(t)) is defined as\nE[f(x(t))] =\n\u221e\u2211\nx=0\nf(x)Pr(x(t) = x).\nFor random variables x, y : Z+ \u2192 Z+ of time t, Pr(x(t) = x, y(t) = y) \u2208 [0, 1] represents the joint probability that x(t), y(t) take the values of x, y \u2208 Z+, respectively. Let Pr(x(t) = x|y(t) = y) represent the conditional probability that x(t) takes the value of x \u2208 Z+ under the condition that y(t) takes the value of y \u2208 Z+, which is given as follows:\nPr(x(t) = x|y(t) = y) = Pr(x(t) = x, y(t) = y) Pr(y(t) = y) .\nFor a function f : Z+ \u2192 R of x(t), the conditional expectation of f(x(t)) under the condition that y(t) takes the value of y \u2208 Z+ is defined as\nE[f(x(t))|y(t) = y] = \u221e\u2211\nx=0\nf(x)Pr(x(t) = x|y(t) = y).\nLink \ud835\udc56\ud835\udc57 Station \ud835\udc56\nLink \ud835\udc58\ud835\udc59\nStation \ud835\udc58\nShift\nfunctions with respect  are defined for x 2 R as follows: bxc = max{y 2 Z : y  x}, dxe = min{y 2 Z : y x}. The identity matrix is denoted by I 2 Rn\u21e5n, the unit vector with the ith entry 1 is denoted by ei 2 Rn, and 1 = [1 \u00b7 \u00b7 \u00b7 1]>. For a1, . . . , an 2 R, diag(a1, . . . , an) represents the diagonal matrix of which ith diagonal entry is ai. For a vector a = [a1 \u00b7 \u00b7 \u00b7 an]> 2 Rn, diag(a) = diag(a1, . . . , an). Let x : Z+ ! Z+ be a stochastic variable of time t 2 Z+ with domain of non-negative integers. The probability that x(t) takes the value x 2 Z+ is represented as Pr(x(t) = x) 2 [0, 1]. For a function f : Z+ ! R of x(t), the expectation and the variance of f(x(t)) are respectively defined as E[f(x(t))] = 1X x=0 f(x)Pr(x(t) = x), Var[f(x(t))] = E[(f(x(t)) E[f(x(t))])2]. For random variables x, y : Z+ ! Z+ of time t, Pr(x(t) = x, y(t) = y) 2 [0, 1] represents the joint probability that x(t), y(t) take the values of x, y 2 Z+, respectively. Let Pr(x(t) = x|y(t) = y) represent the conditional probability that x(t) takes the value of x 2 Z+ under the condition that y(t) takes the value of y 2 Z+, which is given as follows: Pr(x(t) = x|y(t) = y) = Pr(x(t) = x, y(t) = y) Pr(y(t) = y) .\nFor a function f : Z+ ! R of x(t), the conditional expectation and the conditional variance of f(x(t)) under the condition that y(t) takes the value of y 2 Z+ are respectively defined as\nE[f(x(t))|y(t) = y] = 1X\nx=0\nf(x)Pr(x(t) = x|y(t) = y),\nVar[f(x(t))|y(t) = y] = E[(f(x(t)) E[f(x(t))|y(t) = y])2|y(t) = y].\nII. PROBLEM FORMULATION\nA. System models\nT e car-sharing system consi ered in this paper consists of n 2 Z+ stations. Let N = {1, 2, . . . , n} be the index set of the stations. A specific station is called station i 2 N , and the travel from station j to i is called link ij that is, the origin and the destination of link ij are station j and i, respectively. Let m 2 Z+ be the number of the vehicles.\nTraffic model: Let xi(t) 2 Z+ be the number of vehicles at station i 2 N at time t. Each customer reserves a vehicle with the origin and destination. Let rij(t) 2 Z+ be the number of customers reserving vehicles for link ij (i, j 2 N ) at time t. At the next time, the customers travel according to their reservations, and the number of vehicles at station i varies as\nxi(t + 1) = xi(t) + X\nj2N (rij(t) rji(t)), (1)\nwhere rij(t) represents the number of customers who arrive at station i from other stations, while rji(t) represents the number of customers who depart from station i to other stations. Note that the number m of the vehicles is equal to the sum of the numbers xi(t) of the vehicles, i.e., X i2N xi(t) = m (2) holds. Pricing rule model: The operator can adjust the price of each link at each time. Let pij(t) 2 Z be the price of link ij, where a constant  2 Z+ ( > 0) represents the unit of the price in the car-sharing service. We consider designing a common pricing rule for adjusting pij(t) using only local information on stations i, j, which is said to be distributed. A distributed pricing rule is advantageous for large-scale systems because we do not need to collect the information of all the stations to compute appropriate prices. Let p\u0302 2 Z be a standard price in the car-sharing service, and let \u21e1 : Z2+ ! Z be a distributed rule to adjust the price according to pij(t) = p\u0302 + \u21e1(xi(t), xj(t)). (3) The distributed pricing rule \u21e1 can be designed by the operator. We assume that \u21e1 is continuously differentiable. Demand model: Let dij(t) 2 Z+ be the number of the customers who want to use link ji when the prices of the links are all the same as p\u0302. We assume that dij(t) follows the Poisson distribution\nPr(dij(t) = dij) =\ndij ij e ij\ndij ! (4)\nwith a constant expectation and variance ij > 0. Accordingly,\nE[dij(t)] = ij , Var[dij(t)] = ij (5)\nhold. Assume that dij(t) are independent for any i, j 2 N and t 2 Z+.\nDemand shift model: We assume that customers shift the origins and destinations of links by walk according to the prices of links and the easiness of changing the origins and destinations. Let sij,k`(t) 2 Z+ be the number of the customers who shift links from k` to ij, that is, the origin changes from ` to j and the destination changes from k\nto i. Let ik = ki 0 denote the easiness of changing\nstations from k to i, and from i to k, by walk. In general,\nas farther stations i and k are, as larger the easiness ik is.\nThe customers are informed of two pieces of information by\nthe operator: (i) the difference pk`(t) pij(t) of the prices\nof links (the benefit received from shifting links) and (ii) the\neasiest ik, k` for changing stations by walk, which can be determined according to the distance between stations. The shift sij(t) from k` to ij is assumed to occur according to the Poisson distribution with the expectation and variance\nik j` (pij(t) pk`(t)) (6) when the prices pk`(t) and pij(t) are given. Here, the function : Z ! R+ represents the sensitivity to the price,\nOccupied slots\nfunctions with respect  are defined for x 2 R as follows: bxc = max{y 2 Z : y  x}, dxe = min{y 2 Z : y x}. The identity matrix is denoted by I 2 Rn\u21e5n, the unit vector with the ith entry 1 is denoted by ei 2 Rn, and 1 = [1 \u00b7 \u00b7 \u00b7 1]>. For a1, . . . , an 2 R, diag(a1, . . . , an) represents the diagonal matrix of which ith diagonal entry is ai. For a vector a = [a1 \u00b7 \u00b7 \u00b7 an]> 2 Rn, diag(a) = diag(a1, . . . , an). Let x : Z+ ! Z+ be a stochastic variable of time t 2 Z+ with domain of non-negative integers. The probability that x(t) takes the value x 2 Z+ is represented as Pr(x(t) = x) 2 [0, 1]. For a function f : Z+ ! R of x(t), the expectation and the variance of f(x(t)) are respectively defined as E[f(x(t))] = 1X x=0 f(x)Pr(x(t) = x), Var[f(x(t))] = E[(f(x(t)) E[f(x(t))])2]. For random variables x, y : Z+ ! Z+ of time t, Pr(x(t) = x, y(t) = y) 2 [0, 1] represents the joint probability that x(t), y(t) take the values of x, y 2 Z+, respectively. Let Pr(x(t) = x|y(t) = y) represent the conditional probability that x(t) takes the value of x 2 Z+ under the condition that y(t) takes the value of y 2 Z+, which is given as follows: Pr(x(t) = x|y(t) = y) = Pr(x(t) = x, y(t) = y) Pr(y(t) = y) . For a function f : Z+ ! R of x(t), the conditional expectation and the conditional variance of f(x(t)) under the co dition that y(t) t kes the value of y 2 Z+ are respectively defin d as E[f(x(t))|y(t) = y] = 1X x=0 f(x)Pr(x(t) = x|y(t) = y), Var[f(x(t))|y(t) = y] = E[(f(x(t)) E[f(x(t))|y(t) = y])2|y(t) = y].\nII. PROBLEM FORMULATION\nA. System mo els\nThe car-sharing system considered in this paper consists of n 2 Z+ stations. Let N = {1, 2, . . . , n} be the index set of the stations. A specific station is called station i 2 N , and the travel from station j to i is called link ij that is, the origin and the destination f link ij are station j and i, respectively. Let m 2 Z+ be the number of the vehicles.\nTraffic model: Let xi(t) 2 Z+ be the number of vehicles at station i 2 N at time t. Each customer reserves a vehicle with the origin and destination. Let rij(t) 2 Z+ be the number of customers reserving vehicles for link ij (i, j 2 N ) at time t. At the next time, the customers travel according to their reservations, and the number of vehicles at station i\nvaries as\nxi(t + 1) = xi(t) + X\nj2N\n(rij(t) rji(t)), (1)\nwhere rij(t) represents the number of customers who arrive at station i from other stations, while rji(t) represents the number of customers who depart from station i to other stations. Note that the number m of the vehicles is equal to the sum of the numbers xi(t) of the vehicles, i.e., X i2N xi(t) = m (2) holds. Pricing rule model: The operator can adjust the price of each link at each time. Let pij(t) 2 Z be the price of link ij, where a constant  2 Z+ ( > 0) represents the unit of the price in the car-sharing service. We consider designing a common pricing rule for adjusting pij(t) using only local information on stations i, j, which is said to be distributed. A distributed pricing rule is advantageous for large-scale systems because we do not need to collect the information of all the stations to compute appropriate prices. Let p\u0302 2 Z be a standard price in the car-sharing service, and let \u21e1 : Z2+ ! Z be a distributed rule to adjust the price according to pij(t) = p\u0302 + \u21e1(xi(t), xj(t)). (3) The d stributed pr cing rule \u21e1 can be designed by the operator. We ssume that \u21e1 is continuously differentiable. Demand model: Let dij(t) 2 Z+ be the number of the customers who want to use link ji when the prices of the links are all the same as p\u0302. We assume that dij(t) follows the Poisson distribution Pr(dij(t) = dij) = dij ij e ij dij ! (4) with a constant expectation and variance ij > 0. Accordingly, E[dij(t)] = ij , Var[dij(t)] = ij (5) hold. Assume that dij(t) are independent for any i, j 2 N and t 2 Z+.\nDemand shift model: We assume that customers shift the origins and destinations of links by walk according to the prices of links and the easiness of changing the origins and destinations. Let sij,k`(t) 2 Z+ be the number of the customers who shift links from k` to ij, that is, the origin changes from ` to j and the destination changes from k to i. Let ik = ki 0 denote the easiness of changing stations from k to i, and from i to k, by walk. In general, as farther stations i and k are, as larger the easiness ik is. The customers are informed of two pieces of information by the operator: (i) the difference pk`(t) pij(t) of the prices of links (the benefit received from shifting links) and (ii) the easiest ik, k` for changing stations by walk, which can be determined according to the distance between stations. The shift sij(t) from k` to ij is assumed to occur according to the Poisson distribution with the expectation and variance\nik j` (pij(t) pk`(t)) (6)\nwhen the prices pk`(t) and pij(t) are given. Here, the\nfunction : Z ! R+ represents the sensitivity to the price,\nEase of walking\nY km\nX km Fig. 1: Layout f n = 25 stations. IV. SIMULATION\nTo verify the effectiveness of the developed method, simulations are conducted as a discrete-time system with sampling time 1 min. There are n = 25 stations scattered over an area of approximately 6 km \u21e5 8 km as hown in Figure 1. Let m = 164 be the number of the vehicles. We consider the system model consisting of (1), (2), (3), (4), (6), (7), (10), (14), and (15). The system parameters are given as follows: the price elasticity of demand is given as \u0302 = 2.5\u21e510 5; the expectation ij of the demand takes value from 0.005\u21e5 60 1 to 3\u21e5 60 1; the easiness ij of shifting stations from k to i depends on the distance between the stations and is determined according to ik = e \u2318k\u21e2i \u21e2kk, where \u21e2i 2 R is the position of station i in Figure 1 and \u2318 = 4.5 \u21e5 10 4. According to Theorem 1, the distributed pricing policy \u21e1 in (14) is designed with \u232b = 0.01 and  = 1. Then, the parameters \u21e1\u0302a = \u21e1\u0302b = 1 and \u21e1\u0302c = 0 are designed ccording to (16), (17), and (18) so as to solve\nthe ptimization problem (13).\nSimulations are executed under two conditions: with dy-\nnamic pricing and without dynamic pricing (with a fixed\nprice). Figures 2 and 3 show how the number of vehicles xi(t) at each station changes over time with and without dynamic pricing, respectively. As shown in Figure 2, the unevenness in xi(t) is reduced with dynamic pricing, whereas Figure 3 shows that the unevenness increases without dynamic pricing. Figure 4 shows the sample variance of the numbers of the vehicles with respect to the stations, defined as Vv(x(t)) in (11), which indicates the evenness of the vehicles. The value decreases to a certain value with dynamic pricing (solid line), while that without dynamic pricing is increasing over time (dashed line). This result demonstrates that the unevenness of the vehicles is reduced by dynamic pricing with the developed pricing rule.\nV. CONCLUSIONS\nThis study investigated the potential of dynamic pricing to solve the problem of uneven distribution of vehicles in a\nx i (t ) un it\nTime t hour Fig. 2: Number xi(t) of vehicles at each station with dynamic pricing.\nx i (t\n) un\nit\nTime t h ur\nFig. 3: Number xi(t) of vehicles at each station without dynamic pricing.\none-way car-sharing system. To design a distributed pricing\nrule, first, this system was modeled. Especially, the voluntary\ndemand shift of customers was modeled with the Poisson processes. Then, the distributed pricing rule was derived, which minimizes the unevenness of the vehicles and the price discrepancy. The effectiveness of the developed method was illustrated through simulations by comparing the results with and without dynamic pricing. As future work, there is room for verification of the customer behavior model.\nREFERENCES\n[1] Shoshi Mizokami, Takuya Maruyama, Junya Hashimoto, Toshikatsu Mori, Daisuke Sunaga: Research and development on the possibility of introducing a one-way car sharing system and new ways to utilize road space; New Road Technology Conference (2019) [2] Giuseppe Carlo Calafiore, Christian Bongiorno, Alessandro Rizzo: A control-oriented model for mobility on demand systems; IEEE Conference on Decision and Control (CDC) (2018) [3] Stephen L. Smith, Marco Pavone, Mac Schwager, Emilio Frazzoli, Daniela Rus: Rebalancing the Rebalancers: Optimally routing vehi-\nfunctions with respect  are defined for x 2 R as follows: bxc = ma {y 2 Z : y  x}, dxe = min{y 2 Z : y x}. The identity matrix is denoted by I 2 Rn\u21e5n, the unit vector with the ith entry 1 is denoted by ei 2 Rn, and 1 = [1 \u00b7 \u00b7 \u00b7 1]>. For a1, . . . , an 2 R, diag(a1, . . . , an) represents the diagonal matrix of which ith diagonal entry is ai. For a vector a = [a1 \u00b7 \u00b7 \u00b7 an]> 2 Rn, diag(a) = diag(a1, . . . , an). Let x : Z+ ! Z+ be a stochastic variable of time t 2 Z+ with domain of non-negative integers. The probability that x(t) takes the value x 2 Z+ is represented as Pr(x(t) = x) 2 [0, 1]. For a function f : Z+ ! R of x(t), the expectation and the variance of f(x(t)) are respectively defined as E[f(x(t))] = 1X\nx=0\nf(x)Pr(x(t = x),\nVar[f(x(t))] = E[(f(x(t)) E[f(x(t))])2]. For random variables x, y : Z+ ! Z+ of time t, Pr(x(t) = x, y( ) = y) 2 [0, 1] represents the joint probability that x(t), y(t) take the values of x, y 2 Z+, respectively. Let Pr(x(t) = x|y(t) = y) represent the conditional probability that x(t) takes the value of x 2 Z+ under the condition that y(t) takes the value of y 2 Z+, which is given as follows:\nPr(x(t) = x|y(t) = y) = Pr(x(t) = x, y(t) = y) Pr(y(t) = y) .\nFor a function f : Z+ ! R of x(t), the conditional expectation and the conditional variance of f(x(t)) under the condition that y(t) takes the valu of y 2 Z+ are respectively defined as\nE[f(x(t))|y(t) = y] = 1X\nx=0\nf(x)Pr(x(t) = x|y(t) = y),\nVar[f(x( ))|y(t) = y]\n= E[(f(x(t)) E[f(x(t))|y(t) = y])2|y(t) = y].\nII. PROBLEM FORMULATION\nA. System models\nThe car-sharing system considered in this paper consists of n 2 Z+ stations. Let N = {1, 2, . . . , n} be the index set of the stations. A specific station is called statio i 2 N , and the travel from station j to i is called link ij that is, th origin and the destin tion of ink j are sta ion j and , respectively. Let m 2 Z+ be the number of the vehicles.\nTraffic mod l: L t xi(t) 2 Z+ be th numb of ehicles at station i 2 N at time t. Each customer reserves a vehicle with the origin and destination. Let rij(t) 2 Z+ be the number of customers reservi g vehicles for link ij (i, j 2 N ) at time t. At the next time, the customers travel according to their reservations, and the number of vehicles at station i varies as\nxi(t + 1) = xi(t) + X\nj2N (rij(t) rji(t)), (1)\nwhere rij(t) represents the number of customers who arrive at station i from other stations, while rji(t) represents the nu ber of customers who depart from statio i to other stations. Note that the number m of the vehicles is equal to the sum of the numbers xi(t) of the vehicles, i.e., X i2N xi(t) = m (2) holds. Pricing rule model: The operator can adjust the price of\neach link at each time. Let pij(t) 2 Z be the price of link ij, wh re a constant  2 Z+ ( > 0) represents the unit of the price in the car-sharing service. We consider designing a common pricing rule for adjusting pij(t) using only local information on stations i, j, which is said to be distributed. A distributed pricing rule is advantageous for large-scale systems because we do not need to collect the information of all the stations to compute appropriat prices. Let p\u0302 2 Z be a standard price i the car-sharing service, and let \u21e1 : Z2+ ! Z be a distr buted rule to adjust the price acco ding o\npij(t) = p\u0302 + \u21e1(xi(t), xj(t)). (3)\nThe distributed pricing rule \u21e1 can be designed by the operator. We assume that \u21e1 is continuously differentiable.\nDemand model: Let dij(t) 2 Z+ be the number of the customers who want to use link ji when the prices of the links are all the same as p\u0302. We assume that dij(t) follows the Poisson distribution\nPr(dij(t) = dij) =\ndij ij e ij\ndij ! (4)\nwith a const nt expectation and variance ij > 0. Accordingly,\nE[dij(t)] = ij , Var[dij(t)] = ij (5)\nhold. Assume that dij(t) are independent for any i, j 2 N\nand t 2 Z+.\nDemand shift model: We assume that customers shift the origins and destinations of links by walk according to the\nprices of links and the easiness of changing the origins\nand destinations. Let sij,k`(t) 2 Z+ be the number of the customers who shift links from k` to ij, that is, the origin changes from ` to j and the d sti ation c anges from k to i. Let ik = ki 0 deno e th easiness of changing stations from k to i, and from i to k, walk. In gene al, as farther stations i an k are, as lar er the easiness ik is. The customers a e informed of two pieces of infor ation by the operator: (i) the difference pk`(t) pij(t) of the prices of links (the benefit received from shifting links) and (ii) the easiest ik, k` for changing stations by walk, which can be determined according to the distance between stations. The shift sij(t) from k` to ij is assumed to occur according to the Poisson distribution with the xpectation and variance\nik j` (pij(t) pk`(t)) (6) when the prices pk`(t) and pij(t) are given. Here, the function : Z ! R+ represents the sensitivity to the price,\nfunctions with respect  are defined for x 2 R as follows: bxc = max{y 2 Z : y  x}, dxe = min{y 2 Z : y x}. The identity matrix is denoted by I 2 Rn\u21e5n, the unit vector with the ith entry 1 is denoted by ei 2 Rn, and 1 = [1 \u00b7 \u00b7 \u00b7 1]>. For a1, . . . , an 2 R, diag(a1, . . . , an) represents the diagonal matrix of which ith diagonal entry is ai. For a vector a = [a1 \u00b7 \u00b7 \u00b7 an]> 2 Rn, diag(a) = diag(a1, . . . , an). Let x : Z+ ! Z+ be a stochastic variable of time t 2 Z+ with domain of non-negative integers. The probability that x(t) takes the value x 2 Z+ is represented as Pr(x(t) = x) 2 [0, 1]. For a function f : Z+ ! R of x(t), the expectation and the variance of f(x(t)) are respectively defined as E[f(x(t))] = 1X x=0 f(x)Pr(x(t) = x), Var[f(x(t))] = E[(f(x(t)) E[f(x(t))])2]. For random variables x, y : Z+ ! Z+ of time t, Pr(x(t) = x, y(t) = y) 2 [0, 1] represents the joint probability that x(t), y(t) take the values of x, y 2 Z+, respectively. Let Pr(x(t) = x|y(t) = y) represent the conditional probability that x(t) tak s the value of x 2 Z+ under the condition that y(t) takes th value of y 2 Z+, which is giv n as follows: Pr(x(t) = x|y(t) = y) = Pr(x(t) = x, y(t) = y) Pr(y(t) = y) . For a function f : Z+ ! R of x(t), the conditional exp tation and the conditional variance of f(x(t)) under the condition that y(t) takes the value of y 2 Z+ are respectively defined as E[f(x(t))|y(t) = y] = 1X x=0 f(x)Pr(x(t) = x|y(t) = y), Var[f(x(t))|y(t) = y] = E[(f(x(t)) E[f(x(t))|y(t) = y])2|y(t) = y]. II. PROBLEM FORMULATION A. System m dels\nThe car-sharing system considered in this paper consists of n 2 Z+ stations. Let N = {1, 2, . . . , n} be the index set of the stations. A specific station is called station i 2 N , and the travel from station j to i is called link ij that is, the origin and the destination of link ij are s ation j and i, respectively. Let m 2 Z+ be the number of the vehicles.\nTraffic model: Let xi(t) 2 Z+ be the number of vehicles at station i 2 N at time t. E ch customer reserves a vehicle with the or gin and destin tion. Let rij(t) 2 Z+ be the numb r of customers reserving vehicles for link ij (i, j 2 N ) at time t. At the next time, the customers travel according to their reservations, and the number of vehicles at station i varies as\nxi(t + 1) = xi(t) + X\nj2N (rij(t) rji(t)), (1)\nwhere rij(t) represents the number of customers who arrive at station i from other stations, while rji(t) represents the number of customers who depart from station i to other stations. Note that the number m of the vehicles is equal to the sum of the numbers xi(t) of the vehicles, i.e., X i2N xi(t) = m (2) holds. Pricing rule model: The operator can adjust the price of each link at each time. Let pij(t) 2 Z be the price of link ij, where a constant  2 Z+ ( > 0) represents the unit of the price in the car-sharing service. We consider designing a common pricing rule for adjusting pij(t) using only local information on stations i, j, which is said to be distributed. A distributed pricing rule is advantageous for large-scale systems because we do not need to collect the information of all the stations to compute appropriate prices. Let p\u0302 2 Z be a standard price in the car-sharing service, and let \u21e1 : Z2+ ! Z be a distributed rule to adjust the price according to pij( ) = p\u0302 + \u21e1(xi(t), xj(t)). (3) The distributed pricing rule \u21e1 can be designed by the operator. We assume that \u21e1 is continuously differentiable. Demand model: Let dij(t) 2 Z+ be the number of the customers who want to use link ji when the prices of the links are all the same as p\u0302. We assume that dij(t) follows th Poisson distribution Pr(dij(t) = dij) = dij ij e ij dij ! (4) with a constant expectation and variance ij > 0. Accordingly, E[dij(t)] = ij , Var[dij(t)] = ij (5) hold. Assume that dij(t) are independent for any i, j 2 N and t 2 Z+.\nDemand shift model: We assume that customers shift the origins and destinations of links by walk according to the prices of links and the easiness of changing the origins and destinations. Let sij,k`(t) 2 Z+ be the number of the customers who shift links from k` to ij, that is, the origin changes from ` to j and the destination changes from k to i. Let ik = ki 0 denote the easiness of changing stations from k to i, and from i to k, by walk. In general, as farther stations i and k are, as larger the easiness ik is. The customers are informed of two pieces of information by the p rator: (i) the differe ce pk`(t) pij(t) of the prices of links (the enefit receiv d f om shifting links) and (ii) the easiest ik, k` for changing stations by walk, which can be etermined acc rd g to the distance between stations. The\nshift sij from k` to ij is assumed to occur according to the Poisson distribution with t e expectation and variance\nik j` (pij(t) pk`(t)) (6) when the prices pk`(t) and pij(t) are given. Here, the function : Z ! R+ represents the sensitivity to the price,\nDemand Reservation Price\nfunctions with respect  are defined for x 2 R as follows: bxc = max{y 2 Z : y  x}, dxe = min{y 2 Z : y x}.\nThe identity matrix is denot d by I 2 Rn\u21e5n, the unit vector with the ith entry 1 is d noted by ei 2 Rn, and 1 = [1 \u00b7 \u00b7 \u00b7 1]>. For a1, . . . , an 2 R, diag(a1, . . . , an) represents the diagonal matrix of which ith diagonal entry is ai. For a vector a = [a1 \u00b7 \u00b7 \u00b7 an]> 2 Rn, diag(a) = diag(a1, . . . , an).\nLet x : Z+ ! Z+ be a stochastic variable of time t 2 Z+ with domain of non-negative integers. The probability that x(t) takes e value x 2 Z+ is represented as Pr(x(t) = x) 2 [0, 1]. For a func : Z+ ! R of x(t), the expectation and the variance of f(x( )) ar respect vely defined as\nE[f(x(t))] = 1X\nx=0\nf(x)Pr(x(t) = x),\nVar[f(x(t))] = E[(f(x(t)) E[f(x(t))])2].\nFor random variables x, y : Z+ ! Z+ of time t, Pr(x(t) =\nx, y(t) = y) 2 [0, 1] repr sen s the joint probability that\nx(t), y(t) take he values of x, y 2 Z+, espectively. Let\nPr(x(t) = x|y( ) = y) represen th conditional probability\nthat x(t) takes the value of x 2 Z+ under the condition that y(t) takes the value of y 2 Z+, which is given as follows:\nPr(x(t) = x|y(t) = y) = Pr( (t) = x, y(t) = y) Pr(y( ) = y) .\nFor a function f : Z+ ! R of x(t), the conditional expectation and the conditional variance of f(x(t)) under the condition that y(t) takes the value of y 2 Z+ are respectively defined as\nE[f(x(t))|y(t) = y] = 1X\nx=0\nf(x)Pr(x(t) = x|y(t) = y),\nVar[f(x(t))|y(t) = y] = E[(f(x(t)) E[f(x(t))|y(t) = y])2|y(t) = y].\nII. PROBLEM FORMULATION\nA. System models\nThe car-sharing system considered in this paper consists of n 2 Z+ stations. Let N = {1, 2, . . . , n} be the index set of the stations. A specific station is called station i 2 N , and the travel from station j to i is called link ij that is, the origin and the destination of link ij are station j and i, respectively. Let m 2 Z+ be the number of the vehicles.\nTraffic model: Let xi(t) 2 Z+ be the number of vehicles at station i 2 N at time t. Each customer reserves a vehicle with the origin and destination. Let rij(t) 2 Z+ be the number of customers reserving vehicles for link ij (i, j 2 N ) at time t. At the next time, the customers travel according to their reservations, and the number of ve icles at station i varies as\nxi(t + 1) = xi(t) + X\nj2N (rij(t) rji(t)), (1)\nw re ij(t) represents the numb r of custo ers who arrive at station i from other stations, while rji(t) r pres nt he number of customers who depart from station i to o r stations. Note that the number m of th vehicle is equal to the sum of the numbers xi(t) of the vehicles, i.e.,\nX i2N i(t) = m (2)\nholds. Pricing rule model: The operator can adjust the price of each link at each time. Let pij(t) 2 Z be the price of link ij, where a constant  2 Z+ ( > 0) epresen s the u it of th price in the car-sharing service. We consider designing a common pricing rule for adjusting pij(t) usi only local information on stations i, j, which is said to be d stributed. A istributed pricing rule is advantageous for large-scale systems because we do not need to collect the information of all the stations to compute appropriate prices.\nLet p\u0302 2 Z be a standard price in the car-sharing service,\nand let \u21e1 : Z2+ ! Z be a distributed rule to adjust the price\naccording to\npij(t) = p\u0302 + \u21e1(xi(t), xj(t)). (3)\nThe distributed pricing rule \u21e1 ca be designed by the\noperator. We assume that \u21e1 is continuously differentiabl .\nDemand model: Le dij(t) 2 Z+ be the number of the customers who want to use link ji when the prices of the links are all the same as p\u0302. We assume that dij(t) follows th Poiss n distribution\nPr(dij(t) = dij) =\ndij ij e ij\ndij ! (4)\nwith a constant expectation and variance ij > 0. Accordingly,\nE[dij(t)] = ij , Var[dij(t)] = ij (5)\nhol . Assume that dij(t) are independent for any i, j 2 N and t 2 Z+.\nDemand shift model: We assume that customers shift the origins and destinations of links by walk according to th prices of links and the easi ess of changing the origins and destinations. Let sij,k`(t) 2 Z+ be the number of the customers who shift links from k` to ij, that is, the origin changes from ` to j and the destination changes from k to i. Let ik = ki 0 denote the easiness of changing stations from k to i, and from i to k, by walk. In general, as farther stations i and k are, as larger the easiness ik is. The customers are informed of two pieces of information by the operator: (i) the difference pk`(t) pij(t) of the prices of links (the benefit received from shifting links) and (ii) the easiest ik, k` for changing stations by walk, which can be determined according to the distance between stations. The shift sij(t) from k` to ij is assumed to occur according to the Poisson distribution with the expectation and variance\nik j` (pij(t) pk`(t)) (6) when the prices pk`(t) and pij(t) are given. Here, the function : Z ! R+ represents the sensitivity to the price,\nFig. 1: Sketch of the target car-sharing system.\nTABLE I: Variables and constants in the els.\nxi(t) # of occupied and reserved parking slots at station i xmaxi capacity of the parking slots at station i x+i (t) xpected next number of xi(t) for deman s dij(t) rij(t) # of reservations of vehicles for link ij dij(t) # of demands for link ij d\u0302ij(t) # of original demands for link ij pij(t) price of link ij p\u0302ij standard price of link ij uij(t) # of unfulfilled demands for link ij \u03b4ij expectation of the original demand number d\u0302ij(t) \u03b3ik ease of changing stations from k to i by walking\nsij,k\u2113(t) # of demand sh fts from link k\u2113 to ij cij,k\u2113(t) credible # of demand shifts from link k\u2113 to ij\nn # of stations m total # of vehicles\nmmax sum of all capac ties \u03ba i f price in the car-shari g service\n\u03d5(\u00b7) sensitivity of customers to prices\nB. System models The car-sharing system considered in this paper consists of n \u2208 Z+ stations. Let N = {1, 2, . . . , n} be the i ex set of stations. A specific station is denoted as i \u2208 N , and the travel from station j to i is called link ij, that is, the origin and destina ion of link ij are stations j and i, respectively. The sampling time of the system is determined from the time interval of changing prices, corresponding to the discrete time t \u2208 Z+.\nThis system consists of four models: parking-slot, reservation, demand, and demand-shift models. Figure 1 shows a sketch of the system. The variables and constants in the models are summarized in Table I.\n1) Parking-slot model: First, we model the number of occupied and reserved parking slots at station i \u2208 N , denoted by xi(t) \u2208 Z+.\nFor capacity xmaxi \u2208 Z+ of the parking slots at station i, xi(t) must satisfy\n0 \u2264 xi(t) \u2264 xmaxi \u2200t \u2208 Z+. (1) The sum of the numbers xi(t) is preserved, i.e.,\u2211\ni\u2208N xi(t) = m (2)\nalways holds, where m \u2208 Z+ is the total number of vehicles. For the sum of capacities of the stations\nmmax = \u2211\ni\u2208N xmaxi , (3)\nm is assumed to be considerably smaller than mmax. Let rij(t) \u2208 Z+ be the number of reservations of the vehicles for link ij. Parking slots are reserved according to rij(t), and xi(t) varies as\nxi(t+ 1) = xi(t) + \u2211\nj\u2208N (rij(t)\u2212 rji(t)), (4)\nwhere rij(t) (rji(t)) represents the number of reservations of vehicles entering station i (j) from station j (i).\n2) Reservation model: Next, we consider the number of reservations rij(t), which is determined according to three rules: (i) the reservations must be less than the demands, i.e., rij(t) \u2264 dij(t), where dij(t) \u2208 Z+ is the number of demands for link ij, (ii) xi(t + 1) in (4) must satisfy the capacity restriction of (1), (iii) the unfulfilled demand uij(t) = dij(t)\u2212 rij(t) \u2208 Z+ must be minimized.\nThe service is usually conducted according to the firstcome-first-served rule, so (iii) cannot be strictly satisfied. However, uij(t) can be zero, i.e., rij(t) = dij(t), as long as the capacities of the stations are satisfied with the demands, i.e., 0 \u2264 x+i (t) \u2264 xmaxi , 0 \u2264 x+j (t) \u2264 xmaxj (5) hold for\nx+i (t) = xi(t) + \u2211\nj\u2208N (dij(t)\u2212 dji(t)). (6)\nUnder this condition, we can assign rij(t) = dij(t), and xi(t+ 1) in (4), equal to x+i (t), satisfies (1).\nFrom this viewpoint, to fulfill (iii), we must simply control x+i (t) to satisfy (5) for all i, j \u2208 N .\n3) Demand model: Next, we model dij(t), the number of demands for vehicles for link ij, which is changed according to the prices of links.\nLet d\u0302ij(t) \u2208 Z+ be the number of original demands for link ij with a standard price. We assume that the original demand number d\u0302ij(t) follows a random variance with expectation \u03b4ij > 0, i.e.,\nE[d\u0302ij(t)] = \u03b4ij . (7)\nA typical example of such a random variance is the Poisson distribution. We assume that d\u0302ij(t) are independent for any i, j \u2208 N and t \u2208 Z+.\nCustomers shift the origins and destinations of links by walking according to the prices of links if changing the origins and destinations is easy. Let sij,k\u2113(t) \u2208 Z+ be the number of customers who shift links from k\u2113 to ij, that is, the origin changes from \u2113 to j and the destination changes from k to i. Thus, the demand number dij(t) is changed from the original one d\u0302ij(t) by the demand shifts sij,k\u2113(t) as follows:\ndij(t) = d\u0302ij(t) + \u2211\nk\u2113\u2208N 2 (sij,k\u2113(t)\u2212 sk\u2113,ij(t)), (8)\nwhere sij,k\u2113(t) (sk\u2113,ij(t)) represents the number of customers who shift into link ij from other links (who shift away from link ij to other links).\n4) Demand-shift model: Next, we model the demand shift number sij,k\u2113(t), which is determined from the prices of links and ease of changing links.\nLet pij(t) \u2208 \u03baZ be the price of link ij, where a positive integer \u03ba \u2208 Z+ (\u03ba > 0) represents the unit of price in the car-sharing service (e.g., one dollar or ten yen). The ease of walking between stations i and k is described by \u03b3ik(= \u03b3ki) \u2265 0, which can be evaluated according to the distance between stations. In general, the farther apart stations i and k are, the smaller the ease \u03b3ik is. Customers are informed of two pieces of information by the operator: (i) the difference pk\u2113(t) \u2212 pij(t) of prices of links (the benefit received from shifting links) and (ii) the ease \u03b3ik, \u03b3j\u2113 of changing stations by walking (the cost of shifting links). The shift is assumed to randomly occur with expectation as\nE[sij,k\u2113(t)|P (t) = P ] = \u03b3ik\u03b3j\u2113\u03d5(pij \u2212 pk\u2113), (9) where P (t) \u2208 Zn\u00d7n represents a matrix whose (i, j)-entry is pij(t), and similarly P \u2208 Zn\u00d7n has (i, j)-entry pij . Here, the function \u03d5 : Z \u2192 R+ is a monotonically non-increasing function satisfying \u03d5(p) = 0 for p \u2265 0, which implies that customers tend to shift to cheaper links and do not shift to more expensive ones.\nC. Control objective\nThe control objective is to distribute car parking to reduce the unfulfilled demands. As discussed at the end of Section II-B.2, this is achieved by controlling x+i (t) to satisfy the inequality condition of (5) for all i \u2208 N . Here, we employ a soft constraint to solve (5) by considering the discrepancy x\u0304+i (t) = x + i (t) \u2212 xmaxi /2 of the occupied and reserved parking slots from the desired number (half the capacity) as a penalty. Our goal is to achieve an even distribution of penalties across all stations, which can be evaluated with the sample variance of the penalties, defined as\nVx(x(t)) = 1\nn\n\u2211 i\u2208N E\n[ x\u0304+i (t)\u2212 1\nn\n\u2211 i\u2208N x\u0304+i (t)\n]2 , (10)\nwhere x(t) = [x1(t) x2(t) \u00b7 \u00b7 \u00b7 xn(t)]\u22a4. To maintain the even distribution, we employ a common,\ndistributed dynamic pricing policy, which is advantageous for large-scale systems because the price of each link can be easily computed with the information on neighboring stations. Let p\u0302ij = p\u0302ji \u2208 \u03baZ be the standard price between stations i and j in the car-sharing service, and the price pij(t) is adjusted on the common, distributed dynamic pricing policy\npij(t) = p\u0302ij + \u03c0(x\u0304i(t), x\u0304j(t)) (11)\nwith a function \u03c0 : Z2+ \u2192 \u03baZ, where x\u0304i(t) = xi(t)\u2212xmaxi /2. Then, \u03c0 is common among links and is distributed. The discrepancy of the price pij(t) from the standard price p\u0302ij is preferably small for customer convenience. From (11), the squared discrepancy is evaluated according to\nVp(x(t)) = 1\nn2\n\u2211\ni,j\u2208N E[\u03c0(x\u0304i(t), x\u0304j(t))]\n2, (12)\nwhich should be minimized. For simplicity, \u03c0 : Z2+ \u2192 \u03baZ is assumed to be an affine function given as\n\u03c0(x\u0304i, x\u0304j) = \u03c0\u0302ax\u0304i + \u03c0\u0302bx\u0304j + \u03c0\u0302c, \u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c \u2208 \u03baZ, (13) where \u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c \u2208 \u03baZ are design parameters.\nWe expect to design a common, distributed dynamic pricing policy to minimize Vx(x(t)) and Vp(x(t)). Here, we evaluate the terminal value of the sum of these values, i.e.,\nV (\u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c) = max m\u2208Z lim t\u2192\u221e (Vx(x\u0304(t)) + \u00b5Vp(x(t)))\n+ \u03bd(\u03c0\u03022a + \u03c0\u0302 2 b + \u03c0\u0302 2 c ) (14)\nwith constants \u00b5, \u03bd > 0, where the last term is a regularization term. The maximum with respect to m \u2208 Z is used in (14) to design a scalable dynamic pricing policy \u03c0, which is valid regardless of the number of vehicles m.\nThe target problem in this paper is summarized as follows. Problem 1: Design a common, distributed dynamic pricing policy of (11) with a function \u03c0 : Z2+ \u2192 \u03baZ of the form (13) that is the solution to the optimization problem\nmin \u03c0\u0302a,\u03c0\u0302b,\u03c0\u0302c\u2208\u03baZ V (\u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c) (15)\nfor the system consisting of the models of (1)\u2013(9).\nIII. MAIN RESULT To obtain an analytic solution to Problem 1, we consider\nthe linearized system valid in the neighborhood of the equilibrium point, and derive the following theorem.\nTheorem 1: Let xi(t) \u2208 Z+, i \u2208 N be the solution of the linearized system of (1)\u2013(9), where d\u03d5/dp(p\u2217) = \u2212\u03d5\u0302 for some constant \u03d5\u0302 > 0 at the equilibrium point p\u2217 < 0. Let \u2206,\u0393 \u2208 Rn\u00d7n be the matrices whose (i, j)-entries are \u03b4ij , \u03b3ij , respectively. For L = diag(\u03931) \u2212 \u0393 \u2208 Rn\u00d7n, let \u03bb2, . . . , \u03bbn(\u03bb2 \u2264 \u00b7 \u00b7 \u00b7 \u2264 \u03bbn) be the positive eigenvalues of L with corresponding eigenvectors given by v2, . . . , vn \u2208 Rn. Assume that the graph with adjacency matrix \u0393 is connected. Subsequently, the solution to the optimization problem of (15) is obtained for \u03c0 : Z2+ \u2192 \u03baZ in (11) of the form (13) only if \u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c \u2208 \u03baZ satisfy\n\u03c0\u0302a \u2208 { \u230a\u221a\n\u2225h\u2225 2 \u221a 2n\u03bd\n\u230b\n\u03ba\n,\n\u2308\u221a \u2225h\u2225\n2 \u221a 2n\u03bd\n\u2309\n\u03ba\n,  1\n\u03bbn \u2211\ni,j\u2208N \u03b3ij\n\n\u03ba\n},\n(16)\n\u03c0\u0302a \u2264  1\n\u03bbn \u2211\ni,j\u2208N \u03b3ij\n\n\u03ba\n, (17)\n\u03c0\u0302b = \u2212\u03c0\u0302a, (18) \u03c0\u0302c = 0, (19)\nwhere\nh =\n\u2211\ni\u2208{2,...,n} \u03bb\u22121i viv \u22a4 i (\u2206\u2212\u2206\u22a4)1\n\u03d5\u0302 \u2211\ni,j\u2208N \u03b3ij\n. (20)\nThe minimum in (15) is derived as follows:\nmin \u03c0\u0302a,\u03c0\u0302b,\u03c0\u0302c\u2208\u03baZ\nV (\u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c) = 1\nn \u2225h\u22252 4\u03c0\u03022a + 2\u03bd\u03c0\u03022a . (21)\nThree candidates for solution \u03c0\u0302a are given in (16). If one of the first two terms is less than the last one, it is the solution. If both the first two terms are less than the last one, we can verify which term is the solution by computing the value of (21). Otherwise, the last term in (16) is the solution. Equations (18) and (19) show that the dynamic pricing policy \u03c0 in (13) should be skew-symmetrical, i.e., \u03c0(x\u0304i, x\u0304j) = \u2212\u03c0(x\u0304j , x\u0304i), for effective pricing.\nProof: Due to the limitation of space, a brief proof is given. From (4), (7), (8), (11), and (13), the expectation of the discrepancy x\u0304i(t) = xi(t)\u2212 xmaxi /2 is governed around the equilibrium point by the following equation:\nE[x\u0304(t+ 1)]\n= (I \u2212 (\u03c0\u0302a \u2212 \u03c0\u0302b)\u03d5\u03021\u22a4\u03931L)E[x\u0304(t)] + (\u2206\u2212\u2206\u22a4)1, (22)\nwhere x\u0304(t) = [x\u03041(t) \u00b7 \u00b7 \u00b7 x\u0304n(t)]\u22a4 \u2208 Rn. From the eigenvalue analysis, the stability condition of (22) is derived as\n(\u03c0\u0302a \u2212 \u03c0\u0302b)\u03bbn \u2211\ni,j\u2208N \u03b3ij < 2. (23)\nUnder this condition, The limit limt\u2192\u221e E[x\u0304(t)] exists and\nlim t\u2192\u221e E[x\u0304(t)] =\n\u2211\ni\u2208{2,...,n} \u03bb\u22121i viv \u22a4 i (\u2206\u2212\u2206\u22a4)1\n(\u03c0\u0302a \u2212 \u03c0\u0302b)\u03d5\u0302 \u2211\ni,j\u2208N \u03b3ij\n+ m\u03041\nn\n(24)\nholds, where m\u0304 = m\u2212mmax/2. We assume that the solution to the optimization problem of (15) is achieved for \u03c0 : Z2+ \u2192 \u03baZ in (11) of the form (13) with some \u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c \u2208 \u03baZ. Therefore, limt\u2192\u221e E[x\u0304(t)] exists, and thus (23) holds. Furthermore, the limit is given as (24), which can be rewritten with h in (20) as\nlim t\u2192\u221e\nE[x\u0304(t)] = h\n\u03c0\u0302a \u2212 \u03c0\u0302b +\nm\u03041\nn . (25)\nFrom (13), (12), and (25),\nlim t\u2192\u221e Vp(x(t))\n= 1\nn2\n\u2211\ni,j\u2208N\n( (\u03c0\u0302aei + \u03c0\u0302bej)\n\u22a4h \u03c0\u0302a \u2212 \u03c0\u0302b + (\u03c0\u0302a + \u03c0\u0302b)m\u0304 n + \u03c0\u0302c\n)2\n(26)\nis derived. Because maxm\u2208Z+ limt\u2192\u221e Vp(x(t)) is bounded, \u03c0\u0302a + \u03c0\u0302b = 0 holds from (26) and m\u0304 = m \u2212mmax/2. This yields (18), and\nlim t\u2192\u221e\nVp(x(t)) = 1\nn2\n\u2211\ni,j\u2208N\n( (ei \u2212 ej)\u22a4h\n2 + \u03c0\u0302c\n)2 (27)\nis obtained from (26). Note that x+i (t) = xi(t + 1) holds from (4) and (6) because rij(t) = dij(t) holds around the equilibrium point. Subsequently, from (10) and (25),\nlim t\u2192\u221e Vx(x(t)) = lim t\u2192\u221e\n1 n \u2225E[Cx\u0304+(t)]\u22252 = 1 n \u2225h\u22252 4\u03c0\u03022a\n(28)\nis derived, where C = I\u221211\u22a4/n and the facts that Ch = h and C1 = 0 are used. From (14), (27), and (28),\nV (\u03c0\u0302a, \u03c0\u0302b, \u03c0\u0302c) = 1\nn \u2225h\u22252 4\u03c0\u03022a + \u00b5 n2\n\u2211\ni,j\u2208N\n( (ei \u2212 ej)\u22a4h\n2 + \u03c0\u0302c\n)2\n+ \u03bd(2\u03c0\u03022a + \u03c0\u0302 2 c ) (29)\nis derived. Equation (29) can be minimized separately using \u03c0\u0302a and \u03c0\u0302c. For \u03c0\u0302c \u2208 \u03baZ,\n\u03c0\u0302c = 1\nn2\n\u2211\ni,j\u2208N\n(ei \u2212 ej)\u22a4h 2 = 0\nis obtained, which yields (19). For \u03c0\u0302a, from (18) and (23), (17) must be satisfied. If \u03c0\u0302a is a real value and\n\u03c0\u0302a =\n\u221a \u2225h\u2225\n2 \u221a 2n\u03bd\n(30)\nsatisfies (17), (30) is the solution to (29). Because (29) is convex according to \u03c0\u0302a, the optimizer \u03c0\u0302a \u2208 \u03baZ is given by rounding (30) into \u03baZ, which corresponds to the first two terms in (16). If the rounded values do not satisfy (17), the boundary of the inequality provides the solution, which corresponds to the last term in (16). From (29), (21) is derived.\nIV. SIMULATION\nTo verify the effectiveness of the developed method, simulations were conducted using the realistic traffic simulator\nSOUND [14]. Figure 2 shows a scene of the simulations, in which n = 25 stations were scattered over an area of approximately 6 \u00d7 8 km with sharing and general cars. The capacities of the parking slots were all set to 10, i.e., xmaxi = 10. m = 164 was the number of sharing cars. We considered the system consisting of the models of (1)\u2013(9) with the common, distributed dynamic pricing policy of (11) and (13). The time interval of changing prices was 5 min, which determined the sampling time.\nThe system parameters were as follows: price elasticity of demand \u03d5\u0302 = 2.5 \u00d7 10\u22125; expectation of demand \u03b4ij = 0.005 \u00d7 60\u22121 to 3 \u00d7 60\u22121; ease of shifting stations \u03b3ik = e\u2212\u03b7\u2225\u03c1i\u2212\u03c1k\u2225, where \u03c1i \u2208 R2 is the position of station i in Figure 2 and \u03b7 = 4.5\u00d7 10\u22124. According to Theorem 1, the pricing policy \u03c0 in (13) was designed with \u00b5 = \u03bd = 0.01 and \u03ba = 1. Subsequently, the parameters \u03c0\u0302a = \u2212\u03c0\u0302b = 1 and \u03c0\u0302c = 0 were designed according to (16), (18), and (19) by solving the optimization problem of (15). Simulations were executed under two conditions: with dynamic pricing (DP) and without DP (fixed price).\nFigures 3 and 4 show the sample variance of the penalties of the parking slots Vx(x(t)) in (10) and the discrepancy of the prices Vp(x(t)) in (12), respectively, with DP (solid lines) and without DP (dashed lines). The value in Figure 3 is restrained with DP (solid line), compared with that without DP increases over time (dashed line). This result demonstrated that the unevenness of the vehicle distribution decreases when the developed pricing policy was used.\nFigures 5 and 6 show the incremental values of the unfulfilled demands \u2211 ij uij(t) and total income \u2211 ij rij(t)pij(t), respectively, with DP (solid lines) and without DP (dashed lines). These figures indicate that the unfulfilled demand with DP (solid line) was lower than that without DP (dashed line) and the total income with DP (solid line) was consequently larger. This result suggested that introducing DP can increase incomes of car-sharing services owing to the decreases in unfulfilled demand.\nV. CONCLUSIONS This study investigated the potential of dynamic pricing\nto solve the problem of uneven distribution of vehicles in a one-way car-sharing system. To design a dynamic pricing policy, this system was modeled with parking-slot, reservation, demand, and demand-shift models. In particular, the voluntary demand shift of customers was newly modeled with a stochastic process. Based on the simplified models, the unevenness of penalties of the parking slots was estimated based on the results of consensus control systems. Subsequently, the common, distributed dynamic pricing policy was designed with the aim of minimizing the unevenness of penalties and price discrepancies. The effectiveness of the developed method was illustrated through simulations using the realistic traffic simulator by comparing the results with and without DP.\nREFERENCES [1] Shoshi Mizokami, Takuya Maruyama, Junya Hashimoto, Toshikatsu\nMori, Daisuke Sunaga: Research and development on the possibility\nof introducing a one-way car sharing system and new ways to utilize road space; New Road Technology Conference (2019) [2] Toyota Motor Corp.: Toyota to Start Verification Tests in Japan Using \u201dHa:mo Ride\u201d Driving Data; https://global.toyota/en/newsroom/corporate/28866957.html (last visited Feb. 25, 2022) [3] Stefan Illgen, Michael Hock: Literature review of the vehicle relocation problem in one-way car sharing networks; Transportation Research Part B, Vol. 120, pp. 193\u2013204 (2019) [4] Giuseppe Carlo Calafiore, Christian Bongiorno, Alessandro Rizzo: A control-oriented model for mobility on demand systems; IEEE Conference on Decision and Control (CDC) (2018) [5] Stephen L. Smith, Marco Pavone, Mac Schwager, Emilio Frazzoli, Daniela Rus: Rebalancing the Rebalancers: Optimally routing vehicles and drivers in mobility on-demand systems; American Control Conference (ACC) (2013) [6] Matthew Barth, Michael Todd: Simulation model performance analysis of a multiple station shared vehicle system; Transportation Research Part C: Emerging Technologies, Vol. 7, No. 4, pp. 237\u2013258 (1999) [7] Diana Jorge, Goran Molnar, Goncalo H. A. Correia: Trip pricing of one-way station based carsharing networks with zone and time of day price variations; Transportation Research Part B: Methodological, Vol. 8, No. 2, pp. 461\u2013482 (2015) [8] Min Xu, Qiang Meng, Zhiyuan Liu: Electric vehicle fleet size and trip pricing for one-way carsharing services considering vehicle relocation and personnel assignment; Transportation Research Part B: Methodological, Vol. 111, pp. 60\u201382 (2018) [9] Rui Xie, Wei Wei, Qiuwei Wu, Tao Ding, Shengwei Mei: Optimal service pricing and charging scheduling of an electric vehicle sharing system; IEEE Transactions on Vehicular Technology, Vol. 69, No. 1, pp. 78-89 (2020) [10] Lei Wang, Wanjing Ma: Pricing approach to balance demands for one-way car-sharing systems; Proc. of the 22nd IEEE Intelligent Transportation Systems Conference (ITSC) (2019) [11] Toya Kamatani, Yusuke Nakata, Sachiyo Arai: Dynamic pricing method to maximize utilization of one-way car sharing service; 2019 IEEE International Conference on Agents (ICA) (2019) [12] Zulqarnain Haidera, Alexander Nikolaevb, Jee Eun Kangb, and Changhyun Kwona: Inventory rebalancing through pricing in public bike sharing systems European Journal of Operational Research, Vol. 270, pp. 103-117 (2018) [13] Kazuki Sumida, Kazunori Sakurama, Takanori Aoki: Demand Shift Model of a One-Way Car-Sharing System with Real-Time Pricing; Proc. of the 24th IEEE International Intelligent Transportation Systems Conference (ITSC) (2021) [14] i-Transport Lab. Co., Ltd. SOUND Ver.5, a traffic simulator for wide area road networks; https://www.itransportlab.jp/en/index/products/sound/ (last visited Feb. 25, 2022) [15] Mehran Mesbahi and Magnus Egerstedt, Graph Theoretic Methods in Multiagent Networks, Princeton University Press (2010)"
        }
    ],
    "title": "Distributed Dynamic Pricing for Car-sharing Systems with Stochastic Demand Shift",
    "year": 2022
}