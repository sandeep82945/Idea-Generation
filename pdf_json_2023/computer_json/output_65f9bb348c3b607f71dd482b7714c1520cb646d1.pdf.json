{
    "abstractText": "Reconfigurable intelligent surfaces (RISs) is a promising solution for enhancing the performance of multihop wireless communication networks. In this paper, we propose a double-RIS assisted multihop routing protocol for a device-todevice (D2D) communication network. Specifically, the protocol is dependent on the already deployed RISs and users in the surroundings. Besides the RISs, the emphasis of this work is to make more use of the existing intermediate users (IUs), which can act as relays. Hence, the density of RIS deployment in the surroundings can be reduced, which leads to the avoidance of resource wastage. However, we cannot solely depend on the IUs because this implies complete dependence on their availability for relaying and as a result, the aspect of reliability in terms of delay-constrained information transfer cannot be guaranteed. Moreover, the IUs are considered capable of energy harvesting and as a result, they do not waste their own energy in the process of volunteering to act as a relay for other users. Numerical results demonstrate the advantage of the proposed protocol over some existing approaches and lastly, useful insights related to the protocol design are also drawn, where we characterize the maximum acceptable delay at each hop under different set-ups.",
    "authors": [
        {
            "affiliations": [],
            "name": "Sasthi C. Ghosh"
        }
    ],
    "id": "SP:8bfa606ff477490abac788e0a28287b20034908a",
    "references": [
        {
            "authors": [
                "E. Basar",
                "M. Di Renzo",
                "J. De Rosny",
                "M. Debbah",
                "M.-S. Alouini",
                "R. Zhang"
            ],
            "title": "Wireless communications through reconfigurable intelligent surfaces",
            "venue": "IEEE Access, vol. 7, pp. 116753\u2013116773, Aug. 2019.",
            "year": 2019
        },
        {
            "authors": [
                "Z. Zhang",
                "Y. Xiao",
                "Z. Ma",
                "M. Xiao",
                "Z. Ding",
                "X. Lei",
                "G.K. Karagiannidis",
                "P. Fan"
            ],
            "title": "6G wireless networks: Vision, requirements, architecture, and key technologies",
            "venue": "IEEE Veh. Tech. Mag., vol. 14, pp. 28\u201341, Sep. 2019.",
            "year": 2019
        },
        {
            "authors": [
                "S. Jia",
                "X. Yuan",
                "Y.-C. Liang"
            ],
            "title": "Reconfigurable intelligent surfaces for energy efficiency in D2D communication network",
            "venue": "IEEE Wireless Commun. Lett., vol. 10, pp. 683\u2013687, Mar. 2021.",
            "year": 2021
        },
        {
            "authors": [
                "Y. Chen",
                "B. Ai",
                "H. Zhang",
                "Y. Niu",
                "L. Song",
                "Z. Han",
                "H. Vincent Poor"
            ],
            "title": "Reconfigurable intelligent surface assisted device-to-device communications",
            "venue": "IEEE Trans. Wireless Commun., vol. 20, pp. 2792\u20132804, May 2021.",
            "year": 2021
        },
        {
            "authors": [
                "J. Qiao",
                "X.S. Shen",
                "J.W. Mark",
                "Q. Shen",
                "Y. He",
                "L. Lei"
            ],
            "title": "Enabling device-to-device communications in millimeter-wave 5G cellular networks",
            "venue": "IEEE Commun. Mag., vol. 53, pp. 209\u2013215, Jan. 2015.",
            "year": 2015
        },
        {
            "authors": [
                "J. He",
                "H. Wymeersch",
                "M. Juntti"
            ],
            "title": "Channel estimation for RISaided mmWave MIMO systems via atomic norm minimization",
            "venue": "IEEE Trans.Wireless Commun., vol. 20, no. 9, pp. 5786\u20135797, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "S. Zeng",
                "H. Zhang",
                "B. Di",
                "Z. Han",
                "L. Song"
            ],
            "title": "Reconfigurable intelligent surface (RIS) assisted wireless coverage extension: RIS orientation and location optimization",
            "venue": "IEEE Commun. Lett., vol. 25, pp. 269\u2013273, Jan. 2021.",
            "year": 2021
        },
        {
            "authors": [
                "S. Deb",
                "S.C. Ghosh"
            ],
            "title": "An RIS deployment strategy to overcome static obstacles in millimeter wave D2D communication",
            "venue": "Proc. IEEE 20th Int. Symp. Netw. Comput. Appl. (NCA), pp. 1\u20138, Nov. 2021.",
            "year": 2021
        },
        {
            "authors": [
                "L. Sau",
                "S.C. Ghosh"
            ],
            "title": "A geometry-based strategic placement of RISs in millimeter wave device to device communication",
            "venue": "Proc. 3rd Int. Conf. Comput. Commun. Engineering. (CCCE), pp. 1\u201313, Mar. 2023.",
            "year": 2023
        },
        {
            "authors": [
                "T.V. Nguyen",
                "D.N. Nguyen",
                "M.D. Renzo",
                "R. Zhang"
            ],
            "title": "Leveraging secondary reflections and mitigating interference in Multi-IRS/RIS aided wireless networks",
            "venue": "IEEE Trans. Wireless Commun., vol. 22, pp. 502\u2013 517, Jan. 2023.",
            "year": 2023
        },
        {
            "authors": [
                "X. Huan",
                "K.S. Kim",
                "S. Lee",
                "E.G. Lim",
                "A. Marshall"
            ],
            "title": "A beaconless asymmetric energy-efficient time synchronization scheme for resourceconstrained multi-hop wireless sensor networks",
            "venue": "IEEE Trans. Commun., vol. 68, pp. 1716\u20131730, Mar. 2020.",
            "year": 2020
        },
        {
            "authors": [
                "J.P. Champati",
                "H. Al-Zubaidy",
                "J. Gross"
            ],
            "title": "Transient analysis for multihop wireless networks under static routing",
            "venue": "IEEE/ACM Trans. Networking, vol. 28, pp. 722\u2013735, Apr. 2020.",
            "year": 2020
        },
        {
            "authors": [
                "J. Laneman",
                "D. Tse",
                "G. Wornell"
            ],
            "title": "Cooperative diversity in wireless networks: Efficient protocols and outage behavior",
            "venue": "IEEE Trans. Inf. Theory, vol. 50, pp. 3062\u20133080, Dec. 2004.",
            "year": 2004
        },
        {
            "authors": [
                "G. Levin",
                "S. Loyka"
            ],
            "title": "Amplify-and-forward versus decode-andforward relaying: Which is better",
            "venue": "Proc. 22nd Int. Zurich Seminar Commun. (IZS), (Z\u00fcrich, Switzerland), 2012.",
            "year": 2012
        },
        {
            "authors": [
                "E. Boshkovska",
                "D.W.K. Ng",
                "N. Zlatanov",
                "R. Schober"
            ],
            "title": "Practical non-linear energy harvesting model and resource allocation for SWIPT systems",
            "venue": "IEEE Commun. Lett., vol. 19, pp. 2082\u20132085, Dec. 2015.",
            "year": 2015
        },
        {
            "authors": [
                "A. Sunny",
                "J. Kuri"
            ],
            "title": "A framework for designing multihop energy harvesting sensor networks",
            "venue": "IEEE J. Sel. Areas Commun., vol. 34, pp. 1491\u20131501, May 2016.",
            "year": 2016
        },
        {
            "authors": [
                "C. Xu",
                "M. Zheng",
                "W. Liang",
                "H. Yu",
                "Y.-C. Liang"
            ],
            "title": "End-to-end throughput maximization for underlay multi-hop cognitive radio networks with RF energy harvesting",
            "venue": "IEEE Trans. Wireless Commun., vol. 16, pp. 3561\u20133572, June 2017.",
            "year": 2017
        },
        {
            "authors": [
                "Q. Wu",
                "S. Zhang",
                "B. Zheng",
                "C. You",
                "R. Zhang"
            ],
            "title": "Intelligent reflecting surface-aided wireless communications: A tutorial",
            "venue": "IEEE Trans. Commun., vol. 69, pp. 3313\u20133351, May 2021.",
            "year": 2021
        },
        {
            "authors": [
                "B. Zheng",
                "C. You",
                "R. Zhang"
            ],
            "title": "Double-IRS assisted multi-user MIMO: Cooperative passive beamforming design",
            "venue": "IEEE Trans. Wireless Commun., vol. 20, pp. 4513\u20134526, July 2021.",
            "year": 2021
        },
        {
            "authors": [
                "S. Kisseleff",
                "S. Chatzinotas",
                "B. Ottersten"
            ],
            "title": "Random access-based reliable uplink communication and power transfer using dynamic power splitting",
            "venue": "IEEE Trans. Wireless Commun., vol. 19, pp. 4307\u20134320, June 2020.",
            "year": 2020
        },
        {
            "authors": [
                "K.W. Choi",
                "E. Hossain"
            ],
            "title": "Opportunistic access to spectrum holes between packet bursts: A learning-based approach",
            "venue": "IEEE Trans. Wireless Commun., vol. 10, pp. 2497\u20132509, Aug. 2011.",
            "year": 2011
        },
        {
            "authors": [
                "P. Mukherjee",
                "S. De"
            ],
            "title": "A system state aware switched-multichannel protocol for energy harvesting CRNs",
            "venue": "IEEE Trans. Cognit. Commun. Networking, vol. 6, pp. 669\u2013682, June 2020.",
            "year": 2020
        },
        {
            "authors": [
                "Q.-U.-A. Nadeem",
                "A. Kammoun",
                "A. Chaaban",
                "M. Debbah",
                "M.-S. Alouini"
            ],
            "title": "Asymptotic Max-Min SINR analysis of reconfigurable intelligent surface assisted MISO systems",
            "venue": "IEEE Trans. Wireless Commun., vol. 19, pp. 7748\u20137764, Dec. 2020.",
            "year": 2020
        },
        {
            "authors": [
                "J. Huang",
                "Y. Zhou",
                "Z. Ning",
                "H. Gharavi"
            ],
            "title": "Wireless power transfer and energy harvesting: Current status and future prospects",
            "venue": "IEEE Wireless Commun., vol. 26, pp. 163\u2013169, Aug. 2019.",
            "year": 2019
        },
        {
            "authors": [
                "C.E. Shannon"
            ],
            "title": "A mathematical theory of communication",
            "venue": "Bell Syst. Tech. J., vol. 27, pp. 379\u2013423, July 1948.",
            "year": 1948
        },
        {
            "authors": [
                "Y. Polyanskiy",
                "H.V. Poor",
                "S. Verdu"
            ],
            "title": "Channel coding rate in the finite blocklength regime",
            "venue": "IEEE Trans. Inf. Theory, vol. 56, pp. 2307\u2013 2359, May 2010.",
            "year": 2010
        },
        {
            "authors": [
                "V. Vivekanandan",
                "V.W.S. Wong"
            ],
            "title": "Concentric anchor beacon localization algorithm for wireless sensor networks",
            "venue": "IEEE Trans. Veh. Technol., vol. 56, pp. 2733\u20132744, May 2007.",
            "year": 2007
        },
        {
            "authors": [
                "A. Papoulis",
                "S.U. Pillai"
            ],
            "title": "Probability, Random Variables, and Stochastic Processes",
            "venue": "McGraw-Hill Higher Education, Fourth ed.,",
            "year": 2002
        },
        {
            "authors": [
                "P.S. Khairnar",
                "N.B. Mehta"
            ],
            "title": "Discrete-rate adaptation and selection in energy harvesting wireless systems",
            "venue": "IEEE Trans. Wireless Commun., vol. 14, pp. 219\u2013229, Jan. 2015.",
            "year": 2015
        },
        {
            "authors": [
                "D. Basu",
                "A. Jain",
                "U. Ghosh",
                "R. Datta"
            ],
            "title": "A reverse path-flow mechanism for latency aware controller placement in vSDN enabled 5G network",
            "venue": "IEEE Trans. Ind. Inf., vol. 17, pp. 6885\u20136893, Oct. 2021.",
            "year": 2021
        },
        {
            "authors": [
                "C. Kumar",
                "S. Kashyap"
            ],
            "title": "On the power transfer efficiency and feasibility of wireless energy transfer using double IRS",
            "venue": "IEEE Trans. Veh. Technol., 2023. early access.",
            "year": 2023
        },
        {
            "authors": [
                "B. Zheng",
                "C. You",
                "R. Zhang"
            ],
            "title": "Double-IRS assisted multi-user MIMO: Cooperative passive beamforming design",
            "venue": "IEEE Trans. Wireless Commun., vol. 20, pp. 4513\u20134526, July 2021.",
            "year": 2021
        },
        {
            "authors": [
                "J. Guo",
                "X. Zhu"
            ],
            "title": "An improved analytical model for RF-DC conversion efficiency in microwave rectifiers",
            "venue": "Proc. IEEE MTT-S Int. Microw. Symp. Dig., (Montreal, QC, Canada), pp. 1\u20133, June 2012.",
            "year": 2012
        }
    ],
    "sections": [
        {
            "text": "ar X\niv :2\n30 7.\n05 27\n9v 1\n[ ee\nss .S\nY ]\n1 1\nJu l 2\n02 3\n1\nDRAMP: Double-RIS Assisted Multihop Routing\nProtocol for Wireless Networks Lakshmikanta Sau, Priyadarshi Mukherjee, and Sasthi C. Ghosh\nAbstract\u2014Reconfigurable intelligent surfaces (RISs) is a promising solution for enhancing the performance of multihop wireless communication networks. In this paper, we propose a double-RIS assisted multihop routing protocol for a device-todevice (D2D) communication network. Specifically, the protocol is dependent on the already deployed RISs and users in the surroundings. Besides the RISs, the emphasis of this work is to make more use of the existing intermediate users (IUs), which can act as relays. Hence, the density of RIS deployment in the surroundings can be reduced, which leads to the avoidance of resource wastage. However, we cannot solely depend on the IUs because this implies complete dependence on their availability for relaying and as a result, the aspect of reliability in terms of delay-constrained information transfer cannot be guaranteed. Moreover, the IUs are considered capable of energy harvesting and as a result, they do not waste their own energy in the process of volunteering to act as a relay for other users. Numerical results demonstrate the advantage of the proposed protocol over some existing approaches and lastly, useful insights related to the protocol design are also drawn, where we characterize the maximum acceptable delay at each hop under different set-ups.\nIndex Terms\u2014Reconfigurable intelligent surfaces, device-todevice communication, multihop network, line-of-sight wireless channels, energy harvesting, Markov chains.\nI. INTRODUCTION\nIn the recent years, the wireless traffic has been increasing at an explosive rate; it is expected to increase more than five times in between 2019 and 2025 [1]. To support this need of enhanced data traffic, technologies such as beamforming and adaptive modulation have been developed over the last few decades. However, irrespective of the technicalities, the unifying motivation behind all of them is to intelligently adapt to the randomly varying wireless channel instead of having a control over it. In this context, a new technology that promises to address this issue is the so-called reconfigurable intelligent surfaces (RISs) [2]. A RIS, consisting of an array of reconfigurable passive elements embedded on a flat metasurface, is able to \u2018control\u2019 the wireless channel instead of adapting to it [3]. This is essentially done by tuning the parameters of its passive elements. Furthermore, as a RIS simply reflects the incident signal in a desired direction, it does not need any radio-frequency (RF) chains. As a result, this reduces the hardware cost thereby enhancing the energy efficiency of the future wireless networks.\nL. Sau, P. Mukherjee, and S. C. Ghosh are with the Advanced Computing & Microelectronics Unit, Indian Statistical Institute, Kolkata 700108, India. (E-mail: lakshmikanta030@gmail.com, priyadarshi@ieee.org, sasthi@isical.ac.in).\nThis work has been submitted to the IEEE for possible publication. Copyright may be transferred without notice, after which this version may no longer be accessible.\nMotivated by this, the aspect of RIS assisted device-todevice (D2D) communications [4], [5] forms an interesting direction of research. The work in [4] investigates the role of RISs for enhancing the energy efficiency of a D2D communication network. The authors in [5] focus on the uplink of a RIS assisted D2D enabled cellular networks. Moreover, the objective of obtaining high speed data rates is efficiently fulfilled by the use of high frequency signals, such as the millimeter waves (mmWaves) [6], for short distance communication. However, mmWaves suffer from its own set of shortcomings like significantly high penetration and propagation losses. Thus, RIS assisted D2D network is the solution for such scenarios, where the direct line of sight (LoS) is not of sufficient quality to support mmWave-based communication [7]. As a result, RISs are strategically placed at locations where they have clear LoS links with both the users intending to communicate with each other. In this context, the authors in [8]\u2013[10] investigate the aspect of strategic RIS placement. Furthermore, these works consider a primary reflection-based single RIS system, i.e., the signal from a given user reaches its desired counterpart on being reflected by a single RIS placed within its communication range. As a result, the number of strategic RIS locations obtained in a particular environment is significantly large.\nOn the other hand, the work in [11] demonstrate that by proper tuning of the RISs, the multi-RIS secondary reflection can be leveraged to significantly enhance the range of communication. It is also to be noted that RISs are essentially passive devices, i.e., they simply reflect the incoming signal to a desired direction by tuning its parameters. As any given pair of users always communicate over a practically finite amount of time, having RISs deployed for all such potential pairs leads to unnecessary wastage of resources. A potential solution to avoid this wastage is a cooperative multihop framework [12], [13]. In other words, apart from using the RISs, the other users present in the surroundings, if they are idle, may act as a relay, namely amplify and forward (AF) or decode and forward (DF) [14], to facilitate the communication between a given pair of users. While AF relays facilitate low cost processing, they also result in boosting the effective noise at the desired user. On the other hand, DF relays guarantee high reliability as they forward only the received information and not the entire information-plus-noise mixture to the next hop [15]. Thus, it appears that for the intermediate idle users, opting to act as DF relay is a beneficial solution. Note that, we cannot rule out the usage of RISs completely. If the communication between a pair of users is solely dependant on the intermediate users, the aspect of reliability, in terms of delay-constrained information\n2 transfer, cannot be guaranteed. In that case, the time for the entire communication process will be entirely dependant on the traffic characteristics of these intermediate users.\nMoreover, it may apparently appear that the users, which agree to act as relays, are doing so by depleting their own energy source. In this context, we consider the green coexistence paradigm, i.e., all the users are equipped with an energy harvesting (EH) unit and if they agree to act as a relay, they do harvest energy from the received signal. This harvested energy can be interpreted as some \u2018reward\u2019 for volunteering to act as relay in their idle time. By considering a over-simplified linear EH model instead of the actual non-linear one [16], the works in [17], [18] propose a similar approach in the context of wireless sensor networks. Furthermore, these works do not consider the impact of the user traffic characteristics, which in turn, is responsible for the EH time interval. Motivated by this, we consider the aspect of multi-RIS secondary reflection to look into a RIS assisted multihop D2D framework for wireless networks, where the users are capable of harvesting energy, while acting as DF relays depending on their availability. To the best of our knowledge, this is the first work that proposes a dynamic multihop routing protocol, which we call doubleRIS assisted multihop routing protocol (DRAMP), for a D2D communication network.\nSpecifically, DRAMP is based on the already deployed RISs and the users in the surroundings. It describes the procedure by which information transfer takes place from a particular user to its desired counterpart. Moreover, we assume that the RISs are strategically placed in the environment [8], [9] and the idle intermediate users (IUs) agree to act as a DF relay node. Our priority is to make more use of the idle IUs over the RISs due to the following reasons. Firstly, the RISs reflect the entire incoming signal, i.e., including the noise, in the desired direction whereas a DF relay separates the noise from the information to transmit only the latter to the next user. Secondly, being a passive device, too many RISs installation in the surroundings lead to unnecessary wastage of resources. Lastly, opting for RIS over an idle IU as a hop implies frequent restart of the former, which creates problems for other users that are being served by this particular RIS at that time. However, the importance of the RISs cannot be ruled out completely. Being solely dependent on the IUs for information transfer may also hamper the reliability of the entire process, as it will fully rely on the IU availability and traffic characteristics. Useful insights related to the proposed protocol are also obtained in this work, where we characterize the maximum acceptable delay under different scenarios. Finally, the numerical results demonstrate the benefit of the proposed protocol in terms of reduced RIS usage, enhanced data rate and energy efficiency, respectively.\nThe rest of this paper is organized as follows: Section II describes the system model and the problem formulation, Section III presents the proposed strategy, and Section IV investigates the same in terms of the delay associated with information transfer. Numerical results are presented in Section V and finally, Section VI concludes the work.\nU1\nU2\nU4\nU3\nR1\nS D\nR2\nR3\nFigure 1. The proposed RIS-based multihop network architecture."
        },
        {
            "heading": "II. SYSTEM MODEL",
            "text": ""
        },
        {
            "heading": "A. Network topology",
            "text": "A wireless network topology is considered, which consists of a source S, K RISs R1, R2, \u00b7 \u00b7 \u00b7 , RK , M IUs U1, U2, \u00b7 \u00b7 \u00b7 , UM , and destination D1, respectively. Each transmitter, i.e., the source S or an IU Uj , transmits with the same fixed power P and the RIS Ri, i = 1, \u00b7 \u00b7 \u00b7 ,K has Ni reflecting elements, respectively. In general, each RIS is effectively controlled to adjust both the amplitude and phase of the incident waveform. However, for the sake of simplicity and mathematical tractability, the amplitude factor is set to unity and it is only the phase that is tuned or optimized [19], [20]. Moreover, no direct LoS S \u2192 D path exists and S relies on the IUs and/or RISs to communicate to D. Each IU Uj communicates with its own associated receiver and acts as a DF relay for other users, when idle. Lastly, each IU is equipped with a buffer of sufficient capacity and all the D2D pairs follow time-slotted synchronous communication [21], with slot duration Ts. An example of this topology is presented in Fig. 1, for K = 3 and M = 4, respectively, where S can communicate with D via IUs and/or RISs."
        },
        {
            "heading": "B. User Traffic Characterization",
            "text": "It is noted that in a typical wireless communication scenario, data generally arrives in bursts to the users. As a result, the IUs U1, U2, \u00b7 \u00b7 \u00b7 , UM in this work are characterized by exponentially distributed OFF and ON period lengths, with means \u03bbk and \u00b5k, respectively. Without any loss of generality, Ts is assumed to be small in comparison with \u00b5k and \u03bbk [22], which prevents Uk \u2200 k = 1, \u00b7 \u00b7 \u00b7 ,M changing its status multiple times within a single Ts. Thus, if state 0 and 1 represent the IU being idle and busy, respectively, the IU activities are characterized by a discrete-time Markov chain (DTMC) with the state transition probabilities [23]:\np10 =\n\u222b Ts\n0\n1\n\u00b5k e\u2212a/\u00b5kda = 1\u2212 e\u2212Ts/\u00b5k , p11 = 1\u2212 p10, (1)\np01 =\n\u222b Ts\n0\n1\n\u03bbk e\u2212b/\u03bbkdb = 1\u2212 e\u2212Ts/\u03bbk , and p00 = 1\u2212 p01.\n1Network topology with multiple S \u2212 D pairs can be also considered, which is left for future work.\n3 Accordingly the state transition matrix P is: P =\n[ p00 p01 p10 p11 ] = [ e\u2212Ts/\u03bbk 1\u2212 e\u2212Ts/\u03bbk 1\u2212 e\u2212Ts/\u00b5k e\u2212Ts/\u00b5k ] . (2)"
        },
        {
            "heading": "C. Channel Model",
            "text": "Depending on the availability of the IUs, it is possible to connect S to D with or without taking the help of any RIS. When RIS is being used, the signal from S can reach D by one of the following paths: (i) single reflection from any RIS before reaching D , (ii) double reflection, i.e., via two consecutive RIS elements on its path to D, and (iii) triple or more reflection, i.e., via three or more consecutive RIS elements on the way. In this work, due to large effective path loss, we neglect the aspect of triple or higher order reflections [11]. However, the secondary reflection are not negligible in practice, especially in urban environments, where the RISs are not deployed too far from each other. This problem can modelled as a graph, where the vertices have an edge if and only if the corresponding nodes can communicate, i.e., they reside within some threshold distance. We assume that the wireless links suffer from both large-scale path-loss effects and small-scale block fading. The channels S \u2192 Uj , Uj \u2192 D, and Uj \u2192 Uk \u2200 j, k = 1, \u00b7 \u00b7 \u00b7 ,M exhibit smallscale fading and their corresponding path-loss factors are \u03c1 1/2 L d \u2212\u03b1/2 SU , \u03c1 1/2 L d \u2212\u03b1/2 UD , and \u03c1 1/2 L d \u2212\u03b1/2 U1,U2 , respectively, where \u03c1L is the pathloss at one meter distance, \u03b1 is the path-loss exponent and dmn denotes the distance between m and n.\nLet hS/URi \u2208 CN\u00d71, hRiRj \u2208 CN\u00d7N , and hRjD/U \u2208 C1\u00d7N denote the channel matrix from S or IU to i-th RIS, i-th to j-th RIS (i 6= j), and j-th RIS to an IU or D, respectively. In addition, the phase-shift matrix of the ith RIS is denoted by \u03a6i = diag(\u03c61, \u00b7 \u00b7 \u00b7 , \u03c6N ) \u2208 CN\u00d7N , i.e., a diagonal matrix accounting for the response of the RIS elements, where \u03c6n = exp(j\u03b8n), n = 1, \u00b7 \u00b7 \u00b7 , N and \u03b8n \u2208 [0, 2\u03c0] is the phase shift applied by the RIS elements [24]. Lastly, the total path-loss for each of these channel matrix is the product of the path-loss of each point-to-point link [11]. Accordingly, the effective channel gain in case of single and double reflection is hRiD/U\u03a6ihS/URi and hRjD/U\u03a6jhRiRj\u03a6ihS/URi , respectively."
        },
        {
            "heading": "D. Energy Harvesting Model",
            "text": "As stated earlier, it is for an idle IU Uj \u2200 j = 1, \u00b7 \u00b7 \u00b7 ,M to decide whether to act as a DF relay or not. Moreover, there must be some \u2018reward\u2019 for the same or else, there is no point for the user to waste its own energy in transferring data packets from S to D. In this context, we assume that each Uj is equipped with an EH unit, which can extract DC power from the received electromagnetic waves [25]. If an idle Uj agrees to act as a relay, we incentivize it in the form of a reward, i.e., it is able to harvest energy from the incoming signal and use the same to transfer the received information. For a transmission power P , the power harvested at IU is [16]\nPharv = M(1\u2212 e\u2212aP\u03c1Ld\u2212\u03b1|h|2) 1 + e\u2212a(P\u03c1Ld\u2212\u03b1|h|2\u2212b) , (3)\nwhere M is the maximum harvested power corresponding to the saturated EH circuit, h is the complex channel gain, d is\nthe associated distance, and finally, a and b are the respective circuit parameters."
        },
        {
            "heading": "E. Delay-constrained Transmission",
            "text": "Shannon capacity is the largest data rate at which the information can be transmitted with an arbitrarily small error probability, provided that the number of channel uses is infinitely large [26]. However, for applications such as delayconstrained scenarios, the number of channel uses cannot be very large. As a result, the error probability will not be arbitrarily small and it needs reconsideration. In such scenarios, the maximum instantaneous achievable data rate R is approximated as [27]\nR(\u03b3) = log2(1 + \u03b3)\u2212 Q\u22121(\u03b5)\nln 2\n\u221a\n\u03b32 + 2\u03b3\nMb(1 + \u03b3)2 , (4)\nwhere \u03b3 is the signal to noise ratio (SNR), \u03b5 \u2208 [0, 1] is the error probability, Mb is the number of channel uses, and\nQ(x) = 1\u221a 2\u03c0\n\u221e\u222b\nx\ne\u2212 t2 2 dt is the Gaussian Q function. For\ndelay unconstrained scenarios, i.e., when Mb \u2192 \u221e, we have R(\u03b3) \u2192 log2(1+\u03b3). When a RIS is selected to pass the signal due to unavailability of idle IUs, we consider this achievable data rate R while searching for an IU in the next hop."
        },
        {
            "heading": "III. DRAMP: THE PROPOSED STRATEGY",
            "text": "This section discusses the proposed multihop protocol DRAMP in detail, where the novelty lies in the joint IU traffic characteristics and double-RIS assisted dynamic framework. As we are considering a delay-constrained scenario, the data from S must reach D within time Td in this set-up. Here we assume that a device cannot communicate with another beyond a distance r and S has \u03b1 packets of information to send D with \u03c6 bits in each. Pictorially, we connect the location of S and D by an virtual straight line and consider it to be the x-axis. Accordingly, we consider another virtual line as the y-axis at S, which is perpendicular to the x-axis. We intend to connect S to D via some IUs/RISs. Firstly, we scan the right half circle of radius r at S to identify the idle IUs. After the idle IU identification, we decide on the appropriate modulation scheme and its corresponding energy requirement. Secondly, in case of multiple idle IU availability, we chose the appropriate IU based on the least remaining distance (LRD) from D and the acceptable delay constraint. If no idle IU is available, we identify a suitable RIS for the purpose. Moreover, we also provide an illustrative example of the proposed DRAMP. Finally, we define two performance metrics, namely, throughput and energy efficiency.\nA. Identification of Idle Intermediate Users\nIn this section, we identify the idle IUs by beacon transmission [28] within a radius r, which can act as potential DF relays. We define \u2126 = {U1, \u00b7 \u00b7 \u00b7 , U\u01eb} as the set of all Ujs that are present in the right half circle of radius r centred at S, where \u01eb < K and Un = 1/0, depending on whether the k th IU\n4 is busy/idle. As we intend to reduce the LRD in each hop, we consider only the right half circle for identifying the potential relays. Accordingly, we define the set of idle/busy IUs as\n\u2126I = {u1i , u2i , \u00b7 \u00b7 \u00b7 , u\u01ebIi } and \u2126B = {u1b , u2b, \u00b7 \u00b7 \u00b7 , u\u01ebBb }, (5) where \u01ebI + \u01ebB = \u01eb denotes the total number of IUs in the concerned region. On the basis of the traffic characteristics of a particular idle (busy) IU, we estimate the time for which it continues to remain idle (busy) given that it is currently idle (busy). Functions \u03baI and \u03baB estimate these values, respectively.\nDefinition III.1. Duration of Idleness (DoI) \u03bdI : It is the time duration during which a particular IU is estimated to be idle, given that it is currently idle.\nFrom the transition probability matrix (2), we know that p00 = e\u2212Ts/\u03bbk . As we are considering exponentially distributed idle and busy periods, due to the memoryless property [29], we obtain \u03bdI for an acceptable error threshold \u03b4 as\np\u03bdI00 \u2265 1\u2212 \u03b4 =\u21d2 \u03bdI \u2264 \u03bbk Ts ln\n( 1\n1\u2212 \u03b4\n)\n. (6)\nHence we have \u03baI : \u2126I \u2212\u2192 \u03d5I , where \u03d5I = {\u03bd1I , \u03bd2I , \u00b7 \u00b7 \u00b7 , \u03bd\u01ebII }. Similarly, we define a metric \u2018Duration of Busyness\u2019 (DoB).\nDefinition III.2. Duration of Busyness (DoB) \u03bdB: It is the time duration during which a particular IU is estimated to be busy, given that it is currently busy.\nBy adopting a similar procedure as DoI, the DoB \u03bdB is obtained as\np\u03bdB11 \u2265 1\u2212 \u03b4 =\u21d2 \u03bdB \u2264 \u00b5k Ts ln\n( 1\n1\u2212 \u03b4\n)\n(7)\nand thus, \u03baB : \u2126B \u2212\u2192 \u03d5B , where \u03d5B = {\u03bd1B, \u03bd2B, \u00b7 \u00b7 \u00b7 , \u03bd\u01ebBB }. It is to be noted that both \u03baI and \u03baB , which map the IU availability to \u03bdI and \u03bdB , are necessarily IU traffic characteristic dependent functions."
        },
        {
            "heading": "B. Adaptive Modulation at the Intermediate Users",
            "text": "The objective of this work is not only to transfer data from S to D, but also with minimum energy consumption. In the process of doing so, we introduce the aspect of rate adaptation at the IUs. Moreover, the idle IUs employ rate adaptation if and only if there is a direct connection between the users and there is no RIS used to connect them2. The IUs adopt a modulation scheme mr from the set M = {m1,m2, \u00b7 \u00b7 \u00b7 ,m|M|}, which corresponds to a data rate Dr = log2(mr) \u2200 r = 1, \u00b7 \u00b7 \u00b7 , |M|. The choice of mr depends on the wireless channel between the two consecutive IUs, where the complex channel gain h, bit error rate (BER) Pb, constellation size mr, and the received power P\u03c1Ld\n\u2212\u03b1|h|2 are related as [30]: Pb = c1 exp\n(\u2212c2P\u03c1Ld\u2212\u03b1|h|2 \u03c32(mc3r \u2212 c4) ) . (8)\n2The aspect of RIS-enabled rate adaptation is not considered here, as this is beyond the scope of the current work. However, the proposed framework can also be extended to such scenarios with suitable adjustments like optimal RIS beam alignment [11].\nHere \u03c32 is the noise power, and c1, \u00b7 \u00b7 \u00b7 , c4 are modulationspecific constants, respectively. By considering a transmission power P and a modulation scheme mr, the time required for complete transfer of \u03b1 information packets with \u03d5 bits in each is \u03c4req(r) = \u2308\u03b1\u03d5\nDr\n\u2309 slots, where \u2308 \u00b7 \u2309 denotes the\nceiling function. Accordingly, if Pproc is the processing power, the corresponding energy required for complete information transfer is characterized as\nEreq(r) = (P + Pproc)\u03c4req(r)Ts, (9)\nwhich is not a fixed quantity, but a function of the chosen constellation size."
        },
        {
            "heading": "C. Selection of Appropriate Intermediate Users",
            "text": "Till now, we have identified the pool of IUs that can be leveraged upon to act as DF relays in forwarding the information from S to D. Here we identify the most appropriate one of them, which suits our objective. In this context, S chooses the IU Utx from \u2126I to act as a relay, which is obtained by solving the optimization problem P1:\n(P1) : minimize q,Ui \u03c4req(q) (10)\nsubject to C1 : Ui \u2208 \u2126I , C2 : \u03c4req(q) \u2264 \u03baI(Ui), C3 : mq+1 \u2208 M.\nUtx is the desired Ui from \u2126I , that minimizes the objective function in P1 by employing the modulation scheme mq+1 from the set M. Moreover, while C1 implies that Utx to be one of the idle IUs within a distance of radius r, C2 guarantees that the complete information transfer occurs in one go and C3 assures that the chosen modulation scheme is from M. Furthermore, as an additional constraint, we also state that Utx has to be chosen in a direction that reduces the LRD to D. Finally, minimizing \u03c4req(q) implies considering the maximum possible value of Dr, i.e., only the idle IU with the best channel condition is chosen from \u2126I .\n1) Computational Complexity of P1: As the optimization problem P1 is combinatorial in nature, it does not have a \u2018closed-form\u2019 solution. P1 chooses Utx only within the radius r, i.e., the search space consists of a finite \u01ebI number of IUs. Moreover, the adaptive modulation selection process is a noniterative look-up table based approach. Thus, unlike the Bruteforce method, here the complexity of obtaining Utx in P1 is O(\u01ebI). Hence, obtaining Utx is not computationally expensive, as depending on the radius r, \u01eb is typically in the range of 20 to 30 and always \u01ebI < \u01eb holds.\nHowever, at times we have \u03c4req(q) > \u03baI(Ui), i.e., DoI corresponding to Ui is less than the time required by Ui for continuous complete information transfer by using a constellation of size mq+1. As it is necessary to complete the entire information transfer in a single phase, S decides to avoid transmission and waits for an interval of \u03b7w slots.\n2) Calculation of \u03b7w: In such scenarios, S identifies the pool of busy IUs in the right half circle of radius r, i.e., \u2126B from (5). Accordingly, it estimates the time interval of \u03b7idle, n slots after which Un \u2208 \u2126B will become idle, i.e., we have Un \u2208 \u2126I after \u03b7idle, n slots. This can be effectively modelled\n5 as a geometric distribution [29], where we map the event of Un being idle and busy as success and failure, respectively. Therefore, given that Un \u2208 \u2126B , we are interested in finding out the number of trial required till the first success, which in this case, is \u03b7idle, n. From the transition probability matrix P in (2), we obtain the probability of success in the \u03b7idle, n-th slot as p \u03b7idle, n\u22121 11 p10, which needs to be greater than an acceptable threshold probability pth, i.e.,\np \u03b7idle, n\u22121 11 p10 \u2265 pth =\u21d2 ( e\u2212Ts/\u00b5k )\u03b7idle, n\u22121 ( 1\u2212 e\u2212Ts/\u00b5k ) \u2265 pth, (11)\nwhich after some trivial algebraic manipulations yield\n\u03b7idle, n \u2264 \u00b5k Ts ln\n(( 1\u2212 e\u2212Ts/\u00b5k\npth\n)+ )\n+ 1. (12)\nHere we define x+ = max(x, 1) and as a result, S chooses not to transmit for \u03b7w slots, where\n\u03b7w = max Un\u2208\u2126B \u03b7idle, n. (13)\nTherefore, we have the reduced delay bound T \u2032\nd, where\nT \u2032 d = Td \u2212 \u03b7wTs. Hence, we can say that the acceptable delay bound becomes tighter with every transmission deferral. In this context, a detailed delay analysis is provided later in Section IV. Now after a time interval of \u03b7w slots, S again scans the right half circle of radius r to classify the idle IUs and accordingly, it solves P1 again to obtain Utx. If even now, the solution is a null set, S proceeds with the selection of an RIS as the next hop.\nRemark 1. We adopt a cooperative framework in this work,\ni.e., a particular IU agrees to act as a DF relay whenever it is idle. Scenarios where an idle IU may not agree to act as\na relay in spite of being idle or that it chooses a particular S \u2212 D pair in case of multiple requests (based on its own preferences) is not considered here but left for future work.\n3) Harvested Energy: As stated earlier, we incentivize the selected IU in terms of harvested energy, i.e., Utx harvests energy from the signal it received from S. From (3), when a particular constellation mr is selected, we obtain the harvested energy at Utx as\nEharv(r) = M(1\u2212 e\u2212aP\u03c1Ld\u2212\u03b1SU |hSU |2) 1 + e\u2212a(P\u03c1Ld \u2212\u03b1 SU |hSU | 2\u2212b) \u03c4req(r), (14)\nwhere hSU \u223c CN (0, 1) is the channel gain and d\u2212\u03b1SU is the corresponding path-loss factor. Moreover, we observe from (14) that the harvested energy is a function of the chosen constellation. Furthermore, P1 chooses the IU with the best channel condition and as Eharv is a monotonic function of |hSU |2, this results in better EH performance at Utx.\nThis entire procedure of identifying idle IUs within radius r to act as relays is described later pictorially in Fig. 2. However, if only IUs are to made act as relays, then the information transfer from S to D will solely rely on the IU traffic characteristics and activities. To overcome this problem, we take help of the already strategically placed RISs in the surroundings [9], [10], which always guarantee communication in the absence of appropriate IUs. This also implies that the location of the\nRISs are known to all the IUs in the surroundings.\nD. Identification of RIS in case of Idle IU Unavailability\nIn case idle IUs are not available, S searches for an RIS within the right half circle of radius r, which reduces the LRD for the next hop. The location of the idle IU in the proximity of the RIS is known to S by the reverse path forwarding procedure [31] via the RIS, when an IU receives the beacon signal transmitted by S. By assuming that there are L \u2212 1 device pairs being supported by that particular RIS and there exists an idle IU in the right half circle of radius r that satisfies C1 and C2 of P1, the signal-to-interference-plus-noise-ratio (SINR) corresponding to this particular device pair is\n\u03b3sr = P |hRiD/U\u03a6ihS/URi |2d\u2212\u03b1RiD/Ud \u2212\u03b1 S/URi \u03c12L L\u2211\nl=1 l 6=i\nP\u03c12L|hRlD/U\u03a6lhS/URl |2d\u2212\u03b1RlD/Ud \u2212\u03b1 S/URl + \u03c32\n,\n(15)\nwhere \u03c32 is the variance of the circularly symmetric zero mean additive white Gaussian noise (AWGN), hRiD/U\u03a6ihS/URi is the effective channel gain between S and the idle IU, and \u03c12Ld \u2212\u03b1 RiD/U\nd\u2212\u03b1S/URi is the effective path-loss factor as defined in Section II-C. Accordingly, the phase shift matrix of this particular RIS is optimized, such that the sum throughput of all the users being served by the RIS is maximized. Moreover, note that we are considering a delay-constrained scenario here, i.e., the data rate that we aim to maximize is obtained by replacing \u03b3 = \u03b3sr in (4) as\nR(\u03b3sr) = log2(1 + \u03b3sr)\u2212 Q\u22121(\u03b5)\nln 2\n\u221a\n\u03b32sr + 2\u03b3sr Mb(1 + \u03b3sr)2 , (16)\nwhere Mb denoting the total number of channel uses, is a finite quantity and \u03b5 is the acceptable probability of error.\nFor the scenario of a single user system, (15) reduces to\n\u03b3sr = P |hRiD/U\u03a6ihS/URi |2\u03c12Ld\u2212\u03b1RiD/Ud \u2212\u03b1 S/URi\n\u03c32 , (17)\nwhere we have hRiD/U = [ \u03b61e \u2212j\u03b8\u03b6,1 , \u00b7 \u00b7 \u00b7 , \u03b6Ne\u2212j\u03b8\u03b6,N ] , hS/URi = [ \u03c91e \u2212j\u03b8\u03c9,1 , \u00b7 \u00b7 \u00b7 , \u03c9Ne\u2212j\u03b8\u03c9,N ] , and \u03a6i = diag(\u03c61, \u00b7 \u00b7 \u00b7 , \u03c6N ) with \u03c6n = exp(j\u03b8n), n = 1, \u00b7 \u00b7 \u00b7 , N . Intuitively, it appears that the optimal choice of \u03a6i which maximizes \u03b3sr is \u03c6n = \u03b8\u03b6,n + \u03b8\u03c9,n \u2200 n = 1, \u00b7 \u00b7 \u00b7 , N and\n\u03b3optsr =\nP\n( N\u2211\ni=1\n\u03b6i\u03c9i\n)2\n\u03c12Ld \u2212\u03b1 RiD/U d\u2212\u03b1S/URi \u03c32 . (18)\nFurthermore, the received power at the IU is P |hRiD/U\u03a6ihS/URi |2\u03c12Ld\u2212\u03b1RiD/Ud \u2212\u03b1 S/URi and accordingly, the harvested power, in this case, is obtained from (3), i.e.,\nPharv = M(1\u2212 e\u2212aP |hRiD/U\u03a6ihS/URi |\n2\u03c12Ld \u2212\u03b1 RiD/U d\u2212\u03b1 S/URi )\n1 + e \u2212a(P |hRiD/U\u03a6ihS/URi | 2\u03c12 L d\u2212\u03b1 RiD/U d\u2212\u03b1 S/URi\n\u2212b) ,\n(19)\nwhich can be further analytically characterized depending on the probability distribution of hRiD/U and hS/URi , respectively [32]. Finally, based on (18), the maximum harvested power at the IU for a single user system is\n6 P optharv = M(1\u2212 e \u2212aP ( N \u2211 i=1 \u03b6i\u03c9i )2 \u03c12Ld \u2212\u03b1 RiD/U d\u2212\u03b1 S/URi )\n1 + e \u2212a(P\n(\nN \u2211\ni=1\n\u03b6i\u03c9i\n)2\n\u03c12 L d\u2212\u03b1 RiD/U d\u2212\u03b1 S/URi \u2212b)\n. (20)\nRemark 2. The above approach of phase shift matrix opti-\nmization can be generalized for any number of users. However, already there are significant works [5], [11], [33] in the\nliterature that address this problem. On the other hand, our\ncontribution lies in DRAMP, which is a RIS assisted multihop routing protocol for a D2D communication network.\nPlease note that it may happen as to there is no idle IU in the right half circle of radius r centred at the RIS, which satisfy the desired criteria as mentioned in C1 and C2 of P1. However, we are sure to find another RIS, as we assume that the RISs are already strategically placed in the surroundings [9]. Hence, the RIS directs the signal towards this newly found RIS in its range, which is expected to have an idle IU within its right half circle area of radius r. Accordingly, the received power at this idle IU is\nPdr\n= P |hRjD/U\u03a6jhRiRj\u03a6ihS/URi |2\u03c13Ld\u2212\u03b1RjD/Ud \u2212\u03b1 S/URi d\u2212\u03b1RiRj (21)\nand by assuming that there are L\u2212 1 D2D pairs being served by this RIS at this point of time, the resulting doubly reflected SINR in this case is evaluated as\n\u03b3dr =\nP |hRjD/U\u03a6jhRiRj\u03a6ihS/URi |2 \u00d7 \u03c13Ld\u2212\u03b1RjD/Ud \u2212\u03b1 S/URi\nd\u2212\u03b1RiRj L\u2211\nl=1 l 6=i\nP |hRjD/U\u03a6jhRlRj\u03a6lhS/URl |2 \u00d7 \u03c13Ld\u2212\u03b1RjD/Ud \u2212\u03b1 S/URl d\u2212\u03b1RlRj + \u03c32\n. (22)\nOur aim is to maximize R(\u03b3dr), which is obtained by replacing \u03b3 = \u03b3dr in (4). As stated earlier in Remark 2, we are not proposing any phase shift matrix optimization here and thus, we optimize this matrix by using any of the existing techniques. Lastly, the harvested power, in this context of a doubly RIS reflected signal, is obtained from (3) as\nPharv = M(1\u2212 e\u2212aPdr) 1 + e\u2212a(Pdr\u2212b) , (23)\nwhere Pdr is the received power as defined in (21). Once the information reaches an idle IU in one of the hops, then the process of identifying the next idle IU or the nearby RIS arises, which has already been described above. This entire process of information transfer from S to D within a time limit of Td is the proposed protocol DRAMP, which has been pictorially presented by a concise and compact flowchart in Fig. 2.\nE. Illustrative Example of DRAMP\nA specific scenario is demonstrated in Fig. 3, where there is no direct LoS link between S and D and the corresponding delay constraint for the complete data transfer is Td. To select the intermediate hops (IU/RIS), we consider a semi-circle of radius r at S in the LRD direction from S to D. We observe from the figure that there are no available IUs within the halfcircle C1, which satisfy the conditions as stated in P1. Hence, S estimates the waiting time interval of \u03b7w slots and the delay\nS has \u03b1\u00d7 \u03c6 bits to send,\nScan right half circle\nof radius r to\nidentify IUs\nIU available\n?\nUse adaptive\nmodulation\nYes\nCalculate T \u2032 d\nT \u2032 d = Td \u2212 \u03b7wTs\nNo\nRIS\nYesNo\nNo\nIs D reached\n?\nStop\nYes\nNo\nwith delay bound Td\nIs T \u2032 d > 0\n?\nIU available\n?\nStart\nWait for time T \u2032 d\nIU available\n?\nYesNo Yes\nRIS\nTake the IU in LDR direction\nIs D within the half circle\nradius ?\nReached D\nStop\nYes\nNo\nFigure 2. Flowchart of the Proposed Strategy\nconstraint Td is accordingly updated as T \u2032\nd = Td\u2212\u03b7wTs. After waiting for \u03b7w slots, S again scans the semi-circle of radius r but still it cannot find an appropriate IU that can act as a relay. Accordingly, S does not wait any further but observes that RIS R1, R9 and R10 can act as potential reflectors for the first hop. As the reflected ray, via R1, traverses the maximum distance in the LRD direction, R1 is selected among the three. Since r is the coverage distance for each RIS and idle U2, U3 lie inside this region, P1 is solved over these two IUs to select U3 as the next hop.\nBy adopting a similar technique, we consider a right half circle of radius r at U3 to observe that there are no idle IUs in this region and R3 is the only RIS that reduces the LRD from U3 to D. Moreover, R4 is selected to act as the next hop of this framework due to two reasons: firstly, there are no idle IUs available in the concerned region and secondly, as stated earlier, double reflections are non-negligible in practice. As U5 covers the LRD towards D and three consecutive RIS selection results in significant signal degradation [11], U5 is chosen to act as the next relay node. In a similar logic, U7 and U9 are selected to act as the corresponding\n7 S D R1\nR2\nR3\nR4\nR5\nR6\nR7\nR8\nU1\nU2\nU3\nU4\nU5\nU6\nU7\nU9\nUser\nRIS\nr\nr\nR11\nR9\nR10U9\nU0\nC1\nFigure 3. Illustrative Example\nhops of the proposed framework. Therefore, the signal from S reaches D within a time limit of Td by using the path S,R1, U3, R3, R4, U5, U7, U9, D."
        },
        {
            "heading": "F. Performance Measures of DRAMP",
            "text": "Here we define the metrics, namely data throughput and energy efficiency, which will be used to quantify the performance of DRAMP.\n1) Data throughput DT : By assuming that DRAMP chooses X IUs and a certain number of RISs to connect a S \u2212D pair in X + 1 hops, the data throughput is defined as\nDT = 1\nX+1\u2211\ni=1 1\u2212 ai (1\u2212 Pb)mi + ai Ri (\u03b3i)\n, (24)\nwhere\nai =\n{\n1, if i-th hop involves RIS,\n0, else.\nHere Pb is the BER and mi is the constellation size as stated in (8). Moreover, in case we have a RIS selected due to idle IU unavailability, Ri is the corresponding achievable data rate as defined in (4).\n2) Energy efficiency Eeff: Similar to data throughput, the system energy efficiency for transferring \u03b1 packets of data with \u03d5 bits in each packet, when a S\u2212D pair gets connected in X + 1 hops is defined as\nEeff = \u03b1\u03d5\n(P + Pproc)Ts X+1\u2211\ni=1\n\u03c4i \u2212 Ts X\u2211\nj=1\nPharv(j)\u03c4j\n, (25)\nwhere P and Pproc is the transmission and processing power respectively, as defined in (9). Moreover, \u03c4i is the time required (in slots) for complete information transfer in the i-th hop and finally, based on the channel condition, Pharv(j) is the harvested power at the j-th IU when the channel between the (j \u2212 1)-th and j-th IU is being used for information transfer."
        },
        {
            "heading": "IV. DELAY ANALYSIS",
            "text": "As stated earlier in Section III-C, here we investigate DRAMP in terms of the delay for information transfer from S to D. Based on the choice of IUs and RISs as hops of this framework, we can have the following scenarios: (i) only IUs\n(both busy and idle) and (ii) both IUs and RISs are being used. Now we look at all the scenarios in detail."
        },
        {
            "heading": "A. Only IUs",
            "text": "Here we observe that the information packets from S reach D through finite number of busy/idle IUs and no RIS is being used in this scenario. On arrival of information, S immediately locates an idle IU U1 within the right half circle of radius r, which is also in the LRD direction and can act as a DF relay. However, if S cannot locate an idle IU in the desired region that satisfies the constraints from P1 in (10), before proceeding with a RIS, S waits for a finite amount of time to identify the next node in the proposed framework. We assume that there must be an IU that meets the constraints in P1 within this waiting time. In this context, we estimate the maximum acceptable waiting time Tdi at IU Ui, such that the overall delay constraint of time Td is not violated.\nLet l be the Euclidean distance from S to D and any IU can transmit to a maximum distance r. Hence, the minimum number of hops required to send a data packet from S to D\nis \u03a8 =\n\u2308 l\nr\n\u2309\n. Therefore, the maximum acceptable delay and\nactual delay at S is Td0 = Td \u03a8 and t0, respectively. In case the actual waiting time ti at Ui is less than Tdi , we propose that the leftover waiting time Tdi \u2212 ti is carried forward to Ui+1, i.e., the enhanced maximum acceptable delay at Ui+1 is Tdi+1 \u2261 Tdi+1 + (Tdi \u2212 ti). Remark 3. In this work, we consider a scenario, where IUs cannot communicate beyond a distance r, i.e., the IUs do not have a global knowledge of the system topology. Therefore, Ui passes on Tdi \u2212 ti to Ui+1, as it is unaware of exactly how many hops will be required in DRAMP for the complete information transfer from S to D.\nAccordingly, we characterize Tdi as\nTdi =\nTd \u2212 i\u22122\u2211\nk=0 \u03b2ktk \u2212 Tdi\u22121 \u03a8\u2212\u03a8i + (Tdi\u22121 \u2212 \u03b2i\u22121ti\u22121) i \u2265 2,\nwhere \u03a8i = \u230a ||S \u2212 Ui|| r \u230b , \u230a\u00b7\u230b is the floor function, Td0 =\n8 Td \u03a8 , Td1 = Td \u2212 Td0 \u03a8\u2212\u03a81 + (Td0 \u2212 \u03b20t0), and\n\u03b2i =\n{\n0, Idle Ui, 1, Busy Ui. (26)\nMoreover, based on the value of \u03b2 corresponding to a particular IU, we can have the following extreme cases:\n1) \u03b2z = 0 \u2200 z < i, i.e., no waiting at U1, \u00b7 \u00b7 \u00b7 , Ui\u22121 and 2) \u03b2z = 1 \u2200 z < i, i.e., waiting at U1, \u00b7 \u00b7 \u00b7 , Ui\u22121.\nBoth these cases are investigated below.\nCase I: \u03b2z = 0 \u2200 z < i. Here we investigate the scenario when the information from S has not faced any waiting at U1, \u00b7 \u00b7 \u00b7 , Ui\u22122, Ui\u22121 till Ui. Accordingly, the maximum acceptable delay at Ui is given by the following theorem.\nTheorem 1. Without any delay in information transfer from S through the IUs U1, \u00b7 \u00b7 \u00b7 , Ui\u22122, Ui\u22121, the maximum acceptable delay at Ui is given by\nTdi = Td\n( i\u2211\np=1\n( 1\n\u03a8\u2212\u03a8p\n) i\u220f\nq=p+1\n(\n1\u2212 1 \u03a8\u2212\u03a8q\n)\n+ 1\n\u03a8\ni\u220f\nn=1\n(\n1\u2212 1 \u03a8\u2212\u03a8n\n))\n. (27)\nProof. See Appendix A.\nWe observe from Theorem 1 that the maximum acceptable delay Tdi at IU Ui is expressed in terms of the overall delay constraint Td. Furthermore, it can also be observed that Tdi increases monotonically with i, i.e., Tdi \u2264 Tdi+1 \u2200 i.\nCase II: \u03b2z = 1 \u2200 z < i. This implies that the information from S has suffered delay at all the IUs till Ui, i.e., in this case, we obtain the maximum acceptable delay at Ui from (26) as\nTdi =\nTd \u2212 i\u22122\u2211\nk=0 tk \u2212 Tdi\u22121 \u03a8\u2212\u03a8i + (Tdi\u22121 \u2212 ti\u22121) i \u2265 2, (28)\nwhere Td0 = Td \u03a8 and Td1 = Td \u2212 Td0 \u03a8\u2212\u03a81\n+ (Td0 \u2212 t0). By simplifying Td1 in (28), we obtain\nTd1 (a) = Td\n( 1\n\u03a8\u2212\u03a81\n(\n1\u2212 1 \u03a8\n)\n+ 1\n\u03a8\n)\n\u2212 \u00b51 ln ((\n1\u2212 e\u2212Ts/\u00b51 pth\n)+ )\n\u2212 Ts\n(b) = Td\n( 1\n\u03a8\u2212\u03a81\n(\n1\u2212 1 \u03a8\n)\n+ 1\n\u03a8\n)\n\u2212 \u00b51 ln ((\nTs \u00b51pth\n))\n\u2212 Ts, (29)\nwhere (a) follows from Td0 = Td \u03a8 and (12). Furthermore, (b) follows from the Taylor expansion of e\u2212Ts/\u00b51 and neglecting its higher order terms as we know from Section II-B that Ts/\u00b51 < 1 and finally, by assuming Ts\n\u00b51pth > 1.\nRemark 4. Note that for x \u2265 1, x ln ( 1\nx\n)\nis a monoton-\nically decreasing function with its maxima at x = 1, when\nx ln\n( 1\nx\n)\n= 0. Hence, we can observe from (29), that Td1\nincreases with \u00b51 when other parameters are constant. It is interesting to observe, that the same intuition is also provided by the term p10 in transition probability matrix stated in (2).\nInstead of making a claim specifically with respect to U1 as in Remark 4, we can make a generalization as follows. From (28), we obtain\nTdi = Td \u2212 Tdi\u22121 \u03a8\u2212\u03a8i + Tdi\u22121 \u2212\ni\u22122\u2211\nk=0\ntk\n\u03a8\u2212\u03a8i \u2212 ti\u22121 i \u2265 2\n= Td \u2212 Tdi\u22121 \u03a8\u2212\u03a8i + Tdi\u22121 \u2212 ( i\u2212 1 \u03a8\u2212\u03a8i + 1 ) Ts\n\u2212 ( 1\n\u03a8\u2212\u03a8i\ni\u22121\u2211\nk=1\n\u00b5k ln\n( Ts\n\u00b5kpth\n)\n+ \u00b5i ln\n( Ts\n\u00b5ipth\n))\n\ufe38 \ufe37\ufe37 \ufe38\nfunction of \u00b51,\u00b7\u00b7\u00b7 ,\u00b5i\n, (30)\nwhich is based on (12).\nRemark 5. We observe from (30) that Tdi is a joint function of \u00b51, \u00b7 \u00b7 \u00b7 , \u00b5i. This implies that the average acceptable time delay at an arbitrary intermediate user is dependent on the traffic characteristics of all the previous intermediate users.\nSince we have investigated the two extreme scenarios, i.e., no delay at U1, \u00b7 \u00b7 \u00b7 , Ui\u22121 and waiting at all of U1, \u00b7 \u00b7 \u00b7 , Ui\u22121, the actual Tdi corresponding to Ui will be in between the two. The reason behind this observation is attributed to the practical scenario of \u03b2 = 0 for some of the IUs and \u03b2 = 1 otherwise."
        },
        {
            "heading": "B. RIS and IUs",
            "text": "This is the most general scenario, which involves IUs, both idle and busy, and RISs in the process of information transfer from S to D. In this setup, if S has information packets to transfer, first it will search for idle IUs within the right half circle of radius r in the LRD direction. If one of the IUs is available that meets all the constraints of P1 within the acceptable waiting time, this particular IU will serve as the DF relay node but otherwise, S goes for a RIS. This process of IU or RIS selection is repeated at each hop until D is reached. In this context, we come across namely two types of delays at an arbitrary IU Ui as follows.\n(i) Delay t\u2032i: waiting time at Ui, when it transfers the data packets to the following IU and\n(ii) Delay t\u2032\u2032i : time after which Ui chooses an RIS to do the transfer due to reasons such as the unavailability of an\nappropriate IU or suitable channel conditions.\nIt is to be noted that both t\u2032i and t \u2032\u2032 i occur at Ui for information transfer to Ui+1. Towards this direction, Ui after suffering a delay t\u2032\u2032i , immediately chooses a RIS and if there are no suitable IU in the LRD direction of the RIS, it immediately directs the signal to its adjacent RIS. This is based on the fact that double-RIS aided information transfer is a non-negligible phenomenon [11] and the corresponding channel model is\n9\ndescribed in Section II-C. Moreover, we assume that the RISs are strategically placed [9] and as a result, there is always another RIS in the right half circle of radius r. Furthermore, as the RISs are already optimally placed, this guarantees the presence of an idle IU in the LRD direction of the second RIS. Furthermore, in the context of maximum acceptable delay calculation at an IU, here also we propose Tdi \u2212 ti of being carried forward to only Ui+1.\nWith the motivation and the framework for this variant already stated in the previous section, we proceed along similar lines to obtain the maximum acceptable delay Tdi corresponding to Ui.\nTdi =\nTd \u2212 i\u22122\u2211\nk=0\nckt \u2032 k \u2212\ni\u22122\u2211\nk=0 (1\u2212 ck)t\u2032\u2032k \u2212 Tdi\u22121 \u03a8\u2212\u03a8i\n+ (Tdi\u22121 \u2212 (ci\u22121t\u2032i\u22121 + (1\u2212 ci\u22121)t\u2032\u2032i\u22121)) i \u2265 2, (31)\nand Td1 = Td \u2212 Td0 \u03a8 \u2212\u03a81 + (Td0 \u2212 (c0t\u20320 + (1\u2212 c0)t\u2032\u20320 )), where\nci =\n{\n1, for D2D delay, 0, else (32)\nNote that for a particular Ui, both t \u2032 i and t \u2032\u2032 i cannot exist at the same time.\nHence in this section, we have analyzed the transmission delay for all the possible cases of the proposed framework. Finally, Table I presents a summary of the main analytical results derived in this section."
        },
        {
            "heading": "V. NUMERICAL RESULTS",
            "text": "In this section, we carry out extensive simulations to validate the performance of DRAMP and also compare with the nearest existing approach. Here we consider data transmission in a Rician fading scenario, where we assume Rician factor K = 10 dB. The default parameters considered are: slot duration Ts = 100 \u00b5s, IU transmission power P = 30 dBm, IU processing power Pproc = 10 dBm, pathloss at one meter distance \u03c1L = 10\n\u22123.53, pathloss exponent \u03b1 = 4.2 between two consecutive IUs and \u03b1 = 2 elsewhere, the number of elements in each RIS N = 250, and acceptable delay bound Td = 50 ms. The parameters related to energy harvesting at the IUs are M = 24 mW, a = 150, and b = 0.014 [34]. Based\non (8), we consider M-ary quadrature amplitude modulation (M-QAM) transmission between consecutive IUs and a BER\nof Pb = 10 \u22126 results in P\u03c1Ld \u2212\u03b1|h|2 \u03c32\n= 9.6724(m \u2212 1), where m is modulation scheme as defined in Section III-B. Accordingly, we obtain the transmission modes (TM) as stated in Table II and these TM are used in this section. Moreover, in this work, when an RIS is chosen due to the unavailability of IUs, we consider parameters Mb = 1000 and \u03b5 = 10 \u22124. Next we demonstrate the performance of DRAMP and also validate the proposed analytical framework against Monte Carlo simulation. Finally, we compare DRAMP with the existing benchmark approaches."
        },
        {
            "heading": "A. Performance of DRAMP",
            "text": "An illustration of the DRAMP-based multihop trajectory is presented in Fig. 4. In this scenario, we consider a two\n10\ndimensional squared area of 400\u00d7400 m2, where the IUs and the RISs are randomly and strategically placed, respectively. Moreover, we assume an IU coverage of 60 m, where \u2018coverage\u2019 refers to the maximum distance at which a particular IU can communicate. We consider two separate instances, when a randomly selected S\u2212D pair wants to communicate. In the process of doing so, DRAMP establishes a multihop connection, which effectively brings out the advantages of the proposed protocol as follows.\n1) IUs are preferred over RISs in establishing the S \u2212 D connection, i.e., the figure demonstrates that if IUs are\navailable to act as relays without violating the delay constraint, RISs are completely overlooked by DRAMP. 2) On the other hand, the RISs are considered as an option\nonly in the case of IU unavailability. Furthermore, to take advantage of the RISs significantly, DRAMP also leverages on the secondary reflections from the RISs, which can also be observed by the choice of two consecutive\ns in the figure.\nIn this way, by prioritizing the choice of IUs over RISs, DRAMP avoids the aspect of unnecessary resource wastage. However, it is to be noted that this benefit does not come at a cost of violating the delay constraint and the corresponding analysis is already explained in Section IV.\nFig. 5 illustrates the number of RISs used to connect S to D as a function of the IU coverage. We consider a particular S \u2212 D pair and three different scenarios with IU density 100, 400, and 900, respectively. Accordingly, we look at the number of RISs used to establish a multihop connection from S to D. For a particular IU density, we observe that the number of RISs used to connect S \u2212 D follows a non-increasing trend. This is justified by the fact that a smaller coverage implies more number of hops to connect S\u2212D. Moreover, we know that higher carrier frequency results in higher data rate but lower coverage. Hence, the figure demonstrates that for identical IU density, higher carrier frequency results in higher number of RISs being used and vice-versa. Finally, we also note that irrespective of the IU density, the number of RISs used asymptotically reaches zero with increasing IU coverage.\nFig. 6 depicts the number of RISs used to connect S to D as a function of the IU density. In this figure, we establish connection between a S \u2212 D pair for three different IU coverage of 30, 45, and 60 m, respectively. It is observed here\nthat lesser number of RISs are being used as the IU density increases and here also, irrespective of the IU coverage radius, the value asymptotically reaches zero. In other words, for an environment with significantly large IU density, it is possible to completely avoid the usage of RISs.\nFrom Fig. 5 and Fig. 6 we observe that depending on the carrier frequency (i.e. , the IU coverage) and density of IUs in the surroundings, it is possible to establish a multihop S \u2212D connection consisting of only IUs and not RISs. This further strengthens our claim of exploiting the IU traffic characteristics for reducing the dependency on the RISs. It is to be noted that our proposed DRAMP avoids wastage of resources but not at the cost of performance degradation.\nB. Verification of \u03bdB and \u03bdI by Monte Carlo Simulation\nHere for the generation of results, we define the average IU\nactivity duty cycle as \u039e = \u00b5k\n\u00b5k + \u03bbk \u2200 n.\nFig. 7 compares the analytically obtained \u03bdB in (7) with the Monte Carlo simulations, where we consider the average \u2018OFF\u2019 duration \u03bbk = 4 ms \u2200 n. It is observed that \u03bdB increases monotonically with \u039e and moreover, the rate of increase exponentially shoots up as \u039e \u2192 1. This is also intuitive, as increasing \u039e implies that the IU will remain busy most of the time and hence, the time duration for which it will remain busy given that it is currently busy will also increase. Furthermore, we also observe that for a particular \u039e, a higher value of \u03b4 implies a greater value of \u03bdB and vice-versa.\nWe compare the analytically obtained \u03bdI with the corresponding Monte Carlo simulations in Fig. 8, where we\n11"
        },
        {
            "heading": "C. Performance Comparison",
            "text": "Here we compare the performance of DRAMP with the existing benchmark scheme. Accordingly, the variants used for this purpose are the following:\n1) DRAMP, Mb \u2192 \u221e: Unlike DRAMP with finite Mb, Mb \u2192 \u221e denotes a delay tolerant scenario. In this context, our prime objective is information transfer from\nS to D and delay is not a concern. 2) DRAMP, no AM: This variant of DRAMP avoids the\nusage of adaptive modulation (AM) irrespective of the channel condition. Hence, in this case we communicate by a combination of IUs and RISs as proposed, but fail to exploit the advantages of the channel variations. 3) OPRIS [8]: The work investigates the optimal placement\nof RISs when the S\u2212D pair is connected via single RIS only. In other words, it does not involve any aspect of connecting two devices that requires multihop communication. Fig. 9 demonstrates an overall decreasing trend of DT with IU coverage, irrespective of the deployed scheme. This is because although increasing coverage implies lesser number of hops, the pathloss factor becomes dominant. It is observed that the performance of DRAMP without AM and OPRIS are comparable and equally poor as compared to DRAMP irrespective of Mb. This degraded performance is attributed to the inability to exploit the temporal variation of the wireless channel. Moreover, we note that irrespective of coverage, DRAMP with Mb \u2192 \u221e always outperforms its finite Mb counterpart. This is because the Mb \u2192 \u221e scenario always chooses the best channel in each hop while connecting S \u2212D, whereas a finite Mb scenario cannot do so always due to the application specific delay constraints. As a result, it can be concluded that\nif delay is not a critical factor for the application at hand, the performance of DRAMP gets enhanced by a finite margin. As in Fig. 9, Fig. 10 depicts the advantage of the proposed protocol in terms of Eeff , which also reduces with increasing coverage irrespective of the framework being used."
        },
        {
            "heading": "VI. CONCLUSION",
            "text": "In this paper we proposed a novel double-RIS assisted adaptive modulation-based multihop routing protocol for D2D wireless networks, which takes into account the aspect of multi-RIS secondary reflection. The proposed protocol exploits the traffic characteristics of the users present in the surroundings to bring down the dependency on the already deployed RISs, which reduces the wastage of resources. Numerical results demonstrate that it is possible to significantly bring down the usage of RISs and under some circumstances, completely avoid them. Moreover, the results also showcase the significance of the proposed protocol in terms of enhanced data throughput and energy efficiency. An immediate extension of this work is to investigate a non-cooperative scenario, where the users are independent to decide whether they would like to act as a relay and if they do, then for which corresponding S \u2212D pair in case of multiple requests."
        },
        {
            "heading": "APPENDIX A PROOF OF THEOREM 1",
            "text": "By replacing \u03b2z = 0 \u2200 z < i in (26), we obtain\nTdi = Td \u2212 Tdi\u22121 \u03a8\u2212\u03a8i + Tdi\u22121 i \u2265 1, (33)\n12\nwhere Td0 = Td \u03a8 . After trivial manipulations, Td1 can be alternatively written as\nTd1 = Td \u2212 Td0 \u03a8\u2212\u03a81 + Td0\n= Td\n( 1\n\u03a8\u2212\u03a81 +\n1\n\u03a8\n(\n1\u2212 1 \u03a8\u2212\u03a81\n))\n. (34)\nSimilarly, we obtain Td2 as a function of Td1 , which in turn, can be further simplified in terms of Td0 = Td \u03a8 as\nTd2 = Td\n\u03a8\u2212\u03a82 +\n(\n1\u2212 1 \u03a8\u2212\u03a82\n)\nTd1\n(a) = Td \u03a8\u2212\u03a82 +\n(\n1\u2212 1 \u03a8\u2212\u03a82\n)\n\u00d7 (\nTd \u03a8\u2212\u03a81 +\n(\n1\u2212 1 \u03a8\u2212\u03a81\n)\nTd0\n)\n= Td\n( 1\n\u03a8\u2212\u03a82 +\n1\n\u03a8\u2212\u03a81\n(\n1\u2212 1 \u03a8\u2212\u03a82\n)\n+ 1\n\u03a8\n(\n1\u2212 1 \u03a8\u2212\u03a81\n)(\n1\u2212 1 \u03a8\u2212\u03a82\n))\n, (35)\nwhere (a) follows from (34). By proceeding in the same way for i \u2265 1, we get\nTdi = Td\n( i\u2211\np=1\n( 1\n\u03a8\u2212\u03a8p\n) i\u220f\nq=p+1\n(\n1\u2212 1 \u03a8\u2212\u03a8q\n)\n+ 1\n\u03a8\ni\u220f\nn=1\n(\n1\u2212 1 \u03a8\u2212\u03a8n\n))\n. (36)\nMoreover, it can also be observed that by putting i = 2 in (36) results in (35)."
        }
    ],
    "title": "DRAMP: Double-RIS Assisted Multihop Routing Protocol for Wireless Networks",
    "year": 2023
}