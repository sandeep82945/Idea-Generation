{
    "abstractText": "Connected automated vehicles (CAVs) have shown great potential in improving traffic throughput and stability. Although various longitudinal control strategies have been developed for CAVs to achieve string stability in mixed-autonomy traffic systems, the potential impact of these controllers on safety has not yet been fully addressed. This paper proposes safety-critical traffic control (STC) by CAVs\u2014a strategy that allows a CAV to stabilize the traffic behind it, while maintaining safety relative to both the preceding vehicle and the following connected human-driven vehicles (HDVs). Specifically, we utilize control barrier functions (CBFs) to impart collision-free behavior with formal safety guarantees to the closed-loop system. The safety of both the CAV and HDVs is incorporated into the framework through a quadratic program-based controller, that minimizes deviation from a nominal stabilizing traffic controller subject to CBF-based safety constraints. Considering that some state information of the following HDVs may be unavailable to the CAV, we employ state observer-based CBFs for STC. Finally, we conduct extensive numerical simulations\u2014that include vehicle trajectories from real data\u2014to demonstrate the efficacy of the proposed approach in achieving string stable and, at the same time, provably safe traffic. Index Terms Connected Automated Vehicle, Mixed Traffic, Traffic Control, Safety-Critical Control, Control Barrier Function, State Observer",
    "authors": [
        {
            "affiliations": [],
            "name": "Huan Yu"
        },
        {
            "affiliations": [],
            "name": "Chenguang Zhao"
        },
        {
            "affiliations": [],
            "name": "Tamas G. Molnar"
        }
    ],
    "id": "SP:44a03ae53a56d416c69dc3ce13fe155b16fa0f61",
    "references": [
        {
            "authors": [
                "M. Abduljabbar",
                "N. Meskin",
                "C.G. Cassandras"
            ],
            "title": "Control barrier function-based lateral control of autonomous vehicle for roundabout crossing",
            "venue": "In IEEE International Conference on Intelligent Transportation Systems,",
            "year": 2021
        },
        {
            "authors": [
                "Devansh R. Agrawal",
                "Dimitra Panagou"
            ],
            "title": "Safe control synthesis via input constrained control barrier functions",
            "venue": "In 60th IEEE Conference on Decision and Control,",
            "year": 2021
        },
        {
            "authors": [
                "Devansh R. Agrawal",
                "Dimitra Panagou"
            ],
            "title": "Safe and robust observer-controller synthesis using control barrier functions",
            "venue": "IEEE Control Systems Letters,",
            "year": 2023
        },
        {
            "authors": [
                "Assad Alam",
                "Ather Gattami",
                "Karl H Johansson",
                "Claire J Tomlin"
            ],
            "title": "Guaranteeing safety for heavy duty vehicle platooning: Safe set computations and experimental evaluations",
            "venue": "Control Engineering Practice,",
            "year": 2014
        },
        {
            "authors": [
                "Anil Alan",
                "Andrew J. Taylor",
                "Aaron D. Ames Chaozhe R. He",
                "Gabor Orosz"
            ],
            "title": "Control barrier functions and input-to-state safety with application to automated vehicles",
            "venue": "arXiv preprint,",
            "year": 2022
        },
        {
            "authors": [
                "Hassan Almubarak",
                "Evangelos A Theodorou",
                "Nader Sadegh"
            ],
            "title": "HJB based optimal safe control using control barrier functions",
            "venue": "In IEEE Conference on Decision and Control,",
            "year": 2021
        },
        {
            "authors": [
                "Aaron D Ames",
                "Samuel Coogan",
                "Magnus Egerstedt",
                "Gennaro Notomista",
                "Koushil Sreenath",
                "Paulo Tabuada"
            ],
            "title": "Control barrier functions: Theory and applications",
            "venue": "In European Control Conference,",
            "year": 2019
        },
        {
            "authors": [
                "Aaron D Ames",
                "Jessy W Grizzle",
                "Paulo Tabuada"
            ],
            "title": "Control barrier function based quadratic programs with application to adaptive cruise control",
            "venue": "In IEEE Conference on Decision and Control,",
            "year": 2014
        },
        {
            "authors": [
                "Ramin Arvin",
                "Asad J Khattak",
                "Mohsen Kamrani",
                "Jackeline Rio-Torres"
            ],
            "title": "Safety evaluation of connected and automated vehicles in mixed traffic with conventional vehicles at intersections",
            "venue": "Journal of Intelligent Transportation Systems,",
            "year": 2020
        },
        {
            "authors": [
                "S.S. Avedisov",
                "G. Bansal",
                "G. Orosz"
            ],
            "title": "Impacts of connected automated vehicles on freeway traffic patterns at different penetration levels",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2022
        },
        {
            "authors": [
                "Masako Bando",
                "Katsuya Hasebe",
                "Ken Nakanishi",
                "Akihiro Nakayama"
            ],
            "title": "Analysis of optimal velocity model with explicit delay",
            "venue": "Physical Review E,",
            "year": 1998
        },
        {
            "authors": [
                "M Frank"
            ],
            "title": "Callier and Charles A Desoer",
            "venue": "Linear System Theory. Springer Science & Business Media,",
            "year": 2012
        },
        {
            "authors": [
                "Yuxiao Chen",
                "Huei Peng",
                "Jessy Grizzle"
            ],
            "title": "Obstacle avoidance for low-speed autonomous vehicles with barrier function",
            "venue": "IEEE Transactions on Control Systems Technology,",
            "year": 2018
        },
        {
            "authors": [
                "Mladen \u010ci\u010di\u0107",
                "Karl Henrik Johansson"
            ],
            "title": "Traffic regulation via individually controlled automated vehicles: a cell transmission model approach",
            "venue": "In IEEE International Conference on Intelligent Transportation Systems,",
            "year": 2018
        },
        {
            "authors": [
                "Mladen \u010ci\u010di\u0107",
                "Xi Xiong",
                "Li Jin",
                "Karl Henrik Johansson"
            ],
            "title": "Coordinating vehicle platoons for highway bottleneck decongestion and throughput improvement",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2022
        },
        {
            "authors": [
                "Shumo Cui",
                "Benjamin Seibold",
                "Raphael Stern",
                "Daniel B Work"
            ],
            "title": "Stabilizing traffic flow via a single autonomous vehicle: Possibilities and limitations",
            "venue": "In IEEE Intelligent Vehicles Symposium,",
            "year": 2017
        },
        {
            "authors": [
                "Shuo Feng",
                "Yi Zhang",
                "Shengbo Eben Li",
                "Zhong Cao",
                "Henry X Liu",
                "Li Li"
            ],
            "title": "String stability for vehicular platoon control: Definitions and analysis methods",
            "venue": "Annual Reviews in Control,",
            "year": 2019
        },
        {
            "authors": [
                "J.I. Ge",
                "S.S. Avedisov",
                "C.R. He",
                "W.B. Qin",
                "M. Sadeghpour",
                "G. Orosz"
            ],
            "title": "Experimental validation of connected automated vehicle design among human-driven vehicles",
            "venue": "Transportation Research Part C,",
            "year": 2018
        },
        {
            "authors": [
                "George Gunter",
                "Matthew Nice",
                "Matt Bunting",
                "Jonathan Sprinkle",
                "Daniel B. Work"
            ],
            "title": "Experimental testing of a control barrier function on an automated vehicle in live multi-lane traffic",
            "venue": "In Workshop on Data-Driven and Intelligent Cyber-Physical Systems for Smart Cities,",
            "year": 2022
        },
        {
            "authors": [
                "George Gunter",
                "Raphael Stern",
                "Daniel B Work"
            ],
            "title": "Modeling adaptive cruise control vehicles from experimental data: model comparison",
            "venue": "In IEEE Conference on Intelligent Transportation Systems,",
            "year": 2019
        },
        {
            "authors": [
                "T. Gurriet",
                "M. Mote",
                "A. Singletary",
                "P. Nilsson",
                "E. Feron",
                "A.D. Ames"
            ],
            "title": "A scalable safety critical control framework for nonlinear systems",
            "venue": "IEEE Access,",
            "year": 2020
        },
        {
            "authors": [
                "Roberto Horowitz",
                "Adolf May",
                "Alex Skabardonis",
                "Pravin Varaiya",
                "Michael Zhang",
                "Gabriel Gomes",
                "Laura Munoz",
                "Xiaotian Sun",
                "Dengfeng Sun"
            ],
            "title": "Design, field implementation and evaluation of adaptive ramp metering algorithms",
            "venue": "Technical report, California PATH Research Report UCB-ITS-PRR- 2005-2,",
            "year": 2005
        },
        {
            "authors": [
                "Kuang Huang",
                "Xuan Di",
                "Qiang Du",
                "Xi Chen"
            ],
            "title": "Scalable traffic stability analysis in mixed-autonomy using continuum models",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2020
        },
        {
            "authors": [
                "Mrdjan Jankovic",
                "Mario Santillo",
                "Yan Wang"
            ],
            "title": "Multi-agent systems with CBF-based controllers \u2013 collision avoidance and liveness from instability",
            "venue": "arXiv preprint,",
            "year": 2022
        },
        {
            "authors": [
                "Mihailo R Jovanovi\u0107",
                "Neil K Dhingra"
            ],
            "title": "Controller architectures: Tradeoffs between performance and structure",
            "venue": "European Journal of Control,",
            "year": 2016
        },
        {
            "authors": [
                "Arne Kesting",
                "Martin Treiber",
                "Dirk Helbing"
            ],
            "title": "Enhanced intelligent driver model to access the impact of driving strategies on traffic capacity",
            "venue": "Philosophical Transactions of the Royal Society A: Mathematical,",
            "year": 1928
        },
        {
            "authors": [
                "Miroslav Krstic"
            ],
            "title": "Inverse optimal safety filters",
            "venue": "arXiv preprint,",
            "year": 2021
        },
        {
            "authors": [
                "Shengbo Eben Li",
                "Yang Zheng",
                "Keqiang Li",
                "Yujia Wu",
                "J Karl Hedrick",
                "Feng Gao",
                "Hongwei Zhang"
            ],
            "title": "Dynamical modeling and distributed control of connected and automated vehicles: Challenges and opportunities",
            "venue": "IEEE Intelligent Transportation Systems Magazine,",
            "year": 2017
        },
        {
            "authors": [
                "Xiaopeng Li"
            ],
            "title": "Trade-off between safety, mobility and stability in automated vehicle following control: An analytical method",
            "venue": "Transportation Research Part B: Methodological,",
            "year": 2022
        },
        {
            "authors": [
                "Xiaopeng Li",
                "Jianxun Cui",
                "Shi An",
                "Mohsen Parsafard"
            ],
            "title": "Stop-and-go traffic analysis: Theoretical properties, environmental impacts and oscillation mitigation",
            "venue": "Transportation Research Part B: Methodological,",
            "year": 2014
        },
        {
            "authors": [
                "Ye Li",
                "Hao Wang",
                "Wei Wang",
                "Lu Xing",
                "Shanwen Liu",
                "Xueyan Wei"
            ],
            "title": "Evaluation of the impacts of cooperative adaptive cruise control on reducing rear-end collision risks on freeways",
            "venue": "Accident Analysis & Prevention,",
            "year": 2017
        },
        {
            "authors": [
                "Simin Liu",
                "John Dolan",
                "Changliu Liu"
            ],
            "title": "Safe control under input saturation with neural control barrier functions",
            "venue": "In 6th Annual Conference on Robot Learning,",
            "year": 2022
        },
        {
            "authors": [
                "David Luenberger"
            ],
            "title": "An introduction to observers",
            "venue": "IEEE Transactions on Automatic Control,",
            "year": 1971
        },
        {
            "authors": [
                "Michail Makridis",
                "Konstantinos Mattas",
                "Biagio Ciuffo"
            ],
            "title": "Response time and time headway of an adaptive cruise control. an empirical characterization and potential impacts on road capacity",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2019
        },
        {
            "authors": [
                "Greg Marsden",
                "Mike McDonald",
                "Mark Brackstone"
            ],
            "title": "Towards an understanding of adaptive cruise control",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2001
        },
        {
            "authors": [
                "Carlos Massera Filho",
                "Marco H Terra",
                "Denis F Wolf"
            ],
            "title": "Safe optimization of highway traffic with robust model predictive control-based cooperative adaptive cruise control",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2017
        },
        {
            "authors": [
                "Vicente Milan\u00e9s",
                "Steven E Shladover",
                "John Spring",
                "Christopher Nowakowski",
                "Hiroshi Kawazoe",
                "Masahide Nakamura"
            ],
            "title": "Cooperative adaptive cruise control in real traffic situations",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2013
        },
        {
            "authors": [
                "Tamas G Molnar",
                "Ryan K Cosner",
                "Andrew W Singletary",
                "Wyatt Ubellacker",
                "Aaron D Ames"
            ],
            "title": "Model-free safety-critical control for robotic systems",
            "venue": "IEEE Robotics and Automation Letters,",
            "year": 2021
        },
        {
            "authors": [
                "Tam\u00e1s G Moln\u00e1r",
                "Michael Hopka",
                "Devesh Upadhyay",
                "Michiel Van Nieuwstadt",
                "G\u00e1bor Orosz"
            ],
            "title": "Virtual rings on highways: Traffic control by connected automated vehicles",
            "venue": "In AI-enabled Technologies for Autonomous and Connected Vehicles,",
            "year": 2023
        },
        {
            "authors": [
                "Tam\u00e1s G. Moln\u00e1r",
                "Devesh Upadhyay",
                "Michael Hopka",
                "Michiel Van Nieuwstadt",
                "G\u00e1bor Orosz"
            ],
            "title": "Open and closed loop traffic control by connected automated vehicles",
            "venue": "In IEEE Conference on Decision and Control,",
            "year": 2020
        },
        {
            "authors": [
                "Tam\u00e1s G Moln\u00e1r",
                "Devesh Upadhyay",
                "Michael Hopka",
                "Michiel Van Nieuwstadt",
                "G\u00e1bor Orosz"
            ],
            "title": "Delayed Lagrangian continuum models for on-board traffic prediction",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2021
        },
        {
            "authors": [
                "Marcello Montanino",
                "Vincenzo Punzo"
            ],
            "title": "Trajectory data reconstruction and simulation-based validation against macroscopic traffic patterns",
            "venue": "Transportation Research Part B: Methodological,",
            "year": 2015
        },
        {
            "authors": [
                "Mark Mario Morando",
                "Qingyun Tian",
                "Long T Truong",
                "Hai L Vu"
            ],
            "title": "Studying the safety impact of autonomous vehicles using simulation-based surrogate safety measures",
            "venue": "Journal of Advanced Transportation,",
            "year": 2018
        },
        {
            "authors": [
                "Quan Nguyen",
                "Koushil Sreenath"
            ],
            "title": "Exponential control barrier functions for enforcing high relative-degree safety-critical constraints",
            "venue": "In American Control Conference,",
            "year": 2016
        },
        {
            "authors": [
                "G\u00e1bor Orosz"
            ],
            "title": "Connected cruise control: modelling, delay effects, and nonlinear behaviour",
            "venue": "Vehicle System Dynamics,",
            "year": 2016
        },
        {
            "authors": [
                "Md Sharikur Rahman",
                "Mohamed Abdel-Aty"
            ],
            "title": "Longitudinal safety evaluation of connected vehicles\u2019 platooning on expressways",
            "venue": "Accident Analysis & Prevention,",
            "year": 2018
        },
        {
            "authors": [
                "Jackeline Rios-Torres",
                "Andreas A Malikopoulos"
            ],
            "title": "Impact of partial penetrations of connected and automated vehicles on fuel consumption and traffic flow",
            "venue": "IEEE Transactions on Intelligent Vehicles,",
            "year": 2018
        },
        {
            "authors": [
                "Jin Woo Ro",
                "Partha S Roop",
                "Avinash Malik"
            ],
            "title": "A new safety distance calculation for rear-end collision avoidance",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2020
        },
        {
            "authors": [
                "Mingfeng Shang",
                "Raphael E Stern"
            ],
            "title": "Impacts of commercially available adaptive cruise control vehicles on highway stability and throughput",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2021
        },
        {
            "authors": [
                "Xiaowei Shi",
                "Xiaopeng Li"
            ],
            "title": "Empirical study on car-following characteristics of commercial automated vehicles with different headway settings",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2021
        },
        {
            "authors": [
                "Andrew Singletary",
                "William Guffey",
                "Tamas G. Molnar",
                "Ryan Sinnet",
                "Aaron D. Ames"
            ],
            "title": "Safety-critical manipulation for collision-free food preparation",
            "venue": "IEEE Robotics and Automation Letters,",
            "year": 2022
        },
        {
            "authors": [
                "Raphael E Stern",
                "Shumo Cui",
                "Maria Laura Delle Monache",
                "Rahul Bhadani",
                "Matt Bunting",
                "Miles Churchill",
                "Nathaniel Hamilton",
                "Hannah Pohlmann",
                "Fangyu Wu",
                "Benedetto Piccoli"
            ],
            "title": "Dissipation of stop-and-go waves via control of autonomous vehicles: Field experiments",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2018
        },
        {
            "authors": [
                "Alireza Talebpour",
                "Hani S Mahmassani"
            ],
            "title": "Influence of connected and autonomous vehicles on traffic flow stability and throughput",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2016
        },
        {
            "authors": [
                "Martin Treiber",
                "Arne Kesting"
            ],
            "title": "Traffic Flow Dynamics: Data, Models and Simulation",
            "year": 2013
        },
        {
            "authors": [
                "Ardalan Vahidi",
                "Antonio Sciarretta"
            ],
            "title": "Energy saving potentials of connected and automated vehicles",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2018
        },
        {
            "authors": [
                "Katja Vogel"
            ],
            "title": "A comparison of headway and time to collision as safety indicators",
            "venue": "Accident Analysis & Prevention,",
            "year": 2003
        },
        {
            "authors": [
                "Jiawei Wang",
                "Yang Zheng",
                "Chaoyi Chen",
                "Qing Xu",
                "Keqiang Li"
            ],
            "title": "Leading cruise control in mixed traffic flow: System modeling, controllability, and string stability",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2022
        },
        {
            "authors": [
                "Jiawei Wang",
                "Yang Zheng",
                "Keqiang Li",
                "Qing Xu"
            ],
            "title": "DeeP-LCC: Data-enabled predictive leading cruise control in mixed traffic flow",
            "venue": "arXiv preprint,",
            "year": 2022
        },
        {
            "authors": [
                "Jiawei Wang",
                "Yang Zheng",
                "Qing Xu",
                "Keqiang Li"
            ],
            "title": "Data-driven predictive control for connected and autonomous vehicles in mixed traffic",
            "venue": "arXiv preprint,",
            "year": 2021
        },
        {
            "authors": [
                "Jiawei Wang",
                "Yang Zheng",
                "Qing Xu",
                "Jianqiang Wang",
                "Keqiang Li"
            ],
            "title": "Controllability analysis and optimal control of mixed traffic flow with human-driven and autonomous vehicles",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2020
        },
        {
            "authors": [
                "Yujie Wang",
                "Xiangru Xu"
            ],
            "title": "Observer-based control barrier functions for safety critical systems",
            "venue": "arXiv preprint,",
            "year": 2021
        },
        {
            "authors": [
                "Cathy Wu",
                "Abdul Rahman Kreidieh",
                "Kanaad Parvate",
                "Eugene Vinitsky",
                "Alexandre M Bayen"
            ],
            "title": "Flow: A modular learning framework for mixed autonomy traffic",
            "venue": "IEEE Transactions on Robotics,",
            "year": 2022
        },
        {
            "authors": [
                "Wei Xiao",
                "Calin Belta"
            ],
            "title": "High order control barrier functions",
            "venue": "IEEE Transactions on Automatic Control,",
            "year": 2022
        },
        {
            "authors": [
                "Wei Xiao",
                "Calin Belta",
                "Christos G Cassandras"
            ],
            "title": "Decentralized merging control in traffic networks: A control barrier function approach",
            "venue": "In ACM/IEEE International Conference on Cyber-Physical Systems,",
            "year": 2019
        },
        {
            "authors": [
                "Xiangru Xu"
            ],
            "title": "Constrained control of input\u2013output linearizable systems using control sharing barrier",
            "venue": "functions. Automatica,",
            "year": 2018
        },
        {
            "authors": [
                "Lanhang Ye",
                "Toshiyuki Yamamoto"
            ],
            "title": "Evaluating the impact of connected and autonomous vehicles on traffic safety",
            "venue": "Physica A: Statistical Mechanics and its Applications,",
            "year": 2019
        },
        {
            "authors": [
                "Huan Yu",
                "Shumon Koga",
                "Miroslav Krstic"
            ],
            "title": "Stabilization of traffic flow with a leading autonomous vehicle. In Dynamic Systems and Control Conference, volume 51906, page V002T22A006",
            "venue": "American Society of Mechanical Engineers,",
            "year": 2018
        },
        {
            "authors": [
                "Huan Yu",
                "Miroslav Krstic"
            ],
            "title": "Traffic congestion control for Aw\u2013Rascle\u2013Zhang",
            "venue": "model. Automatica,",
            "year": 2019
        },
        {
            "authors": [
                "Liguo Zhang",
                "Christophe Prieur",
                "Junfei Qiao"
            ],
            "title": "Pi boundary control of linear hyperbolic balance laws with stabilization of ARZ traffic flow models",
            "venue": "Systems & Control Letters,",
            "year": 2019
        },
        {
            "authors": [
                "Linjun Zhang",
                "G\u00e1bor Orosz"
            ],
            "title": "Motif-based design for connected vehicle systems in presence of heterogeneous connectivity structures and time delays",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2016
        },
        {
            "authors": [
                "Yihang Zhang",
                "Petros A Ioannou"
            ],
            "title": "Combined variable speed limit and lane change control for highway traffic",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2016
        },
        {
            "authors": [
                "Yang Zheng",
                "Shengbo Eben Li",
                "Keqiang Li",
                "Francesco Borrelli",
                "J Karl Hedrick"
            ],
            "title": "Distributed model predictive control for heterogeneous vehicle platoons under unidirectional topologies",
            "venue": "IEEE Transactions on Control Systems Technology,",
            "year": 2016
        },
        {
            "authors": [
                "Yang Zheng",
                "Shengbo Eben Li",
                "Jianqiang Wang",
                "Dongpu Cao",
                "Keqiang Li"
            ],
            "title": "Stability and scalability of homogeneous vehicular platoon: Study on the influence of information flow topologies",
            "venue": "IEEE Transactions on Intelligent Transportation Systems,",
            "year": 2015
        },
        {
            "authors": [
                "Yang Zheng",
                "Jiawei Wang",
                "Keqiang Li"
            ],
            "title": "Smoothing traffic flow via control of autonomous vehicles",
            "venue": "IEEE Internet of Things Journal,",
            "year": 2020
        },
        {
            "authors": [
                "Wen-Xing Zhu",
                "HM Zhang"
            ],
            "title": "Analysis of mixed traffic flow with human-driving and autonomous cars based on car-following model",
            "venue": "Physica A: Statistical Mechanics and its Applications,",
            "year": 2018
        },
        {
            "authors": [
                "Yang Zhu",
                "Feng Zhu"
            ],
            "title": "Barrier-function-based distributed adaptive control of nonlinear CAVs with parametric uncertainty and full-state constraint",
            "venue": "Transportation Research Part C: Emerging Technologies,",
            "year": 2019
        }
    ],
    "sections": [
        {
            "text": "Index Terms\nConnected Automated Vehicle, Mixed Traffic, Traffic Control, Safety-Critical Control, Control Barrier Function, State Observer"
        },
        {
            "heading": "1 INTRODUCTION",
            "text": "The efficiency of transportation is largely affected by the smoothness of the traffic flow. As such, highway traffic often suffers from traffic oscillations, in which the vehicles driving on the road undergo repeated deceleration-acceleration motions. These oscillations may even amplify along the road, indicating the so-called string instability of traffic, that ultimately leads to stop-and-go traffic congestion. Congestion, on one hand, negatively impacts travel time and fuel consumption. On the other hand, they also pose additional risk of conflict or collision between leader and follower vehicles, thereby adversely affecting traffic safety. Therefore, significant research efforts have been invested into mitigating the traffic oscillations by stabilizing traffic, and the area of traffic control has emerged as a solution.\nThis work focuses on providing a safety-critical solution to traffic control through regulating the motions of connected automated vehicles (CAVs) traveling in the traffic flow. Our goal is to control the CAVs such that they facilitate string stability for the traffic behind while also guaranteeing that a safe distance is always kept between the neighboring vehicles. To highlight the need for and the benefits of the proposed approach, we first give a brief overview on the relevant literature on stabilizing traffic controllers and traffic safety."
        },
        {
            "heading": "1.1 Traffic Control by Connected Automated Vehicles",
            "text": "Research work on traffic control relied on conventional road-based traffic control systems, such as ramp-metering or varying speed limits, that regulate traffic on spatially-fixed road segments in a centralized manner [22], [68], [69], [71]. Then, the rapid development of CAV technology has drawn extensive attention to vehicle-based traffic control of transportation systems through information sharing and coordination between CAVs [14], [15], [41], [52], [53], [72], [73]. Vehicle-based traffic controllers rely on regulating the driving behavior of CAVs, through which the smoothness and throughput of traffic is positively impacted. These distributed, vehicle-based traffic control techniques are the main focus of our work.\nThere exist several linear and nonlinear feedback control strategies for regulating the motions of CAVs, that rely on various topologies in vehicle-to-vehicle (V2V) communication, different levels of automation on CAVs, and various formation geometries of multiple CAVs [28]. Early studies focused on adaptive cruise control (ACC) [35] that automatically adjusts the\n* corresponding author Email: huanyu@ust.hk\nar X\niv :2\n30 1.\n04 83\n3v 1\n[ ee\nss .S\nY ]\n1 2\nJa n\n20 23\n2 speed of automated vehicles to maintain a safe distance from the preceding vehicle. Extended from ACC, cooperative adaptive cruise control (CACC) [4], [37] was developed to control platoons of CAVs by leveraging V2V connectivity. CACC frameworks include, for example, linear feedback controllers that mitigate disturbances in the platoon [37] and model predictive controllers that also guarantee safe distances between adjacent vehicles [36]. Furthermore, control strategies were also proposed for a single CAV instead of an entire platoon, such as the framework of connected cruise control (CCC) [45].\nDespite the promising future envisioned for fully connected and automated traffic systems, a long transition period is inevitable in which CAVs and human-driven vehicles (HDVs) coexist. Many recent research works, therefore, have addressed mixed-autonomy traffic where only a portion of the vehicles are CAVs [16], [25], [52], [57], [60], [62], [74], [75]. In particular, some of these works have been focusing on how CAVs can influence the overall traffic. In [16] a single automated vehicle was used to stabilize the traffic flow. The ability of CAVs to dampen stop-and-go waves in mixed traffic was also demonstrated by experiments in [18], [52] and by theoretical analysis in [10], [23], [30], [67]. The controllability and reachability of mixedautonomy traffic were studied by [74], which proved that a single CAV can stabilize traffic in the ring-road setting.\nIn this work, we rely on a specific traffic control strategy by CAVs, that was proposed as adaptive traffic control (ATC) in [39], [40] and as leading cruise control (LCC) in [57], [59]. Both of these approaches control the CAV such that it simultaneously adapts its motion to follow the preceding HDVs and to lead the following HDVs\u2014ultimately allowing the mitigation of traffic oscillations. While these approaches provide the desired string stable behavior, they lack formal guarantees about maintaining safe distances between the vehicles, which our present work seeks to address."
        },
        {
            "heading": "1.2 Safety of Mixed-autonomy Traffic",
            "text": "Safety is of paramount importance for traffic systems. Although many studies address the potential improvement of efficiency [26], [37], [49], [53], energy-saving [47], [55] and stability [16], [60], [74] of the mixed traffic by adopting CAVs, only a few existing works have attempted to evaluate the impact of CAVs on traffic safety. These works include studies about safety under different CAV penetration rates [31], [46], [66] and in signalized intersections [9], [43].\nThe traffic safety is usually guaranteed by reducing the risk of rear-end collisions. Therefore, a number of safety indicators, also known as surrogate safety measures, have appeared to evaluate the rear-end collision risk by establishing the relationship between the longitudinal safety and car-following state [31], [46], [56]. Some of these safety measures are time-based indicators, such as time headway (TH) and time to collision (TTC), which are constructed based on the time that elapses before a collision could occur [56]. Others measures are distance-based indicators, such as distance headway (DH) and minimum stopping distance headway (SDH), which evaluate safety based on the spacing gap between the vehicles [48], [54]. These metrics are essential to construct safety-critical longitudinal controllers for CAVs.\nSafety-critical control is usually approached by constraint-handling control methods such as classical optimal control, model predictive control, barrier Lyapunov function (BLF) [76] and control barrier function (CBF) [6], [7], [27], [63]. In this work, we rely on the framework of CBFs to maintain safety, due to its ability to take advantage of existing nominal controllers such as those that stabilize traffic. Importantly, CBFs have been applied on a wide range of safety-critical systems, including adaptive cruise control [8] and its experimental implementation on heavy-duty trucks [5], automated vehicle experiments in multi-lane traffic [19], obstacle avoidance with automated vehicles [13], multi-agent systems representing automated vehicles [24], traffic merging [64], and roundabout crossing [1].\nAlthough the stabilization of traffic by CAVs and the safety-critical control of CAVs have been studied separately in the literature, the integration of these two have not yet been accomplished, to the best of our knowledge. Some works have conducted analysis in this area, such as [29] that quantified the trade-off between stability and safety, and [20], [34], [50] that pointed out that CAVs usually leave comparable or even longer headway than HDVs for safety concerns. Yet, a control framework that directly addresses the objective of traffic stabilization while maintaining provable safety guarantees has not yet been established. Our present work intends to fill this gap, via proposing safety-critical traffic control by CAVs."
        },
        {
            "heading": "1.3 Contributions",
            "text": "In this paper, we propose a safety-critical traffic control (STC) strategy for mixed-autonomy traffic systems, in which a single CAV leads several HDVs such that it both guarantees safety and achieves string stability.\nThe proposed STC framework is illustrated in Fig. 1 for single-lane mixed traffic including a head HDV, a CAV and several following HDVs. The CAV, who detects the head HDV by range sensors or connectivity and is connected to the following HDVs, has access to the velocities \ud835\udc63\ud835\udc56 of the vehicles and the spacings \ud835\udc60\ud835\udc56 between them\u2014or at least some of these data. This information is used in a three-layer hierarchical control structure. In the top layer, a traffic operator can be used to command the desired steady states (spacing and velocity) for the mixed traffic. In the middle layer, a nominal stabilizing controller regulates the motion of the CAV in order to drive the traffic towards the desired steady states and fulfill the operator\u2019s command. In the bottom layer, a safety filter modifies the nominal stabilizing control input using control barrier functions (CBFs) to guarantee safety, and then outputs the final safety-critical controller for the CAV. This framework not only enables flexibility to choose different designs at each layer, but also provides privacy by keeping the details of each design to its own layer only.\nThe STC framework is established through the following contributions.\n3 FHDV FHDV FHDV HHDVCAV\nThe rest of this paper is organized as follows. Section 2 presents the modeling of mixed-autonomy traffic, and revisits a nominal control approach for CAVs to stabilize traffic. Section 3 introduces the framework of STC, to modify the nominal controller and endow it with formal safety-guarantees. To this end, safe spacing policies are described, the theory of control barrier functions is revisited, and state observers are utilized in case of output feedback. Section 4 provides extensive numerical simulations (that involve vehicle trajectories from real data) to demonstrate the efficacy of STC. Section 5 concludes the paper."
        },
        {
            "heading": "2 SMOOTHING MIXED-AUTONOMY TRAFFIC BY CONNECTED AUTOMATED VEHICLES",
            "text": "We first model the longitudinal dynamics of mixed-autonomy traffic. We consider a single-lane scenario that involves a head vehicle, followed by a single connected automated vehicle (CAV) and \ud835\udc41 subsequent human-driven vehicles (HDVs) that are connected to the CAV; see Fig. 1. We revisit the notion of string stability and design a nominal controller for the CAV that can stabilize the traffic behind it. This controller will be endowed with provable safety guarantees in the next section."
        },
        {
            "heading": "2.1 Modeling of Mixed-autonomy Traffic",
            "text": "The mixed-autonomy traffic model constitutes two parts: a car-following model for HDVs and a model for the longitudinal control of the CAV. The car-following dynamics of the HDVs (indexed \ud835\udc56 \u2208 {1, . . . , \ud835\udc41}) are described as\n\u00a4\ud835\udc60\ud835\udc56 = \ud835\udc63\ud835\udc56\u22121 \u2212 \ud835\udc63\ud835\udc56 , \u00a4\ud835\udc63\ud835\udc56 = \ud835\udc39\ud835\udc56 (\ud835\udc60\ud835\udc56 , \u00a4\ud835\udc60\ud835\udc56 , \ud835\udc63\ud835\udc56) ,\n(1)\n4 where \ud835\udc60\ud835\udc56 represents the spacing (distance headway) between HDV \ud835\udc56 and its predecessor vehicle \ud835\udc56 \u2212 1. Function \ud835\udc39\ud835\udc56 describes how HDV \ud835\udc56 controls its acceleration for car-following as a function of its own velocity \ud835\udc63\ud835\udc56 , the spacing \ud835\udc60\ud835\udc56 and the derivative \u00a4\ud835\udc60\ud835\udc56 of the spacing (i.e., the relative speed). For the CAV (with index \ud835\udc56 = 0), the longitudinal dynamics are governed by\n\u00a4\ud835\udc600 = \ud835\udc63\u22121 \u2212 \ud835\udc630, \u00a4\ud835\udc630 = \ud835\udc62,\n(2)\nwhere the acceleration of the CAV is the control input \ud835\udc62 to be designed, and \ud835\udc63\u22121 is the velocity of the head vehicle (\ud835\udc56 = \u22121). The state of the mixed-autonomy traffic model (1)-(2) is \ud835\udc5b = 2\ud835\udc41 + 2 dimensional, and it consists of the spacing and speed of the CAV and the following HDVs, given by \ud835\udc65 \u2208 R\ud835\udc5b,\n\ud835\udc65 = [ \ud835\udc600 \ud835\udc630 . . . \ud835\udc60\ud835\udc41 \ud835\udc63\ud835\udc41 ]> . (3)\nThis leads to a general nonlinear mixed traffic model\n\u00a4\ud835\udc65 = \ud835\udc53 (\ud835\udc65, \ud835\udc5f) + \ud835\udc54(\ud835\udc65)\ud835\udc62, (4)\n\ud835\udc53 (\ud835\udc65, \ud835\udc5f) =  \ud835\udc530 (\ud835\udc65, \ud835\udc5f) \ud835\udc531 (\ud835\udc65) ... \ud835\udc53\ud835\udc41 (\ud835\udc65)  , \ud835\udc54(\ud835\udc65) =  \ud835\udc540 02\u00d71 ... 02\u00d71  , \ud835\udc530 (\ud835\udc65, \ud835\udc5f) = [ \ud835\udc63\u22121 \u2212 \ud835\udc630 0 ] , \ud835\udc53\ud835\udc56 (\ud835\udc65) = [ \ud835\udc63\ud835\udc56\u22121 \u2212 \ud835\udc63\ud835\udc56 \ud835\udc39\ud835\udc56 (\ud835\udc60\ud835\udc56 , \ud835\udc63\ud835\udc56\u22121 \u2212 \ud835\udc63\ud835\udc56 , \ud835\udc63\ud835\udc56) ] , \ud835\udc540 = [ 0 1 ] , (5)\nwhere \ud835\udc5f = \ud835\udc63\u22121 is a time-varying reference signal, 02\u00d71 is the two dimensional zero vector, and \ud835\udc53 : R\ud835\udc5b \u00d7 R\u2192 R\ud835\udc5b, \ud835\udc54 : R\ud835\udc5b \u2192 R\ud835\udc5b. Note that, alternatively, one could also formulate this model using the longitudinal positions \ud835\udc5d\ud835\udc56 of the vehicles\u2019 rear bumper, that are related to the spacings \ud835\udc60\ud835\udc56 through the vehicle lengths \ud835\udc59\ud835\udc56 as \ud835\udc60\ud835\udc56 = \ud835\udc5d\ud835\udc56\u22121 \u2212 \ud835\udc5d\ud835\udc56 \u2212 \ud835\udc59\ud835\udc56 .\nFor simplicity, we design a nominal controller for the CAV based on linearization of the dynamics. Thus, we first consider the steady state of the system, given by the equilibrium speed \ud835\udc63\u2605 as \ud835\udc63\ud835\udc56 (\ud835\udc61) \u2261 \ud835\udc63\u2605 and the equilibrium spacing \ud835\udc60\u2605\ud835\udc56 as \ud835\udc60\ud835\udc56 (\ud835\udc61) \u2261 \ud835\udc60\u2605\ud835\udc56 , \ud835\udc56 \u2208 {0, . . . , \ud835\udc41}. Note that the equilibrium spacing \ud835\udc60\u2605\n\ud835\udc56 of the HDVs (\ud835\udc56 \u2208 {1, . . . , \ud835\udc41}) satisfy \ud835\udc39\ud835\udc56 ( \ud835\udc60\u2605\ud835\udc56 , 0, \ud835\udc63 \u2605 ) = 0, (6)\nand these may be different from the equilibrium spacing \ud835\udc60\u26050 of the CAV that is determined by its controller. Potentially, these equilibrium states can also be assigned by a traffic operator, as described in Fig. 1. Using the perturbations \ud835\udc60\ud835\udc56 = \ud835\udc60\ud835\udc56 \u2212 \ud835\udc60\u2605\ud835\udc56 and ?\u0303?\ud835\udc56 = \ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\u2605, the linearized dynamics can be obtained from (1)-(2) as\n\u00a4\u0303\ud835\udc60\ud835\udc56 = ?\u0303?\ud835\udc56\u22121 \u2212 ?\u0303?\ud835\udc56 , \u00a4\u0303\ud835\udc63\ud835\udc56 = \ud835\udc4e\ud835\udc561\ud835\udc60\ud835\udc56 \u2212 \ud835\udc4e\ud835\udc562?\u0303?\ud835\udc56 + \ud835\udc4e\ud835\udc563?\u0303?\ud835\udc56\u22121,\n(7)\nwhere \ud835\udc4e\ud835\udc561 = \ud835\udf15\ud835\udc39\ud835\udc56 \ud835\udf15\ud835\udc60\ud835\udc56 , \ud835\udc4e\ud835\udc562 = \ud835\udf15\ud835\udc39\ud835\udc56 \ud835\udf15 \u00a4\ud835\udc60\ud835\udc56 \u2212 \ud835\udf15\ud835\udc39\ud835\udc56 \ud835\udf15\ud835\udc63\ud835\udc56 , \ud835\udc4e\ud835\udc563 = \ud835\udf15\ud835\udc39\ud835\udf15 \u00a4\ud835\udc60\ud835\udc56 are evaluated at the steady states, and\n\u00a4\u0303\ud835\udc600 = ?\u0303?\u22121 \u2212 ?\u0303?0, \u00a4\u0303\ud835\udc630 = \ud835\udc62.\n(8)\nThe state of the linearized mixed-autonomy traffic model (7)-(8) is \ud835\udc65 = [ \ud835\udc600 ?\u0303?0 . . . \ud835\udc60\ud835\udc41 ?\u0303?\ud835\udc41 ]> , (9)\nhence (7)-(8) can be written in the compact form\n\u00a4\ud835\udc65 = \ud835\udc34\ud835\udc65 + \ud835\udc35\ud835\udc62 + \ud835\udc37\ud835\udc5f, (10)\n\ud835\udc34 =  \ud835\udc430 \ud835\udc441 \ud835\udc431 . . . . . . \ud835\udc44\ud835\udc41 \ud835\udc43\ud835\udc41  , \ud835\udc35 =  \ud835\udc4f0 02\u00d71 ... 02\u00d71  , \ud835\udc37 =  \ud835\udc510 02\u00d71 ... 02\u00d71  , \ud835\udc430 = [ 0 \u22121 0 0 ] , \ud835\udc43\ud835\udc56 = [ 0 \u22121 \ud835\udc4e\ud835\udc561 \u2212\ud835\udc4e\ud835\udc562 ] , \ud835\udc44\ud835\udc56 = [ 0 1 0 \ud835\udc4e\ud835\udc563 ] , \ud835\udc4f0 = [ 0 1 ] , \ud835\udc510 = [ 1 0 ] ,\n(11) where \ud835\udc5f = ?\u0303?\u22121 and \ud835\udc34 \u2208 R\ud835\udc5b\u00d7\ud835\udc5b, \ud835\udc35, \ud835\udc37 \u2208 R\ud835\udc5b.\n5"
        },
        {
            "heading": "2.2 Nominal Controller Design and Head-to-tail String Stability",
            "text": "Now we design a nominal control input \ud835\udc620 that allows the CAV to follow the head vehicle while leading \ud835\udc41 HDVs such that the resulting traffic flow is smooth\u2014specficially, string stable. In the next section, we modify \ud835\udc620 to an input \ud835\udc62 that also has formal safety guarantees for collision avoidance (without restriction on the choice of the nominal controller \ud835\udc620).\nConnectivity allows the CAV to obtain the speeds \ud835\udc63\ud835\udc56 and positions \ud835\udc5d\ud835\udc56 of the HDVs based on GPS and basic safety messages. This information characterizes the state of the human-driven traffic behind the CAV, hence the CAV may use these data to control and stabilize the traffic flow, ultimately mitigating traffic congestions. This led to the idea of adaptive traffic control (ATC) in [39], [40], where the CAV responds to the state \ud835\udc63\ud835\udc56 , \ud835\udc5d\ud835\udc56 of the HDVs (obtained from connectivity) while considering the state \ud835\udc63\u22121, \ud835\udc5d\u22121 of the head vehicle (provided by range sensors or connectivity), using a control law of the form\n\ud835\udc620 = ?\u0304?0 (\ud835\udc5d\u22121, \ud835\udc63\u22121, \ud835\udc5d0, \ud835\udc630, \ud835\udc5d1, \ud835\udc631, . . . , \ud835\udc5d\ud835\udc41 , \ud835\udc63\ud835\udc41 ). (12)\nNote that if the CAV is not connected to an HDV and does not have access to its state, the corresponding state \ud835\udc5d\ud835\udc56 , \ud835\udc63\ud835\udc56 is omitted from the response. Examples for ATC (12) and their analysis in the presence of response delays can be found in [39].\nIn special cases, the positions \ud835\udc5d\ud835\udc56 can be converted into the spacings \ud835\udc60\ud835\udc56 , resulting in a controller:\n\ud835\udc620 = \ud835\udc390 (\ud835\udc63\u22121, \ud835\udc600, \ud835\udc630, \ud835\udc601, \ud835\udc631, . . . , \ud835\udc60\ud835\udc41 , \ud835\udc63\ud835\udc41 ). (13)\nThis conversion requires that the CAV is connected to all following HDVs and all longitudinal positions \ud835\udc5d\ud835\udc56 and vehicle lengths are known to the CAV. Alternatively, if only some of the HDVs are connected, they can potentially communicate their spacing (i.e., realize cooperative perception). Furthermore, if the CAV even has access to the perturbations \ud835\udc60\ud835\udc56 , ?\u0303?\ud835\udc56 (not just \ud835\udc60\ud835\udc56 , \ud835\udc63\ud835\udc56), then a linear controller can be formulated as\n\ud835\udc620 = \ud835\udc4e1\ud835\udc600 \u2212 \ud835\udc4e2?\u0303?0 + \ud835\udc4e3?\u0303?\u22121 + \ud835\udc41\u2211\ufe01 \ud835\udc56=1 (\ud835\udf07\ud835\udc56\ud835\udc60\ud835\udc56 + \ud835\udc58\ud835\udc56 ?\u0303?\ud835\udc56) , (14)\nwhere \ud835\udf07\ud835\udc56 , \ud835\udc58\ud835\udc56 are the feedback gains corresponding to the state of vehicle \ud835\udc56. These gains can be designed based on the linear model (10). Controller (14) is called leading cruise control (LCC), and it was proposed in [57].\nThe above traffic control strategies can be compactly written as\n\ud835\udc620 = \ud835\udc580 (\ud835\udc65, \ud835\udc5f), (15)\nwhere the state \ud835\udc65 and reference signal \ud835\udc5f can be associated either with the nonlinear model (4) or with the linear model (10). For simplicity, the examples of this paper are presented for the linear model (10) and the linear LCC strategy (14) as nominal controller, under the assumption that the parameters of the HDVs are identical: \ud835\udc4e\ud835\udc561 = \ud835\udc4e1, \ud835\udc4e\ud835\udc562 = \ud835\udc4e2, \ud835\udc4e\ud835\udc563 = \ud835\udc4e3, \u2200\ud835\udc56 \u2208 {1, . . . , \ud835\udc41}. The general framework of STC, however, could accomodate any other nominal stabilizing controller of the form (15).\nIn order to design the gains \ud835\udf07\ud835\udc56 , \ud835\udc58\ud835\udc56 of the nominal controller (14), first we notice that the pair (\ud835\udc34, \ud835\udc35) is controllable for \ud835\udc4e1 \u2212 \ud835\udc4e2\ud835\udc4e3 + \ud835\udc4e23 \u2260 0, which was proven in [57]. Under this condition, we can design the control gains such that speed perturbations decay along the chain of vehicles and traffic congestions are mitigated, i.e., the closed-loop system is string stable. While there exist various definitions of string stability [17], suited both for nonlinear and linear dynamics, we focus on one particular notion, head-to-tail string stablity [70], that is convenient for the analysis of linear systems.\nHead-to-tail string stability is frequently used to evaluate the CAV\u2019s ability to attenuate velocity fluctuations, thereby mitigating congestions, smoothing and stabilizing traffic. Given the Laplace transforms \ud835\udc49\u22121 (\ud835\udc60), ?\u0303?\ud835\udc41 (\ud835\udc60) of the velocity perturbations ?\u0303?\u22121 (\ud835\udc61), ?\u0303?\ud835\udc41 (\ud835\udc61) of the head and tail vehicles, the head-to-tail transfer function [70] is defined as\n\ud835\udc3a (\ud835\udc60) = \ud835\udc49\ud835\udc41 (\ud835\udc60) \ud835\udc49\u22121 (\ud835\udc60) . (16)\nThis function characterizes how much speed perturbations amplify along the mixed chain of \ud835\udc41 + 2 vehicles. Head-to-tail string stability holds if and only if [70]\n|\ud835\udc3a (j\ud835\udf14) |2 < 1, \u2200\ud835\udf14 > 0, (17)\nwhere j2 = \u22121 and |.| denotes the modulus. This condition means that the speed fluctuations of the tail vehicle are smaller in steady state than those of the head vehicle for any angular frequency \ud835\udf14.\nFor the linearized system (10) with controller (14), [57] derived the head-to-tail transfer function in the form\n\ud835\udc3a (\ud835\udc60) = \ud835\udf19(\ud835\udc60) \ud835\udf13(\ud835\udc60) \u2212\u2211\ud835\udc41\ud835\udc56=1 (\ud835\udf07\ud835\udc56 ( \ud835\udf19 (\ud835\udc60)\ud835\udf13 (\ud835\udc60) \u2212 1) + \ud835\udc58\ud835\udc56\ud835\udc60) ( \ud835\udf13 (\ud835\udc60)\ud835\udf19 (\ud835\udc60) ) \ud835\udc56 ( \ud835\udf19(\ud835\udc60) \ud835\udf13(\ud835\udc60) )\ud835\udc41 , (18)\nwith \ud835\udf19(\ud835\udc60) = \ud835\udc4e3\ud835\udc60 + \ud835\udc4e1, \ud835\udf13(\ud835\udc60) = \ud835\udc602 + \ud835\udc4e2\ud835\udc60 + \ud835\udc4e1. (19)\nThis expression enables one to design \ud835\udf07\ud835\udc56 and \ud835\udc58\ud835\udc56 such that (17) holds and head-to-tail string stability is attained; see [57].\n6"
        },
        {
            "heading": "2.3 Observer Design",
            "text": "Notice that controllers of the form (15) rely on the full state \ud835\udc65 of the system. As stated in [58], however, it may be difficult to measure all state variables in \ud835\udc65. Instead, an output \ud835\udc66 \u2208 R\ud835\udc5b\ud835\udc66 may be available, given by a function \ud835\udc50 : R\ud835\udc5b \u2192 R\ud835\udc5b\ud835\udc66 of the state: \ud835\udc66 = \ud835\udc50(\ud835\udc65). (20)\nFor example, due to the heterogeneous behaviors of HDVs, their equilibrium spacing \ud835\udc60\u2605 \ud835\udc56 may not be captured accurately by the car-following model (1), which makes it infeasible to measure the spacing errors \ud835\udc60\ud835\udc56 . On the other hand, the equilibrium spacing of the CAV is designed, thus both its spacing error and velocity error could potentially be measured. In this setting, the output of the system can be written as:\n\ud835\udc66 = [ \ud835\udc600 ?\u0303?0 ?\u0303?1 ?\u0303?2 . . . ?\u0303?\ud835\udc41 ]> , (21)\nthat is associated with the linear model (10) by \ud835\udc66 = \ud835\udc36\ud835\udc65, (22)\n\ud835\udc36 =  \ud835\udc500 \ud835\udc501 . . . \ud835\udc50\ud835\udc41  , \ud835\udc500 = [ 1 0 0 1 ] , \ud835\udc50\ud835\udc56 = [ 0 1 ] . (23)\nNote that other outputs could also be considered with a different matrix \ud835\udc36 or function \ud835\udc50. This includes the case of partial connectivity where the states of non-connected HDVs are unknown, which we plan to investigate in the future.\nIn order to overcome that only the output \ud835\udc66 is available instead of the full state \ud835\udc65, we use state observers to establish an estimate \ud835\udc65 of the state using the output. State observers are usually constructed as dynamical systems that describe the evolution of the estimated state \ud835\udc65 with corresponding estimated output ?\u0302? = \ud835\udc50(\ud835\udc65). For example, control-affine observers are of the form\n\u00a4\u0302\ud835\udc65 = \ud835\udc53 (\ud835\udc65, \ud835\udc5f, \ud835\udc66) + ?\u0303?(\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 (24) where the dynamics \ud835\udc53 , ?\u0303? are designed so that \ud835\udc65 converges to the true state \ud835\udc65. That is, the observer estimation error\n\ud835\udc52 = \ud835\udc65 \u2212 \ud835\udc65 (25) needs to converge to zero with time.\nFor simplicity, we focus on observing the internal states of the linear model (10) using the linear output (22). First, we notice that the pair (\ud835\udc34,\ud835\udc36) is observable for \ud835\udc4e1 \u2212 \ud835\udc4e2\ud835\udc4e3 + \ud835\udc4e23 \u2260 0, which was proven in [57]. Under this condition, we design a Luenberger observer [12], [33]: \u00a4\u0302\ud835\udc65 = \ud835\udc34\ud835\udc65 + \ud835\udc35\ud835\udc62 + \ud835\udc3f (\ud835\udc66 \u2212 ?\u0302?) + \ud835\udc37\ud835\udc5f, (26) where ?\u0302? = \ud835\udc36\ud835\udc65, \ud835\udc53 (\ud835\udc65, \ud835\udc5f, \ud835\udc66) = \ud835\udc34\ud835\udc65 + \ud835\udc37\ud835\udc5f + \ud835\udc3f (\ud835\udc66 \u2212 ?\u0302?), ?\u0303?(\ud835\udc65, \ud835\udc5f, \ud835\udc66) = \ud835\udc35, while \ud835\udc3f \u2208 R\ud835\udc5b\u00d7\ud835\udc5b\ud835\udc66 is the constant observer gain to be designed. Thus, we express the time derivative of (25) as \u00a4\ud835\udc52 = (\ud835\udc34 \u2212 \ud835\udc3f\ud835\udc36)\ud835\udc52, (27) where \ud835\udc3f is chosen using pole placement so that matrix \ud835\udc34\u2212\ud835\udc3f\ud835\udc36 is Hurwitz and the error dynamics (27) are exponentially stable.\nThen, the observer error of is bounded as follows:\n\u2016\ud835\udc52(\ud835\udc61)\u2016 \u2264 \ud835\udc40 (\ud835\udc61), \u2200\ud835\udc61 \u2265 0, (28) where \u2016.\u2016 is Eucledian norm, while \ud835\udc40 (\ud835\udc61) \u2265 0 is a known time-varying function whose values are non-negative and that depends on \ud835\udc650, \ud835\udc650. Specifically, for the Luenberger observer (26) we have the bound\n\u2016\ud835\udc52(\ud835\udc61)\u2016 \u2264 \ud835\udc400e\u2212\ud835\udf06\ud835\udc61 , \u2200\ud835\udc61 \u2265 0, (29) where \ud835\udc400 \u2265 0 depends on \ud835\udc520 = \ud835\udc650 \u2212 \ud835\udc650, whereas \ud835\udf06 > 0 is associated with the real part of the rightmost eigenvalue of \ud835\udc34 \u2212 \ud835\udc3f\ud835\udc36. Note that one could also design observers of the form (24) for the nonlinear system (4) with the general output (20), such that they satisfy (28) with some \ud835\udc40 (\ud835\udc61); see for example [61]. However, nonlinear observer design is out of scope of this paper, and instead we focus on safety-critical control."
        },
        {
            "heading": "3 SAFETY-CRITICAL TRAFFIC CONTROL BY CONNECTED AUTOMATED VEHICLES",
            "text": "While a well-designed controller of form (15) may achieve string stable behavior for the mixed vehicle chain, it may not guarantee that vehicles maintain safe distances between each other. Na\u00efve stabilization of the mixed traffic could lead to unsafe driving conditions for individual vehicles. Therefore, now we propose the strategy of safety-critical traffic control (STC), in which we synthesize a safety-critical controller for the CAV using control barrier functions and a nominal input that stabilizes traffic. Firts, two main safety requirements are identified, and various safe spacing policies are discussed. Then, control barrier functions are used to endow the controlled traffic system with safety for a wide range of nominal controllers. Finally, the case of output feedback is addressed. The end result is string stability with formal safety guarantees.\n7"
        },
        {
            "heading": "3.1 Safety Requirements and Safe Spacing Policies",
            "text": "We address two main requirements that are needed to avoid safety-critical failures for the STC system. The first requirement is the CAV\u2019s safety. This means that the CAV (\ud835\udc56 = 0) maintains a safe distance to the head vehicle (\ud835\udc56 = \u22121), i.e., specific constraints on the spacing \ud835\udc600 (\ud835\udc61) must be satisfied for all time, regardless of the HDVs\u2019 driving behavior. This guarantees the avoidance of collision between the CAV and the head vehicle, including situations, for example, when the head vehicle brakes abruptly due to an unexpected cut-in vehicle or crossing pedestrians. The second requirement is the HDVs\u2019 safety. This means that all of the \ud835\udc41 HDVs (\ud835\udc56 \u2208 {1, . . . , \ud835\udc41}) behind the CAV maintain safe distances, i.e., \ud835\udc60\ud835\udc56 (\ud835\udc61) satisfy safety constraints, provided that the HDVs drive according to a selected car-following model. This helps avoid collision for the HDVs due to human mistakes caused by driving fatigue or distractions.\nTo satisfy these requirements, we provide a set of safe spacing policies that constrain the spacings \ud835\udc60\ud835\udc56 ahead of the CAV and HDVs. The time headway (TH) policy guarantees a minimum constant time headway \ud835\udf0f > 0 based on the spacing and speed:\n\ud835\udc60\ud835\udc56 \u2265 \ud835\udf0f\ud835\udc63\ud835\udc56 . (30)\nSimilarly, the time-to-collision (TTC) policy maintains a minimum time-to-collision \ud835\udf0f > 0 based on the relative speed:\n\ud835\udc60\ud835\udc56 \u2265 \ud835\udf0f(\ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\ud835\udc56\u22121). (31)\nThe stopping distance headway (SDH) policy guarantees a minimum stopping distance while incorporating the follower vehicle\u2019s braking limit \ud835\udc4e\ud835\udc56,min in addition to the time-to-collision [54]:\n\ud835\udc60\ud835\udc56 \u2265 \ud835\udf0f(\ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\ud835\udc56\u22121) + (\ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\ud835\udc56\u22121)2\n2|\ud835\udc4e\ud835\udc56,min | . (32)\nFinally, the distance headway (DH) policy guarantees a minimum constant spacing \ud835\udc60\ud835\udc56,min between vehicles: \ud835\udc60\ud835\udc56 \u2265 \ud835\udc60\ud835\udc56,min. However, this choice disregards the speed of the vehicles, hence we rather focus on the first three spacing policies. Similarly, for the linearized system (10), we can write the safe spacing policies as\n\ud835\udc60\ud835\udc56 \u2265 \ud835\udf0f(?\u0303?\ud835\udc56 + \ud835\udc63\u2605) \u2212 \ud835\udc60\u2605\ud835\udc56 , (33) \ud835\udc60\ud835\udc56 \u2265 \ud835\udf0f(?\u0303?\ud835\udc56 \u2212 ?\u0303?\ud835\udc56\u22121) \u2212 \ud835\udc60\u2605\ud835\udc56 , (34) \ud835\udc60\ud835\udc56 \u2265 \ud835\udf0f(?\u0303?\ud835\udc56 \u2212 ?\u0303?\ud835\udc56\u22121) + (?\u0303?\ud835\udc56 \u2212 ?\u0303?\ud835\udc56\u22121)2\n2|\ud835\udc4e\ud835\udc56,min | \u2212 \ud835\udc60\u2605\ud835\udc56 . (35)\nNext, we will introduce control barrier functions to guarantee the satisfaction of these safe spacing policies in the closed-loop system. Furthermore, we will compare the effectiveness of these policies in safety enforcement in mixed traffic control.\nThe above safe spacing criteria can be stated equivalently as \ud835\udc65 \u2208 C\ud835\udc56 , i.e., the state \ud835\udc65 remains inside a safe set C\ud835\udc56 , given by\nC\ud835\udc56 = {\ud835\udc65 \u2208 R\ud835\udc5b : \u210e\ud835\udc56 (\ud835\udc65) \u2265 0} , (36)\nwhere the different candidates for function \u210e\ud835\udc56 (\ud835\udc65) are defined by\n\u210eTH\ud835\udc56 (\ud835\udc65) = \ud835\udc60\ud835\udc56 \u2212 \ud835\udf0f\ud835\udc63\ud835\udc56 , (37) \u210eTTC\ud835\udc56 (\ud835\udc65) = \ud835\udc60\ud835\udc56 \u2212 \ud835\udf0f(\ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\ud835\udc56\u22121), (38) \u210eSDH\ud835\udc56 (\ud835\udc65) = \ud835\udc60\ud835\udc56 \u2212 \ud835\udf0f(\ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\ud835\udc56\u22121) \u2212 (\ud835\udc63\ud835\udc56 \u2212 \ud835\udc63\ud835\udc56\u22121)2\n2|\ud835\udc4e\ud835\udc56,min | , (39)\nand by the corresponding expressions with tilde. In order to maintain safety, we seek to achieve that if the traffic system is safe initially, then the CAV\u2019s controller prevents\nsafety violations for all time. That is, for any initial condition \ud835\udc650 \u2208 C\ud835\udc56 the state of the closed-loop system must satisfy \ud835\udc65(\ud835\udc61) \u2208 C\ud835\udc56 for all \ud835\udc61 \u2265 0 and for all \ud835\udc56 \u2208 {0, . . . , \ud835\udc41}. In other words, the controller must render the set C = \u22c2\ud835\udc41\ud835\udc56=0 C\ud835\udc56 forward invariant under the closed-loop dynamics. We achieve this goal by using control barrier functions."
        },
        {
            "heading": "3.2 Guaranteed Safety via Control Barrier Functions and Quadratic Programs",
            "text": "To design a safety-critical controller, we revisit the theory of control barrier functions. We consider affine control systems:\n\u00a4\ud835\udc65 = \ud835\udc53 (\ud835\udc65, \ud835\udc5f) + \ud835\udc54(\ud835\udc65)\ud835\udc62, (40)\nwhere \ud835\udc65 \u2208 R\ud835\udc5b, \ud835\udc5f \u2208 R\ud835\udc59 and \ud835\udc62 \u2208 R\ud835\udc5a, while \ud835\udc53 : R\ud835\udc5b \u00d7 R\ud835\udc59 \u2192 R\ud835\udc5b and \ud835\udc54 : R\ud835\udc5b \u2192 R\ud835\udc5b\u00d7\ud835\udc5a are locally Lipschitz continuous. This may represent the nonlinear mixed traffic system (4), or the linear system (10) by the substitution \ud835\udc53 (\ud835\udc65, \ud835\udc5f) = \ud835\udc34\ud835\udc65 +\ud835\udc37\ud835\udc5f, \ud835\udc54(\ud835\udc65) = \ud835\udc35. We seek to keep the state \ud835\udc65 inside a safe set C \u2282 R\ud835\udc5b, that is defined by a continuously differentiable function \u210e : R\ud835\udc5b \u2192 R as\nC = {\ud835\udc65 \u2208 R\ud835\udc5b : \u210e(\ud835\udc65) \u2265 0} , (41)\ncf. (36), where \u210e satisfies \u210e(\ud835\udc65) = 0 =\u21d2 \ud835\udf15\u210e \ud835\udf15\ud835\udc65 (\ud835\udc65) \u2260 0. We achieve this goal via control barrier functions.\n8\nDefinition 1 (control barrier function [8]). Function \u210e is a control barrier function (CBF) for system (40) if there exists an extended class-K\u221e function1 \ud835\udefc such that for all \ud835\udc65 \u2208 R\ud835\udc5b:\nsup \ud835\udc62\u2208R\ud835\udc5a [ \ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54\u210e(\ud835\udc65)\ud835\udc62\ufe38 \ufe37\ufe37 \ufe38\n\u00a4\u210e (\ud835\udc65,\ud835\udc5f ,\ud835\udc62)\n] > \u2212\ud835\udefc(\u210e(\ud835\udc65)), (42)\nwhere \ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f) = \ud835\udf15\u210e\ud835\udf15\ud835\udc65 (\ud835\udc65) \ud835\udc53 (\ud835\udc65, \ud835\udc5f) and \ud835\udc3f\ud835\udc54\u210e(\ud835\udc65) = \ud835\udf15\u210e \ud835\udf15\ud835\udc65 (\ud835\udc65)\ud835\udc54(\ud835\udc65).\nThe expression in (42) inside the brackets is the first time derivative of \u210e along the system (40). Note that condition (42) sufficiently holds if \ud835\udc3f\ud835\udc54\u210e(\ud835\udc65) \u2260 0 for all \ud835\udc65 \u2208 R\ud835\udc5b. In such a case, the first derivative of \u210e is affected by the input \ud835\udc62 regardless of the state \ud835\udc65\u2014this is termed as \u210e has relative degree one. Given a CBF, the following result on safety was established by [8].\nTheorem 1 (guaranteed safety via CBF [8]). If \u210e is a CBF for system (40), then any locally Lipschitz continuous controller \ud835\udc58 : R\ud835\udc5b \u00d7 R\ud835\udc59 \u2192 R, \ud835\udc62 = \ud835\udc58 (\ud835\udc65, \ud835\udc5f), that satisfies\n\ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54\u210e(\ud835\udc65)\ud835\udc62 \u2265 \u2212\ud835\udefc(\u210e(\ud835\udc65)), (43)\nrenders the set C in (41) forward invariant (safe) under the closed-loop dynamics, such that \ud835\udc650 \u2208 C =\u21d2 \ud835\udc65(\ud835\udc61) \u2208 C, \u2200\ud835\udc61 \u2265 0.\nAs such, controllers that satisfy (43) provide provable safety guarantees, while condition (42) ensures that such controllers exist. We use (43) for safety-critical control design. Suppose that there exists a feedback controller, \ud835\udc620 = \ud835\udc580 (\ud835\udc65, \ud835\udc5f), that is stabilizing but may not necessarily be safe. Then, the input \ud835\udc620 can be modified in a minimally invasive fashion to an input \ud835\udc62 that satisfies (43) by using the following quadratic program (QP) based controller design [7]:\n\ud835\udc58 (\ud835\udc65, \ud835\udc5f) = argmin \ud835\udc62\u2208R \u2016\ud835\udc62 \u2212 \ud835\udc620\u20162\ns.t. \ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54\u210e(\ud835\udc65)\ud835\udc62 \u2265 \u2212\ud835\udefc(\u210e(\ud835\udc65)). (44)\nController \ud835\udc62 = \ud835\udc58 (\ud835\udc65, \ud835\udc5f) is safety-critical, and ensures safety with minimum deviation from the nominal controller \ud835\udc620 = \ud835\udc580 (\ud835\udc65, \ud835\udc5f). Note that (44) is often called as safety filter. The role of the safety filter in STC is illustrated in Fig. 2 and discussed next."
        },
        {
            "heading": "3.3 Safety-critical Traffic Control",
            "text": "Now we implement CBFs on the mixed traffic system and synthesize a STC strategy via a quadratic program. Specifically, we rely on the CBF candidates \u210e\ud835\udc56 in (37)-(39). To apply the CBF theory, however, first we must show that these candidates are indeed CBFs and satisfy (42). To investigate condition (42), we consider the TH policy (37) as example, although the conclusions below hold for the other spacing policies in (38)-(39), too. Function \u210e0, that is associated with the CAV\u2019s safety, satisfies \ud835\udc3f\ud835\udc54\u210e0 (\ud835\udc65) = \u2212\ud835\udf0f \u2260 0. Hence it has relative degree one and it is a valid CBF that satisfies (42). This results from the fact that the CAV\u2019s safety is directly affected by the CAV\u2019s control input. However, the remaining functions \u210e\ud835\udc56 (\ud835\udc56 \u2208 {1, . . . , \ud835\udc41}) are associated with the HDVs\u2019 safety, and they are not directly affected by the CAV\u2019s controller. Instead, \ud835\udc3f\ud835\udc54\u210e\ud835\udc56 (\ud835\udc65) = 0 and (42) does not hold for all \ud835\udc65 \u2208 R\ud835\udc5b, hence \u210e\ud835\udc56 are not valid CBFs. In fact, the control input \ud835\udc62 shows up in the (\ud835\udc56 + 1)-st time derivative of \u210e\ud835\udc56 , making it relative degree \ud835\udc56 + 1. Although there exist more complex control designs for high relative degree scenarios [7], [44], we seek to avoid this complexity, especially since the relative degree of \u210e\ud835\udc56 depends on the number of vehicles.\n1A continuous function \ud835\udefc : R\u2192 R belongs to extended class-K\u221e if it is strictly monotonically increasing, \ud835\udefc(0) = 0 and lim\ud835\udc5f\u2192\u00b1\u221e \ud835\udefc(\ud835\udc5f ) = \u00b1\u221e.\n9 Instead, we propose to construct CBFs with a novel method that is compatible with all safe spacing policies. Specifically, we modify the CBF candidates \u210e\ud835\udc56 to\n\u210e\u0304\ud835\udc56 (\ud835\udc65) = \u210e\ud835\udc56 (\ud835\udc65) \u2212 \u210e0 (\ud835\udc65), (45)\nthat have relative degree one irrespective of the number of vehicles. It should be noted that \u210e\u0304\ud835\udc56 (\ud835\udc65) \u2265 0 and \u210e0 (\ud835\udc65) \u2265 0 are sufficient conditions for \u210e\ud835\udc56 (\ud835\udc65) \u2265 0. Thus, \u210e\u0304\ud835\udc56 are valid CBFs that allow the satisfaction of the safe spacing policies given by \u210e\ud835\udc56 .\nThe CBFs \u210e0 and \u210e\u0304\ud835\udc56 lead to the following constraints on \ud835\udc62 to satisfy the requirements of the CAV\u2019s safety and HDVs\u2019 safety. The constraint that guarantees safe spacing between the head vehicle and the CAV becomes\n\ud835\udc3f \ud835\udc53 \u210e0 (\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54\u210e0 (\ud835\udc65)\ud835\udc62 + \ud835\udefe0\u210e0 (\ud835\udc65) \u2265 0, (46)\nwhere, for simplicity, we chose the extended class-K\u221e function \ud835\udefc in (43) to be linear, i.e., \ud835\udefc(\u210e0) = \ud835\udefe0\u210e0 with a tunable constant \ud835\udefe0 > 0. Similarly, the constraints that yield safe spacings ahead of the HDVs are given by\n\ud835\udc3f \ud835\udc53 \u210e\u0304\ud835\udc56 (\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54 \u210e\u0304\ud835\udc56 (\ud835\udc65)\ud835\udc62 + \ud835\udefe\ud835\udc56 \u210e\u0304\ud835\udc56 (\ud835\udc65) + \ud835\udf0e\ud835\udc56 \u2265 0, (47)\nwhere \ud835\udefe\ud835\udc56 > 0, \ud835\udc56 \u2208 {1, . . . , \ud835\udc41}, while the role of \ud835\udf0e\ud835\udc56 \u2265 0 is explained below. We remark that while the CBF condition (42) ensures that there exists a control input \ud835\udc62 satisfying the safety constraint (43), there is no such existence guarantee if multiple constraints like (46)-(47) are enforced simultaneously. In other words, the CAV\u2019s and HDVs\u2019 safety constraints (46)-(47) may conflict in some scenarios. In such cases, we prioritize the CAV\u2019s safety over the HDVs\u2019 safety for four reasons: (I) the CAV\u2019s controller is primarily responsible for its own safety; (II) if a collision happened at the CAV, the following HDVs would also be affected; (III) in practice, the HDVs do not necessarily drive according to the selected human driver model; and (IV) if the CAV\u2019s safety constraint \u210e0 (\ud835\udc65) \u2265 0 is not satisfied, \u210e\u0304\ud835\udc56 (\ud835\udc65) \u2265 0 no longer implies \u210e\ud835\udc56 (\ud835\udc65) \u2265 0, i.e., the HDVs\u2019 safety may be compromised. Therefore, we resolve the conflict between multiple safety constraints by introducing the relaxation variables \ud835\udf0e\ud835\udc56 into the HDVs\u2019 safety constraints. This makes (47) to be soft constraint while keeping (46) as hard constraint.\nFinally, we incorporate the safety constraints (46)-(47) and the traffic controller (15) that yields string stable behavior into an optimization problem to establish the proposed STC. Specifically, while enforcing (46)-(47), we minimize the deviation of the control input \ud835\udc62 from the nominal stabilizing input \ud835\udc620. This leads to the quadratic program (QP):\n\ud835\udc58 (\ud835\udc65, \ud835\udc5f) = argmin \ud835\udc62\u2208R,\ud835\udf0e\ud835\udc56\u22650 |\ud835\udc62 \u2212 \ud835\udc620 |2 + \ud835\udc41\u2211\ufe01 \ud835\udc56=1 \ud835\udc5d\ud835\udc56\ud835\udf0e 2 \ud835\udc56\ns.t. \ud835\udc3f \ud835\udc53 \u210e0 (\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54\u210e0 (\ud835\udc65)\ud835\udc62 + \ud835\udefe0\u210e0 (\ud835\udc65) \u2265 0, \ud835\udc3f \ud835\udc53 \u210e\u03041 (\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54 \u210e\u03041 (\ud835\udc65)\ud835\udc62 + \ud835\udefe1 \u210e\u03041 (\ud835\udc65) + \ud835\udf0e1 \u2265 0,\n...\n\ud835\udc3f \ud835\udc53 \u210e\u0304\ud835\udc41 (\ud835\udc65, \ud835\udc5f) + \ud835\udc3f\ud835\udc54 \u210e\u0304\ud835\udc41 (\ud835\udc65)\ud835\udc62 + \ud835\udefe\ud835\udc41 \u210e\u0304\ud835\udc41 (\ud835\udc65) + \ud835\udf0e\ud835\udc41 \u2265 0,\n(48)\ncf. (44), where \ud835\udc5d\ud835\udc56 1 are penalties for relaxing the HDVs\u2019 safety constraints. Note that when there is conflict between the safety of mixed traffic and the pursuit of string stability, the QP enforces safety and sacrifices string stability at minimum cost."
        },
        {
            "heading": "3.4 Safety with Observer-based Control Barrier Functions",
            "text": "The proposed STC strategy (15)-(48) relies on full state feedback. In practice, however, some state information may not be available to the CAV. This motivates us to extend the STC design to output feedback. We propose to use state observers for state estimation, that allows us to execute safety-critical controllers using an estimate of the unknown states; see Fig. 2. Below we provide a set of simple conditions under which formal safety guarantees are maintained despite observer estimation errors. These results follow the constructions in [3], where a comprehensive safety-critical control framework with observers was established. For another approach on the combination of observers and CBFs, please also see [61].\nConsider an observer (24) that satisfies (28). Let the CBF \u210e have the Lipschitz coefficient L > 0, satisfying:\n|\u210e(\ud835\udc65) \u2212 \u210e(\ud835\udc65) | \u2264 L\u2016\ud835\udc65 \u2212 \ud835\udc65\u2016, (49)\nand for simplicity, let the class-K function \ud835\udefc be linear, \ud835\udefc(\ud835\udc5f) = \ud835\udefe\ud835\udc5f. Furthermore, consider the set C\u0302(\ud835\udc61) = { \ud835\udc65 \u2208 R\ud835\udc5b : \u210e\u0302(\ud835\udc65, \ud835\udc61) \u2265 0 } , (50)\n\u210e\u0302(\ud835\udc65, \ud835\udc61) = \u210e(\ud835\udc65) \u2212 L\ud835\udc40 (\ud835\udc61), (51)\nwhere \u210e\u0302(\ud835\udc65, \ud835\udc61) represents the worst-case value of \u210e(\ud835\udc65) that may correspond to an estimated state \ud835\udc65 given the estimation error bound \ud835\udc40 (\ud835\udc61). Then, we have the following result on safety.\n10\nTheorem 2 (guaranteed safety with observer [3]). Consider the system (40), the safe set (41), and an observer (24) that satisfies (28). If \u210e is a CBF for system (24) with Lipschitz coefficient L, then any locally Lipschitz continuous controller \ud835\udc58 : R\ud835\udc5b \u00d7 R\ud835\udc59 \u00d7 R\ud835\udc5b\ud835\udc66 \u2192 R, \ud835\udc62 = \ud835\udc58 (\ud835\udc65, \ud835\udc5f, \ud835\udc66), that satisfies\n\ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f, \ud835\udc66) + \ud835\udc3f?\u0303?\u210e(\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 \u2265 \u2212\ud835\udefe\u210e(\ud835\udc65) + L ( \u00a4\ud835\udc40 (\ud835\udc61) + \ud835\udefe\ud835\udc40 (\ud835\udc61)) , (52)\nrenders set C\u0302(\ud835\udc61) in (50)-(51) forward invariant under the closed-loop dynamics, such that \ud835\udc650 \u2208 C\u0302(0) =\u21d2 \ud835\udc65(\ud835\udc61) \u2208 C\u0302(\ud835\udc61), \u2200\ud835\udc61 \u2265 0. Furthermore, \ud835\udc65(\ud835\udc61) \u2208 C\u0302(\ud835\udc61) =\u21d2 \ud835\udc65(\ud835\udc61) \u2208 C holds, that ultimately leads to safe behavior.\nProof. First, we express the total time derivative of \u210e\u0302 defined in (51) as\n\u00a4\u0302 \u210e(\ud835\udc65, \ud835\udc61, \ud835\udc5f, \ud835\udc66, \ud835\udc62) = \ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f, \ud835\udc66) + \ud835\udc3f?\u0303?\u210e(\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 \u2212 L \u00a4\ud835\udc40 (\ud835\udc61). (53)\nWith this, (51)-(52) lead to \u00a4\u0302 \u210e(\ud835\udc65, \ud835\udc61, \ud835\udc5f, \ud835\udc66, \ud835\udc62) \u2265 \u2212\ud835\udefe\u210e\u0302(\ud835\udc65, \ud835\udc61). (54)\nTherefore, we can apply the time-varying counterpart [65] of Theorem 1 that yields the invariance of C\u0302(\ud835\udc61). Finally, \ud835\udc65(\ud835\udc61) \u2208 C\u0302(\ud835\udc61) =\u21d2 \ud835\udc65(\ud835\udc61) \u2208 C is equivalent to \u210e\u0302(\ud835\udc65(\ud835\udc61), \ud835\udc61) \u2265 0 =\u21d2 \u210e(\ud835\udc65(\ud835\udc61)) \u2265 0, which can be proven by\n\u210e\u0302(\ud835\udc65, \ud835\udc61) = \u210e(\ud835\udc65) \u2212 L\ud835\udc40 (\ud835\udc61) \u2264 \u210e(\ud835\udc65) \u2212 L\u2016\ud835\udc65 \u2212 \ud835\udc65\u2016 \u2264 \u210e(\ud835\udc65) \u2212 |\u210e(\ud835\udc65) \u2212 \u210e(\ud835\udc65) | \u2264 \u210e(\ud835\udc65),\n(55)\nwhere we used (51), (28) and (49). Remark 1. For output feedback, the safety condition modifies from (43) to (52), that includes the extra robustifying term L ( \u00a4\ud835\udc40 (\ud835\udc61) + \ud835\udefe\ud835\udc40 (\ud835\udc61)) to account for observer estimation errors. [3] highlighted that if the observer satisfies \u00a4\ud835\udc40 (\ud835\udc61) \u2264 \u2212\ud835\udefe\ud835\udc40 (\ud835\udc61), then\n\ud835\udc3f \ud835\udc53 \u210e(\ud835\udc65, \ud835\udc5f, \ud835\udc66) + \ud835\udc3f?\u0303?\u210e(\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 \u2265 \u2212\ud835\udefe\u210e(\ud835\udc65) (56)\nis a sufficient condition for (52), i.e., the extra robustifying term can be dropped. For example, the Luenberger observer (26) associated with the linear system (10) and error bound (29) satisfies \u00a4\ud835\udc40 (\ud835\udc61) \u2264 \u2212\ud835\udefe\ud835\udc40 (\ud835\udc61) if \ud835\udf06 \u2265 \ud835\udefe. This means that, if the observer is fast enough (characterized by \ud835\udf06) compared to how fast the system is allowed to approach the boundary of the safe set (expressed by \ud835\udefe), (56) guarantees safety. This idea first appeared in [38], [51], where safety with exponentially stable tracking controllers was established similarly to our case of safety with exponentially stable observers. Furthermore, notice that condition \ud835\udc650 \u2208 C\u0302(0) must also hold for safety, that is stricter than \ud835\udc650 \u2208 C. Accordingly, the initial state must be located farther inside the safe set (\u210e(\ud835\udc650) 0) in case of significant initial state estimation errors. Under such conditions, the observer converges to an accurate state estimate by the time the system may get into a safety-critical scenario, and safety is maintained.\nIn the context of STC, Theorem 2 leads to the following controller for the case of output feedback:\n\ud835\udc58 (\ud835\udc65, \ud835\udc5f, \ud835\udc66) = argmin \ud835\udc62\u2208R,\ud835\udf0e\ud835\udc56\u22650 |\ud835\udc62 \u2212 \ud835\udc620 |2 + \ud835\udc41\u2211\ufe01 \ud835\udc56=1 \ud835\udc5d\ud835\udc56\ud835\udf0e 2 \ud835\udc56\ns.t. \ud835\udc3f \ud835\udc53 \u210e0 (\ud835\udc65, \ud835\udc5f, \ud835\udc66) + \ud835\udc3f?\u0303?\u210e0 (\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 + \ud835\udefe0\u210e0 (\ud835\udc65) \u2212 L ( \u00a4\ud835\udc40 (\ud835\udc61) + \ud835\udefe0\ud835\udc40 (\ud835\udc61)) \u2265 0,\n\ud835\udc3f \ud835\udc53 \u210e\u03041 (\ud835\udc65, \ud835\udc5f, \ud835\udc66) + \ud835\udc3f?\u0303? \u210e\u03041 (\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 + \ud835\udefe1 \u210e\u03041 (\ud835\udc65) \u2212 L ( \u00a4\ud835\udc40 (\ud835\udc61) + \ud835\udefe1\ud835\udc40 (\ud835\udc61)) + \ud835\udf0e1 \u2265 0,\n... \ud835\udc3f \ud835\udc53 \u210e\u0304\ud835\udc41 (\ud835\udc65, \ud835\udc5f, \ud835\udc66) + \ud835\udc3f?\u0303? \u210e\u0304\ud835\udc41 (\ud835\udc65, \ud835\udc5f, \ud835\udc66)\ud835\udc62 + \ud835\udefe\ud835\udc41 \u210e\u0304\ud835\udc41 (\ud835\udc65) \u2212 L ( \u00a4\ud835\udc40 (\ud835\udc61) + \ud835\udefe\ud835\udc41\ud835\udc40 (\ud835\udc61)) + \ud835\udf0e\ud835\udc41 \u2265 0,\n(57)\nanalogously to (48)."
        },
        {
            "heading": "4 NUMERICAL RESULTS",
            "text": "In this section, we carry out numerical simulations to show the effectiveness of the proposed STC framework. We first describe the simulation setup, then show our main results which validate that the proposed STC (48) leads to smooth and safe traffic in scenarios where the nominal controller (15) could yield collisions. Afterwards, we present an exhaustive analysis of the STC performance in various simulation settings. The parameters used for simulations are given in Table I and at the figures. Finally, we show the performance of STC in a real-world traffic scenario by using experimental data to drive the simulations.\n11"
        },
        {
            "heading": "4.1 Simulation Setup",
            "text": "We simulate an STC setup that includes one head HDV (HHDV), one CAV, and two identical following HDVs (FHDV-1 and FHDV-2). We consider two risky traffic scenarios that could cause rear-end collision:\n\u2022 Scenario 1: HHDV suddenly decelerates, which may endanger the safety of all vehicles. This could be caused, for example, by an aggressive cut-in of a vehicle from an adjacent lane, or due to an obstacle on the road. \u2022 Scenario 2: FHDV-2 unexpectedly accelerates. Importantly, such accelerations of follower HDVs could cause a na\u00efve nominal CAV controller to respond with acceleration and collide with the HHDV in front of it.\nSpecifically, we prescribe the following motions for the vehicles. We assume that initially all the four vehicles in the platoon drive at the equilibrium velocity \ud835\udc63\u2605 and with uniform equilibrium spacing \ud835\udc60\u2605. In Scenario 1, the HHDV brakes harshly, then accelerates to recover its original speed, and finally cruises at constants speed:\n\u00a4\ud835\udc63\u22121 (\ud835\udc61) =  \u2212\ud835\udc4eH if \ud835\udc61 \u2208 [0, \ud835\udc61H], \ud835\udc4eH if \ud835\udc61 \u2208 (\ud835\udc61H, 2\ud835\udc61H], 0 otherwise.\n(58)\nIn Scenario 2, the HHDV drives at constant speed, \u00a4\ud835\udc63\u22121 (\ud835\udc61) \u2261 0. In both scenarios, the CAV uses the nominal controller (14) with feedback gains that satisfy the head-to-tail sting-stability condition given by (17)-(18). This nominal controller will be incorporated into and compared with STC (48). In Scenario 1, both FHDVs obey the driver model (1) with specific expression given below in (60). In Scenario 2, the motion of FHDV-2 is modified to accelerate before driving according to the model:\n\u00a4\ud835\udc632 (\ud835\udc61) = { \ud835\udc4eF if \ud835\udc61 \u2208 [0, \ud835\udc61F], \ud835\udc392 (\ud835\udc602, \u00a4\ud835\udc602, \ud835\udc632) otherwise.\n(59)\nThe behavior of each vehicle in the two safety-critical scenarios is summarized in Table II. To capture the longitudinal dynamics of HDVs, we use the optimal velocity model (OVM) originating from [11]:\n\ud835\udc39\ud835\udc56 (\ud835\udc60\ud835\udc56 , \u00a4\ud835\udc60\ud835\udc56 , \ud835\udc63\ud835\udc56) = \ud835\udc4e (\ud835\udc49 (\ud835\udc60\ud835\udc56) \u2212 \ud835\udc63\ud835\udc56) + \ud835\udc4f \u00a4\ud835\udc60\ud835\udc56 , (60)\nwhere \ud835\udc49 (\ud835\udc60\ud835\udc56) is a piecewise continuous function that represents the spacing-dependent desired velocity of the human drivers. The coefficient \ud835\udc4e characterizes how human drivers accelerate to match their current speed \ud835\udc63\ud835\udc56 with the desired driving speed \ud835\udc49 (\ud835\udc60\ud835\udc56), whereas coefficient \ud835\udc4f represents how human drivers change their acceleration according to the speed difference \u00a4\ud835\udc60\ud835\udc56 between themselves and their preceding vehicle. The OVM (60) can be linearized as (7) with parameters:\n\ud835\udc4e1 = \ud835\udc4e\ud835\udc49 \u2032(\ud835\udc60\u2605), \ud835\udc4e2 = \ud835\udc4e + \ud835\udc4f, \ud835\udc4e3 = \ud835\udc4f. (61)\nWe use a range policy \ud835\udc49 (\ud835\udc60) from [70] as:\n\ud835\udc49 (\ud835\udc60) =  0, \ud835\udc60 \u2264 \ud835\udc60st, \ud835\udc63max 2 ( 1 \u2212 cos ( \ud835\udf0b \ud835\udc60\u2212\ud835\udc60st \ud835\udc60go\u2212\ud835\udc60st )) , \ud835\udc60st < \ud835\udc60 < \ud835\udc60go, \ud835\udc63max, \ud835\udc60 \u2265 \ud835\udc60go, (62)\nwhere \ud835\udc60st, \ud835\udc60go, \ud835\udc63max represent standstill spacing, free flow spacing and the speed limit, respectively.\n12"
        },
        {
            "heading": "4.2 Safety Improvement by STC",
            "text": "Now we demonstrate by our main simulation results that the proposed STC improves the safety of mixed traffic. We highlight that while a nominal controller may lead to unsafe behavior when responding to sudden accelerations of human drivers, the STC maintains safety. In the simulations, we use the SDH safe spacing policy with CBF candidate (39) and parameters in Table I. First, we consider full state feedback control in the two risky traffic situations described above (Scenario 1 and Scenario 2). We evaluate safety (i.e., whether the CBF candidates \u210e\ud835\udc56 and the spacings \ud835\udc60\ud835\udc56 stay positive over time) and head-to-tail string stability (i.e., whether the speed perturbations of the tail vehicle are smaller than those of the head vehicle).\nFigure 3 shows simulation results for Scenario 1, including the spacing \ud835\udc60\ud835\udc56 , velocity \ud835\udc63\ud835\udc56 , acceleration \ud835\udc4e\ud835\udc56 and CBF candidate \u210e\ud835\udc56 of each vehicle for the cases of using the nominal controller (top) and the proposed STC (bottom). When the HHDV suddenly reduces its speed, the nominal controller reduces the CAV\u2019s speed significantly less than the HHDV does in order to achieve head-to-tail string stability. However, the CAV\u2019s deceleration ends up being too small, causing a collision between HHDV and the CAV. This is indicated by \ud835\udc600 < 0 along the red curve in Fig. 3. In contrast, with the proposed STC the CAV decelerates more and avoids collision with formal guarantees of safety. We remark that \u210e0 becomes slightly negative, which is caused by designing STC based on the linearized dynamics (10) while the FHDVs drive according to the nonlinear model (4). It should be noted that the FHDVs are still collision-free and safe, when their safety was encoded as soft constraints in STC. Moreover, head-to-tail string stability is still achieved with STC, as FHDV-2 reduces its speed less than the HHDV.\nFigure 4 presents simulation results for Scenario 2, by comparing the nominal controller (top) and STC (bottom). This scenario highlights that if a vehicle at the end of the chain accelerates, like FHDV-2 does, it can force the nominal controller of the CAV to accelerate and compromise the CAV\u2019s safety. By using STC, however, safe behavior is ensured for the CAV by the safety filter that is wrapped around the nominal controller.\nIn the results presented so far, the CAV\u2019s controller relies on the true state \ud835\udc65 and uses full state feedback. Now we address the scenario of output feedback, wherein the output \ud835\udc66 in (21) is available rather than the full state \ud835\udc65. We use the state observer in (26) to establish an estimate \ud835\udc65 of the state (with initial estimate \ud835\udc650 = [0, 0, 6, 0, 6, 0]>). We compare two controllers:\n\u2022 \u201cna\u00efve\u201d observer-based STC that evaluates (48) with the estimated state \ud835\udc65, without considering the estimation error \ud835\udc65 \u2212 \ud835\udc65; \u2022 robust observer-based STC (57) that takes into account the estimation error. Figure 5 shows simulation results for STC with observer in the na\u00efve (top) and robust (bottom) implementations in Scenario 2 with \ud835\udc4eF = 6 m/s2 and \ud835\udc61F = 2.2 s. The figure highlights that the robust STC implementation leads to safer behavior (see the\n13\nblue curves), thanks to taking into account the observer\u2019s estimation error bound in a provably safe fashion. As opposed, the na\u00efve STC implementation no longer has formal safety guarantees when utilized with estimated state instead of true state."
        },
        {
            "heading": "4.3 Analysis of STC Performance",
            "text": "In this section, we investigate the STC performance in more details. We include discussion about the effects of acceleration limits, selection of parameters, and choice of spacing policy. Through these, we highlight some limitations of the present approach and give suggestions on how to overcome them. For simplicity, we conduct this analysis for full state feedback without incorporating observers into the control loop.\nFirst, we highlight that safety may be affected by the acceleration capabilities of vehicles. Notice that the control input \ud835\udc62 of the proposed STC (48) and the accelerations \u00a4\ud835\udc63\ud835\udc56 obtained from the human driver model (60) can take any real value. In practice, however, vehicles have limited acceleration capabilities, hence these quantities are constrained to the range [\ud835\udc4e\ud835\udc56,min, \ud835\udc4e\ud835\udc56,max]. To investigate the effect of acceleration limits on safety, we conduct simulations where the accelerations are saturated as \u00a4\ud835\udc630 = sat(\ud835\udc62) and \u00a4\ud835\udc63\ud835\udc56 = sat ( \ud835\udc39\ud835\udc56 (\ud835\udc60\ud835\udc56 , \u00a4\ud835\udc60\ud835\udc56 , \ud835\udc63\ud835\udc56) ) , \ud835\udc56 \u2208 {1, . . . , \ud835\udc41}, with\nsat(\ud835\udc62) = max { \ud835\udc4emin,min{\ud835\udc62, \ud835\udc4emax} } (63)\nand uniform acceleration limits \ud835\udc4emin and \ud835\udc4emax for each vehicle given in Table I.\n14\nFigure 6 presents the effect of acceleration limits on safety. Here, the simulation scenario and parameters correspond to the bottom of Fig. 3, except that the saturation function is also incorporated into the dynamics. The red curves in the figure highlight that there exist scenarios in which acceleration limits affect safety (i.e., \ud835\udc600 goes negative when the acceleration of the CAV saturates), since these limits are not incorporated into the STC design. While addressing bounded control inputs (limited acceleration) is possible by CBF theory [2], [21], [32] and could be included in STC, it is a nontrivial task and significantly increases the complexity of control design\u2014hence it is left for future work. Instead, in this paper we quantify the amount of safety violations due to the saturation, and tune the controller parameters to minimize and eliminate these violations.\nSpecifically, we investigate the effects of three main sets of tunable parameters in STC (48): the time \ud835\udf0f\ud835\udc56 in the CBF candidates, the coefficient \ud835\udefe\ud835\udc56 in the safety constraints, and the penalty \ud835\udc5d\ud835\udc56 in the cost. For simplicity, we keep these parameters to be the same for all vehicles, and we use the short notation \ud835\udf0f, \ud835\udefe, \ud835\udc5d. The default values of these parameters (used in the previous figures) are listed in Table I. Now we analyze how these parameters affect the performance of STC.\nIn particular, we characterize how abrupt HDV motions can be handled by STC with limited acceleration as a function of parameters \ud835\udf0f, \ud835\udefe, \ud835\udc5d. To achieve this, we conduct a large number of simulations with various \ud835\udc4eH, \ud835\udc61H, \ud835\udc4eF, \ud835\udc61F values characterizing the motion of the HDVs in (58)-(59). In Scenario 1, we quantify how much the HHDV can reduce its speed without causing collision, i.e., we identify the safe range of the minimum speed \ud835\udc63\u22121,min = \ud835\udc63\u2605 \u2212 \ud835\udc4eH\ud835\udc61H for which the response of the vehicles satisfies \ud835\udc60\ud835\udc56 (\ud835\udc61) \u2265 0. In Scenario 2, we quantify how much FHDV-2 can increase its speed without causing collision, i.e., we calculate the safe range of \ud835\udc632,max = \ud835\udc63\u2605 + \ud835\udc4eF\ud835\udc61F for which \ud835\udc60\ud835\udc56 (\ud835\udc61) \u2265 0. We calculate these by considering both the entire vehicle chain (such that \ud835\udc60\ud835\udc56 (\ud835\udc61) \u2265 0, \u2200\ud835\udc56 \u2208 {0, 1, 2}), and also separately for the CAV (\ud835\udc600 (\ud835\udc61) \u2265 0), FHDV-1 (\ud835\udc601 (\ud835\udc61) \u2265 0) and FHDV-2 (\ud835\udc602 (\ud835\udc61) \u2265 0).\nFigure 7 shows the safe regions of \ud835\udc63\u22121,min in Scenario 1 (top) and \ud835\udc632,max in Scenario 2 (bottom) for various accelerations \ud835\udc4eH and \ud835\udc4eF, respectively. These results are presented for fixed \ud835\udefe and \ud835\udc5d, while varying \ud835\udf0f. We make the following conclusions.\n\u2022 In Scenario 1, there is no collision for FHDV-1 and FHDV-2 for all values of \ud835\udf0f even if the HHDV brakes to a complete stop, since the safe range of \ud835\udc63\u22121,min covers the whole interval [0, \ud835\udc63\u2605] in Fig. 7(c) and (d). The safety of the vehicle chain is therefore determined by the safety of the CAV. Considering the CAV\u2019s safety in Fig. 7(b), the safe range of \ud835\udc63\u22121,min grows by increasing \ud835\udf0f, since larger \ud835\udf0f corresponds to larger safe spacing. Ultimately, STC makes the CAV avoid collisions for any HHDV motion if \ud835\udf0f is selected to be large enough\u2014even with limited acceleration capability. \u2022 In Scenario 2, the CAV still avoids collision with STC if \ud835\udf0f is large enough. According to Fig. 7(f), the safe range of \ud835\udc632,max covers the whole interval [\ud835\udc63\u2605, \ud835\udc63max] for almost all choices of \ud835\udf0f except the smallest value. The trend is the opposite for FHDV-2, where the safe range of \ud835\udc632,max shrinks for the largest value of \ud835\udf0f; see panel (h). Meanwhile, FHDV-1 avoids collision for any \ud835\udf0f; see panel (g).\nMoreover, notice that STC (in color) outperforms the nominal controller (gray) in both scenarios, since the safe ranges of \ud835\udc63\u22121,min and \ud835\udc632,max are significantly larger for STC. Finally, we performed the same analysis by varying \ud835\udefe in the range \ud835\udefe \u2208 {5, 10, 15} while keeping \ud835\udf0f and \ud835\udc5d fixed, and by varying \ud835\udc5d in the range \ud835\udc5d \u2208 {10, 100, 1000} while keeping \ud835\udf0f and \ud835\udefe fixed. We found that the STC is less sensitive to \ud835\udefe and \ud835\udc5d, as there is only slight variation in the safe ranges of velocity perturbations. These analyses justify the parameter selection in Table I.\nCollision-free behavior not only depends on the parameters of the controller but also on the safe spacing policy implemented. So far, we showed results for the case of the SDH policy only. Now we compare the TH (30), TTC (31) and SDH (32) safe spacing policies. While there has been related research comparing the TH and TTC policies [56], a detailed comparison of these in the context of safety-critical traffic control have not yet been investigated.\nFigure 8 shows the safe ranges of HDV velocity perturbations using the different safe spacing policies. The parameters \ud835\udefe and \ud835\udc5d are fixed, while \ud835\udf0f is varied in the range \ud835\udf0f \u2208 {0.1, 0.3, 0.5, 1, 3}. Considering the entire vehicle chain, we find that the safe region of the SDH policy is slightly larger than those of the other two policies in Scenario 1, and the difference between the three policies is negligible in Scenario 2. This showcases the ability of the proposed STC framework to accommodate various spacing policies."
        },
        {
            "heading": "4.4 Validation Using NGSIM Data",
            "text": "Finally, we demonstrate the applicability of STC to real-world traffic scenarios by using experimental data for the trajectory of the HHDV while simulating the motions of other vehicles.\n15\nWe leverage the Next Generation Simulation (NGSIM) dataset that is widely used in transportation research. In particular, we use the reconstructed trajectory data from [42], that contains information about the motions of vehicles on highway I80 in Emeryville, California, including their position and speed as a function of time, with a resolution of 0.1 second. We select a vehicle (specifically, vehicle-2169) whose motion contains significant speed fluctuations, hence it poses a challenge for controlling a CAV behind it in a safety-critical fashion. The trajectory of this vehicle, including its speed and acceleration are plotted in Fig. 9 by dashed purple line. Notice the abrupt braking at around \ud835\udc61 = 4 s, which can cause danger for the following vehicles. We use this speed profile as the speed of the HHDV to simulate the motions of the CAV and the FHDVs.\nFigure 9 presents simulation results that compare the nominal controller and STC (with the SDH policy). The simulation parameters of the OVM (60)-(62) are given in Table III (note that these were calibrated to the NGSIM dataset). The initial speeds of the CAV and the two FHDVs were set to \ud835\udc630 (0) = \ud835\udc631 (0) = \ud835\udc632 (0) = \ud835\udc63\u2605, and the initial spacings were chosen as \ud835\udc601 (0) = \ud835\udc602 (0) = \ud835\udc60\u2605 while \ud835\udc600 (0) was set independently. The figure clearly reveals that the proposed STC framework is able to successfully modify the nominal controller and endow it with safe behavior, while the nominal controller on its own could cause collision between the CAV and the HHDV. Importantly, the harsh braking of the HHDV happened in real life, hence it is crucial to maintain safety guarantees while attempting to regulate the traffic flow with the motion of the CAV.\nFinally, we further analyze to which extent STC improves safety. We repeat the simulation in Fig. 9 for various initial conditions. The motion of the HHDV is kept the same (given by the experimental data), and the initial velocity \ud835\udc630 (0) and\n16\ninitial spacing \ud835\udc600 (0) of the CAV are varied (while the rest of the initial conditions of FHDVs are determined by \ud835\udc630 (0) = \ud835\udc631 (0) = \ud835\udc632 (0) = \ud835\udc63\u2605 and \ud835\udc601 (0) = \ud835\udc602 (0) = \ud835\udc60\u2605). Figure 10 shows the result of executing the nominal controller and STC with the three different safe spacing policies. For each case, thick lines with markers indicate the boundary of the shaded safety region where initial conditions are associated with collision-free motion for all vehicles. STC significantly enlarges the safety region of the nominal controller and, as a result, improves the safety of mixed traffic. Importantly, STC achieves this by incorporating and leveraging the nominal controller, while providing formal guarantees of safety.\n17"
        },
        {
            "heading": "5 CONCLUSIONS",
            "text": "In this paper, we proposed a safety-critical traffic control (STC) framework, in which the longitudinal motions of connected automated vehicles (CAVs) are regulated amongst connected human-driven vehicles (HDVs) in mixed-autonomy traffic flows. The end goal of STC is to mitigate traffic congestions (i.e., achieve string stability), while guaranteeing safe, collision-free behavior. We formulated STC as a safety filter using control barrier functions (CBFs), that endows a nominal controller capable of attaining string stability with formal safety guarantees. To this end, we considered the safety of both the CAV and the following HDVs. Moreover, we employed state observer-based CBFs to establish STC when the CAV does not have access to all the states of the following HDVs. In our future work, we plan to investigate the effects of partial connectivity and address feedback, communication and actuation delays for the safety-critical control of mixed-autonomy traffic."
        }
    ],
    "title": "Safety-Critical Traffic Control by Connected Automated Vehicles",
    "year": 2023
}