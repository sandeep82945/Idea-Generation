{
    "abstractText": "The flexible job shop is a well-known scheduling problem that has historically attracted much research attention both because of its computational complexity and its importance in manufacturing and engineering processes. Here we consider a variant of the problem where uncertainty in operation processing times is modeled using triangular fuzzy numbers. Our objective is to minimize the total energy consumption, which combines the energy required by resources when they are actively processing an operation and the energy consumed by these resources simply for being switched on. To solve this NP-Hard problem, we propose a memetic algorithm, a hybrid metaheuristic method that combines global search with local search. Our focus has been on obtaining an efficient method, capable of obtaining similar solutions quality-wise to the state of the art using a reduced amount of time. To assess the performance of our algorithm, we present an extensive experimental analysis that compares it with previous proposals and evaluates the effect on the search of its different components.",
    "authors": [
        {
            "affiliations": [],
            "name": "Pablo Garc\u00eda G\u00f3meza"
        },
        {
            "affiliations": [],
            "name": "In\u00e9s Gonz\u00e1lez-Rodr\u00edgueza"
        },
        {
            "affiliations": [],
            "name": "Camino R. Velab"
        }
    ],
    "id": "SP:114321a29dce8f3f835931b3c92ed0662c8ddb7a",
    "references": [
        {
            "authors": [
                "Z Han",
                "X Zhang",
                "H Zhang",
                "J Zhao",
                "W. Wang"
            ],
            "title": "A hybrid granular-evolutionary computing method for cooperative scheduling optimization on integrated energy system in steel industry",
            "venue": "Swarm and Evolutionary Computation",
            "year": 2022
        },
        {
            "authors": [
                "V Iannino",
                "V Colla",
                "A Maddaloni",
                "J Brandenburger",
                "A Rajabi",
                "A Wolff"
            ],
            "title": "A hybrid approach for improving the flexibility of production scheduling in flat steel industry",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2022
        },
        {
            "authors": [
                "K Bakon",
                "T Holczinger",
                "Z Sule",
                "S. Jasko"
            ],
            "title": "Scheduling Under Uncertainty for Industry 4.0 and 5.0",
            "venue": "IEEE Access",
            "year": 2022
        },
        {
            "authors": [
                "MKM Razali",
                "AH Abd Rahman",
                "M Ayob",
                "R Jarmin",
                "F Qamar",
                "G. Kendall"
            ],
            "title": "Research Trends in the Optimization of the Master Surgery Scheduling Problem",
            "venue": "IEEE Access",
            "year": 2022
        },
        {
            "authors": [
                "H Luo",
                "M Dridi",
                "O. Grunder"
            ],
            "title": "A Green Routing and Scheduling Problem in Home Health Care. IFAC PapersOnLine",
            "year": 2020
        },
        {
            "authors": [
                "N Mansouri",
                "R. Ghafari"
            ],
            "title": "Cost Efficient Task Scheduling Algorithm for Reducing Energy Consumption and Makespan of Cloud Computing",
            "venue": "Journal of Computer and Knowledge Engineering",
            "year": 2022
        },
        {
            "authors": [
                "S Imaran Hossain",
                "MAH Akhand",
                "MIR Bhuvo",
                "N Sidiqque",
                "H. Adeli"
            ],
            "title": "Optimization of University Course Scheduling Problem using Particle Swarm Optimization with Selective Search",
            "venue": "Expert Systems with Applications",
            "year": 2019
        },
        {
            "authors": [
                "JK Lenstra",
                "AHGR Kan",
                "P. Brucker"
            ],
            "title": "Complexity of Machine Scheduling Problems",
            "venue": "Studies in Integer Programming",
            "year": 1977
        },
        {
            "authors": [
                "JJ Palacios",
                "I Gonz\u00e1lez-Rodr\u00edguez",
                "CR Vela",
                "J. Puente"
            ],
            "title": "Satisfying flexible due dates in fuzzy job shop by means of hybrid evolutionary algorithms",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2019
        },
        {
            "authors": [
                "F Gil Gala",
                "C Mencia",
                "MR Sierra",
                "R. Varela"
            ],
            "title": "Learning Ensembles of Priority Rules for Online Scheduling by Hybrid Evolutionary Algorithms",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2021
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Nature Inspired Computing: An Overview and Some Future Directions",
            "venue": "Cognitive Computation",
            "year": 2015
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Spiral Dynamics Algorithm",
            "venue": "International Journal on Artificial Intelligence Tools",
            "year": 2014
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Physics\u00e2\u0102\u0158based search and optimization: Inspirations from nature",
            "venue": "Expert Systems",
            "year": 2016
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Gravitational Search Algorithm and Its Variants",
            "venue": "International Journal of Pattern Recognition and Artificial Intelligence",
            "year": 2016
        },
        {
            "authors": [
                "H Siqueira",
                "C Santana",
                "M Macedo",
                "E Figueiredo",
                "A Gokhale",
                "C. Bastos-Filho"
            ],
            "title": "Simplified binary cat swarm optimization",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2020
        },
        {
            "authors": [
                "M Zhu",
                "Q Yang",
                "J Dong",
                "G Zhang",
                "X Gou",
                "H Rong"
            ],
            "title": "An Adaptive Optimization Spiking Neural P System for Binary Problems",
            "venue": "International Journal of Neural Systems",
            "year": 2020
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Harmony Search Algorithm and its Variants",
            "venue": "International Journal of Pattern Recognition and Artificial Intelligence",
            "year": 2015
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Nature-Inspired Chemical Reaction Optimisation Algorithms",
            "venue": "Cognitive Computation. 2017;",
            "year": 2017
        },
        {
            "authors": [
                "NH Siddique",
                "H. Adeli"
            ],
            "title": "Simulated Annealing, Its Variants and Engineering Applications",
            "venue": "International Journal on Artificial Intelligence Tools",
            "year": 2016
        },
        {
            "authors": [
                "D Judt",
                "C Lawson",
                "ASJ. van Heerden"
            ],
            "title": "Rapid design of aircraft fuel quantity indication systems via multi-objective evolutionary algorithms",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2021
        },
        {
            "authors": [
                "HS Park",
                "H. Adeli"
            ],
            "title": "Distributed Neural Dynamics Algorithms for Optimization of Large Steel Structures",
            "venue": "Journal of Structural Engineering",
            "year": 1997
        },
        {
            "authors": [
                "MAH Akhand",
                "SI Ayon",
                "SA Shahriyar",
                "N Siddique",
                "H. Adeli"
            ],
            "title": "Discrete Spider Monkey Optimization for Travelling Salesman Problem",
            "venue": "Applied Soft Computing",
            "year": 2020
        },
        {
            "authors": [
                "Y Liang",
                "F He",
                "X Zeng",
                "J. Luo"
            ],
            "title": "An improved loop subdivision to coordinate the smoothness and the number of faces via multi-objective optimization",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2022
        },
        {
            "authors": [
                "EK Burke",
                "M Gendreau",
                "M Hyde",
                "G Kendall",
                "G Ochoa",
                "E \u00d6zkan"
            ],
            "title": "Hyper-heuristics: A survey of the state of the art",
            "venue": "Journal of the Operational Research Society",
            "year": 2013
        },
        {
            "authors": [
                "G Duflo",
                "G Danoy",
                "EG Talbi",
                "P. Bouvry"
            ],
            "title": "A Generative Hyper- Heuristic based on Multi-Objective Reinforcement Learning: the UAV Swarm Use Case",
            "venue": "IEEE Congress on Evolutionary Computation (CEC)",
            "year": 2022
        },
        {
            "authors": [
                "F Neri",
                "C. Cotta"
            ],
            "title": "Memetic algorithms and memetic computing optimization: A literature review",
            "venue": "Swarm and Evolutionary Computation",
            "year": 2012
        },
        {
            "authors": [
                "X Chen",
                "YS Ong",
                "MH Lim",
                "KC. Tan"
            ],
            "title": "A Multi-Facet Survey on Memetic Computation",
            "venue": "IEEE Transactions on Evolutionary Computation",
            "year": 2011
        },
        {
            "authors": [
                "G Gong",
                "R Chiong",
                "Q Deng",
                "Q. Luo"
            ],
            "title": "A memetic algorithm for multi-objective distributed production scheduling: minimizing the makespan and total energy consumption",
            "venue": "Journal of Intelligent Manufacturing",
            "year": 2020
        },
        {
            "authors": [
                "E Osaba",
                "JD Ser",
                "C Cotta",
                "P. Moscato"
            ],
            "title": "Memetic Computing: Accelerating optimization heuristics with problem-dependent local search methods (Editorial)",
            "venue": "Swarm and Evolutionary Computation",
            "year": 2022
        },
        {
            "authors": [
                "B \u00c7alis",
                "S. Bulkan"
            ],
            "title": "A research survey: review of AI solution strategies of job shop scheduling problem",
            "venue": "Journal of Intelligent Manufacturing",
            "year": 2015
        },
        {
            "authors": [
                "H Xiong",
                "S Shi",
                "D Ren",
                "J. Hu"
            ],
            "title": "A survey of job shop scheduling problem: The types and models",
            "venue": "Computers & Operations Research",
            "year": 2022
        },
        {
            "authors": [
                "K Gao",
                "Z Cao",
                "L Zhang",
                "Z Chen",
                "Y Han",
                "Q. Pan"
            ],
            "title": "A review on swarm intelligence and evolutionary algorithms for solving flexible job shop scheduling problems",
            "venue": "IEEE/CAA Journal of Automatica Sinica",
            "year": 2019
        },
        {
            "authors": [
                "JJ Palacios",
                "MA Gonz\u00e1lez",
                "CR Vela",
                "I Gonz\u00e1lez-Rodr\u00edguez",
                "J. Puente"
            ],
            "title": "Genetic tabu search for the fuzzy flexible job shop problem",
            "venue": "Computers & Operations Research",
            "year": 2015
        },
        {
            "authors": [
                "Chaudhry IA",
                "Khan AA"
            ],
            "title": "A research survey: review of flexible job shop scheduling techniques",
            "venue": "International Transactions in Operational Research",
            "year": 2016
        },
        {
            "authors": [
                "M Gen",
                "L Lin",
                "H. Ohwada"
            ],
            "title": "Advances in Hybrid Evolutionary Algorithms for Fuzzy Flexible Job-shop Scheduling: Stateof-the-Art Survey",
            "venue": "Proceedings of the 13th International Conference on Agents and Artificial Intelligence, ICAART 2021",
            "year": 2021
        },
        {
            "authors": [
                "P Garc\u00eda G\u00f3mez",
                "I Gonz\u00e1lez-Rodr\u00edguez",
                "CR. Vela"
            ],
            "title": "Reducing Energy Consumption in Fuzzy Flexible Job Shops Using Memetic Search. In: Proceedings of the 9th International Work-Conference on the Interplay Between Natural and Artificial Computation, IWINAC 2022",
            "venue": "Puerto de la Cruz, Spain: vol",
            "year": 2022
        },
        {
            "authors": [
                "Li M",
                "Wang GG"
            ],
            "title": "A Review of Green Shop Scheduling Problem",
            "venue": "Information Sciences",
            "year": 2022
        },
        {
            "authors": [
                "XX Li",
                "WD Li",
                "XT Cai",
                "FZ. He"
            ],
            "title": "A Hybrid Optimization Approach for Sustainable Process Planning and Scheduling",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2015
        },
        {
            "authors": [
                "JR Villar",
                "E de la Cal",
                "J. Sedano"
            ],
            "title": "A Fuzzy Logic Based Efficient Energy Saving Approach for Domestic Heating Systems",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2008
        },
        {
            "authors": [
                "S Ahn",
                "S Lee",
                "H. Bahn"
            ],
            "title": "A smart elevator scheduler that considers dynamic changes of energy cost and user traffic",
            "venue": "Integrated Computer-Aided Engineering",
            "year": 2017
        },
        {
            "authors": [
                "Y Liu",
                "H Dong",
                "N Lohse",
                "S. Petrovic"
            ],
            "title": "A multi-objective genetic algorithm for optimisation of energy consumption and shop floor production performance",
            "venue": "International Journal of Production Economics",
            "year": 2016
        },
        {
            "authors": [
                "Z Liu",
                "S Guo",
                "L. Wang"
            ],
            "title": "Integrated green scheduling optimization of flexible job shop and crane transportation",
            "venue": "Journal of Cleaner Production",
            "year": 2019
        },
        {
            "authors": [
                "Fernandes JMRC",
                "Homayouni SM",
                "Fontes DBMM"
            ],
            "title": "Energy- Efficient Scheduling in Job Shop Manufacturing Systems: A Literature Review",
            "year": 2022
        },
        {
            "authors": [
                "Y Liu",
                "H Dong",
                "N Lohse",
                "S Petrovic",
                "N. Gindy"
            ],
            "title": "An investigation into minimising total energy consumption and total weighted tardiness in job shops",
            "venue": "Journal of Cleaner Production",
            "year": 2014
        },
        {
            "authors": [
                "M\u00c1 Gonz\u00e1lez",
                "A Oddi",
                "R. Rasconi"
            ],
            "title": "Multi-Objective Optimization in a Job Shop with Energy Costs through Hybrid Evolutionary Techniques",
            "venue": "Proceedings of the Twenty-Seventh International Conference on Automated Planning and Scheduling (ICAPS",
            "year": 2017
        },
        {
            "authors": [
                "RH Caldeira",
                "A Gnanavelbabu",
                "T. Vaidyanathan"
            ],
            "title": "An effective backtracking search algorithm for multi-objective flexible job shop scheduling considering new job arrivals and energy consumption",
            "venue": "Computers & Industrial Engineering",
            "year": 2020
        },
        {
            "authors": [
                "R Zhang",
                "R. Chiong"
            ],
            "title": "Solving the energy-efficient job shop scheduling problem: a multi-objective genetic algorithm with enhanced local search for minimizing the total weighted tardiness and total energy consumption",
            "venue": "Journal of Cleaner Production",
            "year": 2016
        },
        {
            "authors": [
                "D Lei",
                "Y Zheng",
                "X. Guo"
            ],
            "title": "A shuffled frog-leaping algorithm for flexible job shop scheduling with the consideration of energy consumption",
            "venue": "International Journal of Production Research",
            "year": 2017
        },
        {
            "authors": [
                "X Wu",
                "Y. Sun"
            ],
            "title": "A green scheduling algorithm for flexible job shop with energy-saving measures",
            "venue": "Journal of Cleaner Production",
            "year": 2018
        },
        {
            "authors": [
                "S Abdullah",
                "M. Abdolrazzagh-Nezhad"
            ],
            "title": "Fuzzy Job-Shop Scheduling Problems: A Review",
            "venue": "Information Sciences",
            "year": 2014
        },
        {
            "authors": [
                "J. Behnamian"
            ],
            "title": "Survey on fuzzy shop scheduling",
            "venue": "Fuzzy Optimization and Decision Making",
            "year": 2016
        },
        {
            "authors": [
                "JJ Palacios",
                "I Gonz\u00e1lez-Rodr\u00edguez",
                "CR Vela",
                "J. Puente"
            ],
            "title": "Coevolutionary makespan optimisation through different ranking methods for the fuzzy flexible job shop",
            "venue": "Fuzzy Sets and Systems",
            "year": 2015
        },
        {
            "authors": [
                "JJ Palacios",
                "J Puente",
                "CR Vela",
                "I. Gonz\u00e1lez-Rodr\u00edguez"
            ],
            "title": "Benchmarks for fuzzy job shop problems",
            "venue": "Information Sciences",
            "year": 2016
        },
        {
            "authors": [
                "D Dubois",
                "H Fargier",
                "P. Fortemps"
            ],
            "title": "Fuzzy Scheduling: Modelling flexible constraints vs. coping with incomplete knowledge",
            "venue": "European Journal of Operational Research",
            "year": 2003
        },
        {
            "authors": [
                "McCahon CS",
                "Lee ES"
            ],
            "title": "Job sequencing with fuzzy processing times",
            "venue": "Computers & Mathematics with Applications",
            "year": 1990
        },
        {
            "authors": [
                "L Sun",
                "L Lin",
                "M Gen",
                "H. Li"
            ],
            "title": "A Hybrid Cooperative Coevolution Algorithm for Fuzzy Flexible Job Shop Scheduling",
            "venue": "IEEE Transactions on Fuzzy Systems",
            "year": 2019
        },
        {
            "authors": [
                "R Li",
                "W Gong",
                "C. Lu"
            ],
            "title": "Self-adaptive multi-objective evolutionary algorithm for flexible job shop scheduling with fuzzy processing time",
            "venue": "Computers & Industrial Engineering",
            "year": 2022
        },
        {
            "authors": [
                "I Gonz\u00e1lez-Rodr\u00edguez",
                "J Puente",
                "JJ Palacios",
                "CR. Vela"
            ],
            "title": "Multiobjective evolutionary algorithm for solving energy-aware fuzzy job shop problems",
            "venue": "Soft Computing",
            "year": 2020
        },
        {
            "authors": [
                "S Afsar",
                "JJ Palacios",
                "J Puente",
                "CR Vela",
                "I. Gonz\u00e1lez-Rodr\u00edguez"
            ],
            "title": "Multi-objective enhanced memetic algorithm for green job shop scheduling with uncertain times",
            "venue": "Swarm and Evolutionary Computation",
            "year": 2022
        },
        {
            "authors": [
                "Z Pan",
                "D Lei",
                "L. Wang"
            ],
            "title": "A Bi-Population Evolutionary Algorithm With Feedback for Energy-Efficient Fuzzy Flexible Job Shop Scheduling",
            "venue": "IEEE Transactions on Systems, Man, and Cybernetics: Systems",
            "year": 2022
        },
        {
            "authors": [
                "R Li",
                "W Gong",
                "C Lu",
                "L. Wang"
            ],
            "title": "A Learning-based Memetic Algorithm for Energy-Efficient Flexible Job Shop Scheduling With Type-2 Fuzzy Processing Time",
            "venue": "IEEE Transactions on Evolutionary Computation",
            "year": 2022
        },
        {
            "authors": [
                "D Dubois",
                "H. Prade"
            ],
            "title": "Fuzzy numbers: An overview",
            "venue": "Readings in Fuzzy Sets for Intelligent Systems",
            "year": 1993
        },
        {
            "authors": [
                "M Hapke",
                "R. Slowinski"
            ],
            "title": "Fuzzy priority heuristics for project scheduling",
            "venue": "Fuzzy Sets and Systems",
            "year": 1996
        },
        {
            "authors": [
                "S. Heilpern"
            ],
            "title": "The expected value of a fuzzy number",
            "venue": "Fuzzy Sets and Systems",
            "year": 1992
        },
        {
            "authors": [
                "L Shen",
                "S Dauz\u00e8re-P\u00e9r\u00e9s",
                "JS. Neufeld"
            ],
            "title": "Solving the flexible job shop scheduling problem with sequence-dependent setup times",
            "venue": "European Journal of Operational Research",
            "year": 2018
        },
        {
            "authors": [
                "P Garc\u00eda G\u00f3mez",
                "CR Vela",
                "I. Gonz\u00e1lez-Rodr\u00edguez"
            ],
            "title": "A memetic algorithm to minimize the total weighted tardiness in the fuzzy flexible job shop",
            "venue": "Proceedings of the 19th Conference of the Spanish Association for Artificial Intelligence,",
            "year": 2020
        },
        {
            "authors": [
                "H Cobb",
                "J. Grefenstette"
            ],
            "title": "Genetic Algorithms for trakcing changing environments",
            "venue": "Forrest S, editor. Proceedings of the Fifth International Conference on Genetic Algorithms. Morgan Kaufmann Publishers;",
            "year": 1993
        },
        {
            "authors": [
                "Yang WX"
            ],
            "title": "An improved genetic algorithm adopting immigration operator",
            "venue": "Intelligent Data Analysis",
            "year": 2004
        },
        {
            "authors": [
                "LN Xing",
                "YW Chen",
                "KW Yang",
                "F Hou",
                "XS Shen",
                "HP. Cai"
            ],
            "title": "A hybrid approach combining an improved genetic algorithm and optimization strategies for the asymmetric traveling salesman problem",
            "venue": "Engineering Applications of Artificial Intelligence",
            "year": 2008
        },
        {
            "authors": [
                "M Dell\u2019Amico",
                "M. Trubian"
            ],
            "title": "Applying tabu search to the jobshop scheduling problem",
            "venue": "Annals of Operations Research",
            "year": 1993
        },
        {
            "authors": [
                "MA Gonz\u00e1lez",
                "CR Vela",
                "R. Varela"
            ],
            "title": "An Efficient Memetic Algorithm for the Flexible Job Shop with Setup Times",
            "venue": "Proceedings of the Twenty-Third International Conference on Automated Planning and Scheduling,",
            "year": 2013
        },
        {
            "authors": [
                "E Nowicki",
                "C. Smutnicki"
            ],
            "title": "A Fast Taboo Search Algorithm for the Job Shop Problem",
            "venue": "Management Science",
            "year": 1996
        },
        {
            "authors": [
                "S Dauz\u00e8re-P\u00e9r\u00e8s",
                "J. Paulli"
            ],
            "title": "An integrated approach for modeling and solving the general multiprocessor job-shop scheduling problem using tabu search",
            "venue": "Annals of Operations Research",
            "year": 1997
        },
        {
            "authors": [
                "S Strassl",
                "N. Musliu"
            ],
            "title": "Instance space analysis and algorithm selection for the job shop scheduling problem",
            "venue": "Computers & Operations Research",
            "year": 2022
        },
        {
            "authors": [
                "Streeter MJ",
                "Smith SF"
            ],
            "title": "How the landscape of random job shop scheduling instances depends on the ratio of jobs to machines",
            "venue": "Journal of Artificial Intelligence Research",
            "year": 2006
        }
    ],
    "sections": [
        {
            "text": "Keywords: Flexible job shop scheduling, energy consumption, fuzzy numbers, memetic algorithm"
        },
        {
            "heading": "1. Introduction",
            "text": "Scheduling [1,2] is a classical manufacturing problem that consists in organizing the execution of a set of tasks or operations to make the best use of the available resources under some constraints in order to fulfill some objectives. Solving scheduling problems is essential not only in industrial applications [3,4], in particular in Industry 4.0 and 5.0 [5], but also in healthcare [6,7], computing infrastructures [8] or education [9]. Besides its undeniable applicability, scheduling also poses a computational challenge, since many of its problems are NP-Hard [10].\nDue to their complexity, most of these problems are intractable, so exact algorithms cannot be applied except for the smallest instances. In consequence, researchers have been developing approximate search\n\u2217Corresponding author: Camino R. Vela, Universidad de Oviedo, Oviedo, Spain. E-mail: crvela@uniovi.es.\nstrategies that no longer guarantee optimality but provide instead good enough solutions within a reasonable amount of time [11\u201313].\nA main source of inspiration for developing new approximate optimization algorithms have been natural phenomena [14\u201323]. These methods imitate nature to explore the search space in smart ways that reduce their computational cost and have proved successful in several real-world applications [24\u201327]. More recently, the design of solving methods for hard optimization problems has advanced considerably with the development of hyper-heuristics, search or learning methods that either select or generate heuristics [28,29], and with the growth of hybrid metaheuristics that combine several search strategies to take advantage of their strengths while at the same time reducing their shortcomings [30]. In particular, memetic algorithms are a type of hybrid algorithms which combine population-based algorithms with trajectory-based search methods or other specialized search procedures [31\u201333]. They have become popular methods to solve hard combinatorial problems\nISSN 1069-2509 c\u00a9 2023 \u2013 The authors. Published by IOS Press. This is an Open Access article distributed under the terms of the Creative Commons Attribution License (CC BY 4.0).\nbecause they provide a very good balance between exploration of the search space and exploitation of the most promising areas [34].\nA source of hard optimization problems in the field of scheduling which have been successfully tackled with approximate search algorithms is the family of job shop scheduling problems [35]. The job shop constitutes a thriving area of research, with many of its variants modelling practical engineering and social applications [36]. In particular, the flexible job shop problem has become a popular research topic because it corresponds to many situations arising in industries such as automobile assembly, textile manufacturing, chemical processing or semiconductor manufacturing [37]. This variant of the job shop not only deals with an operation-sequencing problem, but it also incorporates a machine-assignment subproblem. Due to its increased complexity, most of the proposed solving methods fall within the category of metaheuristics [37\u201341].\nThe objective of scheduling problems has continuously evolved since the earliest days of industrialization. Historically, the most common objective was minimizing the time span between the start and the end of the project, known as makespan. While still a relevant objective, it has increasingly been replaced by or combined with other production-related measures such as minimizing tardiness, motivated by inventory management considerations and the growing complexity of supply-chain systems. More recently, energy efficiency and other green objectives have been incorporated, driven by the need to comply with new laws and regulations in industry that seek a reduction in environmental footprint as well as by the surge in energy costs caused not only by these regulations, but also by highly-tensed geopolitical relations. As a result, there has been a steady increase in research devoted to energy efficiency and sustainability within the field of scheduling [3,8,33,42\u201347].\nDespite being a relatively new topic, it is possible to find in the literature several contributions concerned with reducing energy consumption in job shop scheduling problems [48]. They can be organized into three different non-exclusive high-level approaches.\nThe first one consists in scheduling operations in such a way that the energy consumed when resources are actively processing operations and when they are kept idle is as low as possible. Following this approach, a multiobjective genetic algorithm based on NSGA-II is proposed in [49] to solve the job shop minimizing the total energy consumption and total weighted tardiness. This work is improved in [50] introducing additional\ncomponents to help the search. In [47] the model is further extended with the addition of crane transportation between machines.\nThe second approach consists in allowing to turn on and off the resources during project execution. Thus, if a resource is going to be idle for a long time it can be turned off and the extra energy used in the starting-up process may be compensated with the savings during the off period. This approach is taken in [46], where the model and method from [49] are extended to allow for switching on and off the resources. This is also the energy model in [51], where new job arrivals are considered and a backtracking search algorithm is proposed.\nThe third approach consists in slowing down resources so that they consume less energy at the cost of taking longer to process the operations. Within this framework, a multi-objective genetic algorithm incorporated with two problem-specific local improvement strategies is used in [52] to reduce total weighted tardiness together with energy consumption in a job shop problem. In [53] the authors consider a job shop with flexibility and they use a shuffled frog-leaping algorithm to reduce total energy consumption and workload.\nThe choice of one framework over the others depends on the problem under consideration. In [54] all of them are combined in a flexible job shop and a nondominated sorted genetic algorithm is used to optimize the makespan, the energy consumption and the number of times resources are turned on/off simultaneously.\nThe majority of research devoted to scheduling in general, and to energy-efficient scheduling in particular, assumes a deterministic setting. However, uncertainty pervades real-life problems and its management poses a challenge in industry 5.0 [5]. Hence the relevance of the subfield of fuzzy shop scheduling [55,56], where uncertainty is handled using fuzzy numbers. This approach considers a whole range of possible durations during the solving process and thus yields more robust solutions [57]. Triangular fuzzy numbers are probably the most extended model for uncertain durations in scheduling problems (see [55,58] and references therein). As pointed out in [59], they provide a good balance between expressiveness, computing cost and ease of understanding. Indeed, in most cases there is not enough available knowledge to model uncertain processing times by a probability distribution, but it may be possible to provide an interval that is supposed to contain the eventually observed value of a processing time. Simple intervals have a limited expressive power: if they are too wide, they are not informative enough to be of any use and, if they are too narrow, they may\nnot contain the whole range of possible values for a processing time. An intermediate model is the triangular fuzzy number, which provides an estimate of the processing time using an interval of possible values and the most likely value in it [60].\nIn the literature, it is possible to find different metaheuristic proposals to optimize production-related objectives in a fuzzy setting [12,55] and, in particular, in the fuzzy flexible job shop (see [61,62] for recent and thorough literature reviews). Research in solving problems that combine uncertainty and energy consumption is still incipient, with the proposed solving methods always in the category of metaheuristics and with a majority of memetic algorithms. In [63] the authors propose an evolutionary algorithm to reduce the nonprocessing energy and the total weighted tardiness in a fuzzy job shop, while two memetic algorithms are proposed in [64] and [41], the former to minimize the non-processing energy and the makespan in a fuzzy job shop and the latter to minimize total energy consumption in a flexible job shop. A multiobjective fuzzy flexible job shop problem is tackled in [65], with the goal of minimising the fuzzy makespan together with the fuzzy total energy consumption as well as maximising flexible due-date satisfaction. The proposed solving method is a bi-population evolutionary algorithm with a feedback mechanism and enhanced local search, thus falling in the category of memetic algorithms. Finally, in a slightly different uncertainty framework, a learning-based memetic algorithm is proposed in [66] to minimize makespan and energy consumption in a bi-objective flexible job shop with type-two fuzzy processing times.\nIn this work we will tackle a fuzzy flexible job shop problem with the goal of minimizing energy consumption. Specifically, we will consider uncertainty in the processing time of operations modelled as triangular fuzzy numbers and the objective will be to minimize the total energy consumption, a fuzzy quantity defined as the sum of the passive energy, consumed by resources as soon as they are on, whether idle or working, and the active energy, consumed by resources on top of the passive energy when they are processing operations. As solving method, we propose an enhanced memetic algorithm, called EMA. Our proposal builds on the simple memetic algorithm (SMA) proposed in [41] as a first approach to solving the problem at hand. To improve the performance of SMA we will introduce several new components that enhance the method\u2019s search ability. These components pursue a better integration of the exploration provided by the evolutionary component and\nthe exploitation provided by the local search. We claim that by altering the balance along the search between these opposite behaviors the search can be more effective. These new components not only make a difference with the work in [41] but also are novel with respect to those used in other similar methods of the scheduling literature as [38].\nThe contribution of this work is twofold. On the one hand, we propose an enhanced memetic algorithm EMA which improves the state of the art by incorporating new strategies that considerably reduce the computational cost of the search without deteriorating the quality of the obtained solutions. In particular, we propose:\n\u2013 a new methodology for evolving the population with increased diversity along the search; \u2013 a heuristic seeding mechanism that inserts some expected good traits in the initial population to help in the early stages of the search; \u2013 a new adaptive strategy to control the local search component which translates into an incremental tabu search that strengthens intensification when the search stagnates.\nOn the other hand, we provide an extensive and thorough computational study to evaluate the proposed method. The experimental results will allow for the following:\n\u2013 an analysis of the search results in relation to the different features characterizing problem instances; \u2013 a study of the synergies between the two main components of the memetic algorithm: the evolutionary module and the tabu search; \u2013 an analysis of the effects of a filtering mechanism in the local search that discards uninteresting solutions without completely evaluating them to gain efficiency; \u2013 an evaluation of the contribution of the different neighborhood structures used in the local search.\nThe rest of the paper is organized as follows: Section 2 formally defines the problem, Section 3 describes the proposed algorithm and Section 4 reports and analyzes the experimental results to evaluate the potential of our proposal. Finally, Section 5 presents some conclusions."
        },
        {
            "heading": "2. Problem formulation",
            "text": "The job shop scheduling problem consists in scheduling a set O of operations (also called tasks) in a setR\nof m resources (also called machines) subject to a set of constraints. Operations are organized in a set J of n jobs, so operations within a job must be sequentially scheduled. Given an operation o \u2208 O, the job to which it belongs will be denoted by \u03c7o \u2208 J and the position in which it has to be executed relative to this job will be denoted by \u03b7o. The total number of operations in a job j is nj . There exist capacity constraints, by which each operation requires the uninterrupted and exclusive use of one of the resources for its whole processing time. An operation o \u2208 O may be executed in any resource from a given set Ro \u2286 R and its processing time por depends on the resource r \u2208 Ro where it is executed."
        },
        {
            "heading": "2.1. Fuzzy processing times",
            "text": "We model processing times as triangular fuzzy numbers (TFNs), a particular type of fuzzy numbers [67], with an interval [a1, a3] of possible values and a modal value a2. A TFN can be represented as a triplet a = (a1, a2, a3) and its membership function is given by the following expression:\n\u00b5a(x) =  x\u2212a1 a2\u2212a1 a 1 6 x 6 a2 x\u2212a3 a2\u2212a3 a 2 6 x 6 a3\n0 x < a1 \u2228 a3 < x (1)\nFor our problem, we need two arithmetic operations between TFNs, the sum and the maximum, as well as the scalar multiplication with a real number d. All these operations can be obtained using the extension principle but, unfortunately, the set of TFNs is not closed under the maximum and for this reason we rely on an approximation thereof. This way, the sum of two TFNs a and b is given by:\na+ b = (a1 + b1, a2 + b2, a3 + b3), (2)\nthe scalar multiplication is given by:\nda = (da1, da2, da3), (3)\nand the maximum is approximated using interpolation on its three defining points as:\nmax(a, b) \u2248 (max(a1, b1),max(a2, b2), (4)\nmax(a3, b3))\nWhen the result of the actual maximum operation is a TFN, then it coincides with the approximated value from Eq. (4). When this is not the case, the approximation maintains the support and modal value of the non-approximated maximum. Maintaining the support is in fact a very important property in scheduling since a good model of uncertainty should contemplate all\npossible scenarios. If the support were not maintained under the maximum, the resulting fuzzy schedule might not cover starting or completion times for operations which are actually attainable in a real scenario, resulting in poor and incomplete solutions. The interested reader is referred to [57] and references therein for further arguments supporting the use of this approximation, widely used in fuzzy scheduling.\nAnother important characteristic to be taken into account when working with TFNs (or fuzzy numbers in general) is that the subtraction is not the inverse of the addition. Indeed, following the Extension Principle, the subtraction of two TFNs a and b is defined as:\na\u2212 b = (a1 \u2212 b3, a2 \u2212 b2, a3 \u2212 b1) (5)\nClearly (a+b)\u2212b 6= a. This is so because the definition assumes that a and b are non-interactive variables, that is, they can be assigned values within their support independently of each other [67]. However, when both TFNs a and b are linked, applying the subtraction results in an over-imprecise quantity.\nIn scheduling, it may be the case that we have two TFNs a and b which are indeed linked in the sense that a is the result of adding b to a third TFN c, that is, there exists c such that a = b+c, and we may be interested in recovering c from a and b. In this case, we can compute the inverse of the sum as follows:\na b = (a1 \u2212 b1, a2 \u2212 b2, a3 \u2212 b3) (6)\nso c = a b. One could say that we want to \u201cremove\u201d b from a to obtain c, so we shall refer to the operation as operation remove. The use of such an inverse of the fuzzy addition in scheduling dates back to [68].\nFinally, since there exists no natural relation of total order for TFNs, we need to resort to some ranking method. Here, we will use a ranking based on the expected value of TFNs, so\na 6E b iff E[a] 6 E[b] (7)\nwhere E[a] = a 1+2a2+a3\n4 is the expression of the expected value of a fuzzy number in the particular case of a TFN [69]. Besides its wide use in the fuzzy scheduling literature, the choice of this ranking method is supported by some empirical analysis that suggests that using it contributes to the robustness of the obtained solutions [57]."
        },
        {
            "heading": "2.2. Fuzzy schedules",
            "text": "A schedule is a solution to the problem, a pair (\u03c4 , s) consisting of both a resource assignment \u03c4 and starting\ntime assignment s for all operations. A solution is said to be feasible if all constraints hold. For an operation o \u2208 O, let \u03c4o be the resource assigned to o in this solution and let so and co = so+po\u03c4o be its starting and completion times respectively. Then, for an arbitrary pair of operations u, v \u2208 O precedence constraints within a job hold if and only if \u2200i ciu 6 siv when \u03c7u = \u03c7v, \u03b7u < \u03b7v and capacity constraints hold if and only if \u2200i ciu 6 siv\u2228\u2200i civ 6 siu when \u03c4u = \u03c4v for i \u2208 {1, 2, 3}.\nNotice that the starting time assignment s induces a global operation processing order \u03c3 and a resource operation processing order \u03b4r for every r \u2208 R. The position of operation o in \u03c3 is denoted by \u03c3o and the position in which operation o is executed in resource \u03c4o is denoted by \u03b4o.\nFor a given a feasible solution (\u03c4 , s), the fuzzy makespan is defined as:\nCmax = max j\u2208J Cj (8)\nwhere Cj denotes the completion time of job j, that is, Cj = co for the operation o such that \u03c7o = j, \u03b7o = nj ."
        },
        {
            "heading": "2.3. Total energy objective function",
            "text": "In the fuzzy flexible job shop problem we consider two types of energy: active energy and passive energy. Passive energy PEr is intrinsic to each resource r \u2208 R and is consumed whenever the resource is on. It is the product of the passive power consumption of the resource PPr and the time r is on. We consider that all resources are turned on at the same time (at instant 0) and turned off when all operations are completed, i.e., resources are on for the entire makespan. Thus,\nPEr = PPrCmax (9)\nActive energy consumption AEor occurs when an operation o is processed in a resource r. It depends on the power APor required to execute operation o in resource r, so:\nAEor = APorpor (10)\nWe adopt an additive model so the total energy consumption Er of a resource r \u2208 R is the result of adding the passive and the active energy as follows:\nEr = PEr + \u2211\no\u2208O,\u03c4o=r AEor (11)\nGiven these definitions, the total energy consumption is obtained as the sum of the total energy consumption of each resource:\nE = \u2211 r\u2208R Er (12)\nThis energy model corresponds to the first high-level approach to energy consumption as explained in Section 1. However, it is formulated in a somewhat different way to how it is done in the deterministic setting. In deterministic scheduling, the possible states of the resources are usually disjoint, so they can contribute to either the processing energy cost (the energy consumed when they are executing) or the non-processing energy cost (the energy consumed when they are idle). To compute the latter, it is necessary to calculate the idle time periods for each resource, i.e., the time span between the end of an operation and the start of the following one in the same resource. When durations are real numbers, this is easily done by subtracting the completion time of the first operation from the starting time of the second. However, a direct translation of this approach to the fuzzy job shop means subtracting non-interactive quantities, thus introducing some undesired and artificial uncertainty, as explained above in Section 2.1. For this reason, inspired by energy models used to reduce energy consumption in data centers, we propose instead to make use of overlapping states, resulting in an additive model where the two involved energies are aggregated. Notice that in the deterministic case both approaches, the standard one using disjoint states and the one adopted here using overlapping states are in fact equivalent. In the fuzzy setting, this alternative model has the advantage of avoiding added artificial uncertainty. This is so because it decomposes the total energy calculation in a way that does not imply subtracting interactive fuzzy numbers. The use of overlapping resource states with the goal of avoiding computing the length of idle periods under uncertainty is also underlying the definition of fuzzy total energy proposed in [65], although here the authors assume that resources are turned off individually."
        },
        {
            "heading": "2.4. MILP model",
            "text": "In this section we present a MILP model based on [70]. As mentioned in Section 2.2, a solution to the problem is given by a pair (\u03c4 , s) consisting of both a resource assignment \u03c4 and a starting time assignment s for all operations. This suggests defining two types of binary decision variables. For every operation o \u2208 O and every resource r \u2208 Ro, let\nXor = { 1 if o is scheduled in r, 0 otherwise;\n(13)\nand for every pair of operations u, v \u2208 O, let\nYuv =  1 if u is the immediate predecessor\nof v in their resource, 0 otherwise.\n(14)\nIt is trivial that the variables Xor give us enough information to build \u03c4 , and Yuv to build a global operation order \u03c3. However, for the solution to be complete we need the actual starting times, represented by another set of variables sio, i \u2208 {1, 2, 3}, o \u2208 O, corresponding to the i-th component of the starting time of operation so, a TFNs. The resulting MILP model is:\nminE[E] (15)\nsubject to\u2211 r\u2208Ro Xor = 1 \u2200o \u2208 O (16)\n\u2211 v\u2208O Yuv 6 1 \u2200u \u2208 O (17)\nsiu > s i v + \u2211 r\u2208R(v) Xvrp i vr\n(18) \u2200u, v \u2208 O, \u03b7u = \u03b7v + 1, i \u2208 {1, 2, 3}\nsiu > s i v + \u2211 r\u2208Ru\u2229Ru Xvrp i vr \u2212W ((1\u2212 Yuv)\n+ (1\u2212Xur) + (1\u2212Xvr)) (19)\n\u2200u, v \u2208 O, u 6= v, i \u2208 {1, 2, 3}\nsiv > s i u + \u2211 r\u2208Ru\u2229Ru Xurp i ur \u2212W ((1\u2212 Yuv)\n+ (1\u2212Xur) +Xvr) (20)\n\u2200u, v \u2208 O, u 6= v, i \u2208 {1, 2, 3}\n0 6 s1o 6 s 2 o 6 s 3 o \u2200o \u2208 O (21)\nCimax > s i o + \u2211 r\u2208R(o) Xorp i or\n(22) \u2200o \u2208 O, i \u2208 {1, 2, 3}\nPEir = PP i rC i max \u2200r \u2208 R, i \u2208 {1, 2, 3} (23)\nAEior = XorAP i orp i or\n(24) \u2200o \u2208 O,\u2200r \u2208 R, i \u2208 {1, 2, 3}\nEir = PE i r + \u2211 o\u2208O\nAEior (25)\n\u2200r \u2208 R, i \u2208 {1, 2, 3} Ei = \u2211 r\u2208R Eir \u2200r \u2208 R, i \u2208 {1, 2, 3} (26)\nEquation (16) ensures that operations are assigned to exactly one resource and Eq. (17) ensures that operations have at most one immediate predecessor in the resource. These two equations conform the two basic constraints of the problem. In order to define the starting time of operations, Eq. (18) ensures that the starting time of an operation is greater or equal than the addition of the starting and processing times of its predecessor in the job, so precedence constraints within jobs hold. Analogously, Eqs (19) and (20) prevents overlapping of operations in the same resource. Finally, Eqs (22)\u2013(26) model the objective function, that is, the total energy consumption."
        },
        {
            "heading": "3. An enhanced memetic algorithm",
            "text": "As solving method we propose a memetic algorithm (see Fig. 1), a hybrid metaheuristic combining an evolutionary algorithm with local search, taking advantage of the synergies between both methods."
        },
        {
            "heading": "3.1. Evolutionary algorithm",
            "text": "The evolutionary algorithm maintains a population of solutions so, at each generation, the individuals in\nthe population are combined to obtain a new population that will replace the old one. A solution (\u03c4 , s) is represented by the tuple (\u03c4 ,\u03c3), i.e., the resource assignments and the global processing order induced by s. To decode an individual, each operation is assigned the earliest starting time such that the order defined by \u03c3 is not altered. Individuals in the population are randomly matched, giving everyone an equal chance to reproduce, and each pair is combined by means of a crossover operator that generates two offspring. Here we use the extension of the Generalized Order Crossover (GOX) proposed in [71]. After crossover, the generated offspring are improved using tabu search. Then, a tournament among the parents and their two offspring is used to select the two individuals that will pass on to the next population. Because tournament is used as the replacement operator, the crossover operator is applied unconditionally. The evolution process finishes after ev_st_it generations without improvement. So far, this search procedure essentially corresponds to the simple memetic algorithm SMA from [41]. We now propose to enhance this framework with two new additional components that improve its overall performance: a heuristic seeding mechanism and an immigration operator."
        },
        {
            "heading": "3.1.1. Heuristic seeding",
            "text": "The first novel component of the memetic algorithm is a heuristic seeding mechanism that inserts some expected good traits in the initial population to help in the early stages of the search. The underlying idea is to add some knowledge about the problem to otherwise random solutions so they can be easily improved without great diversity loss. Here we propose two complementary strategies that either focus on reducing operation processing time or active energy.\nThe first heuristic strategy consists in generating \u03c4 by allocating each operation o to the resource with the smallest processing time, that is:\n\u03c4o = arg min r\u2208Ro por (27)\nthen, the order \u03c3 in which operations are executed within the resources is generated at random.\nThe second heuristic strategy consists in assigning an operation o to the most efficient resource for that operation in the sense that it incurs in the smallest active energy consumption, that is:\n\u03c4o = arg min r\u2208Ro AEor (28)\nThen, as in the first heuristic, the order \u03c3 is obtained at random.\nIn general, heuristic rules are designed to generate solutions with interesting or promising features, but there is no guarantee that these features are indeed shared by optimal solutions. Therefore, generating the whole initial population using the proposed heuristic rules may have the undesired effect of leading the evolutionary algorithm away from good areas of the search space. For this reason, we propose to generate 25% of the population using Eq. (27), other 25% of the population using Eq. (28) and the remaining 50% of the population completely at random. This way, although we are slightly reducing diversity with respect to having a fully random initial population, the obtained population is still quite heterogeneous. At the same time, thanks to the heuristic seeding the algorithm is focusing from the start on certain areas of the search space which are expected to contain interesting solutions and which may be left unexplored should we consider only random initial solutions."
        },
        {
            "heading": "3.1.2. Immigration Operator",
            "text": "We also propose a new methodology for evolving the population with increased diversity along the search. Diversity is usually achieved by means of a mutation operator, however, in our case, having an intensification operator based on local search causes subtle mutations to have little or no effect. At the same time, stronger mutations seem undesirable, since they annul the crossover operator by removing from the individual promising traits inherited from its parents. For this reason, we use a new immigration operator to introduce diversity.\nImmigration operators [72] might be thought of as a means of continually ensuring high diversity in the population by somehow introducing completely new individuals (the \u201cimmigrants\u201d bringing progress to the population). Immigration operators usually involve a strategy to remove some individuals from the population to make room for the new ones [73,74], in order to keep a constant population size. We have opted instead to keep all the existing individuals and allow the population size to grow along the search with the new immigrants. The goal is to keep all the acquired knowledge, without losing any interesting traits. This should increase the diversity in the population and the area of the search space it covers, although it also incurs in a higher computational cost for the search. Therefore, we introduce new individuals only when the search seems to be stagnating and new features might be needed to explore new areas of the search space, which is when ev_im_it generations have passed without improvement. When this happens, ev_im_ind immigrants are gener-\nated using the same procedure employed to generate the heuristic initial population (Section 3.1.1) and are added to the existing population. The rationale behind this operator is that, while the population is evolving at a good rate, it should not be disrupted, but when it is starting to stagnate it should be reactivated introducing new individuals with probably new traits.\nThe two new modifications could be seen as contradictory, since the heuristic seeding reduces diversity in the population while the immigration operator tries to increase it. However, what we are really doing is shifting the stress on diversity to later stages of the search. Without the immigration operator diversity would be only introduced at the start of the search, which does not give the chance to find new interesting traits later."
        },
        {
            "heading": "3.2. Tabu search algorithm",
            "text": "Tabu search is a local search algorithm that keeps a memory structure, called tabu list, where it stores a trace of the recently visited search space. In particular, to avoid undoing recently made moves, we store in the tabu list the inverse of the moves performed to obtain the neighbors. Our tabu list has a dynamic size, similar to the one introduced in [75], so the size of the list can vary between a lower bound tb_lst_ubr and an upper bound tb_lst_lbr. When the selected neighbor is worse (resp. better) than the current solution and the upper (resp. lower) bound has not been reached, the list\u2019s size increases (resp. decreases) in one unit. If the selected neighbor is the best solution found so far, the list is cleared; this is similar to restarting the search from this solution. We also incorporate an aspiration criterion, so a tabu move can be executed if it improves the best solution found up to this moment. In the rare situation that all neighbors are tabu, we choose the best one, clear the tabu list and slightly change its bounds by picking a random number within a given range."
        },
        {
            "heading": "3.2.1. Neighborhood function",
            "text": "The neighborhood function lies at the core of any local search. To define the function used in this work, we start by introducing some preliminary notation.\nGiven a solution \u03c6 = (\u03c4 ,\u03c3) and an operation o, let JPo (resp. JSo) denote the predecessor (resp. successor) of o in its job, RPo(\u03c6) (resp. RSo(\u03c6)) its predecessor (resp. successor) in its resource and po(\u03c6) its processing time in the resource it is assigned to. Then, the head ho(\u03c6) of operation o is its earliest starting time:\nho(\u03c6) = max{hJPo(\u03c6) + pJPo(\u03c6), (29)\nhRPo(\u03c6)(\u03c6) + pRPo(\u03c6)(\u03c6), (0, 0, 0)} and its tail qo(\u03c6) is the time left once o has been processed until all other operations are completed:\nqo(\u03c6) = max{qJSo(\u03c6) + pJSo(\u03c6), (30)\nqRSo(\u03c6)(\u03c6) + pRSo(\u03c6)(\u03c6), (0, 0, 0)} An operation o is said to be makespan-critical in a solution \u03c6 if there exists a component i of the fuzzy makespan such that Cimax = (ho(\u03c6) + po(\u03c6) + qo(\u03c6))\ni. A makespan-critical block for a component i is a maximal sequence of operations all requiring the same resource, such that no pair of consecutive operations belong to the same job and where Cimax = (ho(\u03c6) + po(\u03c6) + qo(\u03c6))\ni holds for every operation in the block. The set of all makespan-critical operations is denoted TCmax and the set of all makespan-critical blocks is BCmax .\nSince our energy function in Eq. (12) is obtained by adding the passive and the active energy of each resource, we distinguish two types of neighbors.\nFirst, to reduce the passive energy consumption we have to reduce the time the resources are active and this can only happen if we reduce the makespan. Clearly, a neighbor can only improve in terms of makespan (and hence, in passive energy consumption) if there is some change in makespan-critical operations. Also, if a neighbor is obtained by exchanging the position of two consecutive operations, it can be proved that it can only improve in terms of makespan if the operations lie at the extreme of a makespan-critical block. This motivates the definition of a neighborhood function for passive energy that is the union of two smaller ones, one that acts on the resource assignment (NMCORR) based on [76] and one that acts on the order of the operations (NMCET) based on [77].\nNeighbors in NMCORR are obtained by allocating a critical operation in a different resource.\nDefinition 1. Makespan-critical operation resource reassignment neighborhood (NMCORR). For a feasible solution \u03c6 = (\u03c4 ,\u03c3), let \u03c4(o,r) denote the assignment that results from reassigning operation o to resource r. Then:\nNMCORR(\u03c6) = {(\u03c4(o,r),\u03c3) : o \u2208 TCmax , (31)\nr \u2208 Ro, r 6= \u03c4o} Neighbors in NMCET are obtained by swapping two\noperations at the extreme of a critical block.\nDefinition 2. Makespan-critical end transpose neighborhood (NMCET). For a feasible solution \u03c6 = (\u03c4 ,\u03c3),\nlet \u03c3(u,v) denote the operation processing order that results from inverting the positions of operations u and v in the same resource. Then:\nNMCET(\u03c6) = {(\u03c4 ,\u03c3(u,v)) : u, v are at the (32)\nextreme of any b \u2208 BCmax}\nSecond, active energy consumption can only be reduced by moving operations to a more efficient resource. This motivates the definition of neighborhood NOPERR.\nDefinition 3. Operation power-efficient resource reassignment neighborhood (NOPERR). For a feasible solution \u03c6 = (\u03c4 ,\u03c3), let \u03c4(o,r) denote the assignment that results from reassigning operation o to resource r. Then:\nNOPERR(\u03c6) = {(\u03c4(o,r),\u03c3) : r \u2208 Ro, r 6= \u03c4o, (33)\nAEor < AEo\u03c4o}\nThe complete neighborhood is obtained as the union of the two neighborhoods aiming at reducing passive energy and the neighborhood aimed at reducing active energy:\nN = NMCET \u222aNMCORR \u222aNOPERR. (34)\nIt is worth mentioning that, although we have designed NMCORR and NOPERR to reduce one component of the energy, they can also alter the other one because they move operations between resources. Moreover, there can exist some overlapping between them, i.e., there may be repeated neighbors. On the other hand, NMCET can only alter passive energy. In Section 4 we shall present an empirical analysis of how each perturbation affects the search."
        },
        {
            "heading": "3.2.2. Neighbor filtering mechanism",
            "text": "As neighbor evaluation is the most time-consuming part of the local search, we make use of a filtering mechanism to discard uninteresting solutions and make this process faster. This mechanism assumes that for a neighbor it is possible to compute a lower bound of the objective function value. Then, the filtering consists in evaluating the neighbors following the order defined by the lower bound, stopping as soon as the lower bound of a neighbor is greater than the exact value of any of the already evaluated solutions.\nIn the case of active energy, the new exact value of a neighbor can be easily calculated as follows. For the active energy to change, the neighbor must have been obtained by moving an operation from one resource to\nanother. Then, we only need to remove the operation\u2019s energy consumption in the old resource from the current active energy value and then add the operation\u2019s energy consumption in the new resource. Notice that here we are making use of the inverse of the sum because we are interested in obtaining the inverse of an addition. In the case of passive energy, calculating the exact value in the neighbor is not trivial, so we rely on the lower bound for the makespan proposed in [38]. In this way, we can obtain a lower bound for the total energy consumption.\nThis mechanism allows to discard many non-improving neighbors without getting to evaluate them while keeping the same neighbor selection that we would obtain using the expensive exact value calculation for all neighbors. This is because a neighbor is discarded only if its real energy value is worse than that of the selected individual, since the energy\u2019s lower bound is also worse. Notice that, since the neighbor selection is the same as using the exact evaluation, the results of every run of the tabu search will be the same as using the exact evaluation, so the filtering mechanism does not alter in any way the course of the algorithm even if it substantially reduces its execution time."
        },
        {
            "heading": "3.2.3. Adaptive stopping criterion",
            "text": "The intensification phase is by far the most computationally demanding one in the hybrid method. For this reason, we propose to introduce a new mechanism to make a better use of the running time given to the tabu search. We propose a new adaptive strategy to control the number of iterations and, in consequence, the running time used by the local search component which translates into an incremental tabu search that strengthens intensification when the search stagnates. The point here is that tabu search in the job shop problem is quite dependent on the starting point, as we shall see in Section 4. For this reason, it seems reasonable not to spend too long on local search in the earlier iterations of the memetic algorithm, when the quality of individuals in the population, that is, the starting points of the tabu search, is not that high. In the earlier stages of the evolution, short runs of the local search will produce considerable improvements. But as the search progresses and our population improves, we will increase the depth of the intensification. We do this by allowing the tabu search to run for more iterations. Specifically, the tabu search will have a dynamic stopping criterion, so it stops after a given number of iterations without improving. When the search starts, this maximum number of iterations will take a value ls_st_it, but after ls_st_incr_it non-improving generations of the memetic algorithm, this value will be incremented in ls_st_incr units. In this way, the intensification power slowly increases."
        },
        {
            "heading": "4. Experimental results",
            "text": "The purpose of this experimental study is twofold. On the one hand, we intend to assess the performance of our proposal. Therefore, in the first set of experiments we shall evaluate if the algorithm described in Section 3.1, referred to as EMA hereafter, is comparable to the state of the art in terms of solution quality while significantly reducing its runtime. Also, we analyze the results in relation to the different features characterizing problem instances. On the other hand, we want to assess the inner workings of the algorithm. With this objective, we present a second set of experiments to study the synergies between the two search paradigms (evolutionary and local search) hybridized in EMA, analyze the effect of the filtering mechanism that discards uninteresting solutions in the local search and evaluate the contribution of the different neighborhoods to the search.\nThroughout these experiments we will use the 12 instances from [41]. These instances are based on the ones introduced in [38] for a fuzzy flexible job shop, which in turn are fuzzyfied versions of the ones in [78]. In order to understand how the algorithm performs on these instances, we will concisely explain how they have been generated. The parameters for instance generation are shown in Table 1; when an interval is given, this means that the actual values were randomly generated using a uniform distribution. The first three columns correspond to the name of the instance, the number of jobs n and the number of resources m. The fourth column nj corresponds to the range of the number of operations in each job, the fifth column cpor is the range of the deterministic processing time of an operation o in a resource r, the sixth column \u2206(cpor) contains the deviation for cpor for every resource r \u2208 Ro and the last column RP represents the probability that an operation can be executed in a resource, i.e., its flexibility or\nthe size of Ro with respect to R. Using the deterministic value cpor, fuzzy values for the processing time por = (p 1 or, p 2 or, p 3 or) where randomly obtained in such a way that p2or = cpor, p 1 or \u2208 (0.85cpor, cpor] and p3or \u2208 [2cpor\u2212p1or, 1.2cpor]. In the case that no integer number exists in those ranges, then p1or = max{1, cpor \u2212 1} and p3or = max{cpor + 1, cpor + 2}. The passive power consumption was taken as a random value in [80, 120] and the active power consumption was [1.5, 2.5) times the passive power.\nThe values of these parameters allow us to organize instances in different groups, as depicted in Fig. 2. Depending on their size, we have a group of instances with 15 jobs and 8 resources:\n{07a, 08a, 09a, 10a, 11a, 12a}\nand a group of instances with 20 jobs and 15 resources:\n{13a, 14a, 15a, 16a, 17a, 18a}\nThere is another difference between those instances and it is the ratio n/m. In non-flexible job shop instances, this ratio has been found to be a better indicator of their hardness than the mere size [79,80]. This ratio is represented in the x-axis in Fig. 2.\nAlso, we have instances where the processing time of an operation is the same across resources:\n{07a, 08a, 09a, 13a, 14a, 15a}\nand instances where it is resource-dependent:\n{10a, 11a, 12a, 16a, 17a, 18a}\nThe y-axis of Fig. 2 corresponds to (in)dependence of the processing times on the resource. It is important to note that even if the operation processing time is resource-independent, the power required by each resource to process the energy may be different, so even in this case the active energy consumption is dependent on the resource. In other words, we may have instances where different resources take the same time to process an operation but with different efficiency.\nInstances can be further classified depending on their flexibility into three groups:\n{07a, 10a, 13a, 16a}\n{08a, 11a, 14a, 17a}\n{09a, 12a, 15a, 18a}\nTo represent this third dimension in Fig. 2, instance names are included in circles with a radius proportional to their flexibility.\nThis instance taxonomy is important because, as we shall see in the following, we can appreciate certain patterns in the results depending on these features.\nThe parameters used for EMA in this experimental study can be seen in Table 2. It includes the population size (ev_pop_sz); the number of generations without improvement used for the evolutionary algorithm stopping criterion (ev_st_it); the immigration operator rate, that is, the number of individuals inserted (ev_im_ind) after a number of iterations without improving (ev_im_it); the tabu list size lower and upper bound ranges (tb_lst_ubr and tb_lst_lbr) and the parameters for the adaptive stopping criterion, i.e., the initial value for the number of iterations without improvement (ls_st_it) and the number of iterations to be added\nwhen updating this value (ls_st_incr) after a number of iterations without improvement (ls_st_incr_it).\nAll results have been obtained in a Linux machine with two Intel Xeon Gold 6132 processors without Hyper-Threading (14 cores/14 threads) and 128GB RAM using a parallelized implementation of the algorithm in Rust. The source code together with detailed results and benchmark instances can be found at https://pablogarciagomez.com/research."
        },
        {
            "heading": "4.1. Comparison with state of the art",
            "text": "In Table 3 we can see the results obtained with 30 runs of our metaheuristic EMA including a comparison with the state-of-the-art method which, to the best of\nour knowledge, is SMA. Each row except the last one corresponds to an instance. The instance name constitutes the first column. The next columns report for each instance the best and mean expected value of the total energy consumption together with the average runtime obtained with EMA. Next to each energy and runtime value we find its relative difference with respect to the same value for SMA. The last row contains the average relative differences across all instances.\nWe can see that, overall, the mean and best energy values obtained by EMA improve 0.29% and 0.48% respectively with a reduction in CPU time of 17.87%. We can conclude, supported by running a Wilcoxon signed rank test (after rejecting normality with a Shapiro\u00e2A\u0306S\u0327Wilk test), that our proposal EMA is significantly faster than SMA while obtaining comparable results quality-wise.\nA more detailed look at the results shows that for those instances with the lowest flexibility EMA performs worse both in quality and in time. This can be explained because instances with low flexibility are closer to the traditional job shop, i.e., there exists little variation for executing operations in different resources, and thus their search space is smaller. Compared to the parameter setting for SMA presented at [41] we have decreased the initial size of the population ev_pop_size, since the immigration operator in EMA introduces new individuals during the search to increase diversity. Less flexible instances do not seem to need the extra diversity we are seeking to obtain with the immigration operator and instead benefit from a larger initial population that is intensified from the start of the search. However, for instances with higher flexibility, SMA improves both in quality and in time. Besides, for larger instances that also have a higher ratio n/m, SMA obtains a bigger improvement in quality than for instances with a lower ratio. For example, instances 18a and 15a improve 1.65% and 1.67% in quality respectively whereas 12a and 09a only improve 0.87%. However, the improvement in time is the opposite, 12a and 09a improve 56.2% and 46% while 18a and 15a only improve 33% and 36.7%. This suggests that the ratio is an important difficulty indicator, as is in the traditional job shop. This behaviour is represented in Fig. 2, where above the name of each instance we indicate the relative improvement in quality and below, the relative improvement in time.\nIn [41] it is shown that it is precisely in those instances with large size and high flexibility where exact methods (in particular, a constraint programming solver) struggle to find a solution and metaheuristics become more relevant. In consequence, the improvements\nobtained with EMA are very significant. Moreover, we have compared instances in terms of relative error, but it is important to keep in mind that a little relative worsening in a small quantity is not as significant as a big improvement in a large quantity."
        },
        {
            "heading": "4.2. Synergies study",
            "text": "To check the synergies between the evolutionary and local search components of EMA, we run individually each component for the same CPU time as the hybridized version. Finding a fair way of doing this experiment is not easy because each algorithm has different requirements and we have to find a set of parameters that make good use of the total CPU time.\nAlthough we could have stopped the execution of each component after the average running time of EMA, by doing this the search could be stopped in an improvement phase or be unnecessarily extended when it is trapped in an unpromising one. For this reason, each algorithm has been individually configured in such a way that the average execution time is similar to that of EMA but giving each run independence to last longer or shorter, as necessary. To do this, in the evolutionary component we have increased the initial population size to 30000, we add 50 individuals every 5 iterations without improving and we stop the search after 50 iterations without an improvement. In the case of the tabu search, we make 15000 restarts and stop each one after 500 iterations without an improvement. All other parameters are kept as in the main experiment.\nTable 4 reports the relative difference between the results obtained with each component of EMA separately and the results obtained with the complete algorithm, already shown in Table 3. These relative difference values are also depicted as a bar chart in Fig. 3. Only relative differences are shown because neither the evolutionary algorithm nor the tabu search on their own can match the results obtained by EMA and relative differences provide a better insight into how much the results have been altered by using only one of the search strategies.\nIn the case of the tabu search, it gives worse results because local search is very dependent on the starting point, so it is crucial to provide it with a good initial solution. Choosing these initial solutions at random, even with thousands of runs, there is a very low probability of finding a good one. In EMA the evolutionary component is not so much responsible for finding good solutions, but for finding good starting points for the tabu search. This is something evolutionary algorithms excel at because they explore different areas of\nthe search space. On the other hand, the evolutionary algorithm lacks a proper intensification mechanism, so even if it is able to explore different areas, it fails at performing a deeper search in the most promising ones. This can be clearly seen as in smaller instances with little flexibility 07a and 10a the pure evolutionary algorithm can compete with the tabu search, but as instances get harder differences become bigger. In smaller search spaces a shallow exploration yields acceptable results but as the search space increases, the need of a proper intensification becomes evident. We can also conclude that the tabu search clearly dominates the evolutionary module and its relative difference with respect to the memetic EMA is pretty constant across instances."
        },
        {
            "heading": "4.3. Filtering mechanism",
            "text": "In our next experiment we evaluate empirically how many neighbors are filtered using the mechanism described in Section 3.2.2. First of all, it is important to\nnote that the used lower bound is interesting because it is very fast to calculate, as we do not need to propagate the changes made by the neighbors. It is also important to remember that this mechanism leads to the same selection as using the exact value, so there is not any difference as far as the search process is concerned, only in the time taken by the method. In other words, neither the diversification nor the intensification in the algorithm are altered, even if neighbor selection becomes more efficient. In Table 5 we can see for each instance the total number of generated neighbors (column 2) together with the number of neighbors exactly evaluated by EMA to obtain their real energy value (column 3) and the percentage of discarded neighbors with respect to the total (column 3). The last row provides the average across all instances of this percentage of neighbors discarded by the filtering mechanism, which is also illustrated in Fig. 4.\nThe results clearly show that the filtering mechanism has a strong effect, since it enables EMA to discard over 95% of the neighbors. This plays a crucial role in the speed of the algorithm. It is also interesting to notice that the effect is greater as flexibility increases. Larger flexibility means a larger search space and therefore EMA generates more neighbors, corresponding to alter-\nnative resource assignments. However, many of these reassignments are likely to be bad because they correspond either with slow resources with high execution time or inefficient resources with high energy consumption or even both. In any case, these alternatives must be checked and discarded and this is what the filtering mechanism achieves with undoubted speed and effectiveness.\nIn the light of these results, one may wonder if some of the neighborhoods are considering numerous badquality movements, thus increasing the number of generated neighbors without a real effect on the search, and if similar results could be achieved without using them. This leads to our last experiment."
        },
        {
            "heading": "4.4. Neighborhoods comparison",
            "text": "The goal of this last experiment is to assess the performance of the different neighborhoods defined in Section 3.2.1. To this end, we compare the results of running EMA with the tabu search using any possible combination of NMCET, NMCORR and NOPERR as neighborhood function. As it was the case in the synergies study,\ncomparing different neighborhoods can be difficult because they may have different characteristics. In this work, we have opted for changing only the neighborhoods while keeping all other parameters of the search unaltered. Given that EMA uses an adaptive stopping criterion in the tabu search, if one of the neighborhoods takes longer to converge, it will be given longer running time.\nTo evaluate the results obtained with the different neighborhood combinations, we take as reference a lower bound of the optimal energy for each instance obtained with a constraint programming solver in [41]. Figure 5 depicts the relative difference between this lower bound and the average and best energy value obtained by EMA with the different combinations of neighborhoods. If we pay attention to the average results, NMCET is the best standalone neighborhood. Notice however that this advantage is mainly due to those instances with low flexibility. Excluding these instances from the comparison,NMCORR yields better results. This behavior can be explained because NMCET only optimizes passive energy as it does not change resource assignment. Therefore, on instances with low flexibility\nand few possible resource assignments, NMCET can obtain pretty good results starting from the assignments introduced in the initial population using heuristic seeding. On the other hand, although NMCORR is designed to reduce passive energy consumption, it has a side effect of reducing active energy. This is because it moves operations from one resource to another and the tabu search takes the best non-forbidden neighbor. In the case of NOPERR, it can also reduce the passive energy of a solution, but when used on its own it has a very limited effect, due to the fact that it only considers the most efficient resource for a given operation. In fact, it is clear from the results that for instances with low flexibility including this neighborhood has a negative effect. Again, this can be explained because with low flexibility the algorithm does not need to focus on moving operations to other resources, so those movements are essentially introducing noise in the search. We can also conclude that the union of NMCET \u222aNMCORR yields competitive results, near those obtained with the complete neighborhood N, with the addition of NOPERR becoming more relevant as flexibility increases."
        },
        {
            "heading": "5. Conclusions",
            "text": "We have tackled the problem of minimizing energy consumption in a flexible job shop scheduling problem with uncertain processing times modeled as triangular fuzzy numbers. This is a relevant problem in manufacturing engineering and incorporating uncertainty helps to improve its applicability. Based on a state-of-the-art solving method from the literature, we have proposed an enhanced memetic algorithm (EMA), with a balance between intensification and diversification in the search.\nWe have carried out an experimental analysis comparing our proposal with the state of the art, showing EMA to be competitive in terms of solution quality while it achieves a significant reduction in computation cost. The experimental results have also served to assess the performance of some of the components integrated in EMA. In particular, we have confirmed the existence of a synergy effect between the evolutionary algorithm and the tabu search, which cooperate to find better solutions. We have also ascertained how the filtering mechanism used by the tabu search is able to discard numerous unpromising neighbors without fully evaluating them, thus contributing to the algorithm\u2019s efficiency. Finally, having defined the neighborhood function as a union of three different neighborhoods, we have analysed the influence of these components of the neighborhood in the\nsearch. We have ascertained that, despite some neighborhoods being undoubtedly more powerful than others, our algorithm can reach better solutions when the three of them are jointly used.\nTo conclude, we would like to highlight that research into energy efficiency, already relevant due to climate change, has unfortunately gained a sudden and unexpected importance due to the energetic crisis caused by the Ukraine war. It is now fundamental for industry to cut down their energy consumption and make an efficient use of their resources."
        },
        {
            "heading": "Acknowledgments",
            "text": "Supported by the Spanish Government under research grants PID2019-106263RB-I00 and TED2021131938B-I00 and by Universidad de Cantabria and the Government of Cantabria under Grant Concepci\u00f3n Arenal UC-20-20."
        }
    ],
    "title": "Enhanced memetic search for reducing energy consumption in fuzzy flexible job shops",
    "year": 2023
}