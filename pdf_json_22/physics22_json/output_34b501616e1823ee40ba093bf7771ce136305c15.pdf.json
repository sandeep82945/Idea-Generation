{
    "abstractText": "On-orbit operations such as servicing and assembly are considered a priority for the future space industry. Ground-based facilities that emulate on-orbit interactions are key tools for developing and testing space technology. This paper presents a control framework to emulate on-orbit operations using on-ground robotic manipulators. It combines Virtual Forward Dynamics Models (VFDM) for Cartesian motion control of robotic manipulators with an Orbital Dynamics Simulator (ODS) based on the Clohessy Wiltshire (CW) Model. The VFDM-based Inverse Kinematics (IK) solver is known to have better motion tracking, path accuracy, and solver convergency than traditional IK solvers. Thus, it provides a stable Cartesian motion for manipulators based on orbit emulations, even at singular or near singular configurations. The framework is tested at the ZeroG-Lab robotic facility of the SnT by emulating two scenarios: free-floating satellite motion and freefloating interaction (collision). Results show fidelity between the simulated motion commanded by the ODS and the one executed by the robot-mounted mockups.",
    "authors": [
        {
            "affiliations": [],
            "name": "Mohatashem Reyaz Makhdoomi"
        },
        {
            "affiliations": [],
            "name": "Vivek Muralidharan"
        },
        {
            "affiliations": [],
            "name": "Kuldeep R. Barad"
        },
        {
            "affiliations": [],
            "name": "Juan Sandoval"
        },
        {
            "affiliations": [],
            "name": "Carol Martinez"
        }
    ],
    "id": "SP:1e96fb884ac26f7d737310a383234a5568d70f3a",
    "references": [
        {
            "authors": [
                "Howard G Hatch"
            ],
            "title": "Dynamic simulation of lunar module docking with Apollo command module in lunar orbit",
            "venue": "National Aeronautics and Space Administration,",
            "year": 1967
        },
        {
            "authors": [
                "Fred D Roe",
                "Richard T Howard",
                "Leslie Murphy"
            ],
            "title": "Automated rendezvous and capture system development and simulation for nasa",
            "venue": "In Modeling, Simulation, and Calibration of Space-based Systems,",
            "year": 2004
        },
        {
            "authors": [
                "Hendrik Kolvenbach",
                "Kjetil Wormnes"
            ],
            "title": "Recent developments on orbit, a 3-dof free floating contact dynamics testbed",
            "venue": "In 13th International Symposium on Artificial Intelligence, Robotics and Automation in Space (i-SAIRAS 2016),",
            "year": 2016
        },
        {
            "authors": [
                "C Menon",
                "A Aboudan",
                "S Cocuzza",
                "A Bulgarelli",
                "F Angrilli"
            ],
            "title": "Free-flying robot tested on parabolic flights: Kinematic control",
            "venue": "Journal of Guidance, Control, and Dynamics,",
            "year": 2005
        },
        {
            "authors": [
                "H Bolender",
                "R Ewald",
                "K Wasserberg",
                "W Ley",
                "K Wittmann",
                "W Hallmann"
            ],
            "title": "Humans in space. In Handbook of Space Technology, pages 417\u2013418",
            "year": 2009
        },
        {
            "authors": [
                "Edmund M Kong",
                "Alvar Saenz-Otero",
                "Simon Nolet",
                "Dustin S Berkovitz",
                "David W Miller",
                "Steve W Sell"
            ],
            "title": "Spheres as formation flight algorithm development and validation testbed: Current progress and beyond",
            "venue": "In Proceedings from the 2nd International Symposium on Formation Flying Missions and Technologies,",
            "year": 2004
        },
        {
            "authors": [
                "M. Shah",
                "R.V. Patel"
            ],
            "title": "Inverse jacobian based hybrid impedance control of redundant manipulators",
            "venue": "In IEEE International Conference Mechatronics and Automation,",
            "year": 2005
        },
        {
            "authors": [
                "M Shah",
                "RV Patel"
            ],
            "title": "Transpose jacobian based hybrid impedance control of redundant manipulators",
            "venue": "In Proceedings of 2005 IEEE Conference on Control Applications,",
            "year": 2005
        },
        {
            "authors": [
                "Rajiv V Dubey",
                "James A Euler",
                "Scott M Babcock"
            ],
            "title": "Real-time implementation of an optimization scheme for seven-degree-of-freedom redundant manipulators",
            "venue": "IEEE Transactions on robotics and automation,",
            "year": 1991
        },
        {
            "authors": [
                "Ou Ma",
                "Angel Flores-Abad",
                "Toralf Boge"
            ],
            "title": "Use of industrial robots for hardware-in-the-loop simulation of satellite rendezvous and docking",
            "venue": "Acta Astronautica,",
            "year": 2012
        },
        {
            "authors": [
                "Jun He",
                "Mingjin Shen",
                "Feng Gao",
                "Haibo Zhang"
            ],
            "title": "Correction: Active compliance control of a positioncontrolled industrial robot for simulating space operations",
            "venue": "Chinese Journal of Mechanical Engineering,",
            "year": 2023
        },
        {
            "authors": [
                "Jun He",
                "Mingjin Shen"
            ],
            "title": "Hybrid force/velocity control for simulating contact dynamics of satellite robots on a hardware-in-the-loop simulator",
            "venue": "IEEE Access,",
            "year": 2022
        },
        {
            "authors": [
                "Stefan Scherzinger",
                "Arne Roennau",
                "R\u00fcdiger Dillmann"
            ],
            "title": "Inverse kinematics with forward dynamics solvers for sampled motion tracking",
            "venue": "In 2019 19th International Conference on Advanced Robotics (ICAR),",
            "year": 2019
        },
        {
            "authors": [
                "Stefan Scherzinger",
                "Arne Roennau",
                "R\u00fcdiger Dillmann"
            ],
            "title": "Virtual forward dynamics models for cartesian robot control",
            "venue": "arXiv preprint arXiv:2009.11888,",
            "year": 2020
        },
        {
            "authors": [
                "Leo Pauly",
                "Michele Lynn Jamrozik",
                "Miguel Ortiz Del Castillo",
                "Olivia Borgue",
                "Inder Pal Singh",
                "Mohatashem Reyaz Makhdoomi",
                "Vincent Gaudilliere",
                "Carol Martinez",
                "Arunkumar Rathinam",
                "Andreas Hein",
                "Miguel Olivares-Mendez",
                "Djamila Aouada"
            ],
            "title": "Lessons from a space lab\u2013an image acquisition perspective",
            "venue": "arXiv preprint arXiv:2208.08865,",
            "year": 2022
        },
        {
            "authors": [
                "Vivek Muralidharan",
                "Mohatashem R. Makhdoomi",
                "Kuldeep R. Barad",
                "Lina M. Amaya-Mej\u00eda",
                "Kathleen C. Howell",
                "Carol Martinez",
                "Miguel Olivares Mendez"
            ],
            "title": "Hardware-in-the-loop Proximity Operations in Cislunar Space",
            "venue": "In International Astronautical Congress (IAC),",
            "year": 2022
        },
        {
            "authors": [
                "WH Clohessy",
                "RS Wiltshire"
            ],
            "title": "Terminal guidance system for satellite rendezvous",
            "venue": "Journal of the Aerospace Sciences,",
            "year": 1960
        },
        {
            "authors": [
                "Vivek Muralidharan",
                "Carol Martinez",
                "Augustinas Zinys",
                "Marius Klimavicius",
                "Miguel Olivares Mendez"
            ],
            "title": "Autonomous control for satellite rendezvous in near-earth orbits",
            "venue": "In International Conference on Control,",
            "year": 2022
        },
        {
            "authors": [
                "Miguel Olivares-Mendez",
                "Mohatashem Reyaz Makhdoomi",
                "Bar\u0131\u015f Can Yal\u00e7\u0131n",
                "Zhanna Bokal",
                "Vivek Muralidharan",
                "Miguel Ortiz Del Castillo",
                "Vincent Gaudilliere",
                "Leo Pauly",
                "Olivia Borgue",
                "Mohammadamin Alandihallaj"
            ],
            "title": "Zero-g lab: a multi-purpose facility for emulating space operations",
            "venue": "Journal of Space Safety Engineering,",
            "year": 2023
        },
        {
            "authors": [
                "Vivek Muralidharan",
                "Mohatashem Reyaz Makhdoomi",
                "Kuldeep Rambhai Barad",
                "Lina Mar\u00eda Amaya-Mej\u00eda",
                "Kathleen C Howell",
                "Carol Martinez",
                "Miguel Olivares-Mendez"
            ],
            "title": "Rendezvous in cislunar halo orbits: Hardware-in-the-loop simulation with coupled orbit and attitude dynamics",
            "venue": "Acta Astronautica,",
            "year": 2023
        },
        {
            "authors": [
                "J-C Liou"
            ],
            "title": "An active debris removal parametric study for leo environment remediation",
            "venue": "Advances in space research,",
            "year": 2011
        },
        {
            "authors": [
                "Farhad Aghili",
                "Mehrzad Namvar"
            ],
            "title": "Scaling inertia properties of a manipulator payload for 0-g emulation of spacecraft",
            "venue": "The International Journal of Robotics Research,",
            "year": 2009
        }
    ],
    "sections": [
        {
            "text": "On-orbit operations such as servicing and assembly are considered a priority for the future space\nindustry. Ground-based facilities that emulate on-orbit interactions are key tools for developing and testing space technology. This paper presents a control framework to emulate on-orbit operations using on-ground robotic manipulators. It combines Virtual Forward Dynamics Models (VFDM) for Cartesian motion control of robotic manipulators with an Orbital Dynamics Simulator (ODS) based on the Clohessy Wiltshire (CW) Model. The VFDM-based Inverse Kinematics (IK) solver is known to have better motion tracking, path accuracy, and solver convergency than traditional IK solvers. Thus, it provides a stable Cartesian motion for manipulators based on orbit emulations, even at singular or near singular configurations. The framework is tested at the ZeroG-Lab robotic facility of the SnT by emulating two scenarios: free-floating satellite motion and freefloating interaction (collision). Results show fidelity between the simulated motion commanded by the ODS and the one executed by the robot-mounted mockups.\nKeywords: Virtual Robotic Models, Forward Dynamics, Inverse Kinematics, Orbital Motion, Clohessy-Wiltshire (CW)\n1 Introduction\nReliable proximity operations on orbit are critical for modern space applications like on-orbit ser-\nvicing, assembly, and manufacturing. Proximity operations are characterized by a safe approach under constraints followed by the subsequent interaction and manipulation of target objects. Due to complex contact dynamics and sensitive responses in a micro-gravity environment, the on-ground verification of system behavior, reliability, and safety in various on-orbit operations is essential. The latter is addressed using reliable ground-based testing setups like the one shown in Fig. 1, where one of the critical challenges is to reproduce multi-body kinematics, dynamics, and interaction in micro-gravity environments. High-fidelity numerical models may be used to test and analyze the effect of multi-body motion and interaction. However, they tend to ignore the non-deterministic artifacts of a physical system. Physical simulations may also be conducted with full-scale space hardware, although it is often intractable, costineffective, and unnecessary. On the other hand, Hardware-in-the-loop (HIL) testing provides a hybrid approach where the subsystem elements or a subset of all system components may be utilized while other parts of the problem are appropriately ignored or compensated with accurate numerical simulation.\nGround facilities that enable HIL testing are important for space systems development. Typically,\nthey enable the recreation of different orbital maneuvers (of up to 6-DOF motion in Cartesian space), using one or more linear tracks, gimbals, robotic manipulators, and suspension cables. For instance, NASA\u2019s rendezvous docking simulator that supported verification of docking and proximity operations for Gemini and Apollo missions used suspension cables to allow translation motion and a suspended gimbal to allow rotation [1]. Large-scale HIL facilities have enabled consistent advancement in rendezvous and proximity operations for the International Space Station, where large full-scale satellites are tested in representative visual and dynamic conditions. Examples of this include NASA\u2019s Docking overhead target simulator [2], the JAXA RDOTS based on the Cartesian motion table, Lockheed Space Operations Simulation Center (SOSC), and DLR\u2019s European Proximity Operations Simulator (EPOS-1). While these facilities enable 6-DOF simulation, it is challenging to isolate the dynamics of the ground environment and the testbed apparatus. The latter is essential when testing actuators or force-based interaction. It can be challenging to reproduce accurate dynamic responses in a multi-body system. For accurate reproduction of dynamic\nresponses, air-bearing setups [3], drop towers and parabolic flights [4], neutral buoyancy [5] and even orbital testbeds [6] may be used for this purpose.\nRobotic manipulators form an essential component of most HIL testing facilities. The accuracy of\nHIL simulations relies on the accuracy with which a manipulator can execute its motion in Cartesian space. In this regard, identifying a solution to the robot\u2019s inverse kinematics (IK) problem is essential for close-to-real HIL emulations. Several implementations of Inverse Kinematics exist in the literature, including methods based on Jacobian pseudo-inverse [7], which are accurate but unstable at singularities; Jacobian transpose methods, which are stable [8] but require dynamic decoupling; and optimization methods [9] that are robust but computationally expensive.\nWithin the purview of ground-based HIL testing facilities for on-orbit scenarios, limited literature\ndiscusses the choice of IK solvers for emulating such scenarios with robotic manipulators. Most of the research uses standard IK solvers for robotic motion tasks (provided by the robot manufacturer) while focusing on on-orbit interaction and trajectory planning [10\u201312]. A typical assumption when working with robotic manipulators is that they are not in singular or near-singular configurations when performing IK calculations. The latter can be a problem during on-orbit emulations, as the manipulator may reach a near-singular configuration while trying to emulate the simulated motion provided by the orbital dynamics simulator (ODS), and thus may behave unstably. Moreover, when emulating on-orbit scenarios, to ensure high fidelity, IK solvers must accurately deliver a solution to sparsely sampled target poses in the Cartesian space provided by the ODS. These discrete targets represent a challenge to controlling the robot\u2019s motion since the solution should simultaneously ensure joint space coherency and task space feasibility. To solve the challenges mentioned above, we propose to use a forward dynamics approach to Cartesian Motion Control based on a virtual robot model. This approach introduces a conditioned mass matrix that assists in a smooth transition between sparse targets for accurate motion tracking[13]; and the idea of decoupling virtual dynamics, enabling stable behavior at singular configurations [14].\nTherefore, this paper explores the potential of the Virtual Forward Dynamics Models (VFDM) for\nCartesian Motion Control of robotic manipulators in space-related applications. The contribution is two-fold 1) We extend the use of VFDM for Cartesian Motion Control of two robotic manipulators to emulate on-orbit scenarios in a multi-purpose ground-based HIL testing facility. 2) We propose a control framework that integrates an Orbital Dynamic Simulator (based on the Clohessy-Wiltshire model) with the VFDM-based Cartesian Motion Control framework. To our knowledge, the utilization of VFDM for emulating on-orbit scenarios has not been previously explored. Compared to traditional IK methods, VFDM is inherently stable and accurate at singular configurations; and ensures smooth robotic motion throughout the workspace, which is paramount for emulating on-orbit trajectories. Experiments are performed using the two UR10e robots of the ZeroG-Lab Hardware-in-the-Loop (HIL) testing facility at the University of Luxembourg, where a wide range of on-orbit scenarios can be emulated [15, 16]. In this paper, we focus on two scenarios: free-floating behavior and free-floating interaction (such as a collision between two satellites), to demonstrate the viability of the framework to emulate interactions in a simulated space environment.\n2 Orbital Dynamics Simulator (ODS)\nUsing Kepler\u2019s laws of planetary motion, a time-invariant two-body dynamics defines the satellite\nmotion in this investigation. A free-floating motion of a satellite relative to an inertial frame centered on the Earth is not feasible for simulating space environments in a ground-based test facility. The same is valid for observing interactions between two satellites in the inertial frame. Such a challenge is overcome by observing the satellite motion from the perspective of a virtual observer in a rotating frame \ud835\udc45 as demonstrated in Fig. 2. The satellite of interest may be in an elliptical orbit, but with an assumption\n\u221a\ufe01\nthat the virtual observer is in a nearby circular orbit, a simplified model of relative orbital motion is approximated by the Clohessy-Wiltshire (CW) model [17].\nThe motion of the satellite is defined by vector \ud835\udf0c\u00af relative to the \ud835\udc45 frame, such that \ud835\udf0c\u00af = [\ud835\udc65, \ud835\udc66, \ud835\udc67]T\n[18]. For any external forces \ud835\udc391, \ud835\udc392 and \ud835\udc393 that a satellite may experience along \ud835\udc65\u02c6, \ud835\udc66\u02c6, and \ud835\udc67\u02c6 directions, respectively, the motion is defined by\n\ud835\udc65\" = 3\u03a92\ud835\udc65 + 2\u03a9\ud835\udc66\u00b7 + \ud835\udc391\n\ud835\udc5a\n\ud835\udc66\" = \u22122\u03a9\ud835\udc65\u00b7 + \ud835\udc392\n\ud835\udc5a\n\ud835\udc67\" = \u2212\u03a92\ud835\udc67 + \ud835\udc393\n\ud835\udc5a\n(1)\n(2)\n(3)\nwhere the quantity \ud835\udc5a is the mass of the satellite and \u03a9 = \ud835\udf07/\ud835\udc4e3 is the orbital angular velocity for the virtual observer in an orbit with radius \ud835\udc4e, and \ud835\udf07 is the standard gravitational parameter for Earth. The CW model also accounts for the centrifugal force experienced by the satellites in orbit as well as the Coriolis force when the observer is in the rotating frame of reference. Similarly, the satellites\u2019 approximate attitude dynamics are modeled so that the natural gravity torque due to the Earth and any external torques influence the orientation [18]. The angular velocities, \ud835\udf14\ud835\udc56, and orientation quaternions, \ud835\udf16\ud835\udc56, evolve as\n\ud835\udf14\u00b71 = \ud835\udc3c3 \u2212 \ud835\udc3c2 t 3C12C13\u03a92 \u2212 \ud835\udf142\ud835\udf143 ) + \ud835\udc471\n(4) \ud835\udc3c1 \ud835\udc3c1\n\ud835\udf14\u00b72 = \ud835\udc3c1 \u2212 \ud835\udc3c3 t 3C11C13\u03a92 \u2212 \ud835\udf141\ud835\udf143 ) + \ud835\udc472\n(5) \ud835\udc3c2 \ud835\udc3c2\n\ud835\udf14\u00b73 = \ud835\udc3c2 \u2212 \ud835\udc3c1 t 3C11C12\u03a92 \u2212 \ud835\udf141\ud835\udf142 ) + \ud835\udc473\n(6)\n\ud835\udf16\u00b7\ud835\udc65\n\ud835\udc3c3 \ud835\udc3c3\n\ud835\udf16\ud835\udc64 \u2212\ud835\udf16\ud835\udc67 \ud835\udf16\ud835\udc66 \ud835\udf16\ud835\udc65 \ud835\udf141\n\ud835\udf16\u00b7\ud835\udc66 = 1 \ud835\udf16\ud835\udc67 \ud835\udf16\ud835\udc64 \u2212\ud835\udf16\ud835\udc65 \ud835\udf16\ud835\udc66 \ud835\udf142 (7) \ud835\udf16\u00b7\ud835\udc67\n\ud835\udf16\u00b7\ud835\udc64 2 \u2212\ud835\udf16\ud835\udc66 \ud835\udf16\ud835\udc65 \ud835\udf16\ud835\udc64 \ud835\udf16\ud835\udc67 \ud835\udf143 \u2212\ud835\udf16\ud835\udc65 \u2212\ud835\udf16\ud835\udc66 \u2212\ud835\udf16\ud835\udc67 \ud835\udf16\ud835\udc64 0\nwhere C is the rotation matrix corresponding to the orientation of the satellite body frame relative to the rotating coordinate frame \ud835\udc45. The quantities \ud835\udf14\ud835\udc56 and \ud835\udf16\ud835\udc56 indicate the evolution of the satellite\u2019s body relative\nto the inertial frame. Moreover, \ud835\udc3c1, \ud835\udc3c2 and \ud835\udc3c3 are the moments of inertia along the principal axes of the satellite\u2019s body. Finally, \ud835\udc471, \ud835\udc472 and \ud835\udc473 are external torques acting on the satellite.\nThe Orbital Dynamic Simulator (ODS) uses the aforementioned dynamics to model one or more\nsatellites in the neighborhood. A range of satellite motions can be achieved with specific initial configurations, including gravity-stabilized orientation, rendezvous, collisions, interactions, and free-floating and free-flying behavior.\n3 Virtual Forward Dynamics based Cartesian Motion Control\nA forward dynamics model describes the effect of forces and torques on the motion of a body.\nConsider a \"virtual\" robotic manipulator with identical kinematics as the real robot, described by the following dynamic equation:\n\ud835\udf0f = \ud835\udc3b (\ud835\udc5e)\ud835\udc5e\" + \ud835\udc36(\ud835\udc5e, \ud835\udc5e\u00b7) + \ud835\udc3a(\ud835\udc5e) (8)\nwhere the positive definite inertia matrix is denoted by \ud835\udc3b(\ud835\udc5e); \ud835\udc36(\ud835\udc5e, \ud835\udc5e\u00b7) describes the effect of Coriolis and Centrifugal forces; \ud835\udc3a(\ud835\udc5e) exemplifies the effect of gravity; \ud835\udf0f represents the torques in the joints; and finally, \ud835\udc5e\", \ud835\udc5e\u00b7, \ud835\udc5e are the joint space accelerations, velocities, and positions, respectively. The mapping between end-effector force \ud835\udc53 and joint torques \ud835\udf0f is given by\n\ud835\udf0f = \ud835\udc3d\ud835\udc47 \ud835\udc53 (9)\nwhere \ud835\udc3d is the Jacobian of the virtual model. Assuming that the virtual model does not need to account for gravity, and needs to accelerate from zero in each control cycle, then the terms \ud835\udc3a(\ud835\udc5e) and \ud835\udc36(\ud835\udc5e, \ud835\udc5e\u00b7) are neglected. An important remark here is that the Coriolis and Centrifugal terms of the manipulator in Eq. (8) are not to be confused with the Coriolis and Centrifugal terms accounted for by the CW equations presented in Section 2. Rearranging Eq. (8) to solve for acceleration and omitting the notation \ud835\udc5e from \ud835\udc3b(\ud835\udc5e) for brevity, we have:\n\ud835\udc5e\" = \ud835\udc3b\u22121\ud835\udc3d\ud835\udc47 \ud835\udc53 (10)\nconsequently, a simplified virtual model, independent of the non-linear joint velocities, described by Eq. (10) relates the Cartesian space forces to instantaneous joint space accelerations. Such a simplification\npaves the way for conditioning of the joint-space inertia matrix \ud835\udc3b where a manipulator\u2019s dynamic behavior is modified to obtain any desired effects by changing the mass distribution of virtual links. It is through this conditioning that Cartesian Motion Control can be implemented providing both accurate motion tracking and smooth transition between sparsely sampled poses [13]. Additionally, Eq. (10) resembling a Jacobian transpose IK method is rendered stable by dynamic decoupling by considering:\n\ud835\udc65\u00b7 = \ud835\udc3d\ud835\udc5e \u2192 \ud835\udc65\" = \ud835\udc3d\u00b7\ud835\udc5e\u00b7 + \ud835\udc3d\ud835\udc5e\" (11)\nwhere assuming the discrete motion for each cycle starts at rest, the term \ud835\udc3d\u00b7\ud835\udc5e\u00b7 = 0. Substituting Eq. (11) in Eq. (10) yields\n\ud835\udc65\" = \ud835\udc3d\ud835\udc3b\u22121\ud835\udc3d\ud835\udc47 \ud835\udc53 = \ud835\udc40\u22121 \ud835\udc53 (12)\nwhere the quantity \ud835\udc3d\ud835\udc3b\u22121\ud835\udc3d\ud835\udc47 is the inverse of the virtual model\u2019s operational space inertia matrix \ud835\udc40. Through dynamic decoupling \ud835\udc40\u22121 is made a time-invariant diagonal matrix across joint configurations that ensures the stability of the model at singular configurations [14]. In Eq. (12), the mapping between forces and accelerations in Cartesian space is decoupled, implying that, ideally, if a force is applied to the end-effector of the virtual model along z-axis of the end-effector frame, for instance, the end-effector should accelerate along z-axis only. Such behavior is then imposed on the real robot. Formulating a closed-loop control around this virtual model, and defining the error term as e = \ud835\udc65\ud835\udc51 \u2212\ud835\udc65, i.e., the difference between the desired target \ud835\udc65\ud835\udc51 and current end-effector pose \ud835\udc65 obtained via a forward kinematics (FK) routine. Then, the control input \ud835\udc53 to the forward model is given by\n\ud835\udc53 = \ud835\udc3e\ud835\udc43e + \ud835\udc3e\ud835\udc37 e\u00b7 (13)\nwhich is expressed as a proportional derivative PD control law. Here e is a vector with translational and rotational components. The overall framework to emulate on-orbit scenarios is illustrated in a block diagram in Fig. 3. The middle block summarizes the VFDM based Cartesian Motion Control as implemented in the ZeroG-Lab facility. Within the middle block are two robot control blocks, each constituting a UR10e robot equipped with an F/T sensor, controlled via a position interface by a VFDM based Cartesian controller. Each red-dashed rectangle depicts the VFDM model consisting of a virtual robot model described by Eq. (10) and a PD controller Eq. (13). The virtual forward dynamics model (see red dashed rectangle(s) serves as an IK solver and obtains inputs in the form of the satellite motion generated by the Orbital Dynamics Simulator (ODS) Block. The output of this solver (i.e. joint positions) serves as set-points to the robot\u2019s internal position controller. The Orbital Dynamics Simulator (ODS) Block is responsible for simulating the dynamics of satellites using the Clohessy-Wiltshire (CW) model and generating satellite motion way-points via a Frame-Transformation Block. The Frame Transformation block expresses this information (pose, force/torque values) in the appropriate frame and exchanges data both ways. The robot control block takes the simulated (or desired) waypoints from the ODS Block and imparts that motion to a mockup mounted on the robot flange. Any mockup mounted on the robots constitutes the emulated scenario, and their states i.e., pose and force/torque information, etc, are obtained via F/T sensors mounted on the robot.\n4 Experimental Setup\nThe control framework for emulating on-orbit scenarios proposed in this paper is tested at the\nZeroG-Lab at the University of Luxembourg[19]. Two satellite mockups are mounted on the UR10e robot end-effectors as demonstrated in Fig. 4. The inertial properties and the assumed orbital parameters of the mockups are specified in the orbital dynamics simulator (ODS). Upon contact, the forces and moments acting on the mockups are measured by inbuilt F/T sensors of the robot, based on which the on-orbit simulator, through proper force/torque transformations, generates trajectories on the fly. The VFDM-based Cartesian motion control algorithm [20] for controlling the robots and the orbital dynamic\nsimulator (ODS) operate as two ROS packages running in two separate machines (control and simulator computers). Rails are not active and the motion provided by the ODS is executed using the robots only. For this paper, two scenarios were emulated. However, other scenarios such as gravity-stabilized orientation, free-flying behavior, and rendezvous are also possible [16, 21].\n\u2022 Scenario 1: Free-floating Satellite Motion\nFor this scenario, assume the presence of only Satellite 1 in Fig. 2 near an observer in a low earth\norbit (LEO) at an altitude of 800 km from the Earth\u2019s surface. The motion of Satellite 1 is expressed relative to the rotating coordinate frame \ud835\udc45. For convenience, the initial velocity of the satellite relative to \ud835\udc45 is considered zero. It is assumed that no net generalized forces expressed in \ud835\udc45 are acting on the satellite. Any change in the satellite states (velocities or forces) means the satellite moves in a free-floating motion with respect to \ud835\udc45. To demonstrate the free-floating behavior, external forces are applied, resulting in the satellite accelerating in the direction of the applied forces. In the ZeroG-lab facility, Satellite 1 shown in Fig. 4 is pushed by a human operator in various directions at different instances in time. The F/T sensor measures the forces applied. The forces are then expressed in the \ud835\udc45 frame and supplied as input to the ODS which generates the motion imparted to the mockup. Consequently, the mockup moves as if it were actually free-floating in micro-gravity. The rigid mockup ensures that a reproducible motion is achieved if the same sequence of forces were to be imparted.\n\u2022 Scenario 2: Free-Floating Interaction (Collision)\nAn interaction between two satellites is emulated by considering the simultaneous existence of\nSatellites 1 and 2 as shown in Fig. 4. From a dynamics perspective, both orbital docking and collision are comparable. In orbital docking, typically one or more bodies in consideration have control capabilities, and the relative velocity during contact is close to zero. While for collision it is considered that these bodies do not have control capabilities and have non-zero velocities during the contact. In this investigation, a controlled collision is considered to exemplify the interaction, especially because the impact of force transfer is more pronounced. The density of space debris is exceptionally high at an altitude of 800 km [22]. A collision between satellites is portrayed by placing a rotating observer in a circular low earth orbit (LEO) at an altitude of 800 km from the surface of the Earth. The satellites are placed sufficiently close to each other and opposing initial velocities are deliberately imparted to generate a collision. External forces are absent on both the satellite mockups at the initial time. Satellite 1 is a rigid mockup identical to\nScenario 1 while a mockup of Satellite 2 is a sponge satellite to ensure safety during impact (see Fig. 4). In this scenario, an inelastic collision is achieved during impact (the sponge damps the kinetic energy).\n5 Experiments and Results\nThe two scenarios described in Section 4 are used to evaluate the usefulness of VFDM-based\nCartesian Controller for on-orbit emulations. For Scenario 1, only the ceiling-mounted robot is used. For Scenario 2, both robots are utilized. As shown in Fig. 4, each robot has a mockup satellite mounted at the flange. The center-of-mass (COM) of the mockup is selected as the tool-center-point (TCP) of the robot to ensure that the robot TCP motion expressed in frame \ud835\udc45 coincides with the satellite motions expressed in \ud835\udc45. The inertial parameters of the mockups are specified in the ODS node. For convenience, the center of the \ud835\udc45 frame is considered within the limits of the ZeroG-Lab operational workspace, as indicated in Fig. 4. The robot payload is calibrated according to the weight of the mockup satellites.\nThe F/T sensor mounted on the robot flange measures the forces and torques applied during contact\n(the human operator during Scenario 1 and the mockup collision in Scenario 2). Force transformations are performed to obtain the generalized forces in the appropriate frame. These forces are delivered to the ODS ROS node along with the initial conditions of the mockups (robot\u2019s TCP position and orientation) to assign the initial state of the satellites in the ODS. Parameters, such as initial translational and rotational velocities and other scaling factors, are also specified in the ODS ROS node. In cases where the estimated impact of measured torque values, including noise from the F/T sensors, or the orientation of the satellites, is beyond the range of motion that the robots can deliver before reaching the safety stop limits, the values of torque are thus scaled down by a factor of 2000. The ODS uses the force/torque information along with the current state of the mockup to generate motion waypoints during the flight, similar to the one exercised in [21]. These waypoints serve as input set-points to the VFDM based Cartesian motion controller, and the robot TCP moves along a trajectory identical to the one of a free-floating object in space.\nTable 1 lists the parameters used for the VFDM Cartesian Controller. It shows the controller gains\nfor the VFDM-based Cartesian motion controller in Eq. (13) and the Inertial Matrix \ud835\udc3b in Eq. (10). Here \ud835\udc5a\ud835\udc52 and \ud835\udc3c\ud835\udc52 are the mass and inertia of the last link of the virtual model, and \ud835\udc5a\ud835\udc59 and \ud835\udc3c\ud835\udc59 are the mass and inertia values assigned to the remaining links in the kinematic chain. The dynamics of the satellites are calculated based on a 4U CubeSat (2x2 configuration) with 1 kg mass and uniform mass density. Based on preliminary tests in the ZeroG-Lab, it was verified that large gains result in a fast and accurate IK solver. Selecting lower gains results in lower accuracy but smoother robot motion. The choice of gains in Table 1 was made accepting a trade-off between smoothness and accuracy.\n5.1 Scenario 1: Free-Floating Satellite Motion\nIn this experiment, the mockup satellite experiences intermittent external forces exerted by an\noperator. The satellite flight path is altered due to these forces; the response is illustrated in Fig. 5 with a sequence of pictures that demonstrate the free-floating motion of the mockup.\nA smooth motion in response to applied force was also observed at near-singular configurations.\nThis highlights the VFDM-based Cartesian motion controller\u2019s capacity to maintain stability at these configurations, effectively mitigating issues like getting stuck or experiencing oscillations. The time history of force inputs imparted by the operator during the experiment along different axes is presented in Fig. 6 (top). The center and bottom plots show the change in velocity and position resulting from these external forces, respectively.\n5.2 Scenario 2: Free-Floating Interaction (Collision)\nThe simultaneous motion of two satellites caused by the force transfer during their collision is\ndemonstrated in this experiment. The satellites start at initial states sufficiently distant from each other. An initial velocity is specified for both mockups causing them to move toward each other. The ODS generates the necessary waypoints for the VFDM-based Cartesian motion controller once the initial velocity is specified. Due to the setup, an inelastic collision occurs between the satellites during their free-floating motion. Such impact ensures safety but at a cost that the non-conservative forces caused during these experiments are not precisely reproducible. Nevertheless, the satellites\u2019 overall behavior only depends on the force values measured at the robot\u2019s TCPs.\nThe sequence of satellite motions throughout the experiment is shown in Fig. 7, where image (1)\ndescribes the initial states, image (2) is the collision, and the other images show the post-collision motion. Image (6) shows the final state of the mockups before the \"safety limit stop\" enforced by the robot\u2019s internal controller that avoids self-collision, is activated.\nA force transfer occurs during the impact resulting in an exchange of equal but opposite forces on the\nsatellites, evident in Fig. 8. These forces are expressed in the \ud835\udc45 observer frame. The highest impact force occurred along \ud835\udc65-axis. As the robot\u2019s motion is not strictly decoupled, lighter impact forces were detected along the other axes. The evolution of velocity and position quantities (for Satellite 2) are plotted in Figs. 9 and 10 (bottom), respectively, that corresponds to the force profile in Fig. 8 (bottom). Post impact, the direction of motion of Satellite 2 (also Satellite 1) changes, consequently the velocity and position. The ODS determines the change in motion in response to the impact generated during the collision.\nA comparable consistency in the velocity profiles generated from ODS and that of the robot motion\n(i.e., desired and actual) is evident in Fig. 9 measured for Satellite 2. Of course, the actual readings have inherent noise. Similar adjacency in velocity profiles between simulation and robot motion tests demonstrated with a torque-controlled robot is available in literature [23]. The motion tracking accuracy of the VFDM-based Cartesian Controller, in position states, is evident from both Figs. 10 and 11. Before and after the impact, the satellite mockups track the motion generated by the ODS with errors less than\n0.01 m during the entire experiment. The error has a correlation with the magnitude of velocity along the waypoints. During impact, there is almost a non-zero relative motion between the two bodies (see\nFig. 9), and more waypoints are available over a shorter distance. Subsequently, the robot tracks these waypoints more precisely, and the resulting error drops. Post-impact, when the magnitude of velocity increases, the spacing between the generated way-points is larger and therefore results in an increase in errors. With higher controller gains, the magnitude of errors can be reduced [13].\nThe proximity between ODS and robot-driven mockup velocity resembles the behavior observed\nin similar experiments performed using a torque-controlled robot [23]. The latter indicates that the proposed approach could provide an alternative to on-orbit emulation testbeds that use torque-controlled manipulators, which could be especially useful, given that position-controlled robots are lower in cost and limited in their capabilities compared to torque-controlled robots.\n6 Conclusion\nThis work extends the application of Virtual Forward Dynamics Models (VFDM) for Cartesian\nMotion Control in robotic manipulators to emulate on-orbit scenarios within a versatile ground-based\nHardware-in-the-Loop (HIL) testing facility. A control framework that integrates an Orbital Dynamic Simulator (based on the Clohessy-Wiltshire model) with the VFDM-based Cartesian Motion Control framework is also proposed. Two experiments were conducted; one to replicate the fundamental freefloating motion of a satellite under externally applied forces and torques, and another to simulate satellite interactions in the form of controlled collisions during free-floating motion. The changes in velocity and position profiles generated by ODS corresponding to the force/torque inputs measured on the fly establish reactive free-floating motion. A stable robot behavior is observed at near singular configurations when emulating free-floating motion. The low position tracking errors between ODS-generated profiles and the mockups validate the feasibility of VFDM for on-orbit emulation applications. Precise sensing of force and torque acting on the satellite body, rather than through moment conversion and frame transformations, can potentially enhance the fidelity of these on-orbit emulation tests. Future research will explore this idea further by integrating appropriate sensing modalities on the satellite. Furthermore, the presented concept will be extended and validated for other on-orbit operations.\nReferences\n[1] Howard G Hatch. Dynamic simulation of lunar module docking with Apollo command module in lunar orbit.\nNational Aeronautics and Space Administration, 1967.\n[2] Fred D Roe, Richard T Howard, and Leslie Murphy. Automated rendezvous and capture system development\nand simulation for nasa. In Modeling, Simulation, and Calibration of Space-based Systems, volume 5420, pages 118\u2013125. SPIE, 2004.\n[3] Hendrik Kolvenbach and Kjetil Wormnes. Recent developments on orbit, a 3-dof free floating contact\ndynamics testbed. In 13th International Symposium on Artificial Intelligence, Robotics and Automation in Space (i-SAIRAS 2016), volume 6, 2016.\n[4] C Menon, A Aboudan, S Cocuzza, A Bulgarelli, and F Angrilli. Free-flying robot tested on parabolic flights:\nKinematic control. Journal of Guidance, Control, and Dynamics, 28(4):623\u2013630, 2005.\n[5] H Bolender, R Ewald, K Wasserberg, W Ley, K Wittmann, and W Hallmann. Humans in space. In Handbook\nof Space Technology, pages 417\u2013418. John Wiley & Sons, Ltd., 2009.\n[6] Edmund M Kong, Alvar Saenz-Otero, Simon Nolet, Dustin S Berkovitz, David W Miller, and Steve W Sell.\nSpheres as formation flight algorithm development and validation testbed: Current progress and beyond. In Proceedings from the 2nd International Symposium on Formation Flying Missions and Technologies, 2004.\n[7] M. Shah and R.V. Patel. Inverse jacobian based hybrid impedance control of redundant manipulators. In\nIEEE International Conference Mechatronics and Automation, 2005, volume 1, pages 55\u201360 Vol. 1, 2005. DOI: 10.1109/ICMA.2005.1626522.\n[8] M Shah and RV Patel. Transpose jacobian based hybrid impedance control of redundant manipulators. In\nProceedings of 2005 IEEE Conference on Control Applications, 2005. CCA 2005., pages 1367\u20131372. IEEE, 2005.\n[9] Rajiv V Dubey, James A Euler, and Scott M Babcock. Real-time implementation of an optimization scheme for\nseven-degree-of-freedom redundant manipulators. IEEE Transactions on robotics and automation, 7(5):579\u2013 588, 1991.\n[10] Ou Ma, Angel Flores-Abad, and Toralf Boge. Use of industrial robots for hardware-in-the-loop simulation of\nsatellite rendezvous and docking. Acta Astronautica, 81(1):335\u2013347, 2012.\n[11] Jun He, Mingjin Shen, Feng Gao, and Haibo Zhang. Correction: Active compliance control of a position-\ncontrolled industrial robot for simulating space operations. Chinese Journal of Mechanical Engineering, 36(1):14, 2023.\n[12] Jun He and Mingjin Shen. Hybrid force/velocity control for simulating contact dynamics of satellite robots\non a hardware-in-the-loop simulator. IEEE Access, 10:59277\u201359289, 2022.\n[13] Stefan Scherzinger, Arne Roennau, and R\u00fcdiger Dillmann. Inverse kinematics with forward dynamics solvers\nfor sampled motion tracking. In 2019 19th International Conference on Advanced Robotics (ICAR), pages 681\u2013687. IEEE, 2019.\n[14] Stefan Scherzinger, Arne Roennau, and R\u00fcdiger Dillmann. Virtual forward dynamics models for cartesian\nrobot control. arXiv preprint arXiv:2009.11888, 2020.\n[15] Leo Pauly, Michele Lynn Jamrozik, Miguel Ortiz Del Castillo, Olivia Borgue, Inder Pal Singh, Mo-\nhatashem Reyaz Makhdoomi, Olga-Orsalia Christidi-Loumpasefski, Vincent Gaudilliere, Carol Martinez, Arunkumar Rathinam, Andreas Hein, Miguel Olivares-Mendez, and Djamila Aouada. Lessons from a space lab\u2013an image acquisition perspective. arXiv preprint arXiv:2208.08865, 2022.\n[16] Vivek Muralidharan, Mohatashem R. Makhdoomi, Kuldeep R. Barad, Lina M. Amaya-Mej\u00eda, Kathleen C.\nHowell, Carol Martinez, and Miguel Olivares Mendez. Hardware-in-the-loop Proximity Operations in Cislunar Space. In International Astronautical Congress (IAC), Paris, France, 2022.\n[17] WH Clohessy and RS Wiltshire. Terminal guidance system for satellite rendezvous. Journal of the Aerospace\nSciences, 27(9):653\u2013658, 1960.\n[18] Vivek Muralidharan, Carol Martinez, Augustinas Zinys, Marius Klimavicius, and Miguel Olivares Mendez.\nAutonomous control for satellite rendezvous in near-earth orbits. In International Conference on Control, Automation and Diagnosis (ICCAD\u201922), Lisbon, Portugal. IEEE, 2022.\n[19] Miguel Olivares-Mendez, Mohatashem Reyaz Makhdoomi, Bar\u0131\u015f Can Yal\u00e7\u0131n, Zhanna Bokal, Vivek Mu-\nralidharan, Miguel Ortiz Del Castillo, Vincent Gaudilliere, Leo Pauly, Olivia Borgue, Mohammadamin Alandihallaj, et al. Zero-g lab: a multi-purpose facility for emulating space operations. Journal of Space Safety Engineering, 2023.\n[20] Cartesian controllers. https://github.com/fzi-forschungszentrum-informatik/cartesian_\ncontrollers. Accessed: August 30, 2022.\n[21] Vivek Muralidharan, Mohatashem Reyaz Makhdoomi, Kuldeep Rambhai Barad, Lina Mar\u00eda Amaya-Mej\u00eda,\nKathleen C Howell, Carol Martinez, and Miguel Olivares-Mendez. Rendezvous in cislunar halo orbits: Hardware-in-the-loop simulation with coupled orbit and attitude dynamics. Acta Astronautica, 211:556\u2013573, 2023.\n[22] J-C Liou. An active debris removal parametric study for leo environment remediation. Advances in space\nresearch, 47(11):1865\u20131876, 2011.\n[23] Farhad Aghili and Mehrzad Namvar. Scaling inertia properties of a manipulator payload for 0-g emulation of\nspacecraft. The International Journal of Robotics Research, 28(7):883\u2013894, 2009."
        }
    ],
    "title": "Emulating On-Orbit Interactions Using Forward Dynamics Based Cartesian Motion",
    "year": 2023
}