{
    "abstractText": "Entanglements like vines and branches in natural settings or cords and pipes in human spaces prevent mobile robots from accessing many environments. Legged robots should be effective in these settings, and more so than wheeled or tracked platforms, but naive controllers quickly become entangled and stuck. In this paper we present a method for proprioception aimed specifically at the task of sensing entanglements of a robot\u2019s legs as well as a reaction strategy to disentangle legs during their swing phase as they advance to their next foothold. We demonstrate our proprioception and reaction strategy enables traversal of entanglements of many stiffnesses and geometries succeeding in 14 out of 16 trials in laboratory tests, as well as a natural outdoor environment.",
    "authors": [
        {
            "affiliations": [],
            "name": "Justin K. Yim"
        },
        {
            "affiliations": [],
            "name": "Jiming Ren"
        },
        {
            "affiliations": [],
            "name": "David Ologan"
        },
        {
            "affiliations": [],
            "name": "Selvin Garcia Gonzalez"
        },
        {
            "affiliations": [],
            "name": "Aaron M. Johnson"
        }
    ],
    "id": "SP:b5564a576ee7019e4ff1b6937cc72a32ccffd7a5",
    "references": [
        {
            "authors": [
                "S. Haddadin",
                "A. De Luca",
                "A. Albu-Sch\u00e4ffer"
            ],
            "title": "Robot collisions: A survey on detection, isolation, and identification",
            "venue": "IEEE Transactions on Robotics, vol. 33, no. 6, pp. 1292\u20131312, 2017.",
            "year": 2017
        },
        {
            "authors": [
                "J. Van Dam",
                "A. Tulbure",
                "M.V. Minniti"
            ],
            "title": "Collision detection and identification for a legged manipulator",
            "venue": "IEEE International Conference on Intelligent Robots and Systems, 2022, pp. 13 602\u2013 13 609.",
            "year": 2022
        },
        {
            "authors": [
                "A. Bhatia",
                "M.T. Mason",
                "A.M. Johnson"
            ],
            "title": "Reacting to Contact: Transparency and Collision Reflex in Actuation",
            "venue": "2022. [Online]. Available: http://arxiv.org/abs/2212.03469",
            "year": 2022
        },
        {
            "authors": [
                "G. Bledt",
                "P.M. Wensing",
                "S. Ingersoll",
                "S. Kim"
            ],
            "title": "Contact Model Fusion for Event-Based Locomotion in Unstructured Terrains",
            "venue": "IEEE International Conference on Robotics and Automation, 2018, pp. 4399\u20134406.",
            "year": 2018
        },
        {
            "authors": [
                "S. Wang",
                "A. Bhatia",
                "M.T. Mason",
                "A.M. Johnson"
            ],
            "title": "Contact localization using velocity constraints",
            "venue": "IEEE International Conference on Intelligent Robots and Systems, 2020, pp. 7351\u20137358.",
            "year": 2020
        },
        {
            "authors": [
                "V. Morlando",
                "A. Teimoorzadeh",
                "F. Ruggiero"
            ],
            "title": "Whole-body control with disturbance rejection through a momentum-based observer for quadruped robots",
            "venue": "Mechanism and Machine Theory, vol. 164, p. 104412, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "A.M. Johnson",
                "G.C. Haynes",
                "D.E. Koditschek"
            ],
            "title": "Disturbance detection, identification, and recovery by gait transition in legged robots",
            "venue": "IEEE/RSJ 2010 International Conference on Intelligent Robots and Systems, 2010, pp. 5347\u20135353.",
            "year": 2010
        },
        {
            "authors": [
                "L. Matthies",
                "C. Bergh",
                "A. Castano"
            ],
            "title": "Obstacle detection in foliage with Ladar and Radar",
            "venue": "International Symposium on Robotics Research, vol. 15, 2005, pp. 291\u2013300.",
            "year": 2005
        },
        {
            "authors": [
                "Z. Fu",
                "A. Kumar",
                "A. Agarwal"
            ],
            "title": "Coupling Vision and Proprioception for Navigation of Legged Robots",
            "venue": "IEEE Conference on Computer Vision and Pattern Recognition, 2022, pp. 17 252\u201317 262.",
            "year": 2022
        },
        {
            "authors": [
                "T. Homberger",
                "L. Wellhausen",
                "P. Fankhauser",
                "M. Hutter"
            ],
            "title": "Support surface estimation for legged robots",
            "venue": "IEEE International Conference on Robotics and Automation, 2019, pp. 8470\u20138476.",
            "year": 2019
        },
        {
            "authors": [
                "Y. Ohmura",
                "Y. Kuniyoshi"
            ],
            "title": "Humanoid robot which can lift a 30kg box by whole body contact and tactile feedback",
            "venue": "IEEE/RSJ International Conference on Intelligent Robots and Systems, 2007, pp. 1136\u20131141.",
            "year": 2007
        },
        {
            "authors": [
                "G. Cannata",
                "M. Maggiali",
                "G. Metta",
                "G. Sandini"
            ],
            "title": "An embedded artificial skin for humanoid robots",
            "venue": "IEEE International Conference on Multisensor Fusion and Integration for Intelligent Systems, 2008, pp. 434\u2013438.",
            "year": 2008
        },
        {
            "authors": [
                "A. Buchan",
                "J. Bachrach",
                "R. Fearing"
            ],
            "title": "Towards a minimal architecture for a printable, modular, and robust sensing skin",
            "venue": "IEEE/RSJ International Conference on Intelligent Robots and Systems, 2012, pp. 33\u201338.",
            "year": 2012
        },
        {
            "authors": [
                "X. Fan",
                "D. Lee",
                "L. Jackel"
            ],
            "title": "Enabling low-cost full surface tactile skin for human robot interaction",
            "venue": "IEEE Robotics and Automation Letters, vol. 7, no. 2, pp. 1800\u20131807, 2022.",
            "year": 1807
        },
        {
            "authors": [
                "G.N. Boone",
                "J.K. Hodgins"
            ],
            "title": "Slipping and Tripping Reflexes for Bipedal Robots",
            "venue": "Autonomous Robots, vol. 4, no. 3, pp. 259\u2013271, 1997.",
            "year": 1997
        },
        {
            "authors": [
                "M. Focchi",
                "V. Barasuol",
                "I. Havoutis"
            ],
            "title": "Local reflex generation for obstacle negotiation in quadrupedal locomotion",
            "venue": "Nature-Inspired Mobile Robotics, no. October 2015, pp. 443\u2013450, 2013.",
            "year": 2015
        },
        {
            "authors": [
                "J. Norby",
                "Y. Yang",
                "A. Tajbakhsh"
            ],
            "title": "Quad-SDK: Full Stack Software Framework for Agile Quadrupedal Locomotion",
            "venue": "Tech. Rep., 2022. [Online]. Available: https://github.com/robomechanics/ quad-sdk.",
            "year": 2022
        },
        {
            "authors": [
                "T. Lee",
                "P.M. Wensing",
                "F.C. Park"
            ],
            "title": "Geometric robot dynamic identification: A convex programming approach",
            "venue": "IEEE Transactions on Robotics, vol. 36, no. 2, pp. 348\u2013365, 2020.",
            "year": 2020
        }
    ],
    "sections": [
        {
            "text": "I. INTRODUCTION\nTripping hazards like vines, branches, and outcroppings fill many natural environments from forest floors to reed beds. Without a way to navigate these entanglement-filled environments, mobile robots cannot perform important tasks like environmental monitoring, scientific sampling, or firefighting. In human environments, robots may need to navigate around cords, hoses, and protrusions to perform tasks like inspection, delivery, or in-home assistance. In this work, we develop proprioceptive detection of entanglements on a quadruped robot\u2019s swing legs and simple control strategies to disentangle from them, enabling the robot to walk through numerous, distributed contacts of any stiffness.\nIn highly vegetated settings, legged robots show unique promise compared to alternative robotic platforms. Small wheels become stuck in vines and branches. Large wheels and tracks roll over obstacles, but may crush or damage them in the process. Flying robots\u2019 large wings, bodies, and rotors do not fit between dense woody plants. Legged robots have the flexibility to both choose footholds and adjust posture to disentangle from and move around obstructions. However, as we show in the experimental section, standard controllers that do not reason about motion through entanglements rapidly become stuck on vine-like obstacles.\nMoving through obstacles like thickets or reeds, contact is unavoidable. A locomotor must press through them to progress and cannot simply avoid contact with anything a visual sensor detects is solid. A locomotor should be able to push through flexible obstructions, but detect when it is stuck\nThis work was supported in part by the National Science Foundation under Grant CCF-2030859 to the Computing Research Association for the CIFellows Project, Grant ECCS-1924723, the GEM Consortium Fellowship, and by funding award #HQ00342110020 from the National Defense Education Program.\n1Department of Mechanical Science and Engineering, University of Illinois Urbana-Champaign, Urbana, IL 61801, USA jkyim@cmu.edu\n2Department of Mechanical Engineering, Carnegie Mellon University, Pittsburgh, PA 15232, USA, amj1@cmu.edu\nso that it can disentangle itself. However, the stiffness of obstacles is difficult to gauge prior to contact. Foliage blocks most visual sensors and the obstructed materials behind can vary in stiffness from flexible twigs to rigid rocks.\nDetection is also complicated by the dynamics of legged locomotion. Feet make and break contact with every stride. During stance phases, forces on the feet are a large fraction of bodyweight. However, during swing phases, forces much smaller than bodyweight can be disruptive if they are applied at unexpected contacts on the body, like tripping over a foot caught on a ledge or knocking over a chair bumped by a knee. Rapidly detecting these unexpected forces on the legs is particularly challenging since they are interspersed between the stance phase forces and smaller in magnitude than them.\nPrior work has demonstrated many approaches to estimating contact. An excellent overview can be found in [1]. Often, proprioception enables robot arms to detect collisions with objects and people (as discussed in [1]) including when mounted on a legged robot [2]. [3] analyzes the timing and impulse associated with contact detection with rigid objects. However, robot arms are not usually subjected to the large recurring forces experienced by legs.\nOn legs, proprioception often provides foot contact detection [4] but reasoning about contacts at other locations on legs is not as common. [5] localizes where contacts are on legs or fingers but assumes rigid objects. Measuring non-stance forces on the legs enables adaptation to these disturbances [6] and obstacle avoidance [7].\nOther work adds additional sensors for detecting contact. Some use vision to address obstacles or combine vision with proprioception. Lidar and radar can detect obstacles even behind foliage, but processing is significant and obstacle\nar X\niv :2\n30 4.\n02 12\n9v 2\n[ cs\n.R O\n] 1\n0 Se\np 20\n23\nstiffness is still unknown [8]. Proprioception can augment vision to detect obstacles or terrain parameters like friction not observed by visual sensors [9] or estimate ground surface height when it is occluded by foliage [10]. Alternatively, adding sensing skins allows a robot to measure contact with great granularity. However, skins involve significant additional hardware, complexity, and potential for damage [11], [12], [13], or may not be able to measure many simultaneous contacts from plants or other objects [14].\nSensing disturbances like unexpected contact by any of the discussed methods is very useful since it enables a robot to trigger reactions to them. Stepping over rigid obstacles like curbs can avert tripping, shown in simulation by [15] and hardware by [16]. We aim to extend simple reactions to address obstacles of variable geometry and compliance including thin entangling objects like vines and cords.\nWe present a proprioceptive reactive approach that enables a quadruped robot to walk through entanglements distributed over its limbs. This contribution consists of two key components. First, we modify momentum-based observation informed by the hybrid forces of walking to better detect lower-magnitude forces on a leg in swing phase between its stance phases, described in Section II-A and hardware tested in Section III-A. Second, we develop a reactive swing-leg disentanglement controller that enables a robot to slide out of and step over simple entanglements described in Section II-B and hardware tested in Sections III-B through III-E."
        },
        {
            "heading": "II. METHODS",
            "text": "Our methods consists of two control modules: a momentum-based observer suited for detecting swing-leg entanglements, and a swing-leg controller (Fig. 2). It is implemented as an extension to the Quad-SDK open-source software [17] for legged robot control."
        },
        {
            "heading": "A. Momentum-based Observer",
            "text": "In this section, we develop proprioceptive estimation that uses only existing sensors on a commercial quadruped robot (motor encoders and current monitoring) to provide feedback about contacts across the limbs that may impede progress. We adapt the Momentum-Based Observer (MBO) of [1] to monitor externally-induced joint torques on a quadruped robot\u2019s legs. A new innovation is the re-initialization of the\nMBO to improve detection of small forces between stance phases as described in section II-A.2.\nWe assume that the robot attempts to walk forwards through entanglements at a steady speed with level torso orientation and height and that the torso has significantly more inertia than the limbs. Following these assumptions, we use the robot\u2019s torso frame as the base inertial reference frame, ignoring its acceleration and rotation. Experiments in Section III show that these assumptions hold.\nWe model the robot\u2019s limbs as four independent serial chains with equations of motion governed by\nM(q)q\u0308 + C(q, q\u0307)q\u0307 +G(q)\u2212 \u03c4m \u2212 \u03c4f = \u03c4ext (1)\nwhere q are the joint angles, M(q) is the inertia matrix, C(q, q\u0307) contains the Christoffel symbols, G(q) are the gravitational terms, \u03c4m are the joint torques applied by the motors, \u03c4f are estimated joint friction torques, and \u03c4ext are the externally-induced joint torques. For the Spirit-40 quadruped robot, each leg has three joints (named ab/ad, hip, and knee from proximal to distal and rotating about the body x, y, and y axes in the zero configuration), such that q, \u03c4m, and \u03c4ext are vectors of length three. \u03c4ext arises from the sum of all external wrenches applied to the limb\n\u03c4ext = n\u2211 i=0 JTci(q)Fext,i (2)\nwhere Fext,i is one of the n wrenches applied at point ci on the limb and Jci(q) is the geometric contact Jacobian.\nTaking the time derivative of the generalized momentum p = M(q)q\u0307 and solving for \u03c4ext produces the momentumbased observer described in [1] section III-E, specifically equations (42\u201344). The resulting observer maintains a linear first-order estimate r that approximates \u03c4ext and does not require noisy double differentiation of joint angles q\n\u03b2\u0302(q, q\u0307) = G(q)\u2212 CT (q, q\u0307)q\u0307 (3) \u02d9\u0302p = \u03c4m \u2212 \u03b2\u0302(q, q\u0307) + r (4) r = KO(p\u2212 p\u0302) (5)\nwhere p\u0302 is the estimated generalized momentum of the limb and p is the generalized momentum of the limb computed from sensor measurements. Note that we have simplified the dynamics of r compared to [1]. KO is the diagonal observer gain matrix that can be selected to tune the time constant\nof the observer trading off response time and smoothing of noise. We chose all diagonal elements of KO to be 25 Hz tuned empirically for a balance between fast response and rejection of high-frequency noise. We identified inertial parameters for computing M , C, and G using the method of [18] with a slight modification to also estimate friction parameters c and d which we used for friction compensation:\n\u03c4f,i = \u2212c sign(q\u0307i)\u2212 dq\u0307i We found that joints of the same type exhibited similar friction parameters with the highest dry friction of c = 0.44 N m in the knees and that viscous damping was small for all joints.\n1) Torque estimates for reaction: The MBO torque estimates do not distinguish the various forces or points of application on the robot\u2019s limb, but provide an estimate of the total resistance the robot feels and its direction. Solving the full location and magnitude of every contact distributed across the limb is an under-specified problem [5] but the full solution is not required to react to obstacles that impede the robot\u2019s motion; the MBO\u2019s joint torque estimates suffice.\nAdditional simplification arises from the task of moving forwards in one direction and a few realistic assumptions about limb morphology and contact forces. First, we assume that each of the robot\u2019s legs is an unbranching serial chain of broadly straight and smooth links in which each link extends only below and not above the preceding joint as is usual for legs. Second, we assume that obstacles cannot exert pulling forces on the surface of the robot limb \u2013 that is, there are negligible adhesive forces. Given these assumptions, only obstacles ahead of the robot limb can exert backwards-directed forces impeding forwards progress. Furthermore, backwards-directed forces always exert torques in only one direction on joints with axes that are horizontal and perpendicular to the direction of forwards motion (as in humans\u2019 knees and in Spirit 40\u2019s hip and knee joints). This allows us to ignore torques in the opposite direction, since they can arise only from obstacles pressing on the rear surface of the limb where they will not impede progress.\n2) Initialization: An interesting challenge for external contact force estimation arises from the action of walking in which intentional forces with the world alternate between large (in stance) and small (in swing) magnitudes. Thus, in this paper we extend the momentum-based observer approach to separate the estimation of smaller forces from the planned large external forces.\nDuring stance, external force is usually on the order of 1/2 of the bodyweight for a walking trot gait at 50% duty factor, resulting in two legs supporting the body at any moment. However, even forces that induce smaller torques at the joints can cause an impediment to swing-leg motion.\nThe robot\u2019s maximum pushing force is limited, requiring the MBO to detect forces smaller than those at which the robot becomes stuck. Forces applied to the swing legs totalling more than some force Fmax are too large for the legs to push through during swing. At the upper bound, Fmax can be no larger than \u00b5mg where \u00b5 is the coefficient of friction\nand mg is the bodyweight of the robot. However, in reality this limit is lower due to controller performance and avoiding toppling the robot. The achieved Fmax depends on the robot\u2019s forward velocity control gain tuning, commanded velocity, and terrain slope and friction.\nFmax sets an upper limit on swing forces, while the MBO\u2019s noise floor provides a minimum force threshold for detection. Its accuracy depends on inertial parameter identification errors whose effect grows as joint velocity and acceleration increase and on joint dry friction that makes it difficult to measure torques lower in magnitude than the friction force.\nDetecting swing-phase contacts early is important for there to be sufficient time for any reaction to clear the obstacle. However, soft contacts from vines or brush in swing phase can be more difficult than traditional hard impacts since no impulsive rapid change in momentum results. Furthermore, these smaller forces are easily overshadowed by the large stance phase forces early in swing as the momentum observer estimates converge from their initial large stance values.\nTo rapidly detect forces on the legs, we re-zero the momentum-based observer\u2019s momentum estimate p\u0302 as the leg leaves stance phase and begins its swing motion. In physical implementation, the re-zeroing period lasts 30 ms at the start of swing in case stance ends late due to state uncertainty or communication latency. This reinitialization takes advantage of knowledge about stance and swing behavior to improve accuracy at the start of swing since the limb begins close to rest and nominally under little load as it ends stance phase and begins swing phase. We show the benefit of the proposed MBO reinitialization in Section III-A."
        },
        {
            "heading": "B. Entanglement reaction",
            "text": "1) Formulation and gait constraints: Conventional controllers walk well in the absence of obstacles, but a change in gait or \u201creaction\u201d may be required if a limb makes contact with an obstacle. Two important obstacle properties are: the peak horizontal force Fo with which it can oppose forward motion of a limb; and the notion of its geometric \u201ccomplexity\u201d or how difficult it would be for a path planner to find a feasible trajectory to overcome the obstacle. Reactions can occur at different levels of the controller with phase transitions occuring based on these parameters:\n1) If Fo is below Fmax, gait kinematics may remain largely unchanged and the swing leg can push through the obstacle by using higher swing leg force. 2) If Fo is greater than Fmax but the entanglement geometry is not complex, the swing leg can be retracted to step over the obstacle. 3) If the entanglement geometry is moderately complex, the robot can adjust its gait to solve the entanglement. 4) If the entanglement geometry is exceedingly complex, the robot can give up on its current planned path and replan a path that goes elsewhere.\nEach method corresponds to reaction at a different level in a conventional hierarchical planning and control framework escalating up from joint control to path planning. Generally, higher-level reactions involve more aggressive deviation from\nnominal behavior with corresponding slower progress and greater energetic cost.\nIn this work we focus on level 2) where the robot can retain a high speed and address moderately complex terrain that may be encountered frequently in realistic environments. Adaptation of the swing leg motion involves two steps: \u201cretraction\u201d and \u201cextension\u201d outlined below.\n2) Leg retraction: Leg retraction during swing phase aims to slide out of contact with any obstacles in front of the leg without precise knowledge of the object\u2019s geometry or material properties like stiffness. Once \u03c4ext at the hip or knee exceeds an experimentally chosen threshold (2 Nm for Spirit 40 in only the positive direction, as described in Section II-A) during swing, the leg is considered \u201cstuck\u201d and begins retraction. Ideally, leg retraction should circumvent any number of obstacles of any stiffness contacting the leg at any point on its front surface. Retraction has three objectives:\n1) Raise the bottom point of the leg over obstacles 2) Slide obstacles off the bottom of the leg 3) Retain contact until obstacles slide off the bottom of\nthe leg to avoid retreating from and advancing into the same obstacle in the absence of visual feedback.\nEssentially, while torque estimates indicate the leg is still behind an obstacle, the leg should apply an upward velocity at the foot and a light forwards pressure with its distal links. This is akin to hybrid force-velocity control in which the foot of the robot applies a forwards force to retain contact but achieves a positive vertical velocity to slide above them. In order to slide contacts off of the bottom of the leg, front surfaces of the limb should retain a downward slope.\nFor the simple 2-link leg of a commercial quadruped robot, an experimentally tuned strategy can be applied using a retraction velocity command at the hip joint (15 rad/s) and a forwards torque command (2 Nm) at the knee joint. In physical implementation, retraction lasts a minimum of 0.1 seconds to ensure obstacles close to the knee are cleared.\na) Extension: Once no more contacts are detected on the limb (\u03c4ext drops below 2 Nm for Spirit 40) the limb is\nconsidered \u201cfree\u201d again and can extend towards the desired foothold. Extension also begins if the end of the allotted swing phase time is soon, less than parameter tdown s away, to ensure it is on the ground in time for the next stance. In order to avoid re-entangling on obstacles, the lowest point on the leg (the foot) remains high subject to kinematic constraints and \u201cadvances\u201d horizontally until the foot is above the desired foothold. At this point, the foot \u201cdescends\u201d until it contacts the ground. By first advancing and then descending, any obstacle between the previous foothold and the next foothold (below the height at which obstructions slid off) will either not contact the leg or will contact only rear surfaces of the leg. One full reaction motion to disentangle from a bungee cord is illustrated in Fig. 4."
        },
        {
            "heading": "C. Gait",
            "text": "Gait period T is a particularly important parameter since it impacts walking control stability, MBO accuracy, and reaction motion success. Low step frequency reduces stability. In experiments walking at a commanded 0.5 m/s, the regularity of the gait and error from the commanded posture, height, and speed deviated further as the gait period increased. Spirit 40 regulated its forward velocity with a 0.037 m/s standard deviation with T = 0.36 s, rising to 0.084 m/s at T = 0.54 s and to 0.198 m/s at T = 0.75 s.\nHowever, shorter values of T necessitate faster reaction motion to clear high obstacles. Swinging leg joints through \u03c0/2 rad and back during one step in a 50% duty factor trot requires an average joint speed of 2\u03c0/T . With Spirit 40\u2019s knee joint free running speed of approximately 20 rad/s, T can be no shorter than 0.31 s and in practice should be somewhat slower to leave sufficient control bandwidth. As a consequence, we standardized on a gait period of 0.54 s, 50% slower than the Quad-SDK default of 0.36 s.\nThe robot often detects entanglement too late to complete a successful retraction; e.g. if the leg hits the obstacle late in its swing. In these cases, the leg can begin its next swing already retracting to provide ample time to clear the obstacle.\nTo achieve this, the stuck/free state at the beginning of the next swing is retained from the stuck/free state at time tdown. If a component of \u03c4ext remains high at time tdown, the next swing begins retracting while if the leg is free at tdown the next swing begins by advancing towards the foothold."
        },
        {
            "heading": "D. Experimental Setup",
            "text": "1) Indoor Experiments: We test the baseline and swing retraction walking strategies on hardware using Ghost Robotics\u2019 Spirit-40 to step over obstacles with various stiffnesses and altitudes. Our indoor testing uses motion capture (MOCAP) to provide an estimate of body position and orientation for the robot. We present the result of using different walking strategies when facing baseline soft bungee cords in Table I, and the result of applying our method to go over five different arrangements of obstacles in Table II. Our obstacle setup considers Spirit-40\u2019s nominal stance CoM height of 27 cm and is shown in Fig. 5 (Left). We tie four light-duty bungee cords (rest-length 1.2 m and a stiffness of about 250 N/m for deflections under 8 cm, softening to about 70 N/m for larger deflections) on all anchors A to D. The rope and rigid plate are placed at anchor A when tested in isolation. In the mixed setting, we put one rigid plate on anchor A, two bungee cords on anchors B and C and one rope on anchor D. In the net experiments, a soccer net with 14 cm square openings covers the entire aisle at an average height of 7.6 cm. In all settings, the robot is programmed to go straight at a constant speed of 0.5 m/s with a gait period of 0.54 s unless otherwise noted.\n2) Outdoor Setup: In the outdoor setting, we deploy Spirit-40 in interwoven natural vines shown in Fig. 5 (Right). The vines pile up approximately 8 cm above the ground. An onboard Intel Realsense T265 camera provides rough body pose estimates to replace indoor tests\u2019 MOCAP estimation. The robot walking speed is decreased to 0.4 m/s for more stable estimation."
        },
        {
            "heading": "III. RESULTS",
            "text": "We tested our momentum-based observer and disentanglement reaction in a series of hardware experiments. First, we tested that the MBO sensitivity enables distinguishing between obstacles that can be pushed past and those that\nmust be avoided. Second, we compared our strategy to simple baseline controllers and demonstrated that our strategy succeeds where others fail while using less power than aggressive motion. Third, we tested our strategy across a variety of different obstacle parameters including not just height but also stiffness. Finally, we tested our strategy against many complicated contacts in and out of the lab."
        },
        {
            "heading": "A. Momentum-based Observer",
            "text": "We tested the momentum-based observer walking with and without resetting (Fig. 6 top and middle) and into obstacles of different strengths \u2013 a bungee cord and an easily broken wire (Fig. 6 middle and bottom).\nBy resetting the MBO at the beginning of swing, large torques from stance phase do not corrupt the initial swing phase torque estimate, allowing it to easily distinguish between negligible and significant forces by a simple threshold on the torque magnitude. As stated earlier, forces pushing on the front surfaces of the limbs can exert only positive torques about the joints so the threshold needs to only be applied in the positive direction for all joints in the leg."
        },
        {
            "heading": "B. Reactionless strategy baselines",
            "text": "To test walking with and without our proposed method under the same conditions, We arranged four bungee cords on the anchor points of the obstacle rack shown in Fig. 5 with heights from 12.7 cm to 22.9 cm high. We compared\nthe performance of our strategy to the unmodified gait as well as several modified open-loop baseline walking gaits, shown in Fig. 7. Table I summarizes the results comparing measurements of power and speed while walking freely (Pf and vf ) and while in contact with obstacles (Po and vo).\n1) Default baseline: First we tested the default gait of Quad-SDK [17]. All parameters were left default (step height 0.07 m) except for the gait period which was matched to the other tests at 0.54s. With default walking behavior, the first obstacle immediately halted the robot when it became stuck in the robot\u2019s front knees in all three trials.\n2) High stepping: Tripling the swing-leg ground clearance from the default 0.07 m to 0.2 m entirely steps over some entanglements. However, the outcome depends on the phase at which the leg strikes an obstacle; if the obstacles makes contact while the foot is rising, it can become jammed in the knee as in the default condition. This strategy entangled a front leg on the first obstacle in the first trial and a back leg in the third, but successfully cleared the first obstacle only to get stuck on the third one in trial two. Furthermore, high stepping incurs an energetic cost 50% higher than the default even in the absence of obstacles.\n3) Knees forwards: Modifying leg posture and hence the shape of the front surface of the leg appears a promising way to reduce entanglement. Pointing the knees forwards (equivalent to walking backwards for Spirit 40 with its four symmetric legs) angles the lower shank down and\nback, allowing compliant obstacles beneath the knees to be naturally deflected down. However, compliant obstacles above the knees of the leading legs become stuck on the robot\u2019s torso and those above the knees of the trailing legs become stuck at the hip joint. This baseline crossed the first obstacle but became entangled in the third obstacle in all three trials. Note that it is possible to angle the upper and lower shanks backwards by placing the feet far aft of the hips; however, this causes usual quadruped robots to tip over.\n4) Retraction on every step: Retracting the leg according to the reaction motion on every step is capable of avoiding any entanglement that our proprioceptively-triggered reaction can avoid. However, like the high stepping strategy, this behavior is energetically costly. It crossed the obstacles in three out of three trials, but averaged about 170 W, double the usual power in the absence of obstacles.\n5) Our method: Our proprioceptive detection and reaction strategy succeeded in all three out of three trials, overcoming obstacles that baselines 1\u20133 could not while using less power than aggressive baseline 4. While our method was slower than baseline 4, it used as much power as the default in the absence of obstacles, half as much as baseline 4.\nC. Varying stiffness\nOur proprioceptive entanglement reaction overcomes obstacles of various stiffnesses using identical control and\nestimation with no retuning for all experiments. In addition to the arrangement of bungee cords, we tested our strategy against a softer bungee cord created by connecting three bungees in series, a stiff rope, and a short rigid aluminum beam. The proprioceptive reaction strategy successfully detected and stepped over all four stiffnesses in all three out of three trials, summarized in Table II.\nSince the detection and reaction strategy ignores small forces that can be pushed through, the reaction motion did not trigger until significantly later when contacting the soft bungee cord (see Fig. 8). By contrast, the reaction immediately triggered upon impact with the rigid beam. For the stiff rope, the force remains negligible while the rope is slack but rapidly rises to be significant once the rope becomes taught. This distinguishing between contact loads avoids overreacting to light contacts that are easily brushed aside while executing disentanglement motions once forces become large enough to impede forward progress."
        },
        {
            "heading": "D. Many entanglements",
            "text": "Subsequently, we tested our strategy in two challenging conditions. Fig. 1 shows the robot walking through obstacles of several stiffnesses: rigid, bungees, and ropes shown in Fig. 5. Our strategy again succeeded in all three out of three trials while interacting with obstacles of different stiffnesses simultaneously contacting different legs, demonstrating the proprioceptive reaction strategy\u2019s generality.\nFor an additional challenge, we walked the robot through a soccer net, presenting a great many small obstacles to the robot (Fig. 9). For this extreme challenge, we increased the body height to 35 cm and decreased the commanded forward speed to 0.4 m/s. The robot became entangled in the soccer net in two out of four trials, but succeeded in two."
        },
        {
            "heading": "E. Outdoors",
            "text": "Finally, to validate the viability of our momentum-based observer and underbrush controller, we ran a preliminary test of our system outside in a field of dense vines approximately 8 cm deep shown in Fig. 9. We commanded Spirit 40 to walk forward at 0.4 m/s. Our strategy advanced 1.65 m in 6.5 s while the standard controller\u2019s legs became immediately entangled and the robot advanced only 0.33 m before falling down. Our strategy was significantly more robust and\nwalked multiple gait cycles through thick underbrush before ultimately falling due to limitations in the camera-based body state estimation. Further outdoor experiments will require improved onboard body state estimation, and will be the subject of future work."
        },
        {
            "heading": "IV. CONCLUSIONS",
            "text": "In this paper, we demonstrate a momentum-based observer for propriceptive joint torque estimation suited to classify contacts on a robot\u2019s limb as entanglements. In addition, we preset a simple leg reaction motion to disentangle from any detected entanglements. These estimation and leg control modules can be easily integrated into an existing hierarchical planning and control framework to enable a commercial offthe-shelf quadruped robot to sense and disentangle from obstacles without hardware modification. Hardware experiments demonstrate the efficacy of the proposed strategies and validate that the simplifying assumptions that enable decoupling are valid in physical realization.\nAssumptions simplify our approach but limit the scope of our observer and reaction strategy. The current implementation considers only forwards motion and while the extension strategy is spatial, the retraction strategy is not. In particular, the retraction strategy will fail if it becomes stuck on something. For cases such as this and for higher obstacles over which the robot would be forced to climb or leap, integration with higher-level planning will be required.\nFuture work can evaluate the performance of different walking, sensing, and reaction strategies in real environments from underbrush to thickets including performance metrics like the maximum speed that can be achieved among different numbers and types of obstacles. Extraction of additional contact location and force magnitude estimates or data-driven estimation could provide refined obstacle information for disentanglement. While the overall approach presented in this work should apply generally to platforms of other morphologies, extension to biped robots requires considerations of balance, foot shape, and other features. This includes generalizing retraction to spatial motion including sideways walking in which the robot\u2019s hip and knee joint axes are parallel to the direction of travel.\nExtensions could also address appropriate escalation of disentanglement maneuvers from simple behaviors that work for most situations to complex replanning to handle more circuitous extrication from particularly severe entrapment, as discussed in Section II-B.1."
        }
    ],
    "title": "Proprioception and reaction for walking among entanglements",
    "year": 2023
}