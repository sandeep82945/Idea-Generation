{
    "abstractText": "The optimal offloading of tasks in heterogeneous edge-computing scenarios is of great practical interest, both in the selfish and fully cooperative setting. In practice, such systems are typically very large, rendering exact solutions in terms of cooperative optima or Nash equilibria intractable. For this purpose, we adopt a general mean-field formulation in order to solve the competitive and cooperative offloading problems in the limit of infinitely large systems. We give theoretical guarantees for the approximation properties of the limiting solution and solve the resulting mean-field problems numerically. Furthermore, we verify our solutions numerically and find that our approximations are accurate for systems with dozens of edge devices. As a result, we obtain a tractable approach to the design of offloading strategies in large edge-computing scenarios with many users.",
    "authors": [
        {
            "affiliations": [],
            "name": "Kai Cui"
        },
        {
            "affiliations": [],
            "name": "Mustafa Burak Yilmaz"
        },
        {
            "affiliations": [],
            "name": "Anam Tahir"
        },
        {
            "affiliations": [],
            "name": "Anja Klein"
        },
        {
            "affiliations": [],
            "name": "Heinz Koeppl"
        }
    ],
    "id": "SP:695e0b04f5fd8b1fe20efd2a544999cdfb65504d",
    "references": [
        {
            "authors": [
                "Cisco"
            ],
            "title": "Cisco annual internet report (2018\u20132023)",
            "venue": "Tech. Rep. C11- 741490-01, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "K. Zhang",
                "Z. Yang",
                "T. Ba\u015far"
            ],
            "title": "Multi-agent reinforcement learning: A selective overview of theories and algorithms",
            "venue": "Handbook of Reinforcement Learning and Control, K. G. Vamvoudakis, Y. Wan, F. L. Lewis, and D. Cansever, Eds. Cham: Springer International Publishing, 2021, pp. 321\u2013384.",
            "year": 2021
        },
        {
            "authors": [
                "M. Huang",
                "R.P. Malham\u00e9",
                "P.E. Caines"
            ],
            "title": "Large population stochastic dynamic games: closed-loop McKean-Vlasov systems and the Nash certainty equivalence principle",
            "venue": "Commun. Inf. Syst., vol. 6, no. 3, pp. 221\u2013252, 2006.",
            "year": 2006
        },
        {
            "authors": [
                "J.-M. Lasry",
                "P.-L. Lions"
            ],
            "title": "Mean field games",
            "venue": "Japanese J. Math., vol. 2, no. 1, pp. 229\u2013260, 2007.",
            "year": 2007
        },
        {
            "authors": [
                "O. Gu\u00e9ant",
                "J.-M. Lasry",
                "P.-L. Lions"
            ],
            "title": "Mean field games and applications",
            "venue": "Paris-Princeton lectures on mathematical finance 2010. Springer, 2011, pp. 205\u2013266.",
            "year": 2010
        },
        {
            "authors": [
                "D.A. Gomes",
                "J. Mohr",
                "R.R. Souza"
            ],
            "title": "Discrete time, finite state space mean field games",
            "venue": "Journal de math\u00e9matiques pures et appliqu\u00e9es, vol. 93, no. 3, pp. 308\u2013328, 2010.",
            "year": 2010
        },
        {
            "authors": [
                "N. Saldi",
                "T. Basar",
                "M. Raginsky"
            ],
            "title": "Markov\u2013Nash equilibria in meanfield games with discounted cost",
            "venue": "SIAM J. Control Optim., vol. 56, no. 6, pp. 4256\u20134287, 2018.",
            "year": 2018
        },
        {
            "authors": [
                "X. Guo",
                "A. Hu",
                "R. Xu",
                "J. Zhang"
            ],
            "title": "Learning mean-field games",
            "venue": "Proc. NeurIPS, 2019, pp. 4966\u20134976.",
            "year": 2019
        },
        {
            "authors": [
                "R. Elie",
                "J. Perolat",
                "M. Lauri\u00e8re",
                "M. Geist",
                "O. Pietquin"
            ],
            "title": "On the convergence of model free learning in mean field games",
            "venue": "Proc. AAAI, vol. 34, no. 05, 2020, pp. 7143\u20137150.",
            "year": 2020
        },
        {
            "authors": [
                "D. Andersson",
                "B. Djehiche"
            ],
            "title": "A maximum principle for SDEs of mean-field type",
            "venue": "Appl. Math. Optim., vol. 63, no. 3, pp. 341\u2013356, 2011.",
            "year": 2011
        },
        {
            "authors": [
                "A. Bensoussan",
                "J. Frehse",
                "P. Yam"
            ],
            "title": "Mean field games and mean field type control theory",
            "year": 2013
        },
        {
            "authors": [
                "A.C. Kizilkale",
                "R.P. Malhame"
            ],
            "title": "Collective target tracking mean field control for electric space heaters",
            "venue": "Proc. Mediterranean Conf. Control Autom. IEEE, 2014, pp. 829\u2013834.",
            "year": 2014
        },
        {
            "authors": [
                "B. Djehiche",
                "H. Tembine"
            ],
            "title": "Risk-sensitive mean-field type control under partial observation",
            "venue": "Stochastics of environmental and financial economics. Springer, Cham, 2016, pp. 243\u2013263.",
            "year": 2016
        },
        {
            "authors": [
                "W. Lee",
                "S. Liu",
                "H. Tembine",
                "W. Li",
                "S. Osher"
            ],
            "title": "Controlling propagation of epidemics via mean-field control",
            "venue": "SIAM J. Appl. Math., vol. 81, no. 1, pp. 190\u2013207, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "J.-P. Fouque",
                "Z. Zhang"
            ],
            "title": "Deep learning methods for mean field control problems with delay",
            "venue": "Front. Appl. Math. Stat., vol. 6, p. 11, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "R. Zheng",
                "H. Wang",
                "M. De Mari"
            ],
            "title": "Optimal computation offloading with a shared MEC center: A mean field game approach",
            "venue": "Proc. GLOBECOM Workshop. IEEE, 2019, pp. 1\u20136.",
            "year": 2019
        },
        {
            "authors": [
                "R.A. Banez",
                "L. Li",
                "C. Yang",
                "L. Song",
                "Z. Han"
            ],
            "title": "A mean-field-type game approach to computation offloading in mobile edge computing networks",
            "venue": "Proc. IEEE ICC. IEEE, 2019, pp. 1\u20136.",
            "year": 2019
        },
        {
            "authors": [
                "R.A. Banez",
                "H. Tembine",
                "L. Li",
                "C. Yang",
                "L. Song",
                "Z. Han",
                "H.V. Poor"
            ],
            "title": "Mean-field-type game-based computation offloading in multiaccess edge computing networks",
            "venue": "IEEE Trans. Wirel. Commun., vol. 19, no. 12, pp. 8366\u20138381, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "X. Wang",
                "J. Ye",
                "J.C. Lui"
            ],
            "title": "Joint D2D collaboration and task offloading for edge computing: A mean field graph approach",
            "venue": "Proc. IEEE/ACM 29th Int. Symp. Qual. Serv. (IWQOS). IEEE, 2021, pp. 1\u201310.",
            "year": 2021
        },
        {
            "authors": [
                "A.F. Hanif",
                "H. Tembine",
                "M. Assaad",
                "D. Zeghlache"
            ],
            "title": "Mean-field games for resource sharing in cloud-based networks",
            "venue": "IEEE/ACM Trans. Networking, vol. 24, no. 1, pp. 624\u2013637, 2015.",
            "year": 2015
        },
        {
            "authors": [
                "H. Gao",
                "W. Li",
                "R.A. Banez",
                "Z. Han",
                "H.V. Poor"
            ],
            "title": "Mean field evolutionary dynamics in dense-user multi-access edge computing systems",
            "venue": "IEEE Trans. Wirel. Commun., vol. 19, no. 12, pp. 7825\u20137835, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "R. Zheng",
                "H. Wang",
                "M. De Mari",
                "M. Cui",
                "X. Chu",
                "T.Q. Quek"
            ],
            "title": "Dynamic computation offloading in ultra-dense networks based on mean field games",
            "venue": "IEEE Trans. Wirel. Commun., vol. 20, no. 10, pp. 6551\u20136565, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "L. Li",
                "Q. Cheng",
                "X. Tang",
                "T. Bai",
                "W. Chen",
                "Z. Ding",
                "Z. Han"
            ],
            "title": "Resource allocation for NOMA-MEC systems in ultra-dense networks: A learning aided mean-field game approach",
            "venue": "IEEE Trans. Wirel. Commun., vol. 20, no. 3, pp. 1487\u20131500, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "R.A. Banez",
                "L. Li",
                "C. Yang",
                "Z. Han"
            ],
            "title": "A survey of mean field game applications in wireless networks",
            "venue": "Mean Field Game and its Applications in Wireless Networks. Springer, 2021, pp. 61\u201382.",
            "year": 2021
        },
        {
            "authors": [
                "C. Daskalakis",
                "P.W. Goldberg",
                "C.H. Papadimitriou"
            ],
            "title": "The complexity of computing a Nash equilibrium",
            "venue": "SIAM J. Comput., vol. 39, no. 1, pp. 195\u2013259, 2009.",
            "year": 2009
        },
        {
            "authors": [
                "B. Y\u0131lmaz",
                "A. Ortiz",
                "A. Klein"
            ],
            "title": "Delay minimization for edge computing with dynamic server computing capacity: A learning approach",
            "venue": "Proc. GLOBECOM, 2020, pp. 1\u20136.",
            "year": 2020
        },
        {
            "authors": [
                "K. Cui",
                "A. Tahir",
                "M. Sinzger",
                "H. Koeppl"
            ],
            "title": "Discrete-time mean field control with environment states",
            "venue": "Proc. IEEE CDC, 2021, pp. 5239\u2013 5246.",
            "year": 2021
        },
        {
            "authors": [
                "P.M. Pardalos",
                "S.A. Vavasis"
            ],
            "title": "Quadratic programming with one negative eigenvalue is NP-hard",
            "venue": "J. Global Optim., vol. 1, no. 1, pp. 15\u201322, 1991.",
            "year": 1991
        }
    ],
    "sections": [
        {
            "text": "Index Terms\u2014edge-computing, mean-field, computation offloading, Nash equilibria, Pareto optima\nI. INTRODUCTION\nIn recent years, a rapid growth of data generated from the network edge is witnessed, especially, the Cisco Annual Internet Report 2020 forecasts a rapid deployment of billions of Machine To Machine (M2M) devices until 2023 [1]. Multiaccess Edge Computing (MEC) is a key technology to compensate strictly limited M2M devices in their processing by enabling computation offloading to cloudlet servers with computation resources in their vicinity. Additionally, the number of User Edge devices (UE) like smartphones, tablets and laptops also have increased tremendously due to the ease of their availability and low costs. These devices can also gain from offloading their tasks that demand intensive computations and low latencies, e.g., virtual reality, real-time face recognition, natural language processing, to such cloudlets.\nA MEC system can be seen as a multi-agent system where each UE is an agent who needs to decide, for each arriving task, whether to offload it to the MEC server or not. There has been great interest in finding the optimal policy for these UEs, to either offload or process locally, depending on factors such as their own available resources, network conditions and offloading computation costs. Even though several computation offloading strategies between UEs and MEC servers have been proposed in the literature, finding scalable solutions for MEC\nThis work has been co-funded by the LOEWE initiative (Hesse, Germany) within the emergenCITY center and the German Research Foundation (DFG) via the Collaborative Research Center (CRC) 1053 \u2013 MAKI.\nmultiagent systems remains an important problem considering the continuously increasing number of agents.\nMean-field approximations are becoming an increasingly popular approach to resolve the curse of dimensionality in large-scale multi-agent systems [2]. The idea is to represent a many-agent system as a single-representative-agent system which interacts with the empirical state distribution (or the mean-field) of all the other agents in the system, making the system tractable. It has been shown that the solution to a meanfield system is a good approximation to an N-agent system as N grow large [3]. There are two main categories in which agents can work in a multi-agent system, either cooperatively to maximize a global goal or competitively to maximize their own reward, or a combination of both. Mean-Field Games (MFGs, [4], [5], [6], [7]) provide a way to analyze and solve large-scale competitive problems in a tractable manner, in particular under the usage of learning-based techniques [8], [9]. On the other hand, Mean-Field Control (MFC) is used to model cooperative settings in many-agent systems [10], [11], see [12], [13], [14], [15], and references therein for some interesting applications. Similarly, we will formulate offloading in edge-computation as both a one-shot problem with theoretical guarantees and alternatively a time-stationary problem, allowing for competitive and cooperative solutions in a unified, tractable manner.\nThe decision to offload tasks to MEC has been an important area of research since it is crucial to find a good, if not optimal,978-1-6654-3540-6/22 \u00a9 2022 IEEE\nar X\niv :2\n20 9.\n03 85\n4v 1\n[ cs\n.D C\n] 8\nS ep\n2 02\n2\npolicy in scalable applications. Various prior works have used mean-field approximations for similar offloading problems. In [16], the authors model a shared MEC competitive offloading problem as an MFG in continuous time and solve the resulting coupled Hamilton-Jacobi-Bellman and FokkerPlank partial differential equations using fixed-point iteration. However, their model considers only the non-cooperative case and results in a continuous time model, while in our work we also consider a cooperative setting and obtain a model for the time-stationary case. Similarly, in [17], [18], the authors consider both cooperative and non-cooperative computational offloading problems, though through the special case of a linear-quadratic model, while we solve a non-linear problem.\nMean-field approximations have also been used to model large-scale MEC systems with D2D collaborations [19] particularly on graphs as a deterministic ODE system, though the model does not consider entirely selfish nodes. Finally, authors in [20] model and solve a large-scale resource-sharing problem using mean-field theory and both cooperative and noncooperative strategies, i.e. a more centralized setting without local computational capabilities. In contrast to our work, their models focus on graph-based job forwarding and continuousaction resource-sharing problems, whereas our model focuses on offloading decisions. For a variety of other works on applications of the mean-field approach in communication systems, see also e.g. [21], [22], [23], [24]. Apart from the discussed differences, all of the models in prior works and our work are diverse and apply to a variety of differing scenarios. Here, in contrast to previous work, our model will consider the both cooperative and competitive optimization of binary offloading decisions in edge-computing, where users may choose to offload or compute locally. In this work, we will formulate a unified mean-field framework for both the competitive and cooperative setting of offloading decisions in edge-computing. In particular, our tractable solution considers both a one-shot and time-stationary scenario that is rigorously approximating the finite user system.\nWe begin our analysis with a computationally expensiveto-solve one-shot game, a knapsack problem, where many edge devices must independently decide whether to offload or not for a given distribution of task configurations. Our contribution can be summarized as follows: (i) We pass to the infinite-user limit in order to obtain a tractable problem with a complexity independent of the number of users; (ii) The model is theoretically motivated by showing novel existence and approximate optimality properties of solutions in large finite systems, both in terms of Nash equilibria and Pareto optima; (iii) Since, in practice, a one-shot game may not be sufficiently realistic, we extend our model to a new timestationary model with a Poisson task arrival process and find analogous competitive and cooperative solutions in the limit of large systems; and finally (iv), the proposed models are verified in simulation and solved or learned with complexity independent of the number of users, while concurrently giving a good solution to large finite systems. As a result, we tractably solve an otherwise intractable many-agent offloading problem."
        },
        {
            "heading": "II. MATHEMATICAL MODEL",
            "text": "In the considered scenario, a multi-cell ultra-dense network includes M MEC servers and a total number of N UEs associated with these MEC servers. It is assumed that M MEC servers are connected through a fiber loop to share their computational resources, pooled into a single centralized but distributed MEC pool, where we also assume the bandwidth across the MEC servers is large enough for connecting all UEs and the delay in resource sharing through fiber loop is neglected, similar to the framework presented in [16]. The scenario is depicted in Fig. 1 with M MEC servers and N UEs. Each UE, modeled by i = 1, . . . ,N, is given a configuration\nCi := (W i,Li, f i,Ri) \u2208K\u2286 R4\u22650 (1) with task transmission length W i in bits, task processing complexity Li in CPU cycles to be computed (either by offloading to a MEC server or by computing locally), transmission rate Ri between user and MEC server measured in bits per second, and finally a local processing rate f i in CPU cycles per second. Each user i may make a decision Xi \u2208 {0,1} of whether to offload their task.\nFor a given overall MEC server processing rate fpool \u2208R, we assume each offloading UE is allocated a proportional amount of processing power from the MEC processing pool to their offloaded task\u2019s complexity. The time T txi to transmit the i-th users\u2019 task to a MEC server and the time T offi to compute at the MEC server are given by\nT txi = W i\nRi , T offi =\nLi\nfpool \u00b7 1\u2211 j X j (2)\nassuming that each offloading task is assigned equal processing power. Alternatively, one could also easily consider completion of all offloaded tasks at once, i.e. T offi = X j \u2211 j L j fpool . The time to compute a task locally is given by\nT loci = Li\nf i . (3)\nThe result of the computed tasks are assumed to be negligible in size compared to original task size W i, therefore, the time needed for the reception of results is not considered."
        },
        {
            "heading": "A. Competitive game setting",
            "text": "In the competitive, selfish setting, each user i independently decides on whether to offload or not via the random variable Xi \u2208 {0,1} so as to minimize only their own expected computation time, i.e. either time to compute locally or offload\nP(Xi = 1) \u00b7 (T txi +T offi )+P(Xi = 0) \u00b7T loci = E [ Xi(T txi +T off i )+(1\u2212Xi)T loci ] (4)\nUnder full information, we obtain a standard static game with the classical solution concept of mixed Nash equilibria: Each of the users chooses whether to offload according to a policy \u03c0i which gives the conditional probability of offloading\nP(Xi = 1 |C1, . . . ,CN)\u2261 \u03c0i(C1, . . . ,CN) (5)\nwhich results in the minimization objective of each user i, JNi (\u03c01, . . . ,\u03c0N) = E [ Xi(T txi +T off i )+(1\u2212Xi)T loci ] . (6)\nAn approximate \u03b5-Nash equilibrium is now defined as a tuple of policies (\u03c01, . . . ,\u03c0N) such that no user can gain by unilaterally changing their policy, i.e. for any i = 1, . . . ,N,\nJNi (\u03c0i,\u03c0\u2212i)\u2264max\u03c0\u2208\u03a0 J N i (\u03c0,\u03c0\u2212i)+ \u03b5 (7)\nwhere \u03c0\u2212i denotes all policies other than the i-th policy. Here, the minimal such \u03b5 is also referred to as the exploitability of policies. An exact Nash equilibrium for \u03b5 = 0 is indeed guaranteed to exist as long as K is compact (e.g. [25]).\nUnfortunately, it is known that the computation of Nash equilibria is hard, see [26]. Instead, we shall consider the many-agent case through mean-field analysis to obtain a tractable solution for large systems. At the same time, the solution will consist of decentralized policies. To this end, we shall now assume that there exists an underlying distribution \u00b50 \u2208 P(K) of user specifications, i.e. for i = 1, . . . ,N we have random variables Ci = (W i,Li, f i,Ri) \u223c \u00b50. To obtain a reasonable solution, we must also assume that the MEC pool computing power scales suitably with the number of users, i.e. fpool = N \u00b7 fper for some fper \u2208 R, since otherwise in the limit of many agents, offloading will become pointless. In practice, for fixed fpool and N in given finite N-agent systems, this may be realized by defining fper := fpool N .\nWe now consider a decentralized control setting by allowing each agent to decide whether to offload depending only on their own configuration Ci. For motivation, note that since all other agents are exchangeable from the perspective of a single agent, only the own state and overall distribution of behaviors of other agents matters. Furthermore, in the limit of N\u2192\u221e, the other users\u2019 distribution is uninformative, since under a common offloading strategy, the distribution converges to some fixed mean-field by the law of large numbers. Additionally, decentralized control policies may be motivated in practice by limited agent information. Since the computation of Nash equilibria in this setting nonetheless remains hard, this motivates the mean-field formulation.\nFor tractability, we formulate a mean-field game as N\u2192\u221e, as popularized by [3] and [4] for stochastic differential games. Here, we propose a mean-field model with near-Nash properties as N grows large, as we will also verify theoretically. Consider a policy \u03c0 shared by all users. The policy induces a joint distribution \u00b5 = \u00b50\u2297\u03c0 over user states and offloading decisions. Under this fixed distribution \u00b5 , the objective of a single, representative user becomes\nJ\u00b5(\u03c0) = E [ X(T\u0303 tx + T\u0303 off)+(1\u2212X)T\u0303 loc ] (8)\nwhere we have expectations of random variables of the representative agent (W,L, f ,R,X)\u223c \u00b5\u2297\u03c0 , and random transfer or processing times of the mean-field system W,L, f ,R\nT\u0303 tx = W R , T\u0303 off =\nL \u222b\nX d\u00b5 fper , T\u0303 loc = L f . (9)\nThe N \u2192 \u221e analogue of Nash equilibria is the mean-field equilibrium, defined as a tuple (\u03c0\u2217,\u00b5\u2217) of policy and meanfield, such that the policy is optimal under the mean-field generated by itself, i.e. defined through the fixed point equation\n\u03c0\u2217 = argmin \u03c0 J\u00b5 \u2217 (\u03c0), (10a)\n\u00b5\u2217 = \u00b50\u2297\u03c0\u2217. (10b) Analytically, for any fixed mean-field \u00b5 , we could find such a best response policy BR(\u00b5) by defining\n\u03c0\u2217(W,L, f ,R) = 1T\u0303 tx(W,L, f ,R)+T\u0303 off(W,L, f ,R)<T\u0303 loc(W,L, f ,R). (11)\nHowever, simply iterating the two fixed point equations is generally not guaranteed to converge to an equilibrium. Thus, we will learn equilibria through fictitious play [9]."
        },
        {
            "heading": "B. Cooperative control setting",
            "text": "In contrast to the selfish, competitive setting, in a cooperative setting it may be of interest to minimize the average processing time of all users. One may formulate a centralized optimization problem as\nmin X1,...,XN\n1 N\nN\n\u2211 i=1 Xi(T txi +T off i )+(1\u2212Xi)T loci (12a)\nsubject to Xi \u2208 {0,1} \u2200i \u2208 {1, . . . ,N} (12b) under full information. However, again this problem is known to be difficult to solve exactly for large N, as it is a knapsack problem [27]. Furthermore, we may again be interested in a decentralized solution, where each agent uses an independent policy, eliminating the need for centralized knowledge and only requiring knowledge of the local configuration Ci. Reformulating as optimization over decentralized policies \u03c0i and optimizing over the expected cost, we have\nmin \u03c01,...,\u03c0N\nE [ 1 N N \u2211 i=1 Xi(T txi +T off i )+(1\u2212Xi)T loci ] (13a)\nsubject to \u03c0i : K\u2192 [0,1] \u2200i \u2208 {1, . . . ,N} (13b) where each offloading decision Xi \u223c Bernoulli(\u03c0i(Ci)) follows from the policy \u03c0i.\nAs N\u2192\u221e, under the policy \u03c0 for all agents, we can obtain the corresponding mean-field control problem, which is more tractable than directly solving the N-user system, given as\nmin \u03c0\n\u222b X(T\u0303 tx + T\u0303 off)+(1\u2212X)T\u0303 loc d(\u00b50\u2297\u03c0) (14)\nagain with the previous definitions. Note that although we impose a shared, common policy \u03c0 , sharing a policy across all agents will indeed be sufficient for optimality [28].\nSince the problem is now reduced to the choice of \u03c0 : K\u2192 [0,1], the combinatorial optimization problem has been reduced to optimization over a bounded function \u03c0 with complexity independent of N. If we further assume that \u00b50 has finite support, i.e. K := |K|< \u221e and\n\u00b50 = K\n\u2211 j=1\np j\u03b4(W j ,L j , f j ,R j), K\n\u2211 j=1 p j = 1, (15)\nfor some p j \u2265 0, (Wj,L j, f j,R j) \u2208K, then we obtain\u222b X(T\u0303 tx + T\u0303 off)+(1\u2212X)T\u0303 loc d(\u00b50\u2297\u03c0)\n= K\n\u2211 j=1\np j\u03c0 j (\nWj R j + L j \u2211Kk=1 pk\u03c0k fper\n) + p j(1\u2212\u03c0 j)\nL j f j\n= K\n\u2211 j=1\nK\n\u2211 k=1 p j pkL j fper \u03c0 j\u03c0k + K \u2211 j=1 ( p jWj R j \u2212 p jL j f j ) \u03c0 j + K \u2211 j=1 p jL j f j\n= \u03c0T Q\u03c0 + cT \u03c0 + const.\nfor \u03c0 \u2261 (\u03c01, . . . ,\u03c0K)T , \u03c0 j = \u03c0(Wj,L j, f j,R j) and appropriate Q, c. Therefore, we obtain a non-convex quadratic program\nmin \u03c01,...,\u03c0K\n\u03c0T Q\u03c0 + cT \u03c0 (16a)\nsubject to \u03c0 j \u2208 [0,1] \u2200 j \u2208 {1, . . . ,K} (16b) with box constraints, which though NP-hard [29] in the cardinality of the support of \u00b50, can be solved numerically. Most importantly, the complexity remains independent of N, giving us a tractable solution for sufficiently small K. To handle more general densities \u00b50 with non-finite but compact support K, we may discretize distributions and solve the resulting finitesupport problem. As a result, we have obtained a tractable solution to the otherwise intractable offloading problem for many devices, as we will verify in the sequel."
        },
        {
            "heading": "III. TIME-STATIONARY MODEL",
            "text": "While the previous model assumes an instantaneous problem where we let all users play a one-shot game, another important and interesting setting is to assume a continuous flow of tasks arriving over time. While a theoretically rigorous analysis of this setting is beyond the scope of our work, we nonetheless consider this setting at its time-stationary equilibrium and solve it numerically.\nAt all times, let the arrival process of tasks be given by a Poisson process with constant rate \u03bbN, which is equivalent to Poisson arrival rates \u03bb for each of N users. At equilibrium, in the limit there must be a time-stationary bandwidth per user falloc allocated to a user choosing to offload their task. This bandwidth is given by dividing the total processing power fpool = N fper by the number of jobs in the system. Since the processing time for any offloaded job arriving at equilibrium is given by T tx = WR and T off = Lfalloc , the expected number of jobs in the system as N\u2192 \u221e will be given by\nE [Ntot] = \u03bbNE [ X(T tx +T off) ] (17)\nand is given by a sum of N Poisson variables Nitot, the numbers of jobs in the system from each user i. Therefore, by the central limit theorem, the fluctuations of Ntot are on the order of O( \u221a N), resulting in the allocated processing rate per user\nfalloc = fpool\nE [Ntot]+O( \u221a N) = fper \u03bbE [X(T tx +T off)]+O( 1\u221a\nN )\n\u2192 fper \u03bbE [XW\nR ] + \u03bbE[XL]falloc (18)\nas N\u2192 \u221e, which for falloc 6= 0 gives\nfalloc = fper\u2212\u03bbE [XL] \u03bbE [XW\nR ] (19) and the natural constraint\nfper\u2212\u03bb \u222b XLd(\u00b50\u2297\u03c0)> 0. (20)\nIntuitively, this constraint formalizes the notion of sufficient MEC resources, i.e. the rate of assigned jobs times their complexity must not exceed the possible compute assigned per node, as otherwise the MEC servers will be unable to catch up with assigned tasks, resulting in no time-stationary solution. Note that this constraint is trivially fulfilled if\nfper > \u03bbE [L] . (21)\nOptimizing the average waiting times of all agents in the cooperative case gives the MFC problem\nmin \u03c0\u2208[0,1]K\nE [ X(T tx +T off)+(1\u2212X)T\u0303 loc ] (22)\nwhere for finite K we have E [ X(T tx +T off)+(1\u2212X)T\u0303 loc ] = E [ XW\nR +\nXL\u03bbE [XW\nR ] fper\u2212\u03bbE [XL] + (1\u2212X)L f ]\n= K\n\u2211 j=1 p j\u03c0 j ( Wj R j + L j\u03bb \u2211Kk=1 pk\u03c0kWk Rk fper\u2212\u03bb \u2211Kk=1 pk\u03c0kLk ) + p j(1\u2212\u03c0 j) L j f j .\nFor the competitive MFG, we can analogously define an equilibrium as any fixed point policy \u03c0\u2217 such that\n\u03c0\u2217 \u2208 argmax \u03c0 E\u03c0\n[ XW\nR +\nXL\u03bbE\u03c0\u2217 [XW\nR ] fper\u2212\u03bbE\u03c0\u2217 [XL] + (1\u2212X)L f ] .\n(23)"
        },
        {
            "heading": "IV. THEORETICAL GUARANTEES",
            "text": "In this section, we state a number of theoretical guarantees for the one-shot mean-field problems. Extensions to the timestationary case are deferred to future work. The results follow from formulating the problem as certain standard mean-field game and mean-field control problems and applying existing results. In particular, note that our systems can be reformulated as standard mean-field games with action space {0,1} and state space K\u222a(K\u00d7U), see also [7], [28]. For the competitive setting, as N \u2192 \u221e, the MFG equilibrium exists and will constitute an approximate Nash equilibrium.\nTheorem 1: A solution (\u03c0\u2217,\u00b5\u2217) of the MFG problem (10) exists, and \u03c0\u2217 constitutes an \u03b5N-Nash equilibrium of the finite N-user system with \u03b5N \u2192 0 as N\u2192 \u221e.\nProof: See [7, Theorem 4.1]. Furthermore, it is known that the fictitious play algorithm will converge in terms of exploitability, giving us the desired approximate Nash equilibrium.\nTheorem 2: The exploitability of the solution of the fictitious play algorithm converges to zero.\nProof: The system fulfills [9, Assumption 1] and in particular the monotonicity property, since the offloading cost only increases when more agents offload. Therefore, by [9, Corollary 8.2], we have convergence of the fictitious play algorithm to the unique mean-field equilibrium.\nSimilarly, the cooperative MFC solution has an optimal solution, which will constitute an approximate Pareto optimum in the finite user system.\nTheorem 3: For distributions \u00b50 with finite support, an optimizer \u03c0\u2217 of (16) exists, and \u03c0\u2217 constitutes an \u03b5N-Pareto optimum of the finite N-user system with \u03b5N \u2192 0 as N\u2192 \u221e.\nProof: Existence is trivially guaranteed by the extreme value theorem, since the objective is a continuous function of \u03c0 \u2208 [0,1]K , and [0,1]K is compact. For approximate Paretooptimality, see [28, Corollary 1]."
        },
        {
            "heading": "V. NUMERICAL SIMULATION",
            "text": "In this section, we present numerical simulations for the systems established in the prequel. For the quadratic program MFC, we could apply convex quadratic program solvers if the problem is indeed convex. However, in general the MFC problem may be non-convex and thus results in a NP-hard problem [29]. Still, we again stress that the complexity scales only with the size of K and remains independent of the\nnumber of users N. Therefore, our formulation will be of lower complexity than solving the finite user model for large systems. For space reasons, we do not compare run times, since finite model solvers will trivially exceed the run time of our solution for sufficiently large systems. We may follow any global optimization algorithm, and for simplicity we apply a simple grid search, though more sophisticated algorithms such as Bayesian optimization can easily be substituted.\nAs can be observed in Fig. 2, for the competitive MFG problem (10), the fictitious play algorithm\n\u03c0n+1 \u2261 1\nn+1\n( n\u03c01:n + argmin\n\u03c0 J\u00b50\u2297\u03c01:n(\u03c0)\n) (24)\nwith the past average policy \u03c01:n := 1n \u2211 n m=1 \u03c0m quickly converges in terms of the exploitability\n\u2206J(\u03c0) := max \u03c0\u2217\nJ\u00b50\u2297\u03c0(\u03c0\u2217)\u2212 J\u00b50\u2297\u03c0(\u03c0) (25)\nwhich must be equal to zero for an exact equilibrium. For the parameters given in Fig. 2, the resulting equilibrium \u03c0\u2217 \u2248 (0,0.81,1) is intuitive: Only the second configuration splits between offloading and local computation at a ratio that equilibrates offloading and local computation time, since the second configuration has longer offloading times than the first, and longer local computation time than the third. The result are offloading decisions where each UE gains little by deviating.\nIn Fig. 3, we can observe the cost function for an illustrative case where K = 2. As can be seen in the example, the\noptimum computational offloading policy is reached at around \u03c0\u2217 \u2248 (0.52,0). Similarly, a solution can be reached for the time-stationary problem at around \u03c0\u2217 \u2248 (0.24,1). Here, we solve the problem for an illustrative 3D example in a few seconds, though similar results can easily be obtained for larger problems. Thus, we obtained nearly optimal offloading decisions, minimizing the average computation times.\nIn Fig. 4, we can observe that the time-homogeneous problem empirically shows a number of jobs in the system that converges to the mean-field description when rescaled by N, leading us to the conclusion that the mean-field model we proposed is a good approximation to the finite user system as long as the system is sufficiently large.\nFinally, in Fig. 5, we can observe (i) the exploitability in the competitive finite user system, i.e. the expected maximum gain by deviating to any other policy in (4), and (ii) the deviation of the objective (13) from the computed mean-field objective (16) in the cooperative setting. Here we estimated the exploitability for each value of N by taking the maximum over all pure policies \u03c0 \u2208 {0,1}K over 100 000 samples. Similarly, we estimated the deviation between (13) and (16) over 20 000 samples of the finite user system. We observe that the exploitability and deviation of objectives tends to zero as the number of agents increases, showing that the mean-field solution solves the finite system well."
        },
        {
            "heading": "VI. CONCLUSION",
            "text": "In this work, we have shown the general applicability of rigorous mean-field frameworks for both competitive and cooperative scenarios in offloading for edge-computing. In particular, we have shown that the mean-field approximation quickly becomes a good approximation and can reliably be solved with a complexity independent of the number of agents. As a result, we have obtained good and tractable solutions for large-scale, decentralized edge-computing systems. In future work, one could extend rigorous theoretical analysis to the time-stationary case. Other interesting directions could be an extension to Markov-modulated task arrival rates and thereby a non-time-stationary case, or an even more distributed setting with multiple separate limited-access MEC pools. Finally, an application to real systems may be of interest."
        }
    ],
    "title": "Optimal Offloading Strategies for Edge-Computing via Mean-Field Games and Control",
    "year": 2022
}