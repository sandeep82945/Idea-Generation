{
    "abstractText": "The robustness of current and voltage references to process, voltage and temperature (PVT) variations is paramount to the operation of integrated circuits in real-world conditions. However, while recent voltage references can meet most of these requirements with a handful of transistors, current references remain rather complex, requiring significant design time and silicon area. In this paper, we present a family of simple current references consisting of a two-transistor (2T) ultra-low-power voltage reference, buffered onto a voltage-to-current converter by a single transistor. Two topologies are fabricated in a 0.18\u03bcm partially-depleted silicon-on-insulator (SOI) technology and measured over 10 dies. First, a 7T nA-range proportional-toabsolute-temperature (PTAT) reference intended for constant-gm biasing of subthreshold operational amplifiers demonstrates a 0.096-nA current with a line sensitivity (LS) of 1.48 %/V, a temperature coefficient (TC) of 0.75 %/\u25e6C, and a variability (\u03c3/\u03bc) of 1.66 %. Then, two 4T+1R \u03bcA-range constant-with-temperature (CWT) references with (resp. without) TC calibration exhibit a 1.09-\u03bcA (resp. 0.99-\u03bcA) current with a 0.21-%/V (resp. 0.20-%/V) LS, a 38-ppm/\u25e6C (resp. 290-ppm/\u25e6C) TC, and a 0.87-% (resp. 0.65-%) (\u03c3/\u03bc). In addition, portability to common scaled CMOS technologies, such as 65-nm bulk and 28-nm fully-depleted SOI, is discussed and validated through post-layout simulations.",
    "authors": [
        {
            "affiliations": [],
            "name": "Martin Lefebvre"
        }
    ],
    "id": "SP:913fb33a30cb98dfebc864e97e54b84d38e2f134",
    "references": [
        {
            "authors": [
                "D. Blaauw"
            ],
            "title": "IoT Design Space Challenges: Circuits and Systems",
            "venue": "Proc. IEEE Symp. VLSI Technol., 2014, pp. 1\u20132.",
            "year": 2014
        },
        {
            "authors": [
                "J. Zhang",
                "Z. Wang",
                "N. Verma"
            ],
            "title": "In-memory computation of a machine-learning classifier in a standard 6T SRAM array",
            "venue": "IEEE J. Solid-State Circuits, vol. 52, no. 4, pp. 915\u2013924, 2017.",
            "year": 2017
        },
        {
            "authors": [
                "S. Yin",
                "X. Sun",
                "S. Yu"
            ],
            "title": "High-Throughput In-Memory Computing for Binary Deep Neural Networks with Monolithically Integrated RRAM and 90-nm CMOS",
            "venue": "IEEE Trans. Electron Devices, vol. 67, no. 10, pp. 4185\u20134192, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "M. Seok",
                "G. Kim",
                "D. Blaauw"
            ],
            "title": "A Portable 2-Transistor Picowatt Temperature-Compensated Voltage Reference Operating at 0.5V",
            "venue": "IEEE J. Solid-State Circuits, vol. 47, no. 10, pp. 2534\u20132545, Oct. 2012.",
            "year": 2012
        },
        {
            "authors": [
                "A. Campos De Oliveira",
                "D. Cordova",
                "H. Klimach"
            ],
            "title": "A 0.12-0.4V, Versatile 3-Transistor CMOS Voltage Reference for Ultra-Low Power Systems",
            "venue": "IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 65, no. 11, pp. 3790\u20133799, Sept. 2018.",
            "year": 2018
        },
        {
            "authors": [
                "L. Fassio",
                "L. Lin",
                "R. De Rose"
            ],
            "title": "Trimming-Less Voltage Reference for Highly Uncertain Harvesting Down to 0.25 V, 5.4 pW",
            "venue": "IEEE J. Solid-State Circuits, vol. 56, no. 10, pp. 3134\u20133144, Oct. 2021.",
            "year": 2021
        },
        {
            "authors": [
                "D. Wang",
                "X.L. Tan",
                "P.K. Chan"
            ],
            "title": "A 65-nm CMOS Constant Current Source with Reduced PVT Variation",
            "venue": "IEEE Trans. Very Large Scale Integr. (VLSI) Syst., vol. 25, no. 4, pp. 1373\u20131385, Dec. 2016.",
            "year": 2016
        },
        {
            "authors": [
                "H. Wang",
                "P.P. Mercier"
            ],
            "title": "A 3.4-pW 0.4-V 469.3ppm/\u25e6C Five- Transistor Current Reference Generator",
            "venue": "IEEE Solid-State Circuits Lett., vol. 1, no. 5, pp. 122\u2013125, May 2018.",
            "year": 2018
        },
        {
            "authors": [
                "H. Zhuang",
                "J. Guo",
                "C. Tong"
            ],
            "title": "A 8.2-pW 2.4-pA Current Reference Operating at 0.5V with No Amplifiers or Resistors",
            "venue": "IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 67, no. 7, pp. 1204\u20131208, July 2020.",
            "year": 2020
        },
        {
            "authors": [
                "E.M. Camacho-Galeano",
                "C. Galup-Montoro",
                "M.C. Schneider"
            ],
            "title": "A 2nW 1.1-V Self-Biased Current Reference in CMOS Technology",
            "venue": "IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 52, no. 2, pp. 61\u201365, Feb. 2005.",
            "year": 2005
        },
        {
            "authors": [
                "E.M. Camacho-Galeano",
                "J.Q. Moreira",
                "M.D. Pereira"
            ],
            "title": "Temperature Performance of Sub-1V Ultra-Low-Power Current Sources",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2008, pp. 2230\u20132233.",
            "year": 2008
        },
        {
            "authors": [
                "F. Serra-Graells",
                "J.L. Huertas"
            ],
            "title": "Sub-1-V CMOS Proportional-to- Absolute Temperature References",
            "venue": "IEEE J. Solid-State Circuits, vol. 38, no. 1, pp. 84\u201388, Jan. 2003.",
            "year": 2003
        },
        {
            "authors": [
                "Y. Tsividis"
            ],
            "title": "Operation and Modeling of the MOS Transistor",
            "venue": "Second Edition. New York: McGraw-Hill,",
            "year": 1999
        },
        {
            "authors": [
                "J.V. De la Cruz",
                "A.L. Aita"
            ],
            "title": "A 1-V PTAT Current Reference Circuit with 0.05%/V Current Sensitivity to VDD",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2016, pp. 502\u2013505.",
            "year": 2016
        },
        {
            "authors": [
                "Z. Huang",
                "Q. Luo",
                "Y. Inoue"
            ],
            "title": "A CMOS Sub-lV Nanopower Current and Voltage Reference with Leakage Compensation",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2010, pp. 4069\u20134072.",
            "year": 2010
        },
        {
            "authors": [
                "J. Wang",
                "H. Shinohara"
            ],
            "title": "A CMOS 0.85-V 15.8-nW Current and Voltage Reference without Resistors",
            "venue": "2019 Int. Symp. VLSI Design Autom. Test, Hsinchu, Taiwan, Apr. 22-25, 2019, pp. 1\u20134.",
            "year": 2019
        },
        {
            "authors": [
                "H.J. Oguey",
                "D. Aebischer"
            ],
            "title": "CMOS Current Reference without Resistance",
            "venue": "IEEE J. Solid-State Circuits, vol. 32, no. 7, pp. 1132\u20131135, July 1997.",
            "year": 1997
        },
        {
            "authors": [
                "T. Hirose",
                "Y. Asai",
                "Y. Amemiya"
            ],
            "title": "Ultralow-Power Temperature- Insensitive Current Reference Circuit",
            "venue": "Proc. IEEE Sensors, 2005, pp. 1205\u20131208.",
            "year": 2005
        },
        {
            "authors": [
                "Y. Osaki",
                "T. Hirose",
                "N. Kuroki"
            ],
            "title": "A 95-nA, 523ppm/\u25e6C, 0.6\u03bcW CMOS Current Reference Circuit with Subthreshold MOS Resistor Ladder",
            "venue": "16th Asia and South Pacific Design Autom. Conf., 2011, pp. 113\u2013114.",
            "year": 2011
        },
        {
            "authors": [
                "F. Fiori",
                "P.S. Crovetti"
            ],
            "title": "A New Compact Temperature-Compensated CMOS Current Reference",
            "venue": "IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 52, no. 11, pp. 724\u2013728, Nov. 2005.",
            "year": 2005
        },
        {
            "authors": [
                "T. Kim",
                "T. Briant",
                "C. Han"
            ],
            "title": "A Nano-Ampere 2nd Order Temperature-Compensated CMOS Current Reference Using Only Single Resistor for Wide-Temperature Range Applications",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2016, pp. 510\u2013513. IEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS\u2013I: REGULAR PAPERS, VOL. XX, NO. X, XX 2022 14",
            "year": 2016
        },
        {
            "authors": [
                "D. Osipov",
                "S. Paul"
            ],
            "title": "Compact Extended Industrial Range CMOS Current References",
            "venue": "IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 66, no. 6, pp. 1998\u20132006, Jan. 2019.",
            "year": 1998
        },
        {
            "authors": [
                "C. Azcona",
                "B. Calvo",
                "S. Celma"
            ],
            "title": "Precision CMOS Current Reference with Process and Temperature Compensation",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2014, pp. 910\u2013913.",
            "year": 2014
        },
        {
            "authors": [
                "S.S. Chouhan",
                "K. Halonen"
            ],
            "title": "A 0.67-\u03bcW 177-ppm/\u25e6C All-MOS Current Reference Circuit in a 0.18-\u03bcm CMOS Technology",
            "venue": "IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 63, no. 8, pp. 723\u2013727, Feb. 2016.",
            "year": 2016
        },
        {
            "authors": [
                "A. Bendali",
                "Y. Audet"
            ],
            "title": "A 1-V CMOS Current Reference with Temperature and Process Compensation",
            "venue": "IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 54, no. 7, pp. 1424\u20131429, July 2007.",
            "year": 2007
        },
        {
            "authors": [
                "K. Ueno",
                "T. Hirose",
                "T. Asai"
            ],
            "title": "A 46-ppm/\u25e6C Temperature and Process Compensated Current Reference with On-Chip Threshold Voltage Monitoring Circuit",
            "venue": "2008 IEEE Asian Solid-State Circuits Conf., 2008, pp. 161\u2013164.",
            "year": 2008
        },
        {
            "authors": [
                "Q. Dong",
                "I. Lee",
                "K. Yang"
            ],
            "title": "A 1.02 nW PMOS-Only, Trim-Free Current Reference with 282ppm/\u25e6C from -40\u25e6C to 120\u25e6C and 1.6% within-wafer inaccuracy",
            "venue": "IEEE 43rd Eur. Solid State Circuits Conf., 2017, pp. 19\u201322.",
            "year": 2017
        },
        {
            "authors": [
                "M. Choi",
                "I. Lee",
                "T.-K. Jang"
            ],
            "title": "A 23pW, 780ppm/\u25e6C Resistor-Less Current Reference Using Subthreshold MOSFETs",
            "venue": "IEEE 40th Eur. Solid State Circuits Conf., 2014, pp. 119\u2013122.",
            "year": 2014
        },
        {
            "authors": [
                "D. Cordova",
                "A.C. de Oliveira",
                "P. Toledo"
            ],
            "title": "A Sub-1 V, Nanopower, ZTC Based Zero-VT Temperature-Compensated Current Reference",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2017, pp. 1\u20134.",
            "year": 2017
        },
        {
            "authors": [
                "F. Crupi",
                "R. De Rose",
                "M. Paliy"
            ],
            "title": "A Portable Class of 3-Transistor Current References with Low-Power Sub-0.5V Operation",
            "venue": "Int. J. Circuit Theory Appl., vol. 46, no. 4, pp. 779\u2013795, Dec. 2017.",
            "year": 2017
        },
        {
            "authors": [
                "L. Fassio",
                "L. Lin",
                "R. De Rose"
            ],
            "title": "A 0.6-to-1.8 V CMOS Current Reference with Near-100% Power Utilization",
            "venue": "IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 68, no. 9, pp. 3038\u20133042, Sept. 2021.",
            "year": 2021
        },
        {
            "authors": [
                "Y.-S. Park",
                "H.-R. Kim",
                "J.-H. Oh"
            ],
            "title": "Compact 0.7-V CMOS Voltage/Current Reference with 54/29-ppm/\u25e6C Temperature Coefficient",
            "venue": "Proc. Int. SoC Design Conf., 2009, pp. 496\u2013499.",
            "year": 2009
        },
        {
            "authors": [
                "A. Far"
            ],
            "title": "Subthreshold Current Reference Suitable for Energy Harvesting: 20ppm/\u25e6C and 0.1%/V at 140nW",
            "venue": "2015 IEEE Int. Autumn Meet. Power Electron. Comput., 2015, pp. 1\u20134.",
            "year": 2015
        },
        {
            "authors": [
                "C. Yoo",
                "J. Park"
            ],
            "title": "CMOS Current Reference with Supply and Temperature Compensation",
            "venue": "Electron. Lett., vol. 43, no. 25, pp. 1422\u2013 1424, Dec. 2007.",
            "year": 2007
        },
        {
            "authors": [
                "T. Hirose",
                "Y. Osaki",
                "N. Kuroki"
            ],
            "title": "A Nano-Ampere Current Reference Circuit and its Temperature Dependence Control by Using Temperature Characteristics of Carrier Mobilities",
            "venue": "IEEE 36th Eur. Solid State Circuits Conf., 2010, pp. 114\u2013117.",
            "year": 2010
        },
        {
            "authors": [
                "W. Liu",
                "W. Khalil",
                "M. Ismail"
            ],
            "title": "A Resistor-Free Temperature- Compensated CMOS Current Reference",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2010, pp. 845\u2013848.",
            "year": 2010
        },
        {
            "authors": [
                "B.-D. Yang",
                "Y.-K. Shin",
                "J.-S. Lee"
            ],
            "title": "An Accurate Current Reference Using Temperature and Process Compensation Current Mirror",
            "venue": "Proc. IEEE Asian Solid-State Circuits Conf., 2009, pp. 241\u2013244.",
            "year": 2009
        },
        {
            "authors": [
                "C. Wu",
                "W.L. Goh",
                "C.L. Kok"
            ],
            "title": "A Low TC, Supply Independent and Process Compensated Current Reference",
            "venue": "Proc. IEEE Custom Integr. Circuits Conf., 2015, pp. 1\u20134.",
            "year": 2015
        },
        {
            "authors": [
                "Q. Huang",
                "C. Zhan",
                "L. Wang"
            ],
            "title": "A -40 \u25e6C to 120 \u25e6C, 169 ppm/\u25e6C Nano-Ampere CMOS Current Reference",
            "venue": "IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 67, no. 9, pp. 1494\u20131498, Sept. 2020.",
            "year": 2020
        },
        {
            "authors": [
                "L. Wang",
                "C. Zhan"
            ],
            "title": "A 0.7-V 28-nW CMOS Subthreshold Voltage and Current Reference in One Simple Circuit",
            "venue": "IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 66, no. 9, pp. 3457\u20133466, Aug. 2019.",
            "year": 2019
        },
        {
            "authors": [
                "H. Wang",
                "P.P. Mercier"
            ],
            "title": "A 14.5 pW, 31 ppm/\u25e6C Resistor-Less 5 pA Current Reference Employing a Self-Regulated Push-Pull Voltage Reference Generator",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2016, pp. 1290\u20131293.",
            "year": 2016
        },
        {
            "authors": [
                "J. Lee",
                "S. Cho"
            ],
            "title": "A 1.4-\u03bcW 24.9-ppm/\u25e6C Current Reference with Process-Insensitive Temperature Compensation in 0.18-\u03bcm CMOS",
            "venue": "IEEE J. Solid-State Circuits, vol. 47, no. 10, pp. 2527\u20132533, July 2012.",
            "year": 2012
        },
        {
            "authors": [
                "S. Adriaensen",
                "V. Dessard",
                "D. Flandre"
            ],
            "title": "25 to 300\u25e6C Ultra- Low-Power Voltage Reference Compatible with Standard SOI CMOS Process",
            "venue": "Electronics Letters, vol. 38, no. 19, pp. 1103\u20131104, September 2002.",
            "year": 2002
        },
        {
            "authors": [
                "A.I.A. Cunha",
                "M.C. Schneider",
                "C. Galup-Montoro"
            ],
            "title": "An MOS Transistor Model for Analog Circuit Design",
            "venue": "IEEE J. Solid-State Circuits, vol. 33, no. 10, pp. 1510\u20131519, Oct. 1998.",
            "year": 1998
        },
        {
            "authors": [
                "P.G. Jespers",
                "B. Murmann"
            ],
            "title": "Systematic Design of Analog CMOS Circuits",
            "year": 2017
        },
        {
            "authors": [
                "B. Murmann",
                "P. Nikaeen",
                "D. Connelly"
            ],
            "title": "Impact of Scaling on Analog Performance and Associated Modeling Needs",
            "venue": "IEEE Trans. Electron Devices, vol. 53, no. 9, pp. 2160\u20132167, Sept. 2006.",
            "year": 2006
        },
        {
            "authors": [
                "L.L. Lewyn",
                "T. Ytterdal",
                "C. Wulff"
            ],
            "title": "Analog Circuit Design in Nanoscale CMOS Technologies",
            "venue": "Proc. IEEE, vol. 97, no. 10, pp. 1687\u2013 1714, Oct. 2009.",
            "year": 2009
        },
        {
            "authors": [
                "E. Bohannon",
                "C. Washburn",
                "P.R. Mukund"
            ],
            "title": "Analog IC Design in Ultra-Thin Oxide CMOS Technologies with Significant Direct Tunneling-Induced Gate Current",
            "venue": "IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 58, no. 4, pp. 645\u2013653, Apr. 2011.",
            "year": 2011
        },
        {
            "authors": [
                "A. Cathelin"
            ],
            "title": "Fully Depleted Silicon on Insulator Devices CMOS: The 28-nm Node Is the Perfect Technology for Analog, RF, mmW, and Mixed-Signal System-on-Chip Integration",
            "venue": "IEEE Solid-State Circuits Mag., vol. 9, no. 4, pp. 18\u201326, Nov. 2017.",
            "year": 2017
        },
        {
            "authors": [
                "Y. Ji",
                "C. Jeon",
                "H. Son"
            ],
            "title": "5.8 A 9.3 nW All-in-One Bandgap Voltage and Current Reference Circuit",
            "venue": "Proc. IEEE Int. Solid-State Circuits Conf., 2017, pp. 100\u2013101.",
            "year": 2017
        },
        {
            "authors": [
                "H. Kayahan",
                "\u00d6. Ceylan",
                "M. Yazici"
            ],
            "title": "Wide Range, Process and Temperature Compensated Voltage Controlled Current Source",
            "venue": "IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 60, no. 5, pp. 1345\u20131353, March 2013.",
            "year": 2013
        },
        {
            "authors": [
                "M.S. Eslampanah",
                "S. Kananian",
                "E. Zendehrouh"
            ],
            "title": "A Low- Power Temperature-Compensated CMOS Peaking Current Reference in Subthreshold Region",
            "venue": "Proc. IEEE Int. Symp. Circuits Syst., 2017, pp. 1\u20134.",
            "year": 2017
        }
    ],
    "sections": [
        {
            "text": "Index Terms\u2014Current reference, voltage reference, ultralow-power (ULP), proportional-to-absolute-temperature (PTAT), constant-gm biasing, constant-with-temperature (CWT).\nI. INTRODUCTION\nCURRENT and voltage references are crucial componentsof mixed-signal circuits, ranging from ultra-low-power (ULP) sensor nodes for the Internet of Things (IoT) [1] to high-performance circuits for compute-in-memory accelerators, such as data converters [2], [3]. Despite the widely different contexts in which these references are used, they share the common objective of ensuring robustness against PVT variations. On the one hand, recent advances in the design of voltage references have led to simple topologies [4]\u2013[6], consisting of only a handful of transistors and consuming a few pW at ambient temperature. While these topologies demonstrate remarkably competitive supply voltage and temperature dependencies with respect to more advanced references, they generally suffer from an increased dependence on process variations and need to be trimmed. Nevertheless, their main advantage lies in the design time reduction arising from the\nThis work was supported by the Fonds National de la Recherche Scientifique (FNRS), Belgium as part of the European Horizon 2020 project Convergence. (Corresponding author: Martin Lefebvre.) The authors are with the ICTEAM Institute, Universite\u0301 catholique de Louvain (UCLouvain), 1348 Louvain-la-Neuve, Belgium (e-mail: martin.lefebvre@uclouvain.be; david.bol@uclouvain.be). Color versions of one or more figures in this article are available at https://doi.org/10.1109/TCSI.2022.3172647. Digital Object Identifier 10.1109/TCSI.2022.3172647\nlimited number of degrees of freedom. On the other hand, current references remain more complex than their voltage counterparts, often requiring more components and an intricate sizing [7]. Nonetheless, recent works have shown that a 2T voltage reference can generate a current once replicated onto a gate-leakage transistor by a 1T buffer [8], [9], suggesting that simpler yet competitive architectures are within reach.\nIn this paper, we build upon [8], [9] to create a family of simple current references without startup circuit sharing two key principles: (i) the generation of a voltage reference by a 2T ULP structure and (ii) its buffering by a single transistor onto a voltage-to-current (V-to-I) converter. Compared with [8], [9], we substitute the gate-leakage transistor by either a self-cascode MOSFET (SCM) or a resistor, respectively resulting in a nA- and \u00b5A-range current. This leads to two novel current reference topologies, fabricated in a 0.18-\u00b5m partially-depleted silicon-on-insulator (PDSOI) process. First, a proportional-to-absolute-temperature (PTAT) current reference built by applying a PTAT voltage to an SCM, which is similar to [10], [11] but with a different PTAT voltage generation. This reference could bias subthreshold operational amplifiers found in ULP sensor nodes with a constant gm. The measured 0.096-nA current has a line sensitivity (LS) of 1.48 %/V, a temperature coefficient (TC) of 0.75 %/\u25e6C and a (\u03c3/\u00b5) of 1.66 %, while the current reference consumes down to 0.28 nW at 25\u25e6C. It consists of seven transistors and occupies a silicon area of 8700 \u00b5m2. Second, a constantwith-temperature (CWT) current reference is obtained by the ratio of a voltage and a resistance with matched TCs. It provides a measured 0.99-\u00b5A current with an LS of 0.20 %/V, a TC of 290 ppm/\u25e6C, and a (\u03c3/\u00b5) of 0.65 %, and could be used as a reference for current-steering DACs. It consumes down to 0.64 \u00b5W at 25\u25e6C, and is made of four transistors and a polysilicon resistor, occupying a total silicon area of 3410 \u00b5m2. Another version with a 4-bit TC calibration reduces temperature dependence down to 38 ppm/\u25e6C, and provides a 1.09-\u00b5A current within a 4270-\u00b5m2 silicon area.\nThe remainder of this paper is organized as follows. Section II presents existing MOS-based current generation techniques. Then, Section III highlights the principles shared by both proposed PTAT and CWT topologies, whose sizing is detailed in Section IV. Next, simulation and measurement results are discussed in Section V. We address additional design considerations for an implementation in scaled technologies in Section VI. Finally, Section VII compares our work to the state of the art and Section VIII offers some concluding remarks.\nThis document is the paper as accepted for publication in TCAS-I, the fully edited paper is available at https://ieeexplore.ieee.org/document/9772762. \u00a92022 IEEE. Personal use of this material is permitted. Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes, creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.\nar X\niv :2\n20 2.\n01 75\n1v 2\n[ cs\n.A R\n] 1\n2 M\nay 2\n02 2"
        },
        {
            "heading": "II. MOS-BASED CURRENT GENERATION TECHNIQUES",
            "text": "In this section, we describe previous PTAT and CWT current\nreferences implemented in a CMOS or BiCMOS technology, based on the four main techniques depicted in Fig. 1."
        },
        {
            "heading": "A. PTAT Current Reference Topologies",
            "text": "Among current references, only the self-biased \u03b2-multiplier [Fig. 1(a)] is generally used for the generation of a PTAT current, achieved by operating transistors M1\u22122 in weak inversion. Indeed, a difference of gate-to-source voltages \u2206VGS proportional to the thermal voltage UT is applied to the resistor. A common problem is that generating a nA-range current requires a resistance in the order of G\u2126, which occupies a significant silicon area. [10], [12] have thus proposed to replace the resistor by a 2T SCM, as this structure has a smaller area footprint and generates a current based on the specific sheet current ISQ \u221d T 2\u2212m, where T is the absolute temperature and m is the temperature exponent of the carrier mobility. As m is comprised between 1.2 and 2 in bulk CMOS [13], the current can depend quasi-linearly on temperature. Variants of this topology improve the LS through cascoding [11] or a 1T feedback amplifier [14]. While the PTAT selfbiased \u03b2-multiplier only requires a handful of components, the SCM sizing can be tedious because transistors are operated in moderate inversion. However, an SCM can be implemented with transistors from a single threshold voltage (VT ) type and reaches a low current within a small area."
        },
        {
            "heading": "B. CWT Current Reference Topologies",
            "text": "All four topologies depicted in Fig. 1 can be used to generate a CWT reference current. First, a self-biased \u03b2multiplier [Fig. 1(a)] can generate a CWT current with M1\u22122 operating either in weak [15]\u2013[19] or in strong inversion [20]\u2013 [24]. The strengths of the CWT self-biased \u03b2-multiplier are rather similar to the ones emphasized for the PTAT topologies and are therefore not reminded here.\nSecond, a CWT current can be produced by biasing a transistor close to its zero temperature coefficient (ZTC) with a slightly temperature-dependent VGS [Fig. 1(b)]. On the one hand, a strong-inversion MOSFET is biased close to its ZTC with either a CWT [25], [26] or a slightly PTAT [27] gate voltage. On the other hand, a weak-inversion MOSFET requires a slightly complementary-to-absolute-temperature (CTAT) VGS buffered by an OTA [28] or a fixed gate voltage and PTAT source voltage, produced by two independent bias circuits [29]. Simpler topologies can operate in weak (resp. strong) inversion with a CTAT (resp. PTAT) gate voltage generated by a 2T ULP voltage reference [30], [31]. Overall, this current generation technique can be made process-independent with relative ease, by letting the gate voltage track process variations, and has the advantage of a pW-to-nW power consumption. However, a competitive TC can only be achieved close to the ZTC, often resulting in a large reference current. Moreover, complex voltage generators often entail a considerable area overhead.\nThird, the subtraction of PTAT currents with different TCs [Fig. 1(c) left], or the weighted sum of PTAT and CTAT currents [Fig. 1(c) right], can also lead to a CWT current. The\nsubtraction can be done (i) between a PTAT current and its purely temperature-dependent component [32] or (ii) between two different currents [33]\u2013[35]. Besides, the weighted sum is performed with a PTAT current, implemented with bipolar transistors as the ratio of a difference of base-to-emitter voltages \u2206VBE and a resistance, and a CTAT current obtained by the ratio of a \u2206VGS [36] or a VBE [37], [38] and a resistance. This topology is quite simple, but suffers from several limitations: (i) a calibration of the relative weighting of the currents is necessary to achieve a competitive TC, (ii) the generation of PTAT and CTAT currents can require the use of bipolar transistors, and (iii) two current generators are needed instead of one, resulting in significant area usage.\nFinally, a CWT current can be obtained as the ratio between a voltage and a resistance with matched TCs [Fig. 1(d)]. A first category relies on the ratio of a CWT voltage applied either to a CWT resistance [39], [40] or to gate-leakage transistors [8], [41]. A second category uses the ratio of a temperature-dependent voltage whose TC matches the one of the resistance. It can be achieved by (i) a slightly PTAT voltage buffered by a linear regulator [42], (ii) a CTAT voltage buffered by a single transistor [9], or (iii) a voltage matching the 1st and 2nd order TCs of a polysilicon resistor [7]. This type of current reference can easily be calibrated to reach a competitive TC performance by matching the 1st order TC of the resistance, but usually relies on an operational amplifier to buffer the reference voltage onto the resistor, and can lead to rather complex voltage generator architectures if 2nd order TC matching is required. Obviously, the buffer and voltage generator can result in a considerable power and area overhead."
        },
        {
            "heading": "III. A FAMILY OF CURRENT REFERENCES",
            "text": "Fig. 2 presents the proposed family of current references, which share the same current generation principle. A reference\nvoltage VREF is generated by the 2T ULP structure formed by M1\u22122, and then buffered onto a V-to-I converter by transistor M3. The range and temperature dependence of the reference current, denoted as IREF , are conditioned by the type of transistors used in the voltage reference and the chosen Vto-I converter. First, the current reference in Fig. 2(a) relies on a CWT voltage reference biasing a gate-leakage transistor or a resistor. The gate-leakage transistor acts as a resistance in the order of G\u2126. This structure was proposed in [8], [9] and generates a CWT reference current in the pA range. Alternatively, this current reference can rely on a quasi-CWT voltage reference biasing a resistor and compensating for its temperature dependence. It then generates a temperatureindependent current in the \u00b5A range. Second, the current reference in Fig. 2(b) relies on a PTAT voltage reference biasing an SCM and generates a nA-range reference current proportional to the specific sheet current of M6\u22127 [10], [11]. Fig. 2(c) summarizes the characteristics of the three references described hereabove, with the IREF range corresponding to the current level that is best suited to each reference, i.e., that leads to a reasonable silicon area. For example, the \u00b5Arange reference could generate a nA-range current, but only at the cost of significant silicon area due to the resistor. In the remainder of this paper, we focus on the nA- and \u00b5A-range current reference topologies, as the pA-range one has already been proposed in prior art [8], [9].\nThe topology brought forward in this work offers three main advantages. First, it requires a small number of transistors, thus reducing the design time by restraining the number of degrees of freedom and potentially resulting in a low area footprint, even though considerations related to local mismatch will limit the area savings. Second, the voltage reference draws a supply current in the pA-to-nA range, resulting in a low power consumption compared to a \u03b2-multiplier or bandgap voltage reference. Third, it does not require any startup circuit as the reference has a unique stable operation point corresponding to a non-zero current, leading to further area savings.\nA. 2T ULP Voltage Reference\nThe 2T ULP voltage reference used in this work was proposed in [8], [9] in the context of current references and shares the same operation principle as [4], [5], [43]. It relies on the balance of the subthreshold currents in transistors M1\u22122 to generate a reference voltage. There are three main assumptions underlying the reasoning that follows: (i) for the sake of generality, M1\u22122 have distinct characteristics, (ii) both transistors operate in weak inversion, and (iii) the drain-tosource voltage VDS is larger than 4UT , where UT is the thermal voltage, so the transistors are saturated. Under these assumptions, the drain-to-source current can be expressed as\nIDS = ISQ S exp\n( VGS \u2212 VT0\nnUT\n) , (1)\nwhere ISQ = \u00b5C \u2032\nox (n\u2212 1)U2T is the specific sheet current, \u00b5 is the carrier mobility, C \u2032\nox is the normalized gate oxide capacitance, S = W/L is the transistor aspect ratio, VT0 is the threshold voltage at zero body-to-source voltage VBS and n is the subthreshold slope factor. Applying (1) to M1\u22122 and solving for the reference voltage yields a unique solution\nVREF = n1UT log ( ISQ2 ISQ1 S2 S1 ) + ( n2VT01 \u2212 n1VT02 n2 ) .\n(2) This can be explained by the fact that M2 acts as a current source biasing M1 and leads to VREF > 0 without requiring a startup circuit. For the \u00b5A-range reference, M1 is chosen to have a larger threshold voltage than M2, i.e., VT01 > VT02, and the ratio S2/S1 can be used to tune the reference voltage\u2019s TC, whereas for the nA-range current reference, the same transistor type is used for M1\u22122 and (2) simplifies to a purely PTAT voltage\nVREF = nUT log ( S2 S1 ) , (3)\nassuming no mismatch between M1\u22122. The LS of the reference voltage is computed from the small signal schematic in Fig. 3, where rvi denotes the output resistance of the V-to-I converter. First, assuming that gm3 gd3 and gm4 1rvi , the transfer function between vx and vref is given by (4). Then, if gm3 1rvi , this expression further simplifies to one, which is in line with the common-drain configuration of M3.\nvx vref ' gm3 + gd3 +\n1 rvi\ngm3 ' 1 (4)\nvref vdd = gd2\ngm1 + vx vref\n(gd1 + gd2) ' gd2 gm1\n(5)\nSecond, the supply dependence of VREF , i.e., vref/vdd, is given by (5) and simplifies to gd2/gm1 for gm gd."
        },
        {
            "heading": "B. nA-Range PTAT Current Reference",
            "text": "To generate a current proportional to the specific sheet current ISQ, the nA-range reference relies on a moderateinversion SCM formed by M6\u22127 and biased by a PTAT voltage, as in [10]. The use of moderate inversion requires the advanced compact MOSFET (ACM) model [44] to describe the transistor I-V relation. The drain current ID is given by\nID = ISQ S (if \u2212 ir) , (6)\nwhere ISQ = 12\u00b5C \u2032 oxnU 2 T is the ACM specific sheet current, S the transistor aspect ratio, and if , ir the forward and reverse inversion levels. The reverse inversion level is non-zero only when the transistor is in triode. Furthermore, the forward inversion level is linked to the gate and source voltages by\nVP \u2212 VS = UT [\u221a 1 + if \u2212 2 + log (\u221a 1 + if \u2212 1 )] , (7)\nwhere VP = VG\u2212VT0n is the pinch-off voltage. A similar relationship is obtained for the reverse inversion level if VS is replaced by VD and if by ir in (7). The ACM equations applied to M6\u22127, respectively in moderate-inversion triode and saturation, give ir6 ' if7 [10]. Then, defining \u03b1 , if6/if7, if7 is determined by solving the non-linear equation\nVREF = nUT [(\u221a 1 + \u03b1if7 \u2212 \u221a 1 + if7 ) + log\n(\u221a 1 + \u03b1if7 \u2212 1\u221a 1 + if7 \u2212 1 )] . (8)\nFinally, the aspect ratios of M6\u22127 must comply with S6 S7 ' ISQ7 ISQ6 N + 1 N 1 \u03b1\u2212 1 . (9)\nMoreover, the line sensitivity and mismatch of the reference current are directly related to the characteristics of the voltage reference, through the sensitivity SIREF . It is computed by means of the chain rule as\nSIREF = 1\nIREF \u2202IREF \u2202VREF = 1 IREF \u2202IREF \u2202if7 \u2202if7 \u2202VREF , (10)\nwhere the variation of if7 with respect to VREF is derived from (8) and IREF = (ISQ7S7if7)/N using (6) applied to M7. The sensitivity is thus expressed as\nSIREF = 2\nif7nUT\n[ \u03b1\u221a\n1 + \u03b1if7 \u2212 1 \u2212 1\u221a 1 + if7 \u2212 1\n]\u22121 .\n(11) The line sensitivity and mismatch of the reference current can thus be expressed as\n1\nIREF \u2202IREF \u2202VDD = SIREF gd2 gm1\n, (12)( \u03c3\n\u00b5 ) IREF = SIREF \u03c3VREF , (13)\nand depend on both the characteristics of the voltage reference and the sizing of the SCM. Lastly, the minimum supply voltage is given by\nVDD,min = 4UT + max(VREF + VGS3, VREF + VSG4, VG), (14)\nwith each expression in the max function corresponding to one of the branches of the reference depicted in Fig. 2(b)."
        },
        {
            "heading": "C. \u00b5A-Range CWT Current Reference",
            "text": "To generate a temperature-independent reference current, the \u00b5A-range current reference relies on a resistor biased by a CWT reference voltage. The reference current is thus given by IREF = VREF /R. Assuming that the threshold voltage of transistor Mi, denoted as VT0i, decreases linearly with temperature T following VT0i(T ) = VT0i(T0) \u2212 \u03b1VT0i (T \u2212 T0), and that the resistance temperature variation is captured by \u2202R \u2202T , the temperature variation of IREF is given by\n\u2202IREF \u2202T = 1 R\n( nk\nq log ( ISQ2S2 ISQ1S1 ) + (\u03b1VT01 \u2212 \u03b1VT02) ) \u2212 1 R2 ( UT log ( ISQ2S2 ISQ1S1 ) + (VT01 \u2212 VT02) ) \u2202R \u2202T . (15)\nTherefore, the ratio S2/S1 leading to zero temperature variation of the reference current at T = T0 is\nISQ1 ISQ2 exp\n( q\nnk\n(VT01 \u2212 VT02) 1R \u2202R \u2202T + (\u03b1VT01 \u2212 \u03b1VT02)\n1\u2212 T0R \u2202R \u2202T\n) .\n(16) Similarly to the PTAT current reference, the line sensitivity and mismatch are expressed by (12) and (13), where SIREF is expressed as 1/VREF . Interestingly, these quantities only depend on the characteristics of the voltage reference. Finally, the minimum supply voltage is given by (14) excluding VG."
        },
        {
            "heading": "IV. CIRCUIT DESIGN AND SIZING METHODOLOGY",
            "text": "In this section, we explain the design choices and detail the steps of the sizing methodology used to implement the proposed references in the XFAB 0.18-\u00b5m PDSOI technology."
        },
        {
            "heading": "A. nA-Range PTAT Current Reference",
            "text": "The sizing of the PTAT current reference illustrated in Fig. 2(b) has a twofold objective: minimizing the LS and variability of IREF , while achieving the reference current target in nominal conditions (TT process, 25\u25e6C). Four main parameters can be tuned to achieve this objective:\n1) S2/S1, the ratio of M1\u22122 aspect ratios, which amounts to W2/W1 if these transistors have the same length; 2) m, the multiplier or number of parallel devices used to implement both M1 and M2; 3) \u03b1 = if6/if7, the ratio of M6 and M7 inversion levels; 4) N , the multiplicative factor in the current mirror formed\nby M4 and M5. The first two degrees of freedom are linked to the 2T voltage reference, while the two latter ones are related to the SCM. We will first explain the sizing of the V-to-I converter, i.e., the SCM, and will then turn to the 2T voltage reference.\nBesides, low-VT (LVT) devices are selected to implement the proposed reference, as they lead to a lower minimum supply voltage than regular-VT (RVT) devices and ensure the proper operation of the 2T voltage reference at low temperature, as will be discussed in Section VI-A. Then, we choose to invert the topology shown in Fig. 2(b), i.e., nMOS and pMOS devices are swapped, as well as ground and supply connections. This change makes it easier to reach a low reference current and avoids using several pwell voltages, requiring deep trench isolation (DTI) in PDSOI or triple-well devices in bulk. Finally, the sizing of the SCM and its current mirror is similar to [10], [11], and performed at 25\u25e6C. It consists of the following steps:\n1) Compute VREF using (3); 2) Determine the inversion level of M7 by solving (8) for\nif7. By definition, the inversion level of M6 is computed as if6 = \u03b1if7, and the sensitivity SIREF is calculated using (11);\n3) Compute the aspect ratio and width of transistors M6 and M7, forming the SCM. S7 is computed as\nS7 = NIREF ISQ7if7\n(17)\nbased on (6), while S6 is calculated from (9); 4) Compute the aspect ratio and width of M3\u22125 using (6).\nThis methodology is implemented in Matlab, and the transistor properties, summarized in Table I, are computed from DC SPICE simulations following [45]. Contrary to [10], [11], we do not limit ourselves to the methodology detailed hereabove, but we provide guidelines on how to select the main design\nparameters required by this methodology, namely S2/S1, \u03b1 and N . Steps 1) and 2) are mostly technology-agnostic, as only the subthreshold slope factor n is required at this stage. Indeed, the two other parameters coming into play are S2/S1 and \u03b1, which do not depend on the technology choice. Fig. 4(a) depicts sensitivity SIREF as a function of these two parameters, and allows to select a couple (S2/S1; \u03b1) close to the target value for SIREF , here arbitrarily set to 5 %/mV. The chosen design point (S2/S1 = 8; \u03b1 = 3) is marked by a red star in Fig. 4(a) and yields a sensitivity of 5.14 %/mV. Furthermore, the trends observed in Fig. 4(a) are better understood by looking at Figs. 4(b) and (c). Increasing S2/S1 pushes M6\u22127 into moderate inversion, as evidenced by the increase of if7 [Fig. 4(b)], due to the higher reference voltage VREF applied to the SCM [Fig. 4(c)]. It should be noted that, for a fixed \u03b1, the sensitivity approximately improves as 1/if7, as indicated by the first term in (11). Then, decreasing \u03b1 provides a second tuning knob for improving SIREF , by pushing M7 even further into moderate inversion [Fig. 4(b)]. Next, the results of step 3) are technology-dependent, because they rely on (i) the specific sheet current (Table I) and (ii) the IREF target, here set to 0.1 nA. Fig. 5(a) represents the aspect ratio of M6\u22127 as a function of \u03b1, for different values of N and for a fixed voltage reference corresponding to S2/S1 = 8. Similarly to Fig. 4(b), decreasing \u03b1 pushes M6\u22127 into moderate inversion, thus decreasing their aspect ratio at constant current. Besides, higher values of the multiplicative factor N increase S6\u22127, as expected from (9) and (17), facilitating the implementation of these transistors at the cost of a higher power consumption. Here, we select N = 2, which gives S6 = 1.65 \u00d7 10\u22123 and S7 = 2.20 \u00d7 10\u22123. The very low values obtained for these aspect ratios cannot be achieved with a single device, but\nwill be implemented as a composite transistor, i.e., the series connection of several devices. Step 4) is straightforward as it is a direct consequence of previous choices.\nFinally, let us consider the sizing of the 2T voltage reference. As mentioned earlier, LVT pMOS devices are selected to ensure a proper operation in all process corners down to -40\u25e6C, as will be explained in Section VI-A. In addition, a length of 20 \u00b5m is chosen to reduce the output conductance of M2 and improve the LS, as captured by (12). M1\u22122 are then sized based on Fig. 5(b), illustrating the trade-off between the standard deviation of the reference voltage due to local mismatch, denoted as \u03c3VREF , and its power in nominal conditions. First, S2/S1 marginally impacts mismatch, as it is dominated by the threshold voltage variations of the smallest device, here M1, whose sizes do not change with S2/S1. Consequently, increasing S2/S1 only results in a linear increase of the power consumption, shifting the curve to the right of Fig. 5(b). Second, the multiplier m improves mismatch as 1/ \u221a m, following Pelgrom\u2019s law, while increasing power as\nm. A multiplier m = 4 is selected, in addition to the previously chosen S2/S1 = 8, and gives a power of 6.26 pW and a standard deviation of 0.42 mV.\nThe transistor sizes output by the sizing algorithm are summarized in Table II. Two main changes are applied for the final implementation: (i) M4\u22125 are split into parallel devices to enable a common centroid layout, and (ii) M6\u22127 are narrowed based on simulation results to match the 0.1-nA IREF target in nominal conditions. It should be noted that \u03b1, and therefore S6/S7, must remain constant during this upscaling, to preserve the reference behavior."
        },
        {
            "heading": "B. \u00b5A-Range CWT Current Reference",
            "text": "The sizing of the CWT current reference shown in Fig. 2(a) focuses on minimizing the TC of IREF while achieving the current reference target, here set to 1 \u00b5A. The sizing methodology boils down to three steps:\n1) Select a resistor with a low temperature coefficient of resistance (TCR);\n2) Size transistors M1\u22122 to minimize the TC of IREF ; 3) Tune R to reach the current reference target in TT.\nNote that, similarly to the PTAT current reference, we choose to invert the topology depicted in Fig. 2(a). First, at step 1), selecting a resistor with a low TCR is desirable to avoid the 2T voltage reference from compensating large and highly nonlinear resistance variations, which would lead to a poor TC of IREF . Table III summarizes the properties of the available resistors, namely their density and their TCR, computed as\nTCR = (Rmax \u2212Rmin)\nR(25\u25e6C) (Tmax \u2212 Tmin) . (18)\nP+ poly resistors, i.e., poly over a p-type-doped substrate, present the lowest TCR values, with 102 and 802 ppm/\u25e6C for the regular and high resistance flavors, respectively. A regular P+ poly resistor (rpp1) is selected for its low TCR, despite its modest density of 295 \u2126/ . Next, the objective of step 2) is to size M1\u22122 to minimize the TC of IREF . For the 2T voltage reference to operate properly, (2) highlights the need for M1 to have a larger threshold voltage than M2, which is why an RVT and LVT pMOS are chosen. The length of both transistors being fixed to 5 \u00b5m to reach a competitive LS, Fig. 6 demonstrates that the TC of IREF is minimized by a W2/W1 ratio of 0.56, as suggested by (16). Widths of 2.25 and 1.25 \u00b5m are selected for M1 and M2, on the grounds of variability, giving a TC of 18 ppm/\u25e6C. Finally, step 3) simply consists in tuning the value of the resistance to reach the 1- \u00b5A target. Transistors M3\u22124 can be easily sized, with the main limitations being that in all PVT corners, M3 must ensure that M1 remains saturated, and VSG4 must be larger than 4UT for the current mirror to operate properly.\nNevertheless, the ratio W2/W1 leading to the minimum TC is process-dependent. A calibration mechanism, represented in Fig. 7, is consequently implemented by tuning the width of M1 with a 4-bit control signal. This allows to change W2/W1 from 0.37 to 0.83, leading to a TC for IREF in the 10-to30-ppm/\u25e6C range in most process corners, as will be shown in Section V-B. To conclude, the chosen transistor sizes for the CWT current reference without and with calibration are summed up in Table IV."
        },
        {
            "heading": "V. SIMULATION AND MEASUREMENT RESULTS",
            "text": "This section presents the simulation and measurement results for the three current references fabricated in XFAB 0.18-\u00b5m PDSOI, which behaves like a conventional bulk technology because it does not suffer from floating-body effects. Their layouts are shown in Fig. 8, together with the chip microphotograph. Simulations are performed post-layout, to account for non-idealities due to layout effects and parasitic diodes. Current measurements are carried out with a Keithley 2636A source meter, connected to the PCB including the chip through triaxial cables. The PCB is placed in an Espec SH261 climatic chamber, in which temperature is swept from -40 to 85\u25e6C by steps of 5\u25e6C while leaving humidity uncontrolled. Temperature is limited to 85\u25e6C as some pieces of equipment cannot withstand higher temperatures.\nIn what follows, the LS and TC are computed using the box method, i.e.,\nLS = (IREF,max \u2212 IREF,min)\nIREF,avg (VDD,max \u2212 VDD,min) \u00d7 100 %/V,\nTC = (IREF,max \u2212 IREF,min) IREF,avg (Tmax \u2212 Tmin) \u00d7 106 ppm/\u25e6C,\nwhere IREF,min, IREF,avg and IREF,max respectively stand for the minimum, average and maximum reference current among the considered range. VDD,min (resp. Tmin) and VDD,max (resp. Tmax) refer to the lower and upper bounds of the voltage (resp. temperature) range."
        },
        {
            "heading": "A. nA-Range PTAT Current Reference",
            "text": "Post-layout simulation results are represented in Figs. 9 and 10. First, as discussed in Section III-A, the LS can be predicted by (12). With SIREF = 5.14 %/mV given by the design point and the LS of VREF equal to 0.37 mV/V, as shown in Fig. 9(b), (12) predicts an LS of 1.90 %/V. Figs. 9(a) and (b) display that VDD,min is around 0.55 V and is limited by the minimum voltage required to bias the 2T voltage reference. The LS is 2.21 %/V from 0.55 to 1.8 V in TT, which is larger than\nthe 1.90-%/V prediction as it does not account for the supply voltage dependence coming from the current mirror biasing the SCM. In addition, LS is relatively stable among process corners and is mainly impacted by process variations of IREF , i.e., +14.5 % in FF and -11.6 % in SS. Thus, the worst-case LS is 2.93 %/V in FS. Next, the variability of IREF can be linked to \u03c3VREF = 0.42 mV through (13), giving a prediction of 2.16 %. Again, this value is lower than the simulation result of 2.78 % exhibited in Figs. 9(c) and (d), as the local mismatch in the SCM and the current mirror has not been accounted for. Finally, Fig. 10 depicts the temperature dependence of the PTAT current reference. Fig. 10(a) highlights that IREF is approximetaly linear with temperature up to 100\u25e6C in TT. Above it, nonlinearities induced by leakage in parasitic nwell/psub diodes appear. This translates to a 0.92-%/\u25e6C TC for IREF between -40 and 125\u25e6C in TT. Fig. 10(b) confirms the PTAT behavior of VREF . Fig. 10(c) demonstrates that power consumption is linear with temperature below 60\u25e6C, and is dominated by the SCM which draws a current proportional to IREF . Then, power increases exponentially with temperature due to the 2T voltage reference, whose power consumption scales with drain-to-source leakage. Finally, the startup time in typical conditions is 238 ms [Fig. 19(a)].\nMeasurement results are presented in Figs. 11 and 12. In what follows, the reference current is measured as the drain current of M8 [Fig. 8(c)], divided by a fixed ratio of 36.4, obtained from nominal simulations. Firstly, Fig. 11(a)\nshows the average IREF as a function of VDD, and only differs from post-layout simulations by a small overshoot at 0.5 V. Regarding power consumption [Fig. 11(c)], the measured value is larger than the simulated one by roughly 2\u00d7 due to additional leakage in the 2T voltage reference, but a minimum power of 0.28 nW is reached at 0.55 V. Moreover, details of the 10 measured dies are provided in Figs. 11(b) and (d). Then, the variability of IREF across the 10 dies is depicted in Fig. 11(e), with an average and (\u03c3/\u00b5) equal to 0.096 nA and 1.66 %, compared to 0.101 nA and 2.78 % in simulation. Given that in Fig. 11(f), the average LS (1.48 %/V) is also lower than in simulation (2.21 %/V), we hypothesize that both observations are explained by a lowerthan-expected sensitivity SIREF . Finally, Fig. 12(a) illustrates the temperature dependence of IREF for all 10 dies, which closely matches the post-layout simulations. The measured average TC is 0.75 %/\u25e6C from -40 to 85\u25e6C [Fig. 12(c)], with a standard deviation of 0.01 %/\u25e6C. Regarding power consumption, Fig. 12(b) highlights that the increase from simulation to measurement comes from a temperature-independent current, which could possibly originate from the 2T voltage reference. Furthermore, we observe in Fig. 12(d) that the 2T voltage reference power becomes dominant above 60\u25e6C, and leads to a larger growth than in TT simulations."
        },
        {
            "heading": "B. \u00b5A-Range CWT Current Reference",
            "text": "Post-layout simulation results are shown in Figs. 13 to 15. First, Figs. 13(a) and (b) depict IREF and VREF as a function of VDD. Similarly to the PTAT reference, they highlight that VDD,min is limited by the 2T voltage reference and is equal to 0.65 V. From (12), we know that LS is inversely proportional to the intrinsic gain gm/gd. Given the large gm/gd in this technology [46], an LS of 0.53 %/V is reached in TT from 0.65 to 1.8 V, with the worst-case LS corresponding to 0.65 %/V in FS. Besides, IREF is strongly impacted by process variations,\nwith +33.3 % in FF and -25.6 % in SS. Furthermore, the temperature dependence of IREF and VREF is represented in Fig. 14 without and with TC calibration. Fig. 14(a) illustrates that without TC calibration, an excellent TC of 18 ppm/\u25e6C is obtained in TT, but it degrades in skewed corners with 229 ppm/\u25e6C PTAT in SF and 212 ppm/\u25e6C CTAT in FS, due to a change of temperature dependence of VREF [Fig. 14(c)]. Nevertheless, Fig. 14(b) demonstrates that a simple 4-bit calibration of the W2/W1 width ratio [Fig. 7] can reduce the TC below 30 ppm/\u25e6C in all process corners except for SF, in which the 119 ppm/\u25e6C PTAT TC would require a slightly larger tuning range. Lastly, in Fig. 15(a), IREF presents a 2nd order temperature dependence below 100\u25e6C, and leakage leads to a current increase above this limit. Moreover, the (\u03c3/\u00b5)\u2019s of IREF and VREF are equal, as stated by (13), and amount to 0.41 % [Figs. 15(a) and (b)], featuring a perfect match between theory and simulations. Regarding IREF , its average value is 1 \u00b5A at 25\u25e6C, and its average TC reaches 14.9 ppm/\u25e6C, with a variability of 2.14 %. Lastly, the startup time is 5 ms in typical conditions [Fig. 19(b)]. Measurement results are summarized in Figs. 16 to 18. As the\nTC of IREF is mostly impacted by process variations rather than local mismatch, we select the optimal code by sweeping all 16 calibration codes on a single die from -40 to 85\u25e6C, as shown in Fig. 16(a). Alternatively, a two-point calibration at 25\nand 85\u25e6C would yield the same result. Because we are using a voltage reference with pMOS devices for M1\u22122 and the control switches, increasing the calibration code decreases the actual W1, thus reducing the PTAT part of VREF and boosting the CTAT behavior of IREF . Based on Fig. 16(b), we select a code of 0x0001 with a 36.4-ppm/\u25e6C TC, which is different from the simulated one, here 0x0110 with a 19.2-ppm/\u25e6C TC, likely due to process variations. Next, Fig. 17(a) shows the average IREF behavior with supply voltage, with a VDD,min at 0.65 V and a slight increase of IREF from 0.99 to 1.09 \u00b5A due to TC calibration [Fig. 18(b)]. In both cases, the average LS is around 0.20 %/V, which represents a 2.7\u00d7 reduction compared to simulations and could result from a larger gm/gd. Variability reaches 0.65 % and 0.87 % without and with TC calibration [Fig. 17(b)]. The larger value compared to 0.41 % in simulation likely comes from the yellow and red curves on the bottom of Figs. 17(c) and (e), which appear to be outliers leading to an overestimation of (\u03c3/\u00b5). To conclude, the temperature dependence of IREF is represented in Figs. 18(a) and (b). On one side, without calibration, IREF presents a CTAT behavior leading to a TC of 290 ppm/\u25e6C in the -40-to-85\u25e6C range. On the other side, with calibration, the TC reduces down to 38 ppm/\u25e6C, corresponding to a 7.6\u00d7 improvement. In Figs. 18(b) and (d), we observe a 2nd order temperature dependence below 70\u25e6C, as predicted by simulations. A small current surge above this limit comes from\nthe power consumption of the 2T voltage reference, which is measured together with the reference current, but is not taken into account in the TC.\nVI. IMPLEMENTATION IN SCALED TECHNOLOGIES\nNovel current references are often developed in the 0.18-\u00b5m technology node or above. However, their portability to common scaled technologies such as 65-nm bulk, 28-nm fullydepleted SOI (FDSOI), or 14-nm FinFET, is hardly discussed and poses a series of challenges. This section details these challenges and how they can be overcome for the proposed family of current references by focusing on the implementation of the 2T voltage reference."
        },
        {
            "heading": "A. Leakage-Induced Non-Idealities",
            "text": "A PTAT voltage reference, implemented with pMOS devices in 65-nm bulk, is used to highlight the non-idealities of the 2T voltage reference. In Fig. 20(a), we note an increase of the reference voltage below 0\u25e6C in the slow pMOS process corners (SS and FS). A similar yet weaker behavior can be observed below -20\u25e6C in TT. Fig. 20(b) depicts the transconductance efficiency gm/ID and the ratio between gate and drain currents IG/ID, for a zero-VGS pMOS in SS, as a function of temperature. The non-ideal behavior noticed in Fig. 20(a) coincides with a drop in gm/ID, which should increase at low temperature as the transconductance efficiency in deep subthreshold is proportional to (gm/ID)max = 1/(nUT ). As gate leakage has increased by several orders of magnitude from 0.18-\u00b5m to 65-nm [47], [48], this drop can be explained by an increased IG/ID ratio, coming from the fact that the current flowing in the 2T voltage reference is a drain-to-source leakage, decreasing exponentially with a temperature reduction, while the gate leakage remains approximately constant\nwith temperature. IG thus becomes non-negligible, reaching 6.5 % of ID at 0\u25e6C in SS. Two tuning knobs can be used to mitigate this non-ideal behavior: the transistor type and sizes. First, Fig. 21(a) illustrates the impact of the transistor type using the same kind of curves as Fig. 20(b). It points out that increasing the threshold voltage from LVT to high-VT (HVT) degrades the voltage reference behavior by shifting the point at which gm/ID drops, corresponding to an IG/ID around 1 to 5 %, to higher temperature. LVT devices are thus selected to implement the voltage reference, to ensure functionality at low temperature at the cost of an increased power consumption at high temperature. Second, Fig. 21(b) depicts the evolution with the transistor sizes of the ratio between gm/ID at zero VGS and (gm/ID)max. A length increase degrades this ratio, as it linearly increases IG by expanding the gate area, while simultaneously decreasing ID as 1/L. A width increase has a limited impact, because at first order, IG and ID both increase linearly with it. Nevertheless, Fig. 21(b) shows that 2nd order effects also come into play. Based on this figure, we select a design point with a gm/ID at zero VGS equal to 91.2 % of (gm/ID)max, corresponding to W = 0.3 \u00b5m and L = 6 \u00b5m. We could select a shorter length to further mitigate the nonideal behavior of the voltage reference, but only at the cost of a larger LS and power consumption.\nMoreover, we argue that the gm/ID drop is a useful technology indicator for design as it captures various leakage sources degrading the voltage reference behavior. Indeed, in 65-nm bulk, the drop can be explained by the impact of gate leakage. Yet, in 0.18-\u00b5m PDSOI and 28-nm FDSOI, gateinduced drain leakage (GIDL) prevails, as the gate leakage is limited by the use of thick oxide and high-\u03ba gates, respectively. Monitoring the gm/ID drop allows to capture any such effects, regardless of their origin, and makes it possible to size the voltage reference without thoroughly investigating them."
        },
        {
            "heading": "B. Line Sensitivity Enhancement Techniques",
            "text": "As stated in (5), the LS of the reference voltage is inversely proportional to the intrinsic gain, which is getting worse with each technology node as a result of increased output conductance [46]. In addition, the problem posed by gate leakage and GIDL at low temperature does not allow to select a maximum-length transistor, which would have lead to a large gm/gd and thus a lower LS. While this issue is not critical in 28-nm FDSOI, as the intrinsic gain is larger than in bulk technologies [49], it significantly degrades the LS in 65-nm bulk. Therefore, several LS enhancement techniques are proposed in Fig. 22: (a) stacking, (b) stacking with a shared body bias (SBB), and (c) hybrid stacking. These techniques are illustrated for nMOS topologies, albeit subsequent simulation results correspond to pMOS implementations, which limit the area overhead of using different body voltages by relying on nwells rather than on DTI or triple-well devices. Fig. 24 compares the various LS enhancement techniques to the basic solution, using a single transistor for M2 and reaching an LS of 8.5 mV/V. First, employing a stack of N devices with their body tied to their source [Figs. 22(a) and 23(a)], the LS is expressed as\nvref vdd\n= gd2,1 N\ngm1 + gd1 + gd2,1 N ' gd2,1 gm1 1 N ,\nunder the assumptions that gm1 gd1, gd2,1 and vx = vref . The LS decrease does not exactly scale as 1/N , because the small signal parameters are impacted by the change of operation point due to stacking. Nevertheless, Fig. 24 shows an improved LS of 6.9 and 5.9 mV/V for a stacking of N = 2 and 3 devices. Second, the LS using SBB stacking [Figs. 22(b) and 23(b)], i.e., all bodies tied to VX , or hybrid stacking [Figs. 22(c) and 23(b)], i.e., the body of M2,n tied to the source of M2,n\u22121, is expressed as\nvref vdd ' gd2,1 gm1 + gd1 gd2,2 gmb2,2 + gd2,1 + gd2,2 , vref vdd ' gd2,1 gm1 + gd1 gd2,2 gmb2,2 + gd2,1 + gd2,2 gd2,3 gmb2,3 + gd2,3 ,\nfor stacks of N = 2 and 3 devices, respectively. SBB and hybrid are equivalent for N = 2 and lead to an LS of 3.4 mV/V, thanks to the second factor related to the body effect of M2,2. Then, SBB and hybrid differ for N = 3, reaching a 2.6- and 1.8-mV/V LS, respectively. This difference comes from increased gd2,1 and gd2,2 in the SBB stack, arising from a VDS lower than 4UT for both M2,1 and M2,2. On the other hand, M2,2 is saturated in the hybrid stack, lowering gd2,2 and improving the LS. An hybrid stack with three devices is thus selected to implement the voltage reference."
        },
        {
            "heading": "VII. COMPARISON TO THE STATE OF THE ART",
            "text": "This section compares our work to the state of the art of nA-range current references in Table V, and \u00b5A-range temperature-independent ones in Table VI. These tables are complemented by Fig. 25, representing some of the most important trade-offs for current references. For both PTAT and CWT designs, measurements are reported for the 0.18-\u00b5m PDSOI references. In addition, we present post-layout simulations in 0.18-\u00b5m PDSOI, 65-nm bulk and 28-nm FDSOI, while the vast majority of other works limit themselves to older technology nodes, typically 0.18-\u00b5m or above.\nFirst, our PTAT design reaches the lowest current and power among nA-range references (Table V), as depicted in Fig. 25(c), and is only outperformed by references using gateleakage transistors. For the 0.18-\u00b5m reference, this corresponds to a 4.3\u00d7 current and 7.1\u00d7 power reduction compared to [10], respectively, enabled by a cut of VDD,min from 1.1 to 0.55 V. IREF is slightly larger for the 65- and 28-nm references (0.2 / 0.22 nA), with a power consumption of 0.8 / 0.88 nW due to the larger IREF and VDD,min. Moreover, our 0.18-\u00b5m reference has the lowest VDD,min (0.55 V) among references in the nA range, followed by [11], [40] and our 65- and 28-nm designs in the 0.65-to-0.75-V range. Regarding LS, our 0.18-\u00b5m and 28-nm designs reach competitive values of 1.48 %/V and 0.78 %/V allowed by a large intrinsic gain in these technologies, while the 65-nm one exhibits a 4.43-%/V\nLS. Nonetheless, LS is significantly reduced from above 15 %/V down to 4.43 %/V as a result of using an hybrid stack of three devices (Section VI-B). Then, the proposed topology is strikingly simple compared to other works, with only seven to nine transistors: two to four for the voltage reference and five for the SCM. Furthermore, it can be implemented with a single transistor type, and does not require any BJTs, startup circuit or trimming, thus resulting in a low silicon area ranging from 8700 \u00b5m2 in 0.18-\u00b5m down to 2900 \u00b5m2 in 28-nm [Fig. 25(a)]. Only [27] and [21] use simpler structures, but either occupy a 1.9\u00d7 larger or unreported area. Speaking of area, [51] is the closest competitor, but it suffers from a prohibitive power of 28.5 \u00b5W for a reference current of 25 nA. As far as temperature range is concerned, the lower limit in 65- and 28-nm designs is due to gate leakage and GIDL, respectively, while the upper limit of 85\u25e6C shared by all designs originates from the leakage in parasitic nwell/psub diodes at high temperature. The temperature dependence of all three proposed references follows the specific sheet current, meaning that TC is not a relevant comparison criterion, but also that the main drawback of the proposed topology is that it suffers from process variations, although additional IREF calibration is possible. Regarding the variability due to local mismatch, it is limited to 1.66 % in the 0.18-\u00b5m reference, which is among the lowest values reported in Table V, while 65- and 28-nm references exhibit a larger variability due to a larger standard deviation of VREF . Second, our CWT current references (Table VI) also present a simple structure, consisting of a single resistor and four to five transistors, depending on the voltage reference implementation. Therefore, the silicon area is modest compared to other \u00b5A-range references [Fig. 25(a)], with 3410 / 4270 \u00b5m2 in 0.18-\u00b5m, down to a best-in-class 440-\u00b5m2 area in 28-nm. [30] has both a small 750-\u00b5m2 area and a simple structure,\nas it relies on a 2T voltage reference to bias a transistor gate [Fig. 1(b)], but it suffers from degraded LS and TC, and has a limited 0-to-80\u25e6C temperature range. [52], [20] and [22] rely on a handful of components, but [52] has a large 0.003-mm2\narea, and [20], [22] require a substantial supply voltage above 2 V to operate. [34] occupies a limited 2000-\u00b5m2 area, but its 720-ppm/\u25e6C TC is relatively poor, and the 18T+3R structure will likely lead to prohibitive variability due to local mismatch. Regarding TC, our three references feature a very low 38-ppm/\u25e6C TC for this current level [Fig. 25(d)], and offer one of the best trade-offs between TC and silicon area [Fig. 25(b)]. Other works in Table VI present a low TC, such as [20] with 28 ppm/\u25e6C, which requires a 2.5-V supply voltage and consumes a considerable 68.3-\u00b5W power, and [42] with 25 ppm/\u25e6C, which necessitates a bandgap reference voltage to have a decent LS and occupies 5.3\u00d7 more area than our largest design. As for other metrics, LS amounts to 0.2 %/V and 0.57 %/V in 0.18-\u00b5m and 28-nm, but increases up to 4.38 %/V in 65-nm, despite the use of an SBB stack of two devices. On one side, the lower temperature limit is -40\u25e6C, except in 65-nm where it rises to 0\u25e6C due to gate leakage. On the other side, the upper limit is 125\u25e6C, except in 0.18-\u00b5m where it is limited to 85\u25e6C by the measurement equipment. Similarly to their PTAT counterparts, our CWT references are significantly affected by process variations, an issue that can be alleviated through a calibration of IREF . Nevertheless, variability due to local mismatch is comprised between 0.65 and 0.87 %, which is among the best in the state of the art. Finally, our CWT references avoid the disadvantages of gate-leakage ones, which generate a pA-range current with limited power and area but can only be implemented in advanced technology nodes, suffer from a limited temperature range, and do not retain their area and power advantages for larger current levels."
        },
        {
            "heading": "VIII. CONCLUSION",
            "text": "In this work, we proposed two novel current reference\ntopologies sharing two key ideas: (i) the generation of a voltage reference by a 2T ULP structure and (ii) its buffering onto a V-to-I converter by a single transistor. These references are fabricated in a 0.18-\u00b5m PDSOI process. First, a nA-range PTAT current is obtained by biasing an SCM with a PTAT voltage. It generates a 0.096-nA current, the lowest to date for current references without gate-leakage transistors, while consuming only 0.28 nW at 0.55 V and 25\u25e6C. Second, a \u00b5Arange CWT current is obtained by biasing a polysilicon resistor with a matched-TC voltage. It generates either a 0.99-\u00b5A current with a 290-ppm/\u25e6C CTAT TC, or a 1.09-\u00b5A current with a 38-ppm/\u25e6C TC, using a 4-bit calibration of the 2T voltage reference width ratio. Both references exhibit a decent LS (1.48 / 0.21 %/V), a low VDD,min (0.55 / 0.65 V), a low variability due to local mismatch (1.66 / 0.87 %), while relying on simple 7T / 4T+1R structures without any startup circuit and occupying a limited silicon area of 8700 / 4270 \u00b5m2. The main drawback of such architectures is their sensitivity to process variations. Furthermore, we discuss the challenges posed by gate leakage, GIDL, and declining intrinsic gain to the implementation of 2T voltages references in scaled 65- and 28-nm technologies. We demonstrate that a proper selection\nof the transistor type and sizes, together with the use of LS enhancement techniques, can mitigate these non-idealities."
        },
        {
            "heading": "ACKNOWLEDGMENT",
            "text": "We thank Pierre Ge\u0301rard for the measurement testbench,\nEle\u0301onore Masarweh for the microphotograph, Denis Flandre for fruitful discussions, and colleagues for their proofreading."
        }
    ],
    "title": "A Family of Current References Based on 2T Voltage References: Demonstration in 0.18-\u03bcm with 0.1-nA PTAT and 1.1-\u03bcA CWT 38-ppm/\u25e6C Designs",
    "year": 2022
}