{
    "abstractText": "Smart car is an academic competition held for cultivating college students' engineering ability in China for 16 years. To improve the performance of smart cars, this study integrates engineering education topics by introducing a smart car system with regard to the selection of key components, design of hardware and circuit boards, processing of sensor signals, as well as assembly, algorithms, and control. After completing this engineering education, students could achieve better results in the academic competition. According to the K model rules of the 16th smart car competition, a self-balancing autonomous tracking bicycle based on steering gear control is designed and developed. A gyroscope is used to detect the posture of the bicycle. It inductively receives the centerline of the track and then combined with the PID control algorithm realizes the autonomous tracking. The whole process from mechanical structure optimization and electronic circuit design to algorithm design, debugging, and competition runs through the CDIO of engineering education, realizing the cultivation of compound engineering innovative abilities.",
    "authors": [
        {
            "affiliations": [],
            "name": "Jinxue Sui"
        },
        {
            "affiliations": [],
            "name": "Chunyang Wang"
        },
        {
            "affiliations": [],
            "name": "Minghong Chen"
        },
        {
            "affiliations": [],
            "name": "Ping Zuo"
        },
        {
            "affiliations": [],
            "name": "Siqing Shen"
        }
    ],
    "id": "SP:91cc5bfa18579bee90e366d9d2115fd47768aa8f",
    "references": [
        {
            "authors": [
                "Q. Zhuo"
            ],
            "title": "'Racing Rules of the 16th National University Smart Car Competition'', 2021. [Online]. Available: h t tp s : / / zhuoq ing .b log .c sdn .ne t / a r t i c l e",
            "year": 2021
        },
        {
            "authors": [
                "Z.X.Wang"
            ],
            "title": "'Development of Comprehensive Practical Ability of Computer Major Students Based on Smart-Car Race'",
            "venue": "Experiment Science and Technology, vol. 16,",
            "year": 2018
        },
        {
            "authors": [
                "M. Kong",
                "S.B. Lu"
            ],
            "title": "'Reserch of Practical Teaching System Based on Smart Car Competition'",
            "venue": "Journal of Hefei Normal University,",
            "year": 2014
        },
        {
            "authors": [
                "J.X. Sui"
            ],
            "title": "'Construction and Practice of Discipline Competition System for Electrical Information Specialty'', China",
            "venue": "Electric Power, 2013,",
            "year": 2013
        },
        {
            "authors": [
                "E. Crawley"
            ],
            "title": "'The CDIO Syllabus v2.0-An Updated Statement of Goals for Engineering Education'",
            "venue": "Proceedings of the 7th International CDIO Conference,",
            "year": 2011
        },
        {
            "authors": [
                "F. Edward"
            ],
            "title": "'Rethinking Engineering Education: The CDIO Approach'",
            "year": 2007
        },
        {
            "authors": [
                "J.X. Sui"
            ],
            "title": "'Exploration on Organizing College Students' Practical Innovation Competition Relying on Professional Associations'",
            "venue": "Innovation and Entrepreneurship Education,",
            "year": 2013
        },
        {
            "authors": [
                "M.T. He"
            ],
            "title": "'Design of Embedded Intelligent Racing Car Based on IMXRT1021'",
            "venue": "Computer Systems & Applications,",
            "year": 2021
        },
        {
            "authors": [
                "P. Sirichai"
            ],
            "title": "'Smart Car with Security Camera for Homeland Security'",
            "venue": "Procedia \u2013 Social and Behavioral Sciences,",
            "year": 2010
        },
        {
            "authors": [
                "J. Weyer"
            ],
            "title": "'Human\u2013Machine Cooperation in Smart Cars. An Empirical Investigation of the Loss-of-Control Thesis'",
            "venue": "Safety Science,",
            "year": 2015
        },
        {
            "authors": [
                "S. Ajwad"
            ],
            "title": "'Optimal and Robust Control of Multi DOF Robotic Manipulator: Design and Hardware Realization'",
            "venue": "Cybernetics and Systems,",
            "year": 2017
        },
        {
            "authors": [
                "Y. Wang"
            ],
            "title": "'Adaptive PID-Fractional-Order Nonsingular Terminal Sliding Mode Control for Cable-Driven Manipulators Using Time-Delay Estimation'",
            "venue": "International Journal of Systems Science,",
            "year": 2020
        },
        {
            "authors": [
                "K. Macek"
            ],
            "title": "'Path Following for Autonomous Vehicle Navigation Based on Kinodynamic Control'",
            "venue": "Journal of Computing and Information Technology,",
            "year": 2009
        },
        {
            "authors": [
                "K. Sj\u00f6"
            ],
            "title": "'Object Search and Localization for an Indoor Mobile Robot'",
            "venue": "Journal of Computing and Information Technology,",
            "year": 2009
        },
        {
            "authors": [
                "H.M. Kim"
            ],
            "title": "'Fuzzy Throttle and Brake Control for Platoons of Smart Cars'",
            "venue": "Fuzzy Sets and Systems,",
            "year": 1996
        }
    ],
    "sections": [
        {
            "text": "Design of Self-Balancing Tracing Bicycle for Smart Car Competition Case Under Engineering Education\n13CIT. Journal of Computing and Information Technology, Vol. 29, No. 1, March 2021, 13\u201326 doi: 10.20532/cit.2021.1005304\nJinxue Sui1, Chunyang Wang1, Minghong Chen1, Ping Zuo1 and Siqing Shen1,2 1Shandong Technology and Business University, Yantai, China 2Institute of Network Technology, Yantai, China\nSmart car is an academic competition held for cultivating college students' engineering ability in China for 16 years. To improve the performance of smart cars, this study integrates engineering education topics by introducing a smart car system with regard to the selection of key components, design of hardware and circuit boards, processing of sensor signals, as well as assembly, algorithms, and control. After completing this engineering education, students could achieve better results in the academic competition. According to the K model rules of the 16th smart car competition, a self-balancing autonomous tracking bicycle based on steering gear control is designed and developed. A gyroscope is used to detect the posture of the bicycle. It inductively receives the centerline of the track and then combined with the PID control algorithm realizes the autonomous tracking. The whole process from mechanical structure optimization and electronic circuit design to algorithm design, debugging, and competition runs through the CDIO of engineering education, realizing the cultivation of compound engineering innovative abilities.\nACM CCS (2012) Classification: Applied computing \u2192 Education \u2192 Interactive learning environments Hardware \u2192 Communication hardware, interfaces and storage \u2192 Sensor devices and platforms Keywords: smart car competition, engineering education, self-balancing bicycle"
        },
        {
            "heading": "1. Introduction",
            "text": "Nowadays, China vigorously promotes the \"new engineering\" education reform, and the school also puts students' engineering ability training on the agenda. Students who have undergone engineering education and training will also perform better in academic competitions.\nThis research will analyze and summarize the content of the academic competitions participated by students who have recently finished engineering education and highlight the training effects of engineering education on students. In 2006, in order to improve college students' practical ability, innovation ability, team spirit and promote the reform of higher engineering education, the Higher Education Department of China's Ministry of Education commissioned the Teaching Guidance Sub-committee of Automation Specialty in Colleges and Universities to hold the National College Students' Smart Car Competition. At the same time, the competition was supported by Freescale Semiconductor Company [1]. The technology and knowledge of smart car competition are developing rapidly and are being updated almost every year. So, the requirements for students' ability are also increasing year by year. Because of its racing characteristics, it attracts more and more relevant professional college students to participate. In terms of track elements, there were only straights and corners in the first competition, and the elements were relatively simple. In the second and third competitions, up and down ramps were introduced, which increased the control requirements for motors and became a common element in the later competitions. In the fourth competition, narrow lanes were added for the first time which led to subsequent competitions becoming narrower, and signs\nIn 2014, the textbook \"Freescale Cup Smart Car Design and Example Course\" was published, and the course \"Smart Car Design\" was offered in the undergraduate talent training program. These activities form an engineering education knowledge and ability training system centering on the smart car with one lesson, one training, and one association activity, as shown in Figure 3, three in one smart car platform [5, 8].\nFigure 3. Three in one smart car platform.\nThe bicycle racing group was introduced to the smart car competition in 2021. The model used is a new electric motor structure, as shown in Figure 4, and it is similar to the principle of a bicycle. There is not much previous experience to learn from when it comes to automation in this case. Some of the problems include: how to balance control, how to control models in a\norganizing students to participate in the smart car competition through the concept, design, production, debugging, and realization of the intelligent car for the final competition display. As shown in Figure 2, the process of smart car from overall conception to specific design, from production to competition display is the way that international engineering education advocates for students to learn engineering in an active, practical, and organically linked way of curriculum knowledge [7]. Smart car design and production cover a wide range of disciplines. It is a classic engineering practice case, not only to cultivate students' composite comprehensive professional knowledgeability, but even more importantly to cultivate students' engineering practice ability. Smart car design is generally divided into mechanical structure design, electronic circuit hardware design, intelligent control algorithm software design, involving mechanical, electronic engineering, artificial intelligence, automation, automotive engineering, computer science and technology, and other professional knowledge. In order to develop the students' knowledge, improve professional skills, cultivate engineering practice and comprehensive innovation ability, our university began taking part in the smart car competition in 2010. It began to organize large-scale campus smart car competition in 2012, began to organize smart car competition summer training in 2013, and set up intelligent car associations to organize students to design and make smart cars in their spare time.\nwere added for the first time. The fifth competition was based on the previous overall narrower track, improving the control requirements for smart cars. The sixth competition has been using the fifth competition track width. The seventh instance introduced the intersection, put forward requirements for the control of the camera group, and became the common track element of the later competition. In the eighth competition, the intersection was replaced with a dotted track, adding more possibilities for the competition. In the ninth competition, the model of the seventh competition has returned and a crosswalk was added to require intelligent vehicles to complete intersection judgment. In the tenth competition, the track was greatly modified with asymmetrical ramps and centerline guiding sections and barricades were added. In the eleventh competition, the difficulty was reduced to a common ramp, and the central guide section was also removed. In the twelfth competition, the circular track used by the quadrotor group was added on its basis. In the thirteenth competition, the circular circuit was removed, and a bumpy section was added. The fourteenth edition of the competition added the complex element of a roundabout, making it much harder to judge. The fifteenth competition introduced the garage for the first time. Intelligent cars both need to start from the garage and return to the garage after finishing the competition. The latest sixteenth instance reorganized the diverging roads to increase the difficulty of detection [1\u20132]."
        },
        {
            "heading": "2. Smart Car Competition Under Engineering Education",
            "text": "American education explores the balance between theoretical knowledge and practical ability and thus obtains a new education model named the engineering education model. The model includes the following steps: Conceive, Design, Implement, Operate, thus, representing a complete cycle of the product development process [6\u20137]. Conception refers to the determination of the design scheme according to the actual needs of the course project. Design includes design process and disciplines, multi-disciplinary, multi-objective design. Implementation entails the software and hardware process testing, and finally, Operation, encompasses the entire process from conception to implementation, including evaluation and suggestions for improvement. The concept of CDIO education mode mainly aims at cultivating students' systematic engineering skills. At the same time, it also focuses on cultivating students' comprehensive abilities such as knowledge theory and hands-on practice ability, as well as organizational communication and team cooperation ability. The CDIO engineering education ability cultivation system is shown in Figure 1. CDIO mode is a perfect engineering education system, which emphasizes the project-guided teaching system and the integration of knowledge, ability, and quality cultivation. This educational concept is completely consistent with\nFigure 2. Design flow chart of the smart car based on CDIO model.\nIn 2014, the textbook \"Freescale Cup Smart Car Design and Example Course\" was published, and the course \"Smart Car Design\" was offered in the undergraduate talent training program. These activities form an engineering education knowledge and ability training system centering on the smart car with one lesson, one training, and one association activity, as shown in Figure 3, three in one smart car platform [5, 8].\nThe bicycle racing group was introduced to the smart car competition in 2021. The model used is a new electric motor structure, as shown in Figure 4, and it is similar to the principle of a bicycle. There is not much previous experience to learn from when it comes to automation in this case. Some of the problems include: how to balance control, how to control models in a\norganizing students to participate in the smart car competition through the concept, design, production, debugging, and realization of the intelligent car for the final competition display. As shown in Figure 2, the process of smart car from overall conception to specific design, from production to competition display is the way that international engineering education advocates for students to learn engineering in an active, practical, and organically linked way of curriculum knowledge [7]. Smart car design and production cover a wide range of disciplines. It is a classic engineering practice case, not only to cultivate students' composite comprehensive professional knowledgeability, but even more importantly to cultivate students' engineering practice ability. Smart car design is generally divided into mechanical structure design, electronic circuit hardware design, intelligent control algorithm software design, involving mechanical, electronic engineering, artificial intelligence, automation, automotive engineering, computer science and technology, and other professional knowledge. In order to develop the students' knowledge, improve professional skills, cultivate engineering practice and comprehensive innovation ability, our university began taking part in the smart car competition in 2010. It began to organize large-scale campus smart car competition in 2012, began to organize smart car competition summer training in 2013, and set up intelligent car associations to organize students to design and make smart cars in their spare time.\nwere added for the first time. The fifth competition was based on the previous overall narrower track, improving the control requirements for smart cars. The sixth competition has been using the fifth competition track width. The seventh instance introduced the intersection, put forward requirements for the control of the camera group, and became the common track element of the later competition. In the eighth competition, the intersection was replaced with a dotted track, adding more possibilities for the competition. In the ninth competition, the model of the seventh competition has returned and a crosswalk was added to require intelligent vehicles to complete intersection judgment. In the tenth competition, the track was greatly modified with asymmetrical ramps and centerline guiding sections and barricades were added. In the eleventh competition, the difficulty was reduced to a common ramp, and the central guide section was also removed. In the twelfth competition, the circular track used by the quadrotor group was added on its basis. In the thirteenth competition, the circular circuit was removed, and a bumpy section was added. The fourteenth edition of the competition added the complex element of a roundabout, making it much harder to judge. The fifteenth competition introduced the garage for the first time. Intelligent cars both need to start from the garage and return to the garage after finishing the competition. The latest sixteenth instance reorganized the diverging roads to increase the difficulty of detection [1\u20132]."
        },
        {
            "heading": "2. Smart Car Competition Under Engineering Education",
            "text": "American education explores the balance between theoretical knowledge and practical ability and thus obtains a new education model named the engineering education model. The model includes the following steps: Conceive, Design, Implement, Operate, thus, representing a complete cycle of the product development process [6\u20137]. Conception refers to the determination of the design scheme according to the actual needs of the course project. Design includes design process and disciplines, multi-disciplinary, multi-objective design. Implementation entails the software and hardware process testing, and finally, Operation, encompasses the entire process from conception to implementation, including evaluation and suggestions for improvement. The concept of CDIO education mode mainly aims at cultivating students' systematic engineering skills. At the same time, it also focuses on cultivating students' comprehensive abilities such as knowledge theory and hands-on practice ability, as well as organizational communication and team cooperation ability. The CDIO engineering education ability cultivation system is shown in Figure 1. CDIO mode is a perfect engineering education system, which emphasizes the project-guided teaching system and the integration of knowledge, ability, and quality cultivation. This educational concept is completely consistent with\nFigure 1. CDIO engineering education ability training system."
        },
        {
            "heading": "3.2. Hardware Circuit Design",
            "text": "This part exercises students' electronic circuit design and circuit board drawing abilities through designing each part of the hardware. STC series chips must be selected for the smart car microcontroller as required, and participants need to independently design the control system. Hardware design mainly includes: mi-\ncrocontroller core board circuit, power supply voltage regulator circuit, attitude and speed acquisition sensor circuit, motor and steering gear drive circuit, independent keys, five-way keys, 2.4G wireless module, OLED display, buzzer, and LED auxiliary peripherals circuit. The hardware design block diagram is shown in Figure 6. This paper introduces some main circuit modules and interfaces [9\u201311].\nstraight line, and how to control the car model to follow the guidance electromagnetic line while maintaining balance. Next, we will take the self-balancing tracking mobile bicycle as an example to introduce the technical realization of smart car design under the background of engineering education."
        },
        {
            "heading": "3. Smart Car Design Under the Cultivation of Engineering Ability",
            "text": "Smart car design requires many professional courses. Through the practice and application of course knowledge, students can really strengthen their abilities while undergoing engineering education. Next, we take a smart car design as an example to introduce students' knowledge application and ability training. According to the rules of the smart car competition, the bicycle model is not allowed to install additional inertia wheels for maintaining the balance of the car model, so the gyroscope is used to detect the attitude and control the centripetal force through the steering gear to maintain the attitude balance of the smart car in the driving process. Because centripetal force requires centripetal acceleration to be generated in motion, the device is only limited to the controllable maintenance of the object's own attitude in the process of motion."
        },
        {
            "heading": "3.1. Hardware Composition and Structure Optimization",
            "text": "This part trains students' abilities in overall hardware design, device selection, and mechanical structure optimization. First, students need to understand the basic structure of a smart car, then conceive the overall design, and complete device selection through professional knowledge and consulting relevant data. At the same time, the mechanical structure of the smart car is reasonably constructed according to the overall design, and the stress conditions of various conditions are analyzed and optimized. The hardware and software design is divided into three parts: acquisition, processing, and execution. The main controller is STC16F40K128 single-chip microcomputer. The control chip is connected to\na gyroscope, 10mH inductor and operational amplifier, 2.4G wireless serial port module, and other components. By collecting the data of the device's own attitude and the surrounding environment, the relationship between its own state and position is determined. After the algorithm is optimized, the safe operation instructions of the device are calculated, and the solution is PWM signal output respectively, so as to control the motor and steering gear."
        },
        {
            "heading": "3.1.1. Car Model and Component Selection",
            "text": "The model type is K, its length is about 256.5mm, height is about 119.26mm, and tire size is 67.5mm in diameter. In Figure 4 the car model engineering and physical drawing are shown."
        },
        {
            "heading": "3.1.2. Mechanical Structure Design",
            "text": "The center of gravity is set to the lower part as much as possible for smart car motion control. As the electromagnetic monitoring system needs to be installed on the upper part, as shown in Figure 5, the center of gravity is shifted upward and toward the front of the smart car. During the steering, it is easy to cause roll, tail swing, and tire skid, so the heavy battery is installed in the lower part of the smart car. It is close to the chassis and located at the central axis of the car body, as shown in Figure 5. This way, it can maintain real-time steering control while considering the accuracy and rapidity of speed control. At the same time, the gyroscope is installed properly to the lower part of the smart car for attitude data collection, as shown in Figure 5.\nFigure 5. The bicycle mechanical structure design.\nFigure 6. Hardware design block diagram."
        },
        {
            "heading": "3.2. Hardware Circuit Design",
            "text": "This part exercises students' electronic circuit design and circuit board drawing abilities through designing each part of the hardware. STC series chips must be selected for the smart car microcontroller as required, and participants need to independently design the control system. Hardware design mainly includes: mi-\ncrocontroller core board circuit, power supply voltage regulator circuit, attitude and speed acquisition sensor circuit, motor and steering gear drive circuit, independent keys, five-way keys, 2.4G wireless module, OLED display, buzzer, and LED auxiliary peripherals circuit. The hardware design block diagram is shown in Figure 6. This paper introduces some main circuit modules and interfaces [9\u201311].\nstraight line, and how to control the car model to follow the guidance electromagnetic line while maintaining balance. Next, we will take the self-balancing tracking mobile bicycle as an example to introduce the technical realization of smart car design under the background of engineering education."
        },
        {
            "heading": "3. Smart Car Design Under the Cultivation of Engineering Ability",
            "text": "Smart car design requires many professional courses. Through the practice and application of course knowledge, students can really strengthen their abilities while undergoing engineering education. Next, we take a smart car design as an example to introduce students' knowledge application and ability training. According to the rules of the smart car competition, the bicycle model is not allowed to install additional inertia wheels for maintaining the balance of the car model, so the gyroscope is used to detect the attitude and control the centripetal force through the steering gear to maintain the attitude balance of the smart car in the driving process. Because centripetal force requires centripetal acceleration to be generated in motion, the device is only limited to the controllable maintenance of the object's own attitude in the\nprocess of motion."
        },
        {
            "heading": "3.1. Hardware Composition and Structure Optimization",
            "text": "This part trains students' abilities in overall hardware design, device selection, and mechanical structure optimization. First, students need to understand the basic structure of a smart car, then conceive the overall design, and complete device selection through professional knowledge and consulting relevant data. At the same time, the mechanical structure of the smart car is reasonably constructed according to the overall design, and the stress conditions of various conditions are analyzed and optimized. The hardware and software design is divided into three parts: acquisition, processing, and execution. The main controller is STC16F40K128 single-chip microcomputer. The control chip is connected to\na gyroscope, 10mH inductor and operational amplifier, 2.4G wireless serial port module, and other components. By collecting the data of the device's own attitude and the surrounding environment, the relationship between its own state and position is determined. After the algorithm is optimized, the safe operation instructions of the device are calculated, and the solution is PWM signal output respectively, so as to control the motor and steering gear."
        },
        {
            "heading": "3.1.1. Car Model and Component Selection",
            "text": "The model type is K, its length is about 256.5mm, height is about 119.26mm, and tire size is 67.5mm in diameter. In Figure 4 the car model engineering and physical drawing are shown.\nFigure 4. Car model engineering and physical drawing."
        },
        {
            "heading": "3.1.2. Mechanical Structure Design",
            "text": "The center of gravity is set to the lower part as much as possible for smart car motion control. As the electromagnetic monitoring system needs to be installed on the upper part, as shown in Figure 5, the center of gravity is shifted upward and toward the front of the smart car. During the steering, it is easy to cause roll, tail swing, and tire skid, so the heavy battery is installed in the lower part of the smart car. It is close to the chassis and located at the central axis of the car body, as shown in Figure 5. This way, it can maintain real-time steering control while considering the accuracy and rapidity of speed control. At the same time, the gyroscope is installed properly to the lower part of the smart car for attitude data collection, as shown in Figure 5."
        },
        {
            "heading": "3.2.1. Main Control Board Circuit",
            "text": "The mainboard is designed around STC16F, which includes I/O reasonable expansion of STC16F for easy connection to external modules, as well as three buck to volt circuits (7V2 to 6V,7V2 to 5V, 5V to 3V3), as shown in Figure 7."
        },
        {
            "heading": "3.2.2. Electromagnetic Operational Amplifier Circuit",
            "text": "The change of analog quantity is reflected in the change of voltage amplitude of MCU. Although the 10mH I-shape can accurately perceive the change of alternating electric field, the induced electromotive force generated by electromagnetic induction is very weak. The\ncommon emitter amplifier circuit is designed by using a triode to amplify the first stage. The first stage amplified signal is input into the true differential four-way input operational amplifier based on LM324, and the electromagnetic operational amplifier circuit is designed, as shown in Figure 8."
        },
        {
            "heading": "3.2.3. Motor Drive Circuit",
            "text": "Since the converter chip of the mainboard circuit does not support the large current of the motor, a relatively reliable drive circuit is designed based on the gate driver chip DRV8701, as shown in Figure 9. The peripheral circuit of the DRV8701 driver and control chip is simple and can drive MOS tube directly. Meanwhile, DRV8701 can monitor the driver current in real-time and compare it with the current threshold set on the rotary rheostat. When the threshold current is exceeded, or when the temperature is too high, the fault signal is sent to the control chip and necessary measures are taken."
        },
        {
            "heading": "3.3. Data Acquisition and Control Algorithm Design",
            "text": "This part analyzes and processes the data collected by the gyroscope, conceives the control model and algorithm, and applies it to the actual smart car debugging process. The aim here is to train students' ability of signal processing, automatic control, algorithm design, and program debugging [9\u201313]."
        },
        {
            "heading": "3.3.1. Gyroscope Data Acquisition",
            "text": "In order to achieve attitude holding, real-time, accurate, and fast attitude acquisition should be realized first using ICM-20602 six-axis gyroscope module, supporting IIC and hardware SPI, and built-in 16-bit AD converter. The six-axis gyroscope module can collect angular value and angular velocity value. After testing, the gyroscope angular velocity acquisition is relatively stable, but the angle value jitter is large, as shown in Figure 10 (blue line). If direct jitter feedback is used on the balanced system, this will cause system stability collapse. To sum up, it is necessary to filter the gyroscope angle data. As the main control chip uses STC16F, if the DMP filter of 6050 gyroscope is adopted, the computing power resources of the main control will be huge. Therefore, Kalman or first-order complementary filter is selected for further data processing. In practice, the first-order complementary filter is better than the Kalman filter. It is used to filter the angle value with the angular velocity value, and the roll angle of the X axis is taken as the main reference considering the mechanical structure. Firstly, rough first-order complementary filtering is carried out for the Y and Z axes. Considering the real-time performance of angle, filtering waveform and original waveform are taken as reference filtering, and excessive errors can be filtered instead of perfect\nsmoothing of the waveform. Then, by evaluating the arctangent of the filtered data along Y and Z axes, the roll angle between the X-axis range of (-\u03c0, \u03c0) can be obtained, as shown in Figure 10. Here the amplitude of the gray line is increased by a factor of 10 for better visibility as it basically coincides with the green line. The arctangent value is used as the X-axis angle to filter the X-axis angular acceleration, and stable, fast and accurate X-axis roll angle data can be obtained, as shown in Figure 10 (green line).\nFigure 10. Rolling angle data.\n3.3.2. Control Modeling and Debugging\nThe bicycle can be simplified into a first-order inverted pendulum. Through analysis, two control models are proposed.\nFigure 9. Motor drive circuit."
        },
        {
            "heading": "3.2.1. Main Control Board Circuit",
            "text": "The mainboard is designed around STC16F, which includes I/O reasonable expansion of STC16F for easy connection to external modules, as well as three buck to volt circuits (7V2 to 6V,7V2 to 5V, 5V to 3V3), as shown in Figure 7.\nFigure 7. Main control board circuit."
        },
        {
            "heading": "3.2.2. Electromagnetic Operational Amplifier Circuit",
            "text": "The change of analog quantity is reflected in the change of voltage amplitude of MCU. Although the 10mH I-shape can accurately perceive the change of alternating electric field, the induced electromotive force generated by electromagnetic induction is very weak. The\ncommon emitter amplifier circuit is designed by using a triode to amplify the first stage. The first stage amplified signal is input into the true differential four-way input operational amplifier based on LM324, and the electromagnetic operational amplifier circuit is designed, as shown in Figure 8."
        },
        {
            "heading": "3.2.3. Motor Drive Circuit",
            "text": "Since the converter chip of the mainboard circuit does not support the large current of the motor, a relatively reliable drive circuit is designed based on the gate driver chip DRV8701, as shown in Figure 9. The peripheral circuit of the DRV8701 driver and control chip is simple and can drive MOS tube directly. Meanwhile, DRV8701 can monitor the driver current in real-time and compare it with the current threshold set on the rotary rheostat. When the threshold current is exceeded, or when the temperature is too high, the fault signal is sent to the control chip and necessary measures are taken."
        },
        {
            "heading": "3.3. Data Acquisition and Control Algorithm Design",
            "text": "This part analyzes and processes the data collected by the gyroscope, conceives the control model and algorithm, and applies it to the actual smart car debugging process. The aim here is to train students' ability of signal processing, automatic control, algorithm design, and program debugging [9\u201313]."
        },
        {
            "heading": "3.3.1. Gyroscope Data Acquisition",
            "text": "In order to achieve attitude holding, real-time, accurate, and fast attitude acquisition should be realized first using ICM-20602 six-axis gyroscope module, supporting IIC and hardware SPI, and built-in 16-bit AD converter. The six-axis gyroscope module can collect angular value and angular velocity value. After testing, the gyroscope angular velocity acquisition is relatively stable, but the angle value jitter is large, as shown in Figure 10 (blue line). If direct jitter feedback is used on the balanced system, this will cause system stability collapse. To sum up, it is necessary to filter the gyroscope angle data. As the main control chip uses STC16F, if the DMP filter of 6050 gyroscope is adopted, the computing power resources of the main control will be huge. Therefore, Kalman or first-order complementary filter is selected for further data processing. In practice, the first-order complementary filter is better than the Kalman filter. It is used to filter the angle value with the angular velocity value, and the roll angle of the X axis is taken as the main reference considering the mechanical structure. Firstly, rough first-order complementary filtering is carried out for the Y and Z axes. Considering the real-time performance of angle, filtering waveform and original waveform are taken as reference filtering, and excessive errors can be filtered instead of perfect\nsmoothing of the waveform. Then, by evaluating the arctangent of the filtered data along Y and Z axes, the roll angle between the X-axis range of (-\u03c0, \u03c0) can be obtained, as shown in Figure 10. Here the amplitude of the gray line is increased by a factor of 10 for better visibility as it basically coincides with the green line. The arctangent value is used as the X-axis angle to filter the X-axis angular acceleration, and stable, fast and accurate X-axis roll angle data can be obtained, as shown in Figure 10 (green line)."
        },
        {
            "heading": "3.3.2. Control Modeling and Debugging",
            "text": "The bicycle can be simplified into a first-order inverted pendulum. Through analysis, two control models are proposed.\nFigure 8. LM324 amplifier circuit.\nThe first adopts LQR full-state feedback controller based on MIMO. According to the same working time domain, in a control cycle, LQR is calculated only once, generally by multiplying multiple optimization objectives by different weights and then summing them up. The optimal calculated solution is sent to the controller. [14] The second control idea is the improved PID control. For complex interference, the first-order PID is not fast and smooth enough, and the jitter is large. Based on the model characteristic of disturbance control acting on a single controller, a cascade PID hierarchical series controller was selected. Because the device uses centripetal force as control force, the control idea is that if the device is dumped to the left, the steering gear is controlled to the left, so that the device does the centripetal acceleration of curvature motion to the left, producing centripetal force to the right, in order to maintain the balance and stability [15]."
        },
        {
            "heading": "3.3.3. Cascade PID for Upright Running",
            "text": "The PID controller can handle the angle value and feedback to the steering gear to achieve the upright position, but it is not stable. After being interfered with, the bicycle is prone to jitter and the speed of \"returning to normal\" is slow.\nTherefore, the cascade PID control is adopted, and multi-level control is used to ensure the speed of \"returning to normal\" of the balance system. The cascade PID process is shown in\nFigure 11. The expected velocity in the figure is calculated jointly by the current rolling angle and speed of the bicycle, which is a real-time variable. The expected velocity is controlled by other control loops. In addition, the rolling angle and rolling angular velocity in the Figure 11 are real-time parameters detected by the attitude sensor.\nThe first stage uses angular velocity, which is fed back to the steering gear through PI for control, to realize the straight-line movement. At this stage, the expected angular velocity of the roll angle is 0. Let the I value of the PI controller be 0, and a larger parameter is given to the P to realize the instantaneous left (right) angle of the steering gear when the analog device is tipped left (right). Then the steering gear tilts left (right) when the integral of I value is reasonably limited so that, increase in I value, to maintain the left (right) angle. When the motor is given a certain speed (not too fast or too slow), a reasonable PI controller can realize the upright running. But the system was extremely unstable. If the system is disturbed, the device slowly tilts to one side and moves in a circular motion with a decreasing radius, as shown in Figure 12.\nFigure 12. Change of roll angle under the first stage control when disturbed.\nThe second stage uses roll angle, PID controller output feedback to get the expected value of the angular velocity loop. The expectation is about 90 degrees (subject to the position of the gyroscope). The ID link is not adjusted at first and P is amplified. The device can still run upright when there is a certain disturbance, but it will shake around the 90 degrees point. If the left and right deviate from the balance expectation during startup, the device will not tip over or drive in a non-straight line. The best results of the above two tests can be achieved by magnifying D. In the case of circular motion with no jitter as expected but inclined to the fixed side, it is necessary to modify the expected value of the angle loop slightly. As shown in Figure 13, the device achieves a stable upright running state (fast correction after interference).\nFigure 13. Change of roll angle under the second stage control when disturbed.\nIt can be seen that in our final debugging, the angular velocity loop PI control P-value is 1.8, the I value is 0.188, and the angular loop velocity loop integral range is \u00b1260. The angle loop PID control P-value is 5.6, the I value is 0.175, the D value is 2.9, and the angle Loop integral limit range \u00b1400, speed loop PD control P-value is 0.9, and D value is 0.4\n3.3.4. Algorithm Comparison\nIn the actual control scenario, LQR algorithm and cascade PID achieve good control of the bicycle\u2019s attitude. The comparison shows LQR is slightly better than cascade PID. However, the LQR algorithm involves the calculation of a high-order matrix, and the limited computational power of STC16F is not enough to support the high-speed operation of the algorithm. In the test, we used RT1604 to barely support the algorithm. Therefore, only STC16F can be used as the main control chip, so the cascade PID algorithm is a more cost-effective choice. The experimental data comparison is shown in Table 1.\nFor the bicycle, the obvious problem is that both the upright control and the angle control are affected by the steering gear control of the front wheel, while the cascade PID can realize the multiple interference acting on the same feedback device. Therefore, the control algorithm is that the expected angle value of the control device serves as the third level control of the cascade PID, and the output acts on the expectation superimposed on the second level angle loop control. In fact, the expectation of the upper level is the mechanical equilibrium point of the device. If the mechanical center of gravity is offset, the influence caused by the uneven mechanical center of gravity can be offset\nby changing this parameter. As a result of the Figure 11. Cascade PID implementation process.\nThe first adopts LQR full-state feedback controller based on MIMO. According to the same working time domain, in a control cycle, LQR is calculated only once, generally by multiply-\ning multiple optimization objectives by differ-\nent weights and then summing them up. The\noptimal calculated solution is sent to the con-\ntroller. [14]\nThe second control idea is the improved PID\ncontrol. For complex interference, the first-or-\nder PID is not fast and smooth enough, and the\njitter is large. Based on the model characteristic\nof disturbance control acting on a single controller, a cascade PID hierarchical series controller was selected. Because the device uses centripetal force as control force, the control idea is that if the device is dumped to the left, the steering gear is controlled to the left, so that the device does the centripetal acceleration of curvature motion to the left, producing centripetal force to the right, in order to maintain the balance and stability [15]."
        },
        {
            "heading": "3.3.3. Cascade PID for Upright Running",
            "text": "The PID controller can handle the angle value and feedback to the steering gear to achieve the upright position, but it is not stable. After being interfered with, the bicycle is prone to jitter and the speed of \"returning to normal\" is slow.\nTherefore, the cascade PID control is adopted, and multi-level control is used to ensure the speed of \"returning to normal\" of the balance system. The cascade PID process is shown in\nFigure 11. The expected velocity in the figure is calculated jointly by the current rolling angle and speed of the bicycle, which is a real-time variable. The expected velocity is controlled by other control loops. In addition, the rolling angle and rolling angular velocity in the Figure 11 are real-time parameters detected by the attitude sensor.\nThe first stage uses angular velocity, which is fed back to the steering gear through PI for control, to realize the straight-line movement. At this stage, the expected angular velocity of the roll angle is 0. Let the I value of the PI controller be 0, and a larger parameter is given to the P to realize the instantaneous left (right) angle of the steering gear when the analog device is tipped left (right). Then the steering gear tilts left (right) when the integral of I value is reasonably limited so that, increase in I value, to maintain the left (right) angle. When the motor is given a certain speed (not too fast or too slow), a reasonable PI controller can realize the upright running. But the system was extremely unstable. If the system is disturbed, the device slowly tilts to one side and moves in a circular motion with a decreasing radius, as shown in Figure 12.\nThe second stage uses roll angle, PID controller output feedback to get the expected value of the angular velocity loop. The expectation is about 90 degrees (subject to the position of the gyroscope). The ID link is not adjusted at first and P is amplified. The device can still run upright when there is a certain disturbance, but it will shake around the 90 degrees point. If the left and right deviate from the balance expectation during startup, the device will not tip over or drive in a non-straight line. The best results of the above two tests can be achieved by magnifying D. In the case of circular motion with no jitter as expected but inclined to the fixed side, it is necessary to modify the expected value of the angle loop slightly. As shown in Figure 13, the device achieves a stable upright running state (fast correction after interference).\nIt can be seen that in our final debugging, the angular velocity loop PI control P-value is 1.8, the I value is 0.188, and the angular loop velocity loop integral range is \u00b1260. The angle loop PID control P-value is 5.6, the I value is 0.175, the D value is 2.9, and the angle Loop integral limit range \u00b1400, speed loop PD control P-value is 0.9, and D value is 0.4"
        },
        {
            "heading": "3.3.4. Algorithm Comparison",
            "text": "In the actual control scenario, LQR algorithm and cascade PID achieve good control of the bicycle\u2019s attitude. The comparison shows LQR is slightly better than cascade PID. However, the LQR algorithm involves the calculation of a high-order matrix, and the limited computational power of STC16F is not enough to support the high-speed operation of the algorithm. In the test, we used RT1604 to barely support the algorithm. Therefore, only STC16F can be used as the main control chip, so the cascade PID algorithm is a more cost-effective choice. The experimental data comparison is shown in Table 1."
        },
        {
            "heading": "2 PID 14.23 8 87%",
            "text": ""
        },
        {
            "heading": "2 LQR 10.23 12 100%",
            "text": ""
        },
        {
            "heading": "4 PID 9.556 7 90%",
            "text": ""
        },
        {
            "heading": "4 LQR 7.34 10 96%",
            "text": ""
        },
        {
            "heading": "3.3.5. Directional Control",
            "text": "For the bicycle, the obvious problem is that both the upright control and the angle control are affected by the steering gear control of the front wheel, while the cascade PID can realize the multiple interference acting on the same feedback device. Therefore, the control algorithm is that the expected angle value of the control device serves as the third level control of the cascade PID, and the output acts on the expectation superimposed on the second level angle loop control. In fact, the expectation of the upper level is the mechanical equilibrium point of the device. If the mechanical center of gravity is offset, the influence caused by the uneven mechanical center of gravity can be offset\nby changing this parameter. As a result of the Figure 11. Cascade PID implementation process.\ndata of the speed loop is the same as the input quantity of the second level angle loop of cascade PID, but it is independent of the cascade PID controller presented above. According to the principle of centripetal force, it is expected that there will be a large change of velocity when the tilt degree of the device is large. With a small tilt, a sharp change in velocity is not expected, because the change in velocity is based on a continuous change in time. If the speed changes rapidly in succession, the equilibrium system will be shocked. Based on the above understanding, we expect the control and tilt deviation of velocity are similar to the control curve of Tan rising arc. When the speed loop control is added, the balance will be greatly improved, and it can withstand large external environmental interference and remain upright. After testing, it can even reach the state of upright fast when the rear wheel touches the ground. In this state, the controlled turn of the previous step will no longer be a smooth circular line, but a polygonal line like an equilateral. Therefore, the speed loop control should be given reasonably according to the actual needs. Figures 15 and 16 show respectively the state of a bicycle that cannot be tilted, and light and shadow left by bicycle model when turning under control."
        },
        {
            "heading": "3.3.6. Electromagnetic Self Tracking",
            "text": "According to the above research, the controllable tracing is actually a reasonable change of the mechanical equilibrium point in the second-stage angle loop control, which can be understood as the controllable signal as the thirdstage output of cascade PID to the superposition of the second-stage angle loop expectation to control the system. It can be considered that the controllable signal is superimposed to the twostage angular loop as the three-stage output of cascade PID to control the system. Electromagnetic tracking is one of the tracking strategies of intelligent vehicles. It uses 10mH inductor to monitor 20khz and 100mA square wave alternating current, and after amplification, MCU monitors the change of its simulated value to judge its position in relation to the track. The device is limited by its single structure, and therefore the turning ability is limited.\ndeviation of the mechanical center of gravity, the device cannot drive in a straight line, such as the deviation to the side mentioned above. Therefore, the controlled steering of the device can be achieved by reasonably controlling the expectations of the second stage. The first is the controlled rotation of the bicycle. According to the above principle, the controlled rotation can be theoretically realized by a certain inclination given to the mechanical center of gravity. However, the device will carry out circular motion with a rapidly decreasing radius. This is because the device will have a significant inclination in the controlled rotation process, and the centripetal force is not enough to fully offset the gravity effect accurately. Therefore, the second-level angle loop control I should be added to accumulate the deviation value of the expected angle so as to realize the cycle turning without falling. It is not difficult to see from the return of the angle data that the bicycle actually oscillates near the expected value in the controlled turning process, as shown in Figure 14, to achieve the dynamic balance of the bicycle. In addition, it is also necessary to assign a value to the accumulation limit of I, otherwise, the bicycle-controlled turning circle gradually becoming larger will not be conducive to the controlled steering.\nThe second is to add an independent speed loop to assist in maintaining the upright position. The size of centripetal force is related to the radius of circular motion and speed. In this device, the radius of motion can be directly controlled by steering gear to control the front wheel, while the speed can be influenced by the motor output to the rotation of the rear wheel. The speed acting on the motor and the driving radius acting on the steering gear is different, so the control\nBecause the value of its mechanical midpoint changes, each turning is equivalent to the vehicle monitoring a tilt attitude. Therefore, continuous left and right large, controlled angle has a great impact on the balance. Thus, there are two conditions. The first is that the tilt is contrary to the expectation of the controlled angle, which leads to the controlled angle affecting the balance of the device and causing the device to fall. The second device will move in the direction of deviating from the route in order to stand upright, leading to the loss of the route. The device adopts six inductors patrolling mode, two horizontal inductors, two vertical inductors, and two eight-figure oblique inductors, as shown in Figure 17. Because of the broken line shape of the track, the vertical inductance will have a large value when monitoring the broken line angle, but it is almost zero when tracking a straight line. To improve the adaptability of the track, the sum of difference ratio is adapted to monitor the track as shown in the following type. Fuzzy PID is used to optimize the traveling route, thus achieving better patrolling ability. In the course of debugging, if you want to get better steering torque, you can slow down the device when monitoring large steering maneuvers and increase the P value of the angle loop at the same time to offset the reduced centripetal acceleration caused by deceleration.\n( ) ( ) ( ) ( ) / , 0 / , 0 M B M B\nM B M B\nE E E E x e E E E E x \u2212 + \u2265= \u2212 \u2212 + <\n(1)\nwhere EM = Inductance 1 + Inductance 2 + Inductance 3, EB = Inductance 4 + Inductance 5 + Inductance 6.\nFigure 17. Six inductor patrolling mode.\nDuring the actual operation, it can be seen from the data collected in the upright position in Figure 18 that the device is in a controlled state, and the ground is kept at an angle of 90\u00b0 without large steering instructions. Under the large steering angle control, the driving direction can be changed quickly and the minimum angle with the ground can be maintained at 50\u00b0. Thus, we can get a good, controlled state.\nFigure 18. Rolling angle of bicycle in stable running under electromagnetic trackin.\nFigure 15. The state of a bicycle that cannot be tilted when turning under control.\nFigure 16. Light and shadow left by bicycle model when turning under control.\ndata of the speed loop is the same as the input quantity of the second level angle loop of cascade PID, but it is independent of the cascade PID controller presented above. According to the principle of centripetal force, it is expected that there will be a large change of velocity when the tilt degree of the device is large. With a small tilt, a sharp change in velocity is not expected, because the change in velocity is based on a continuous change in time. If the speed changes rapidly in succession, the equilibrium system will be shocked. Based on the above understanding, we expect the control and tilt deviation of velocity are similar to the control curve of Tan rising arc. When the speed loop control is added, the balance will be greatly improved, and it can withstand large external environmental interference and remain upright. After testing, it can even reach the state of upright fast when the rear wheel touches the ground. In this state, the controlled turn of the previous step will no longer be a smooth circular line, but a polygonal line like an equilateral. Therefore, the speed loop control should be given reasonably according to the actual needs. Figures 15 and 16 show respectively the state of a bicycle that cannot be tilted, and light and shadow left by bicycle model when turning under control."
        },
        {
            "heading": "3.3.6. Electromagnetic Self Tracking",
            "text": "According to the above research, the controllable tracing is actually a reasonable change of the mechanical equilibrium point in the second-stage angle loop control, which can be understood as the controllable signal as the thirdstage output of cascade PID to the superposition\nof the second-stage angle loop expectation to\ncontrol the system. It can be considered that the\ncontrollable signal is superimposed to the twostage angular loop as the three-stage output of cascade PID to control the system. Electromagnetic tracking is one of the tracking strategies of intelligent vehicles. It uses 10mH inductor to monitor 20khz and 100mA square wave alternating current, and after amplification, MCU monitors the change of its simulated value to judge its position in relation to the track. The device is limited by its single structure, and therefore the turning ability is limited.\ndeviation of the mechanical center of gravity, the device cannot drive in a straight line, such as the deviation to the side mentioned above. Therefore, the controlled steering of the device can be achieved by reasonably controlling the expectations of the second stage. The first is the controlled rotation of the bicycle. According to the above principle, the controlled rotation can be theoretically realized by a certain inclination given to the mechanical center of gravity. However, the device will carry out circular motion with a rapidly decreasing radius. This is because the device will have a significant inclination in the controlled rotation process, and the centripetal force is not enough to fully offset the gravity effect accurately. Therefore, the second-level angle loop control I should be added to accumulate the deviation value of the expected angle so as to realize the cycle turning without falling. It is not difficult to see from the return of the angle data that the bicycle actually oscillates near the expected value in the controlled turning process, as shown in Figure 14, to achieve the dynamic balance of the bicycle. In addition, it is also necessary to assign a value to the accumulation limit of I, otherwise, the bicycle-controlled turning circle gradually becoming larger will not be conducive to the controlled steering.\nFigure 14. Change of controlled turn roll angle of the bicycle.\nThe second is to add an independent speed loop to assist in maintaining the upright position. The size of centripetal force is related to the radius of circular motion and speed. In this device, the radius of motion can be directly controlled by steering gear to control the front wheel, while the speed can be influenced by the motor output to the rotation of the rear wheel. The speed acting on the motor and the driving radius acting on the steering gear is different, so the control\nBecause the value of its mechanical midpoint changes, each turning is equivalent to the vehicle monitoring a tilt attitude. Therefore, continuous left and right large, controlled angle has a great impact on the balance. Thus, there are two conditions. The first is that the tilt is contrary to the expectation of the controlled angle, which leads to the controlled angle affecting the balance of the device and causing the device to fall. The second device will move in the direction of deviating from the route in order to stand upright, leading to the loss of the route. The device adopts six inductors patrolling mode, two horizontal inductors, two vertical inductors, and two eight-figure oblique inductors, as shown in Figure 17. Because of the broken line shape of the track, the vertical inductance will have a large value when monitoring the broken line angle, but it is almost zero when tracking a straight line. To improve the adaptability of the track, the sum of difference ratio is adapted to monitor the track as shown in the following type. Fuzzy PID is used to optimize the traveling route, thus achieving better patrolling ability. In the course of debugging, if you want to get better steering torque, you can slow down the device when monitoring large steering maneuvers and increase the P value of the angle loop at the same time to offset the reduced centripetal acceleration caused by deceleration.\n( ) ( ) ( ) ( ) / , 0 / , 0 M B M B\nM B M B\nE E E E x e E E E E x \u2212 + \u2265= \u2212 \u2212 + <\n(1)\nwhere EM = Inductance 1 + Inductance 2 + Inductance 3, EB = Inductance 4 + Inductance 5 + Inductance 6.\nDuring the actual operation, it can be seen from the data collected in the upright position in Figure 18 that the device is in a controlled state, and the ground is kept at an angle of 90\u00b0 without large steering instructions. Under the large steering angle control, the driving direction can be changed quickly and the minimum angle with the ground can be maintained at 50\u00b0. Thus, we can get a good, controlled state.\nIn the rough road, the bicycle device showed good anti-interference performance, as shown in Figure 19. Compared with the above, the overall operating state had little influence, and even when the device fell down, the device could recover upright through impulse if there was a large contact between the rear wheel and the ground, and the actual effect was higher than expected."
        },
        {
            "heading": "4. Discussion",
            "text": "We introduce the design idea and debugging of self-balancing and controllable attitude bicycle. The bicycle model has good controllability and operability in the debugging process. Different physical models of traditional two-wheel balancing vehicles also adopt completely different control schemes, but cascade PID multi-stage simultaneous control of the same model algorithm can be used more ideally. It also proves the advantage of cascade PID in dealing with similar control models. This provides a feasible scheme for controlling more models. This model theory can be applied to the motion posture maintenance and adjustment of all non-uniform mass rigid joints and has profound application value. Taking the self-balancing and autonomous tracking control of bicycles introduced above as an example, from the whole design process of the smart car, we can see that students can obtain various knowledge and abilities, such as system modeling, mechanical design, electronic circuit design, sensor application, signal processing, algorithm design, computer programming, and\nothers. This covers a wide range of knowledge and involves many disciplines, and therefore, it can cultivate students' compound engineering experience. At the same time, the design and application of smart car are very extensive [14- 19]. In addition, it is a challenge for students to update the regulations of the track, group, and device every year. At the same time, it is also a very good platform for exercise and learning. Considering this, the rules of smart car competition are generally defined in November of the previous year and continue to be upheld from July to August of the next year. The preparation and design time of the competition is very long, it can give students enough time to explore and learn by themselves. Under the organization of the smart car community, the smart car school competition is organized every November. In May of the second year, teams are selected to participate in the provincial and national competitions of smart cars. As shown in Figure 20, the number of students participating in smart cars competition in our university since 2011 has covered 50% of the related majors, which greatly supports the implementation of engineering education. Various technical salons, technical training, and technical exchanges are set up within the associations, which greatly enriches students' extracurricular activities. This experience cultivates students' comprehensive ability, improved their comprehensive quality.\nAfter 10 years of development, through the smart car competition platform, professional course knowledge, practice and innovation, student team activities, and many other elements have been integrated. It formed a combination\nof course and competition, promoting teaching, learning, ability training through competition, which has stimulated students' independent consciousness, enthusiasm, and innovation in learning, and promoted teachers' passion and enthusiasm for teaching reform."
        },
        {
            "heading": "5. Conclusion",
            "text": "In this paper, the self-balancing and autonomous tracking of bicycle is implemented by arranging reasonable mechanical structure, designing electronic circuits, cascade control algorithm, and debugging. This process includes almost all engineering design processes, which is a typical case of engineering education. Furthermore, through designing, debugging, and racing the smart car, we have also found many problems. First, the mechanical structure is very important. It can be implemented if it is only relatively slow and upright. However, with the acceleration of racing, a mechanical structure design that is not very reasonable can easily reach the upper limit and lose its advantage in racing. Secondly, in terms of electronic circuit design, because all circuit boards need to be designed by students themselves and then printed, the accuracy of circuit design determines the debugging efficiency of subsequent vehicles. If there is a problem, jumpers are often required to test several times to get a final good circuit board, which will greatly reduce the debugging efficiency. Thirdly, algorithm design requires a strong mathematical foundation and professional knowledge. It often needs a variety of methods and multiple tests to find a relatively reasonable algorithm, and its stability needs to be continuously improved in debugging. In a word, the technology required for smart car design is constantly improving, and the platform level is constantly improving. Since the establishment of the smart car competition platform, nearly 2,000 students have participated and won nearly 20 national awards and nearly 100 provincial awards, which greatly promoted the development of students\u2019 practical innovation activities, expanded the content and quality of teaching, and was effective. It promotes the development of students' practical and innovative activities and greatly improves students' enthusiasm for learning and extends their engineering ability.\nAcknowledgment\nThis work is supported by the Key Research Project of Undergraduate Teaching Reform in Shandong Province (Z2020062), Teaching Reform Research Project of SDBTU (11688201709 and 11688202065), Shandong Province professional degree graduate teaching case database project (SDYAL20209) and Shandong Province industry education integration graduate joint training demonstration base - new generation information technology industry education integration graduate joint training demonstration base.\nReferences\n[1] Q. Zhuo, ''Notice on Holding the 16th National College Students' Smart Car Competition'', 2021. [Online]. Available: https://blog.csdn.net/zhuoqingjoking97298/ article/details/107256496\n[2] Q. Zhuo, ''Racing Rules of the 16th National University Smart Car Competition'', 2021. [Online]. Available: h t tp s : / / zhuoq ing .b log .c sdn .ne t / a r t i c l e / details/110253008\n[3] Z. X.Wang et al., ''Development of Comprehensive Practical Ability of Computer Major Students Based on Smart-Car Race'', Experiment Science and Technology, vol. 16, no.6, pp. 117\u2012119, 2018.(in Chinese)\n[4] M. Kong and S. B. Lu, ''Reserch of Practical Teaching System Based on Smart Car Competition'', Journal of Hefei Normal University, vol. 32, no. 6, pp. 84\u201286, 2014. (in Chinese)\n[5] J.X. Sui et al., ''Construction and Practice of Discipline Competition System for Electrical Information Specialty'', China Electric Power, 2013, vol. 4, pp. 129\u2012131. (in Chinese)\n[6] E. Crawley et al., ''The CDIO Syllabus v2.0-An Updated Statement of Goals for Engineering Education'', in Proceedings of the 7th International CDIO Conference, 2011, pp. 20\u201223.\n[7] F. Edward et al., ''Rethinking Engineering Education: The CDIO Approach'', Springer, Germany, 2007. http://dx.doi.org/10.1007/978-3-319-05561-9\n[8] J. X. Sui et al., ''Exploration on Organizing College Students' Practical Innovation Competition Relying on Professional Associations'', Innovation and Entrepreneurship Education, vol. 4, no. 1, pp. 62\u201263, 2013. (in Chinese)\nIn the rough road, the bicycle device showed good anti-interference performance, as shown in Figure 19. Compared with the above, the overall operating state had little influence, and even when the device fell down, the device could recover upright through impulse if there was a large contact between the rear wheel and the ground, and the actual effect was higher than expected.\nFigure 19. Rolling angle of the bicycle in stable running under rough road."
        },
        {
            "heading": "4. Discussion",
            "text": "We introduce the design idea and debugging of self-balancing and controllable attitude bicycle. The bicycle model has good controllability and operability in the debugging process. Different physical models of traditional two-wheel balancing vehicles also adopt completely different control schemes, but cascade PID multi-stage simultaneous control of the same model algorithm can be used more ideally. It also proves the advantage of cascade PID in dealing with similar control models. This provides a feasible scheme for controlling more models. This model theory can be applied to the motion posture maintenance and adjustment of all non-uniform mass rigid joints and has profound application value.\nTaking the self-balancing and autonomous\ntracking control of bicycles introduced above as an example, from the whole design process of the smart car, we can see that students can obtain various knowledge and abilities, such as system modeling, mechanical design, electronic circuit design, sensor application, signal processing, algorithm design, computer programming, and\nothers. This covers a wide range of knowledge and involves many disciplines, and therefore, it can cultivate students' compound engineering experience. At the same time, the design and application of smart car are very extensive [14- 19]. In addition, it is a challenge for students to update the regulations of the track, group, and device every year. At the same time, it is also a very good platform for exercise and learning. Considering this, the rules of smart car competition are generally defined in November of the previous year and continue to be upheld from July to August of the next year. The preparation and design time of the competition is very long, it can give students enough time to explore and learn by themselves. Under the organization of the smart car community, the smart car school competition is organized every November. In May of the second year, teams are selected to participate in the provincial and national competitions of smart cars. As shown in Figure 20, the number of students participating in smart\ncars competition in our university since 2011\nhas covered 50% of the related majors, which\ngreatly supports the implementation of engineering education. Various technical salons, technical training, and technical exchanges are set up within the associations, which greatly enriches students' extracurricular activities. This experience cultivates students' comprehensive ability, improved their comprehensive quality.\nFigure 20. The number of students participating in smart cars competition.\nAfter 10 years of development, through the smart car competition platform, professional course knowledge, practice and innovation, student team activities, and many other elements have been integrated. It formed a combination\nof course and competition, promoting teaching, learning, ability training through competition, which has stimulated students' independent consciousness, enthusiasm, and innovation in learning, and promoted teachers' passion and enthusiasm for teaching reform."
        },
        {
            "heading": "5. Conclusion",
            "text": "In this paper, the self-balancing and autonomous tracking of bicycle is implemented by arranging reasonable mechanical structure, designing electronic circuits, cascade control algorithm, and debugging. This process includes almost all engineering design processes, which is a typical case of engineering education. Furthermore, through designing, debugging, and racing the smart car, we have also found many problems. First, the mechanical structure is very important. It can be implemented if it is only relatively slow and upright. However, with the acceleration of racing, a mechanical structure design that is not very reasonable can easily reach the upper limit and lose its advantage in racing. Secondly, in terms of electronic circuit design, because all circuit boards need to be designed by students themselves and then printed, the accuracy of circuit design determines the debugging efficiency of subsequent vehicles. If there is a problem, jumpers are often required to test several times to get a final good circuit board, which will greatly reduce the debugging efficiency. Thirdly, algorithm design requires a strong mathematical foundation and professional knowledge. It often needs a variety of methods and multiple tests to find a relatively reasonable algorithm, and its stability needs to be continuously improved in debugging. In a word, the technology required for smart car design is constantly improving, and the platform level is constantly improving. Since the establishment of the smart car competition platform, nearly 2,000 students have participated and won nearly 20 national awards and nearly 100 provincial awards, which greatly promoted the development of students\u2019 practical innovation activities, expanded the content and quality of teaching, and was effective. It promotes the development of students' practical and innovative activities and greatly improves students' enthusiasm for learning and extends their engineering ability."
        },
        {
            "heading": "Acknowledgment",
            "text": "This work is supported by the Key Research Project of Undergraduate Teaching Reform in Shandong Province (Z2020062), Teaching Reform Research Project of SDBTU (11688201709 and 11688202065), Shandong Province professional degree graduate teaching case database project (SDYAL20209) and Shandong Province industry education integration graduate joint training demonstration base - new generation information technology industry education integration graduate joint training demonstration base."
        }
    ],
    "title": "Design of Self-Balancing Tracing Bicycle for Smart Car Competition Case Under Engineering Education",
    "year": 2022
}