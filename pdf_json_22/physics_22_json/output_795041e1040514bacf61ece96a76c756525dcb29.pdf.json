{
    "abstractText": "The RD53B chip for HL-LHC upgrades of ATLAS and CMS pixel detectors needs to 14 provide reliable operation in a radiation hostile environment with inevitable Single Event Effects. 15 To answer the challenge, substantial efforts are made to protect and evaluate the critical parts of 16 digital logic with different TMR schemes and to characterize the on-chip CDR. Cross-section for 17 each TMR scheme and its effective SEE sensitivity are measured in several SEE campaigns. The 18 on-chip CDR is characterized by measuring the SEE-induced phase shifts of its output clocks and 19 their implication on the high-speed link stability. 20",
    "authors": [
        {
            "affiliations": [],
            "name": "J. Lalic"
        },
        {
            "affiliations": [],
            "name": "D. Fougeron"
        },
        {
            "affiliations": [],
            "name": "E. Madsen"
        },
        {
            "affiliations": [],
            "name": "D. Fougeron E. Madsen"
        },
        {
            "affiliations": [],
            "name": "E.R.A. Joly J. Christiansen"
        },
        {
            "affiliations": [],
            "name": "L. Flores Sanz"
        }
    ],
    "id": "SP:18bf1221b8429dec80e62c7b215cbe5dd2c4443c",
    "references": [
        {
            "authors": [
                "K. Moustakas"
            ],
            "title": "A Clock and Data Recovery Circuit for the ALTAS/CMS HL-LHC Pixel Front 138 End Chip in 65 nm CMOS",
            "year": 2019
        },
        {
            "authors": [
                "M. Menouni"
            ],
            "title": "Single event effects testing of the RD53B chip, Submitted to JPCS, (TIPP2021)",
            "year": 2021
        },
        {
            "authors": [
                "M. Daas"
            ],
            "title": "BDAQ53, a versatile pixel detector readout and test system for the ATLAS and CMS 141 HL-LHC upgrades",
            "venue": "NIM A",
            "year": 2021
        }
    ],
    "sections": [
        {
            "text": "Keywords: Particle detectors, Radiation-hard detectors21\n1Corresponding author.\nContents22\n1 Introduction 123\n2 RD53B design for soft error mitigation 124\n3 SEE sensitivity of the Aurora serialized data 225 3.1 Chip default operation mode and CDR-Bypass 226 3.2 Hit loss induced by the SET sensitivity of the high-speed data link 227\n4 Characterization of heavy-ion-induced transients in the 1.28 GHz clock 328 4.1 Setup with the 10.24 Gb/s signal oversampling 329 4.2 Results 430\n5 Conclusion 531\n1 Introduction32\nRD53 is a common design framework of final pixel readout chips for the ATLAS and CMS phase 233 upgrades developed in 65 nm CMOS technology. This framework aims at providing a fault tolerant34 system which meets stringent requirements of the HL-LHC environment and provides reliable35 functionality in its extreme radiation field. Besides having tolerance to immense total ionizing dose36 of 1 Grad, this field demands high redundancy to Single Event Effects (SEEs). Critical parts of its37 digital design are protected with different mitigation schemes to ensure reliable operation. Several38 heavy-ions and proton beam tests were performed to measure the efficiency of these protection39 techniques and to estimate a soft error rate in the final detector. During beam testing it has been40 seen that Single Event Transients (SET) can impact high-speed data link stability by causing several41 \u03bcs long dropouts which motivated more detailed studies. The on-chip Clock Data Recovery (CDR)42 circuit was characterized by capturing heavy-ion-induced error signatures in its high-speed clock43 which drives the output data link.44\n2 RD53B design for soft error mitigation45\nTheRD53B chip [1] is the pre-production chipwhichwill be followed by the final RD53Cproduction46 chip with submission planned in 2022. The pixel chips for ATLAS and CMS are two instances of47 a common design with different analog front-ends and pixel matrix sizes. However, all SEE results48 are valid for both chips since they have the same digital design and analog blocks in the periphery49 including the on-chip CDR. Design robustness for soft error mitigation depends on the target level50 of reliability on one side and acceptable power and area overheads on the other. RD53 objectives are51 minimization of the upset rate for critical information and signals, and the capability of immediate52\n\u2013 1 \u2013\nself-recovering in case of critical data corruption. This implies that the configuration memory, state53 machines, critical event data, look-up tables are all SEE robust. The on-chip CDR is SET hardened54 with triplicated clock divider, a bang-bang phase detector and an optimized voltage-controlled55 oscillator (VCO) [2]. As a means of having a small pixel size and staying within power dissipation56 constraints, the chip has different protection schemes for its pixel and global configuration memory57 which prevents soft errors at two different levels of efficiency [3]. In case chip operation is critically58 affected by SEEs, a Clear command is implemented for fast clear of data buffers and state machines.59\n3 SEE sensitivity of the Aurora serialized data60\nDuring beam campaigns, the 1.28Gbit/s readout links showed susceptibility to SEEswith temporary61 loss of synchronization with the DAQ receiver causing loss of multiple events. However, this62 behavior is not observed if the high-frequency clock driving the data link output is provided63 externally bypassing the on-chip CDR block.64\n3.1 Chip default operation mode and CDR-Bypass65\nFigure 1 shows clock generation inside the analog chip bottom and a simplified data flow. During66 chip default operation mode, the CDR block recovers 160 MHz reference clock from the received67 160 Mbit/s input command stream and generates a 1.28 GHz clock. This high-frequency clock68 drives up to 4 serializers, each providing a 1.28 Gbit/s output data stream on a corresponding data69 lane via a CML output driver. While characterizing performance of the pixel digital logic, when70 exposed to particle beam, it is beneficial to decouple its soft error rate from the CDR SET sensitivity.71 Thus, the chip features the possibility of enabling a so-called CDR-Bypass mode in which both72 reference and serializer clocks are provided externally by the DAQ system.73\n3.2 Hit loss induced by the SET sensitivity of the high-speed data link74\nPerformance of the digital chain for hit processing is evaluated by injecting digital hit pulses75 while irradiating device at a given flux and recording pixel matrix response. Hit data is acquired76 through the 1.28 Gbit/s serial link via Aurora Xilinx IP receiver on a Kintex7-based DAQ [4] board.77 Measurements with both heavy-ions and protons show that if the chip operates in the CDR-Bypass78\n\u2013 2 \u2013\nmodes, its data stream has high signal integrity with no stability issues induced by SETs. However,79 the same test sequence with on-chip CDR enabled, leads to loss of the synchronization state with80 the DAQ receiver due to clock cycle slipping. To measure hit loss caused by the SET sensitivity81 of the serializer clock, receiver volatility to phase shifts of the input stream is eliminated. This82 is achieved by disabling its sync state machine, thus all received bit-slipped headers are ignored83 without instantiating Aurora lane re-synchronization.84\nIn figure 2a, data bit-slip rate induced by 480 MeV protons is shown for multiple iterations of85 110 s long digital injection. If the proton beam is run at the at flux of 1.5 \u00d7 109 protonscm2\u00d7s , the average86 bit-slip rate is 3.13 s\u22121. With half the flux density, the bit-slip rate is 6.78 s\u22121. An example of87 an occupancy map when the digital injection is repeated 100 times per pixel is shown in figure 2b88 (RD53-ATLAS has 384 \u00d7 400 pixels). In the 480 MeV proton beam environment, hit loss induced89 by the data bit-slips can be up to 0.2%. This motivated further studies to determine the exact90 signature shape and duration of induced transients in the clock signal.91\n4 Characterization of heavy-ion-induced transients in the 1.28 GHz clock92\nTo address the problemof high-speed data link dropouts in heavy-ion and proton beamenvironments,93 transients in the clock signal driving this output are characterized. The experiment was carried94 out at the GANIL irradiation facility in France, using a Xenon beam with a LET of 27 MeV\u00d7cm2mg .95 Irradiation was done in the air at room temperature using the setup depicted in figure 3.96\n4.1 Setup with the 10.24 Gb/s signal oversampling97\nThe high-frequency on-chip CDR output clock used for serialization of Aurora data is first divided98 by two inside the chip analog bottom (SER_CLK/2) and routed to the CML output driver resulting in99 a 640 MHz frequency clock signal available for monitoring. Monitoring is done on an oscilloscope100 which triggers which triggers in case of a phase shift larger than 390.625 ps with respect to101 reference clock. The reference clock itself is provided by the DAQ board located outside the102 beam area. To acquire better timing resolution, an FPGA-based setup was developed using the103 KC705 Xilinx Evaluation Board to monitor the signal in parallel. This system is using a Xilinx104\n\u2013 3 \u2013\nGigabit Transciever (GTX) [5] to oversample the clock under test with a 10.24 Gbit/s sampling rate,105 providing 64 bits deserialized clock data at a 160 MHz word frequency. To enable oversampling106 inside the transceiver, it is necessary to lock its internal CDR to the reference clock. The best107 sampling performance is obtained by choosing Low Power Mode (LPM) equalizer and disabling its108 auto-adaptive filtering. This system incorporates a triggering mechanism on the clock pulse width109 deviation bigger than 97.65 ps, which is the resolution of the circuit.110\n4.2 Results111\nSignatures induced by the Xe beam can be grouped into two categories. In the first one, the112 clock signal has transient phase variation but other signal parameters, like frequency and amplitude,113 are transient free. An example event captured by the FPGA over-sampling is shown in figure 4a.114 All transients in this group have a duration of less than 18 \u03bcs and a clock phase shift of up to 5 ns.115 However, the second group of events shows that ion strikes can cause clock amplitude and biasing116 deviation. This further leads to a cumulative phase shift in the range from 50 to 700 clock cycles,117 as seen in figure 4b. All events in this group are longer than 20 \u03bcs which is the duration of saved118 waveforms. Event duration distribution is shown in figure 5 for two values of Xe beam flux and119\n\u2013 4 \u2013\nreached fluence. It can be concluded that transients longer that 20 \u03bcs, which are also characterized120 by the large phase shift and deviated signal, corresponds to a clear peak of the given distribution.121\n5 Conclusion122\nBy evaluating the RD53B design robustness against SEEs, it has been observed that heavy-ions123 and protons can induce high-speed data link dropouts limiting the reliability of the system. The124 susceptibility of the 1.28 GHz clock driving the data output to transient faults is successfully125 estimated by capturing its phase shifts with an oscilloscope and the proposed high-speed signal126 sampling inside the FPGA. Two groups of different SET signatures were detected. In cases where127 driver biasing and clock frequency are not affected, the phase shift is up to a few ns long. However,128 ions can cause clock signal deviation and lead to phase shifts of several hundred clock cycles. These129 shifts further lead to data link dropout and result in hit losses. The different nature of these events130 indicates that except for the CDR block itself, its biasing circuit may also be SET sensitive. Further131 assessment of the chip\u2019s biasing chain is being carried out with two-photon absorption pulsed laser132 testing. This study has already pinpointed sensitivity in the chip\u2019s bandgap as the cause of the long133 upsets. When finalized, the results will be documented in a separate publication.134\nReferences135\n[1] RD53 Collaboration, M. Garcia-Sciveres, F. Loddo and J. Christiansen, RD53B Manual, Tech. Rep.136 CERN-RD53-PUB-19-002, (2019).137\n[2] K. Moustakas, et al., A Clock and Data Recovery Circuit for the ALTAS/CMS HL-LHC Pixel Front138 End Chip in 65 nm CMOS Technology, PoS (TWEPP2019) 046.139\n[3] M. Menouni, et al., Single event effects testing of the RD53B chip, Submitted to JPCS, (TIPP2021).140\n[4] M. Daas et al., BDAQ53, a versatile pixel detector readout and test system for the ATLAS and CMS141 HL-LHC upgrades NIM A 986 (2021) 164721.142\n[5] Xilinx, UG476, 7 Series FPGAs GTX/GTH Transceivers User Guide, (2018).143\n\u2013 5 \u2013"
        }
    ],
    "title": "Single event effects on the RD53B pixel chip digital logic and on-chip CDR",
    "year": 2024
}