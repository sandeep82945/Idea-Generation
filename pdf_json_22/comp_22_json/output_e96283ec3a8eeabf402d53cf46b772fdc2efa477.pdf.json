{
    "abstractText": "Background: Explicit documentation of stage is an endorsed quality metric by the National Quality Forum. Clinical and pathological cancer staging is inconsistently recorded within clinical narratives but can be derived from text in the Electronic Health Record (EHR). To address this need, we developed a Natural Language Processing (NLP) solution for extraction of clinical and pathological TNM stages from the clinical notes in prostate cancer patients. Methods: Data for patients diagnosed with prostate cancer between 2010 and 2018 were collected from a tertiary care academic healthcare system\u2019s EHR records in the United States. This system is linked to the California Cancer Registry, and contains data on diagnosis, histology, cancer stage, treatment and outcomes. A randomly selected sample of patients were manually annotated for stage to establish the ground truth for training and validating the NLP methods. For each patient, a vector representation of clinical text (written in English) was used to train a machine learning model alongside a rule-based model and compared with the ground truth. Results: A total of 5,461 prostate cancer patients were identified in the clinical data warehouse and over 30% were missing stage information. Thirty-three to thirty-six percent of patients were missing a clinical stage and the models accurately imputed the stage in 21\u201332% of cases. Twenty-one percent had a missing pathological stage and using NLP 71% of missing T stages and 56% of missing N stages were imputed. For both clinical and pathological T and N stages, the rule-based NLP approach out-performed the ML approach with a minimum F1 score of 0.71 and 0.40, respectively. For clinical M stage the ML approach out-performed the rule-based model with a minimum F1 score of 0.79 and 0.88, respectively. Conclusions: We developed an NLP pipeline to successfully extract clinical and pathological staging information from clinical narratives. Our results can serve as a proof of concept for using NLP to augment clinical and pathological stage reporting in cancer registries and EHRs to enhance the secondary use of these data.",
    "authors": [
        {
            "affiliations": [],
            "name": "Selen Bozkurt"
        },
        {
            "affiliations": [],
            "name": "Christopher J. Magnani"
        },
        {
            "affiliations": [],
            "name": "Martin G. Seneviratne"
        },
        {
            "affiliations": [],
            "name": "James D. Brooks"
        },
        {
            "affiliations": [],
            "name": "Tina Hernandez-Boussard"
        }
    ],
    "id": "SP:0c016aec813016bcdf5db2a078048d0d8739f5c4",
    "references": [
        {
            "authors": [
                "MC Mason",
                "GJ Chang",
                "LA Petersen",
                "TH Sada",
                "HS Tran Cao",
                "C Chai"
            ],
            "title": "National quality forum colon cancer quality metric performance: how are hospitals measuring up",
            "venue": "Ann Surg",
            "year": 2003
        },
        {
            "authors": [
                "Blayney DW"
            ],
            "title": "Defining quality: QOPI is a start",
            "venue": "J Oncol Pract",
            "year": 2006
        },
        {
            "authors": [
                "AC Klassen",
                "F Culticlo",
                "N Kulldorff",
                "AJ Alberg",
                "EA Platz",
                "ST. Neloms"
            ],
            "title": "Missing stage and grade inMaryland prostate cancer surveillance data, 1992\u20131997.Am",
            "venue": "J Prev Med",
            "year": 2006
        },
        {
            "authors": [
                "TL Hoskin",
                "JC Boughey",
                "CN Day",
                "EB. Habermann"
            ],
            "title": "Lessons learned regarding missing clinical stage in the national cancer database",
            "venue": "Ann Surg Oncol",
            "year": 2019
        },
        {
            "authors": [
                "M Cecchini",
                "K Framski",
                "P Lazette",
                "T Vega",
                "M Strait",
                "K. Adelson"
            ],
            "title": "Electronic intervention to improve structured cancer stage data capture",
            "venue": "J Oncol Pract",
            "year": 2016
        },
        {
            "authors": [
                "DX Yang",
                "R Khera",
                "JA Miccio",
                "V Jairam",
                "E Chang",
                "BY James"
            ],
            "title": "Prevalence of missing data in the National Cancer Database and association with overall survival",
            "venue": "JAMA Netw Open",
            "year": 2022
        },
        {
            "authors": [
                "SA Fletcher",
                "N von Landenberg",
                "AP Cole",
                "P Gild",
                "TK Choueiri",
                "SR Lipsitz"
            ],
            "title": "Contemporary national trends in prostate cancer risk profile at diagnosis",
            "venue": "Prostate Cancer Prostatic Dis",
            "year": 2020
        },
        {
            "authors": [
                "M S\u00f8gaard",
                "M. Olsen"
            ],
            "title": "Quality of cancer registry data: completeness of TNM staging and potential implications",
            "venue": "Clin Epidemiol",
            "year": 2012
        },
        {
            "authors": [
                "TL Evans",
                "PE Gabriel",
                "LN. Shulman"
            ],
            "title": "Cancer staging in electronic health records: strategies to improve documentation of these critical data",
            "venue": "J Oncol Pract",
            "year": 2015
        },
        {
            "authors": [
                "IA McCowan",
                "DC Moore",
                "AN Nguyen",
                "RV Bowman",
                "BE Clarke",
                "EE Duhig"
            ],
            "title": "Collection of cancer stage data by classifying free-text medical reports",
            "venue": "J Am Med Inform Assoc",
            "year": 2007
        },
        {
            "authors": [
                "JL Warner",
                "MA Levy",
                "MN. Neuss"
            ],
            "title": "ReCAP: feasibility and accuracy of extracting cancer stage information from narrative electronic health record data",
            "venue": "J Oncol Pract. (2016) 12:157\u20138.e169\u20137. doi:",
            "year": 2016
        },
        {
            "authors": [
                "WL Liu",
                "S Kasl",
                "JT Flannery",
                "A Lindo",
                "R. Dubrow"
            ],
            "title": "The accuracy of prostatecancer staging in a population-based tumor registry and its impact on the black-white stage difference (Connecticut, United-States)",
            "venue": "Cancer Causes Control",
            "year": 1995
        },
        {
            "authors": [
                "KD Faber",
                "M Carlos",
                "VK Cortessis",
                "S. Daneshmand"
            ],
            "title": "Validation of surveillance, epidemiology, and end results TNM staging for testicular germ cell tumor",
            "venue": "Urol Oncol",
            "year": 2014
        },
        {
            "authors": [
                "JW Coebergh",
                "C van den Hurk",
                "S Rosso",
                "H Comber",
                "H Storm",
                "R Zanetti"
            ],
            "title": "EUROCOURSE lessons learned from and for population-based cancer registries in Europe and their programme owners: improving performance by research programming for public health and clinical evaluation",
            "venue": "Eur J Cancer",
            "year": 2015
        },
        {
            "authors": [
                "JR Black",
                "RL Hulkower",
                "T. Ramanathan"
            ],
            "title": "Health information blocking: responses under the 21st century cures act",
            "venue": "Public Health Rep",
            "year": 2018
        },
        {
            "authors": [
                "Edge SB",
                "Compton CC"
            ],
            "title": "The American Joint Committee on Cancer: the 7th Edition of the AJCC cancer staging manual and the future of TNM",
            "venue": "Ann Surg Oncol",
            "year": 2010
        },
        {
            "authors": [
                "MG Seneviratne",
                "T Seto",
                "DW Blayney",
                "JD Brooks",
                "T. Hernandez-Boussard"
            ],
            "title": "Architecture and implementation of a clinical research data warehouse for prostate cancer",
            "venue": "EGEMS",
            "year": 2018
        },
        {
            "authors": [
                "S Bozkurt",
                "JI Park",
                "KM Kan",
                "M Ferrari",
                "DL Rubin",
                "JD Brooks"
            ],
            "title": "An automated feature engineering for digital rectal examination documentation using natural language processing",
            "venue": "AMIA Annual Symposium Proceedings,",
            "year": 2018
        },
        {
            "authors": [
                "WW Chapman",
                "D Chu",
                "JN. Dowling"
            ],
            "title": "ConText: an algorithm for identifying contextual features from clinical text",
            "venue": "Assoc Comput Ling",
            "year": 2007
        },
        {
            "authors": [
                "T Mikolov",
                "I Sutskever",
                "K Chen",
                "GS Corrado",
                "J. Dean"
            ],
            "title": "Distributed representations of words and phrases and their compositionality",
            "venue": "Advances in Neural Information Processing Systems",
            "year": 2013
        },
        {
            "authors": [
                "J Coquet",
                "S Bozkurt",
                "KM Kan",
                "MK Ferrari",
                "DW Blayney",
                "JD Brooks"
            ],
            "title": "Comparison of orthogonal NLP methods for clinical phenotyping and assessment of bone scan utilization among prostate cancer patients",
            "venue": "J Biomed Inform",
            "year": 2019
        },
        {
            "authors": [
                "I Banerjee",
                "S Bozkurt",
                "E Alkim",
                "H Sagreiya",
                "AW Kurian",
                "DL. Rubin"
            ],
            "title": "Automatic inference of BI-RADS final assessment categories from narrative mammography report findings",
            "venue": "J Biomed Inform",
            "year": 2019
        },
        {
            "authors": [
                "Y Lu",
                "BE Jackson",
                "AW Gehr",
                "D Cross",
                "L Neerukonda",
                "B Tanna"
            ],
            "title": "Affordable Care Act and cancer stage at diagnosis in an underserved population",
            "venue": "Prev Med",
            "year": 2019
        },
        {
            "authors": [
                "CJ Magnani",
                "N Bievre",
                "LC Baker",
                "JD Brooks",
                "DW Blayney",
                "T. HernandezBoussard"
            ],
            "title": "Real-world evidence to estimate prostate cancer costs for firstline treatment or active surveillance",
            "venue": "Eur Urol Open Sci",
            "year": 2021
        },
        {
            "authors": [
                "CJ Magnani",
                "K Li",
                "T Seto",
                "KM McDonald",
                "DW Blayney",
                "JD Brooks"
            ],
            "title": "PSA testing use and prostate cancer diagnostic stage after the 2012U.S. preventive services task force guideline changes",
            "venue": "J Natl Compr Canc Netw",
            "year": 2018
        },
        {
            "authors": [
                "RT Sutton",
                "D Pincock",
                "DC Baumgart",
                "DC Sadowski",
                "RN Fedorak",
                "KI. Kroeker"
            ],
            "title": "An overview of clinical decision support systems: benefits, risks, and strategies for success",
            "venue": "NPJ Digit Med",
            "year": 2020
        },
        {
            "authors": [
                "AK AAlAbdulsalam",
                "JH Garvin",
                "A Redd",
                "ME Carter",
                "C Sweeny",
                "SM. Meystre"
            ],
            "title": "Automated extraction and classification of cancer stage mentions fromunstructured text fields in a central cancer",
            "year": 2018
        },
        {
            "authors": [
                "AY Odisho",
                "M Bridge",
                "M Webb",
                "N Ameli",
                "RS Eapen",
                "F Stauf"
            ],
            "title": "Automating the capture of structured pathology data for prostate cancer clinical care and research",
            "venue": "Jco Clinical Cancer Informatics",
            "year": 2019
        },
        {
            "authors": [
                "I McCowan",
                "D Moore",
                "MJ. Fry"
            ],
            "title": "Classification of cancer stage from freetext histology reports",
            "venue": "Conf Proc IEEE Eng Med Biol Soc",
            "year": 2006
        },
        {
            "authors": [
                "SR Leyh-Bannurah",
                "Z Tian",
                "PI Karakiewicz",
                "U Wolffgang",
                "G Sauter",
                "M Fisch"
            ],
            "title": "Deep learning for natural language processing in urology: state-ofthe-art automated extraction of detailed pathologic prostate cancer data from narratively written electronic health records",
            "venue": "JCO Clin Cancer Inform",
            "year": 2018
        },
        {
            "authors": [
                "BJ Kim",
                "M Merchant",
                "C Zheng",
                "AA Thomas",
                "R Contreras"
            ],
            "title": "A natural language processing program effectively extracts key pathologic findings from radical prostatectomy reports",
            "venue": "J Endourol",
            "year": 2014
        },
        {
            "authors": [
                "AN Nguyen",
                "MJ Lawley",
                "DP Hansen",
                "RV Bowman",
                "BE Clarke",
                "EE Duhig"
            ],
            "title": "Symbolic rule-based classification of lung cancer stages from free-text pathology reports",
            "venue": "J Am Med Inform Assoc",
            "year": 2010
        },
        {
            "authors": [
                "F Gaylis",
                "R Nasseri",
                "S Swift",
                "S Levy",
                "R Prime",
                "U Dijeh"
            ],
            "title": "Leveraging the electronic medical record improves prostate cancer clinical staging in a community urology practice",
            "venue": "Urol Pract",
            "year": 2020
        },
        {
            "authors": [
                "S Velupillai",
                "H Suominen",
                "M Liakata",
                "A Roberts",
                "AD Shah",
                "K Morley"
            ],
            "title": "Using clinical Natural Language Processing for health outcomes research: overview and actionable suggestions for future advances",
            "venue": "J Biomed Inform",
            "year": 2018
        }
    ],
    "sections": [
        {
            "text": "ORIGINAL RESEARCH published: 02 June 2022\ndoi: 10.3389/fdgth.2022.793316\nFrontiers in Digital Health | www.frontiersin.org 1 June 2022 | Volume 4 | Article 793316\nEdited by: Patrick Ruch,\nGeneva School of Business Administration, Switzerland\nReviewed by:\nVasiliki Foufi,\nConsultant, Geneva, Switzerland\nTyler John Loftus,\nUniversity of Florida, United States\n*Correspondence: Tina Hernandez-Boussard\nboussard@stanford.edu\nSpecialty section:\nThis article was submitted to\nHealth Informatics, a section of the journal Frontiers in Digital Health\nReceived: 11 October 2021\nAccepted: 12 May 2022 Published: 02 June 2022\nCitation:\nBozkurt S, Magnani CJ,\nSeneviratne MG, Brooks JD and\nHernandez-Boussard T (2022) Expanding the Secondary Use of\nProstate Cancer Real World Data: Automated Classifiers for Clinical and\nPathological Stage.\nFront. Digit. Health 4:793316. doi: 10.3389/fdgth.2022.793316\nExpanding the Secondary Use of Prostate Cancer Real World Data: Automated Classifiers for Clinical and Pathological Stage\nSelen Bozkurt 1, Christopher J. Magnani 2, Martin G. Seneviratne 1, James D. Brooks 2 and Tina Hernandez-Boussard 1,3*\n1Department of Medicine (Biomedical Informatics), Stanford University, Stanford, CA, United States, 2 School of Medicine, Stanford University, Stanford, CA, United States, 3Department of Biomedical Data Sciences, Stanford University, Stanford, CA, United States\nBackground: Explicit documentation of stage is an endorsed quality metric by the\nNational Quality Forum. Clinical and pathological cancer staging is inconsistently\nrecorded within clinical narratives but can be derived from text in the Electronic Health\nRecord (EHR). To address this need, we developed a Natural Language Processing (NLP)\nsolution for extraction of clinical and pathological TNM stages from the clinical notes in\nprostate cancer patients.\nMethods: Data for patients diagnosed with prostate cancer between 2010 and 2018\nwere collected from a tertiary care academic healthcare system\u2019s EHR records in the\nUnited States. This system is linked to the California Cancer Registry, and contains data\non diagnosis, histology, cancer stage, treatment and outcomes. A randomly selected\nsample of patients were manually annotated for stage to establish the ground truth for\ntraining and validating the NLP methods. For each patient, a vector representation of\nclinical text (written in English) was used to train a machine learning model alongside a\nrule-based model and compared with the ground truth.\nResults: A total of 5,461 prostate cancer patients were identified in the clinical data\nwarehouse and over 30% were missing stage information. Thirty-three to thirty-six\npercent of patients were missing a clinical stage and the models accurately imputed\nthe stage in 21\u201332% of cases. Twenty-one percent had a missing pathological stage and\nusing NLP 71% of missing T stages and 56% of missing N stages were imputed. For both\nclinical and pathological T and N stages, the rule-based NLP approach out-performed\nthe ML approach with a minimum F1 score of 0.71 and 0.40, respectively. For clinical M\nstage the ML approach out-performed the rule-based model with a minimum F1 score\nof 0.79 and 0.88, respectively.\nConclusions: We developed an NLP pipeline to successfully extract clinical and\npathological staging information from clinical narratives. Our results can serve as a proof\nof concept for using NLP to augment clinical and pathological stage reporting in cancer\nregistries and EHRs to enhance the secondary use of these data.\nKeywords: prostate cancer, TNM stage, natural language processing, machine learning, stage"
        },
        {
            "heading": "INTRODUCTION",
            "text": "Prostate cancer is the most common solid-organ malignancy in men, with over 160,000 new cases expected in the United States in 2020 (1). Cancer care for these men can be complicated, costly, and fragmented. Patients often need to navigate across multiple providers, settings of care, and levels of complex treatment regimens and cancer stage is critical in guiding prognosis and treatment options. Explicit documentation of cancer stage within a patient\u2019s health record is a quality metric endorsed by the National Quality Forum and the Quality Oncology Practice Initiative (QOPI) by the American Society for Clinical Oncology (ASCO) (2, 3).\nWhile critical to support evidence-based patient care, patients\u2019 medical records and cancer registries are often missing or have inaccurate staging information (4\u20136). Stage information is missing from 10 to 50% of patient records in cancer registries likely because of absent documentation of explicit stage in patients\u2019 medical records (7\u20139). However, the data used to derive cancer stage is often recorded in unstructured text within the electronic health records (EHR). While the unstructured data provides clinicians opportunities to elaborate on the patient\u2019s clinical and/or pathological stage, information found within the unstructured text make it less accessible for secondary use (10\u201312). Furthermore, when stage is documented only as unstructured text, it requires labor-intensive manual abstraction by trained registrars to obtain the information from patient medical records, which is both costly and prone to error (13\u2013 15). In addition, the requirement for manual review results in significant delays between the point of care and registry updates.\nMissing stage information substantially constrains the secondary use of these real-world data sources since these cases must be excluded from any analysis, threatening generalizability. The availability of stage across a greater percentage of registry patients could improve capture of population-level distributions across an entire EHR population and allow data synchronization across different institutions and data ecosystems. Automated stage extraction could also reduce costs associated with manual extraction currently used to populate local, state and national registries. Automated stage extraction from EHRs could benefit patient care by sharing accurate diagnostic data across treating institutions or by improving performance of clinical decision-support tools designed to recommend evidence-based treatments. The 21st Century Cures Act encourage incorporating real-world data sources, such as that extracted from the EHR, into clinical assertions (10, 16, 17). Therefore, there is an urgent need for the adoption of advanced informatics methodologies such as machine learning (ML) and natural language processing (NLP) to unlock the information embedded within free clinical text of the EHR. Few previous works have addressed prostate cancer stage extraction from clinical text (11, 12). An important limitation\nof stage extraction models developed to date is their focus on specific TNM staging patterns such as \u201cpT1N2M0.\u201d In particular, such models only consider single occurrences of these patterns and do not learn from the context around those specific expressions. In the real-world, descriptions of stage information\nmay be complicated (see below). For such examples, simple pattern matching based feature selection would not be sufficient as the information needed for staging is embedded into free text.\nFree text System output [the results] are positive for metastatic disease and show extracapsular extension M1 [stage was] previous erroneously reported as pt4 but staging in this case is pt2c for bilateral disease with positive right apical margin T2C No lymph node involvement was noted N0 seminal vesicles invasion T3 lymph nodes are suggestive of malignant involvement N1\nIn this study, we develop and evaluate an NLP framework to extract clinical and pathological stage from the free-text clinical narratives of prostate cancer patients at a tertiary academic medical center. We then tested whether this approach could augment stage information within a regional cancer registry. Our approach could serve as a framework for wider use of NLP for real-world data and guide strategies for automated stage extraction from unstructured clinical text."
        },
        {
            "heading": "METHODS",
            "text": "An overall schema\u2217 of the study design is illustrated in Supplementary Material 1."
        },
        {
            "heading": "Dataset",
            "text": "Data were collected from a prostate cancer Clinical Data Warehouse (CDW), which is described in detail elsewhere (18). In brief, data were collected from a tertiary care academic healthcare system\u2019s EHR records (Epic Systems, Verona, Wisconsin, USA) that were linked to the California Cancer Registry, which contains data on diagnosis, histology, cancer stage, treatment and outcomes. The stage information in our CDW was collected from three sources: (1) the hospital cancer registry, (2) structured staging fields in the EHR system, (3) the California Cancer Registry (CCR). Stage was assigned as \u201cmissing\u201d if it was not present in any of these sources."
        },
        {
            "heading": "Cohort Selection",
            "text": "We identified patients diagnosed with prostate cancer between 2010 and 2018. We excluded patients with less than two encounters recorded in the EHR, without visits to urology or oncology clinics, those missing a recorded first line of treatment, or who were older than 90-years (Figure 1)."
        },
        {
            "heading": "Manual Annotations",
            "text": "Among the 5,461 patients with prostate cancer, we randomly selected 2,400 patients (1,200 for clinical staging; 1,200 for pathological staging) to establish a set with known staging status (ground truth) to be used for training and validating the NLP methods. Staging information was abstracted from patients\u2019 clinical narratives, pathology and radiology reports via chart review by both a trained nurse and clinical fellow. Only operative reports, history and physical notes, discharge/transfer summaries, and progress noteswere used to abstract clinical stage.\nFrontiers in Digital Health | www.frontiersin.org 2 June 2022 | Volume 4 | Article 793316\nFIGURE 1 | Cohort selection diagram.\nFor pathological stage, only pathology reports, history and physical notes, and progress notes were used. Patient-level agreement between annotators across was calculated using Cohen\u2019s kappa agreement score. We also calculated the agreement between manual annotations by our annotators and the data collected from our cancer registry."
        },
        {
            "heading": "Main Outcomes",
            "text": "Clinical and pathological stage was assigned for the primary tumor in the prostate, whether there were lymph node, and distant metastasis (TNM) in accord with the American Joint Committee on Cancer (AJCC, 7th edition) recommendations, the most widely used cancer staging system (17). There were seven classification labels used across clinical and pathological staging. The distribution of T stage categories were substantially unbalanced therefore each stage was dichotomized into a binary classification task: clinical T stage (1\u20132 and 3\u20134), clinical N stage (0 and 1), clinical M stage (0 and 1), pathological T stage (2 and 3\u20134) and pathological N stage (0 and 1)."
        },
        {
            "heading": "Natural Language Processing Pipeline",
            "text": "The NLP pipeline consisted of a set of subtasks outlined in Figure 2 and is described in further detail below. For the\nclassification task, two alternate approaches were compared: (1) rule-based and (2) semi-supervised machine learning."
        },
        {
            "heading": "Knowledge Base",
            "text": "In order to capture a broad vocabulary used for cancer staging, we extended the TNM terminology with two complementary dictionaries: (1) the target term list (n= 156), curated by clinical experts and additional terms primarily captured through a semisupervised trained dictionary analysis of clinical notes in the CDW that we describe elsewhere (19), and (2) the modifier list, a publicly available set of modifier terms that includes terms related to negations, temporality, and discussion (20)."
        },
        {
            "heading": "Pre-processing",
            "text": "All clinical notes were pre-processed using basic text cleaning steps, implemented using the NLTK library. Preprocessing was initiated with sentence boundary detection and tokenization, then all punctuation characters and words <2 letters were removed. Integer and floating-point numbers were converted to a corresponding string representation. After pre-processing, all reports for a given patient were ordered by date and concatenated.\nFrontiers in Digital Health | www.frontiersin.org 3 June 2022 | Volume 4 | Article 793316\nFIGURE 2 | NLP pipelines."
        },
        {
            "heading": "Rule-Based Approaches",
            "text": "Firstly, all related clinical terms were identified using staging guidelines from the American Joint Committee on Cancer (AJCC, 7th edition) and our expert urologists\u2019 recommendations. These clinical terms were used as the target terms by the rulebased algorithm. Those target terms are often modified by several contextual properties relevant to our information extraction task; ConText (20) identifies three contextual values\u2014hypothetical, historical, and experiencer\u2014in addition to negation via NegEx. We implemented ConText within the NLP system to determine whether a stage entity is negated and its temporal status."
        },
        {
            "heading": "Machine Learning Models",
            "text": "We used the keywords-based document-level vector representations of the text to train a classifier against the T, N, and M stage labels from the manually annotated set. The preprocessed clinical notes from the training set were used to create vector embeddings for words in a completely unsupervised manner using the word2vec model (21). For word2vec training, we used the skip-grammodel with vector length 100 and window width 5, and default settings for all other parameters as we reported related experiments in our previous paper (22). We then searched for keywords in each report and, if a match was found, we defined its context as the sentence where the term was found (23). The context\u2019s vector was then computed by averaging its constituent word vectors using the pretrained word2vec embeddings. Using the vector representation of text for each patient, we used support vector machines (SVM) as a binary classifier. We used random hyperparameter search to find optimal inputs to the classifiers with F1-score as the target metric."
        },
        {
            "heading": "Model Evaluation",
            "text": "We compared NLP pipeline results with the manual chart review values using the 1,200 patients random sample, collecting true positives (TP), true negatives (TN), false positives (FP), and false negatives (FN). Pipeline performance was evaluated in terms of precision, recall, and F1-score. An 80/20% split was used between training/test sets, and 5-fold cross validation was applied."
        },
        {
            "heading": "Clinical Utility Evaluation",
            "text": "To evaluate pipeline utility, we targeted missing staging information in the remaining 4,261 patients whose records were not included in the manually annotated gold standard set. Using these records as an input, we evaluated the results of the NLP pipeline in terms of percentage of missing stages imputed."
        },
        {
            "heading": "RESULTS",
            "text": ""
        },
        {
            "heading": "Patient Characteristics",
            "text": "There were 5,461 prostate cancer patients in our cohort who received first line therapies at our center (Table 1). Median age at diagnosis was 67 (35\u201390). The majority (70%) of patients were non-Hispanic white, and more than half (58%) were insured by Medicare.\nBased on data fields that were populated in the CDW, clinical stage was predominantly T1 (44%), N0 (61%) and M0 (62%). Similarly, the most common pathological stage was T2 (51%) and N0 (75%). Since pathological stage is assigned only for patients with localized prostate cancer who undergo radical prostatectomy, fewer than ten patients had a pathological M stage of 1, so these were excluded from the analysis. For clinical staging, 33% of T, 30% of N and 33% of M staging fields were missing in the EHR. For pathological staging, 19% of T and 22% of N staging\nFrontiers in Digital Health | www.frontiersin.org 4 June 2022 | Volume 4 | Article 793316\ninformation was missing from the EHR. For the period of 2010\u2013 2019, the highest proportion (42%) of cases with missing staging information were in 2018, the most recent eligible year."
        },
        {
            "heading": "Model Evaluation Results",
            "text": "Inter-rater agreement (kappa coefficient) between the two reviewers for the manual chart review of 1,200 patients was 0.85 for clinical staging and 0.95 for pathological staging.\nThe rule-basedmodel outperformed theMLmodel for clinical T and N staging with F1-scores over 0.71 (see Table 2). However, ML models achieved better results for clinical M stage than the rule-based model, with an F1-score of 0.98 for M0 and 0.88 for M1. For pathological T stage classification, both models achieved similar results with F1-scores over 0.85 except for classification of N1 stage, as the ML model failed to correctly classify N1 cases while the rule-based model reached F1-score of 0.88."
        },
        {
            "heading": "Augmentation of Clinical and Pathological Stage in the Clinical Data Warehouse (CDW)",
            "text": "We compared clinical and pathological stage between the ground truth (manual chart review) and the CDW, N = 1,200. Clinical T\nstage showed low agreement (Kappa Score 0.64) and pathological T and N stages showed excellent agreement (Kappa score 0.98). For clinical stage, a main cause of disagreement was the documentation of pathological stage instead of clinical stage when there is a pathological stage available for the same patient. Another source of disagreement was ambiguous documentation of staging such as \u201che has t3a prostate cancer\u201d or \u201cstage 1 prostate cancer,\u201d as it is unclear if this is clinical or pathological stage. We further evaluated the agreement of the NLP model with structured cancer registry data in the CDW for the remaining cases not used for model training and testing. Agreement for clinical T, N and M stages were 0.64, 0.78, 0.86, respectively and agreement for pathological T and N stages were 0.84, 0.83, respectively. Agreement for clinical N and M stages was not calculated due to the small number of cases in both data sources.\nTo further quantify the performance of the NLP models, we evaluated the top performing model\u2019s ability to impute missing CDW stage information (Table 3). The CDW is missing stage information for over 20% of patients. The NLP model imputed clinical T, N, and M stage category in 24, 21, and 32% of the missing records, respectively. For pathological staging, the NLP model imputed 71% of missing T stages and 56% of missing N stages. In total, the NLP model extracted 30% (1,882/6,306) of missing clinical and pathological stages in the CDW from clinical notes."
        },
        {
            "heading": "DISCUSSION",
            "text": "Cancer stage is a critical piece of information underpinning prognosis and treatment decisions for cancer patients, yet it is often not readily available within real-world data. Using a clinical data warehouse at a comprehensive cancer that linked EHRs with cancer registry data, we found that the discrete documentation of clinical and pathological stage was missing for over one-third of prostate cancer patients. This level of missing data significantly impairs clinical work flow and the secondary use of these real-world data sources, motivating the development of an NLP pipeline to identify and extract both clinical and pathological stages from clinical narratives in the EHR. The NLP models achieved excellent performance for both clinical and pathological stage information, with rulebased methods consistently outperforming machine learning models. Furthermore, the pipeline was able to augment staging documentation missing in the CDW. This approach can be applied to any healthcare system\u2019s prostate cancer patient population to enhance staging documentation and secondary EHR use.\nWith incentives provided under the Affordable Care Act, the secondary use of EHRs has increased dramatically (24). EHRs were developed for billing purposes and are designed to act as central repositories of structured data such as laboratory values and house unstructured data such as physician notes. EHRs also provide opportunities for secondary uses including identification of patients for clinical trial enrollment, conducting pragmatic clinical trials, carrying out post-market surveillance, monitoring and improving adherence to clinical guidelines, cost analyses\nFrontiers in Digital Health | www.frontiersin.org 5 June 2022 | Volume 4 | Article 793316\nand population-based studies (19, 22, 25, 26). Furthermore, emerging evidence suggests that clinical care could be improved through EHR-based automated decision-making aides and risk calculators to facilitate personalized care at the bedside (27). However, despite these opportunities some of the most essential metrics to define patient care, such as cancer staging, is often not easily accessible in the EHRs as a discrete field (18, 19). Rather, clinical and pathological staging information is distributed across diverse types of clinical notes, such as the physical examination, treatment plans, or pathology and radiology reports, requiring NLP solutions to accommodate diverse data sources. Beyond decision support, accurate staging data are essential for clinical trial recruitment and population-wide studies. Hence, robust NLP methods are needed to collect complete and accurate stage information.\nThe models we develop are unique in extracting both clinical and pathological stage, allowing the capture of missing staging data from the entire spectrum of prostate cancer patients to enable robust secondary analyses. Pathological stage is better recorded in the EHRs and often available with smart text phrases in the unstructured data, providing opportunities for NLP approached. Hence, most of the recent studies, used NLP models specifically for prostate cancer stage extraction from clinical narratives, have exclusively focused on extracting pathological stage (12, 28\u201333). Since pathological stage is limited to those patients undergoing surgical removal of the prostate (radical prostatectomy), these studies fail to capture staging information for prostate cancer patients receiving alternative treatments, such as radiation therapy, hormonal therapy, chemotherapy or active surveillance. However, clinical and pathological stage provide separate information necessary for clinicians to classify prostate cancer patients (34). In this study, both clinical and pathological stages information were extracted form clinical narratives, however, the NLP models were less accurate in assigning clinical T andN stages compared to pathological stages. Clinical staging can be difficult to accurately capture manually, since it involves parsing physical examination features such as findings on prostate physical examination and interpretation of subtle findings on imaging studies (34). This challenge was highlighted by the relatively low agreement (k = 0.64) in clinical T stage assignment between the records manually labeled by clinical experts and the cancer registry. Common reasons for mis-assignment of stage in the cancer registry included assignment of pathological stage to the clinical stage\nFrontiers in Digital Health | www.frontiersin.org 6 June 2022 | Volume 4 | Article 793316\nfield or ambiguous stage information in the clinical notes such as assignment of different clinical stages across the clinical notes.\nTo improve the impact and utility of clinical NLP tasks, it is important that applications are developed at the patient-level, which can be challenging because this requires the synthesis of information in clinical narrative text from the sentence-level to the document-level to the patient-level. Another common limitation of previous staging algorithms is that they usually identify stage at the sub-document (e.g., sentence) or document level (35). In contrast to previous work, the NLP methods in this study extract stage at the patient level. While this is more meaningful for clinical care and population studies, it requires the model to successfully distinguish longitudinal information from competing reports. Using a rule-based and semi-supervised ML approach, we achieved promising results that build upon and expand previous studies. To the authors\u2019 knowledge, this study is the first to report both clinical and pathological stage at the patient level using all the clinical notes from the first diagnosis to treatment.\nIn this study, the rule-based classifier showed superior performance metrics for clinical and pathological T and N stages compare to the ML approach. However, for clinical M stage extraction, we demonstrate superior performance using a semisupervised ML approach, in contrast to recent studies which predominantly use rule-based approaches for all types of stage extraction (12, 28\u201333). ML methods can have several advantages over rule-based approaches in terms of generalizability and may be successfully applied across different stage types (clinical and pathological), that are typically derived from different kinds of reports where the structure of text varies. While a rulebased approach may require a domain-specific dictionary which can be site-specific, a ML approach applies learning techniques that are not specific to a practice or healthcare setting. The performance of ML models may be limited by variability in the textual descriptions of tumor size and lymph node metastases, which is the key factor determining T and N stages, respectively. Extracting T andN stages proved to bemore challenging withML model, and further work using larger and more diverse training and test sets is warranted.\nThe use of sophisticated machine learning (ML) tools and techniques utilizing artificial intelligence with the enormous amount of data available in the modern EHR provides new opportunities to improve efficiency of secondary use of EHR and consequently clinical outcome analysis. While recent studies provide specific examples that demonstrate a proof of concept that NLP techniques have tremendous benefit to capture key information from clinical text, to our knowledge there is no previous scalable evidence showing a clinical utility assessment of these studies. Not only do we compare results with the \u201cgold standard\u201d of manual annotations in the typical test environment for assessing model development, we also uniquely report results from a real-world clinical application to impute missing stage information in our cancer registry records. The pipeline improved missing stage information in the CDW from 32% missing to only 22% (recovering\n21\u201371% of missing values). These results suggest that NLPextracted data provides an avenue for recovering data missing in the EHR or cancer registries, generating a structured item available to the scientific research community as well as a potential input to real-time clinical decision aides and risk calculators.\nImportantly, recent literature has highlighted important differences in clinical documentation by patient demographics (34). A recent study highlighted that Black patients had significantly fewer notes compared to non-Hispanic Whites. The impact of such differences can affect the reliability of NLPmodels across populations. Future research regarding the sentiment, frequency, and quality of notes associated with staging is needed to better understand model reliability.\nThis study has limitations. First, the patient cohort consists mostly of early stage cancer patients, reflective of the distribution of prostate cancer diagnoses in the US, and this could impact the classification tasks due to these class imbalances in the dataset, especially between N0 and N1. Although the staging distribution in the cohort was skewed, it is one of the largest real-world prostate cancer cohorts studied to date. Second, the NLP models were created and validated from a single institution which may limit generalizability. While it is possible that characteristics of the local patient population or clinical practice preferences play a role, the clinical terms used in the algorithms will be disseminated in a public repository (i.e., GitHub) and were vetted by multiple clinicians and urological nurses. Nevertheless, future work is needed to test the models in other healthcare systems to assess generalizability. Importantly, future directions should include benchmarking our model against\u2217 other baseline models, such as https://github.com/ ClarityNLP/ClarityNLP/blob/master/docs/developer_guide/ algorithms/tnm_stage_finder.rst. Finally, the methods developed show excellent performance characteristics, but are not error free, since there were some disagreements between the imputed stage and manually annotated records. However, the error rates in stage assignment by the models is comparable or better than that observed in cancer registries where recorded stages are compared with those reviewed by an expert panel (13). Despite these limitations, this work advances the knowledge of automated cancer stage extraction from clinical narratives."
        },
        {
            "heading": "CONCLUSION AND FUTURE WORK",
            "text": "Cancer stage is critical for determining prognosis and treatment options in newly diagnosed cancer patients; however, it is not routinely captured as structured data, but is often only available in free text clinical reports within the EHR. To facilitate the expanded use of these real-world data, advanced methods are needed to extract relevant data features from EHR. This study demonstrates that the automated extraction of TNM stage information using NLP and ML approaches achieved high accuracy, at levels comparable with manual chart review by clinical experts, and successfully improved the level of missing values in a cancer registry. This work provides a basis for\nFrontiers in Digital Health | www.frontiersin.org 7 June 2022 | Volume 4 | Article 793316\nautomated extraction of cancer stage from free text reports to improve registries, thereby driving observational research, patient selection for clinical trials, or even enable bedside tools like risk calculators and clinical decision aides."
        },
        {
            "heading": "DATA AVAILABILITY STATEMENT",
            "text": "The datasets presented in this article are not readily available because the data used in this study contain patient identifiers and therefore are not available to the general public. Requests to access the datasets should be directed to boussard@stanford.edu."
        },
        {
            "heading": "ETHICS STATEMENT",
            "text": "The study was approved by the Stanford Univerisy\u2019s Institutional Review Board. Written informed consent for participation was not required for this study in accordance with the national legislation and the institutional requirements."
        },
        {
            "heading": "AUTHOR CONTRIBUTIONS",
            "text": "TH-B and JB conceived the project. TH-B directed the project. SB, MS, and CM collected the data. SB and TH-B analyzed and evaluated the data and take responsibility for both the integrity of the data and the accuracy of the data analysis.\nSB drafted the paper. All authors reviewed and approved the manuscript."
        },
        {
            "heading": "FUNDING",
            "text": "Research reported in this publication was supported by the Stanford AstraZeneca Research grant and National Cancer Institute of the National Institutes of Health under Award Number R01CA183962. The content is solely the responsibility of the authors and does not necessarily represent the official views of the National Institutes of Health and AstraZeneca."
        },
        {
            "heading": "ACKNOWLEDGMENTS",
            "text": "We would like to acknowledge Michelle Ferrari, RN for manual annotations of clinical notes. We further acknowledge Tina Seto, MS, for her assistance with capturing data from the hospital EHRs and managing the CDW."
        },
        {
            "heading": "SUPPLEMENTARY MATERIAL",
            "text": "The Supplementary Material for this article can be found online at: https://www.frontiersin.org/articles/10.3389/fdgth. 2022.793316/full#supplementary-material\nSupplementary Material 1 | Study design schema."
        }
    ],
    "title": "Expanding the Secondary Use of Prostate Cancer Real World Data: Automated Classifiers for Clinical and Pathological Stage",
    "year": 2022
}