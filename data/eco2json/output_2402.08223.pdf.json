{
    "abstractText": "We consider a producer\u2019s problem of selling a product to a continuum of privacyconscious consumers, where the producer can implement third-degree price discrimination, offering different prices to different market segments. In the absence of privacy constraints, Bergemann, Brooks, and Morris [2015] characterize the set of all possible consumer-producer utilities, showing that it is a triangle. We consider a privacy mechanism that provides a degree of protection by probabilistically masking each market segment, and we establish that the resultant set of all consumer-producer utilities forms a convex polygon, characterized explicitly as a linear mapping of a certain high-dimensional convex polytope into R. This characterization enables us to investigate the impact of the privacy mechanism on both producer and consumer utilities. In particular, we establish that the privacy constraint always hurts the producer by reducing both the maximum and minimum utility achievable. From the consumer\u2019s perspective, although the privacy mechanism ensures an increase in the minimum utility compared to the non-private scenario, interestingly, it may reduce the maximum utility. Finally, we demonstrate that increasing the privacy level does not necessarily intensify these effects. For instance, the maximum utility for the producer or the minimum utility for the consumer may exhibit nonmonotonic behavior in response to an increase of the privacy level.",
    "authors": [
        {
            "affiliations": [],
            "name": "Alireza Fallah"
        },
        {
            "affiliations": [],
            "name": "Michael I. Jordan"
        },
        {
            "affiliations": [],
            "name": "Ali Makhdoumi"
        },
        {
            "affiliations": [],
            "name": "Azarakhsh Malekian"
        }
    ],
    "id": "SP:1700424805b1dde9f8590b77a7e9e23472eb6dff",
    "references": [
        {
            "authors": [
                "D. Acemoglu",
                "A. Makhdoumi",
                "A. Malekian",
                "A. Ozdaglar"
            ],
            "title": "Too much data: Prices and inefficiencies in data markets",
            "venue": "American Economic Journal: Microeconomics:Micro,",
            "year": 2022
        },
        {
            "authors": [
                "D. Acemoglu",
                "A. Fallah",
                "A. Makhdoumi",
                "A. Malekian",
                "A. Ozdaglar"
            ],
            "title": "How good are privacy guarantees? platform architecture and violation of user privacy",
            "venue": "Technical report, National Bureau of Economic Research,",
            "year": 2023
        },
        {
            "authors": [
                "D. Acemoglu",
                "A. Makhdoumi",
                "A. Malekian",
                "A. Ozdaglar"
            ],
            "title": "A model of behavioral manipulation",
            "venue": "Technical report, National Bureau of Economic Research,",
            "year": 2023
        },
        {
            "authors": [
                "A. Acquisti",
                "C. Taylor",
                "L. Wagman"
            ],
            "title": "The economics of privacy",
            "venue": "Journal of Economic Literature,",
            "year": 2016
        },
        {
            "authors": [
                "I. Aguirre",
                "S. Cowan",
                "J. Vickers"
            ],
            "title": "Monopoly price discrimination and demand curvature",
            "venue": "American Economic Review,",
            "year": 2010
        },
        {
            "authors": [
                "S.N. Ali",
                "G. Lewis",
                "S. Vasserman"
            ],
            "title": "Voluntary disclosure and personalized pricing",
            "venue": "In Proceedings of the 21st ACM Conference on Economics and Computation,",
            "year": 2020
        },
        {
            "authors": [
                "I. Arieli",
                "Y. Babichenko",
                "O. Madmon",
                "M. Tennenholtz"
            ],
            "title": "Robust price discrimination",
            "venue": "arXiv preprint arXiv:2401.16942,",
            "year": 2024
        },
        {
            "authors": [
                "S. Banerjee",
                "K. Munagala",
                "Y. Shen",
                "K. Wang"
            ],
            "title": "Fair price discrimination",
            "venue": "In Proceedings of the 2024 Annual ACM-SIAM Symposium on Discrete Algorithms (SODA),",
            "year": 2024
        },
        {
            "authors": [
                "D. Bergemann",
                "B. Brooks",
                "S. Morris"
            ],
            "title": "The limits of price discrimination",
            "venue": "American Economic Review,",
            "year": 2015
        },
        {
            "authors": [
                "D. Bergemann",
                "A. Bonatti",
                "T. Gan"
            ],
            "title": "The economics of social data",
            "venue": "arXiv preprint arXiv:2004.03107,",
            "year": 2020
        },
        {
            "authors": [
                "D. Bergemann",
                "T. Heumann",
                "M.C. Wang"
            ],
            "title": "A unified approach to second and third degree price discrimination",
            "venue": "arXiv preprint arXiv:2401.12366,",
            "year": 2024
        },
        {
            "authors": [
                "D.P. Bertsekas"
            ],
            "title": "Nonlinear programming",
            "venue": "Journal of the Operational Research Society,",
            "year": 1997
        },
        {
            "authors": [
                "S. Cowan"
            ],
            "title": "Welfare-increasing third-degree price discrimination",
            "venue": "The RAND Journal of Economics,",
            "year": 2016
        },
        {
            "authors": [
                "C. Dwork",
                "K. Kenthapadi",
                "F. McSherry",
                "I. Mironov",
                "M. Naor"
            ],
            "title": "Our data, ourselves: Privacy via distributed noise generation",
            "venue": "In Advances in Cryptology-EUROCRYPT 2006: 24th Annual International Conference on the Theory and Applications of Cryptographic Techniques, St. Petersburg, Russia, May 28-June",
            "year": 2006
        },
        {
            "authors": [
                "C. Dwork",
                "F. McSherry",
                "K. Nissim",
                "A. Smith"
            ],
            "title": "Calibrating noise to sensitivity in private data analysis",
            "venue": "In Theory of Cryptography: Third Theory of Cryptography Conference,",
            "year": 2006
        },
        {
            "authors": [
                "C. Dwork",
                "A. Roth"
            ],
            "title": "The algorithmic foundations of differential privacy",
            "venue": "Foundations and Trends\u00ae in Theoretical Computer Science,",
            "year": 2014
        },
        {
            "authors": [
                "M. Elliott",
                "A. Galeotti",
                "A. Koh",
                "W. Li"
            ],
            "title": "Market segmentation through information",
            "venue": "Available at SSRN 3432315,",
            "year": 2021
        },
        {
            "authors": [
                "\u00da. Erlingsson",
                "V. Pihur",
                "A. Korolova"
            ],
            "title": "Rappor: Randomized aggregatable privacy-preserving ordinal response",
            "venue": "In Proceedings of the 2014 ACM Conference on Computer and Communications Security,",
            "year": 2014
        },
        {
            "authors": [
                "I.P. Fainmesser",
                "A. Galeotti",
                "R. Momot"
            ],
            "title": "Consumer profiling via information design",
            "venue": "Available at SSRN,",
            "year": 2023
        },
        {
            "authors": [
                "M. Farboodi",
                "L. Veldkamp"
            ],
            "title": "Data and markets",
            "venue": "Annual Review of Economics,",
            "year": 2023
        },
        {
            "authors": [
                "B.G. Greenberg",
                "A.-L.A. Abul-Ela",
                "W.R. Simmons",
                "D.G. Horvitz"
            ],
            "title": "The unrelated question randomized response model: Theoretical framework",
            "venue": "Journal of the American Statistical Association,",
            "year": 1969
        },
        {
            "authors": [
                "N. Haghpanah",
                "J. Hartline"
            ],
            "title": "When is pure bundling optimal",
            "venue": "The Review of Economic Studies,",
            "year": 2021
        },
        {
            "authors": [
                "N. Haghpanah",
                "R. Siegel"
            ],
            "title": "The limits of multiproduct price discrimination",
            "venue": "American Economic Review: Insights,",
            "year": 2022
        },
        {
            "authors": [
                "N. Haghpanah",
                "R. Siegel"
            ],
            "title": "Pareto-improving segmentation of multiproduct markets",
            "venue": "Journal of Political Economy,",
            "year": 2023
        },
        {
            "authors": [
                "N. Haghpapanah",
                "R. Siegel"
            ],
            "title": "Consumer-optimal market segmentation",
            "venue": "In Proceedings of the 2019 ACM Conference on Economics and Computation,",
            "year": 2019
        },
        {
            "authors": [
                "S. Hidir",
                "N. Vellodi"
            ],
            "title": "Privacy, personalization, and price discrimination",
            "venue": "Journal of the European Economic Association,",
            "year": 2021
        },
        {
            "authors": [
                "S. Ichihashi"
            ],
            "title": "Online privacy and information disclosure by consumers",
            "venue": "American Economic Review,",
            "year": 2020
        },
        {
            "authors": [
                "P. Milgrom",
                "I. Segal"
            ],
            "title": "Envelope theorems for arbitrary choice sets",
            "venue": "ACM Conference on Economics and Computation,",
            "year": 2022
        },
        {
            "authors": [
                "B. Rassouli",
                "D. G\u00fcnd\u00fcz"
            ],
            "title": "Optimal utility-privacy trade-off with total variation distance",
            "year": 2018
        },
        {
            "authors": [
                "R. Schmalensee"
            ],
            "title": "Output and welfare implications of monopolistic third-degree price discrimina",
            "venue": "Review,",
            "year": 2017
        }
    ],
    "sections": [
        {
            "text": "ar X\niv :2\n40 2.\n08 22\n3v 3\n[ ec\non .T\nH ]\n2 9\nFe b\nWe consider a producer\u2019s problem of selling a product to a continuum of privacyconscious consumers, where the producer can implement third-degree price discrimination, offering different prices to different market segments. In the absence of privacy constraints, Bergemann, Brooks, and Morris [2015] characterize the set of all possible consumer-producer utilities, showing that it is a triangle. We consider a privacy mechanism that provides a degree of protection by probabilistically masking each market segment, and we establish that the resultant set of all consumer-producer utilities forms a convex polygon, characterized explicitly as a linear mapping of a certain high-dimensional convex polytope into R2. This characterization enables us to investigate the impact of the privacy mechanism on both producer and consumer utilities. In particular, we establish that the privacy constraint always hurts the producer by reducing both the maximum and minimum utility achievable. From the consumer\u2019s perspective, although the privacy mechanism ensures an increase in the minimum utility compared to the non-private scenario, interestingly, it may reduce the maximum utility. Finally, we demonstrate that increasing the privacy level does not necessarily intensify these effects. For instance, the maximum utility for the producer or the minimum utility for the consumer may exhibit nonmonotonic behavior in response to an increase of the privacy level."
        },
        {
            "heading": "1 Introduction",
            "text": "Price discrimination has long been a topic of considerable interest in economics and computer science. At its core, price discrimination involves a seller\u2019s ability to charge different prices to different consumers for the same product or service. This strategy, underpinned by the seller\u2019s understanding of consumer preferences, can lead to maximized profits and a more efficient allocation of resources. While economically rational from a business perspective, price discrimination raises complex questions regarding fairness, market power, and consumer welfare.\nSimultaneously, consumer privacy has become a growing concern in the digital age. With the increasing ability of companies to collect, analyze, and utilize vast amounts of personal data,\n*University of California, Berkeley. afallah@berkeley.edu \u2020University of California, Berkeley. jordan@cs.berkeley.edu \u2021Fuqua School of Business, Duke University. ali.makhdoumi@duke.edu \u00a7Rotman School of Management, University of Toronto. azarakhsh.malekian@rotman.utoronto.ca\nthe protection of consumer privacy has become a major issue for consumers, companies, and regulators. Privacy concerns are not just limited to the safeguarding of personal information but also encompass how this information is used in market practices, including pricing strategies.\nThus, the intersection of price discrimination and consumer privacy is a timely and intriguing topic. One might initially assume that these two concepts are at odds. Price discrimination, by its very nature, relies on detailed information about consumers to tailor prices effectively. In contrast, an emphasis on consumer privacy could limit the ability of sellers to implement price discrimination strategies. However, consumers can benefit from price discrimination, and thus, this intersection warrants a more nuanced examination. Understanding how privacy constraints affect the ability of firms to engage in price discrimination helps in understanding existing market dynamics and also aids in shaping policies that protect consumer interests."
        },
        {
            "heading": "1.1 Main results",
            "text": "Our study of the intersection of price discrimination and privacy builds on prior work of Bergemann et al. [2015]. Let us first describe their model and then explain how things change if we consider consumers\u2019 privacy concerns. Consider a monopolist who is selling a product to a continuum of consumers. If the producer knows the values of consumers, then they could engage in first-degree price discrimination to maximize their utility, while the utility of consumers would be reduced to zero. On the other hand, if the producer has no information besides a prior distribution about the value of consumers, then they can only enact uniform pricing. This leads to two pairs of producer utilities and consumer utilities. Bergemann et al. [2015] delineate the set of all possible pairs by using different segmentations. Let us clarify this approach with an example. Imagine a producer aiming to set a product\u2019s price for its customers across the United States. In this context, the aggregated market is defined as the entire US market, meaning the distribution of consumers\u2019 valuations nationwide. Each zip code within the US represents its own market, which is basically the distribution of the consumers\u2019 values in that zip code. Segmentation, in this case, refers to the division of the aggregated US market into these specific markets. Generally speaking, a segmentation involves breaking down the aggregated market into smaller markets, under the condition that these smaller markets must add up to the aggregated market. Bergemann et al. [2015] establish that the set of all possible pairs of consumer and producer utilities is a triangle as depicted in Figure 1. The point Q corresponds to the first-degree price discrimination, and the line TR represents all possible consumer utilities when the producer utility is at its minimum, equating to the utility derived from optimal uniform pricing.\nFor a given market, knowing the underlying distribution of consumers\u2019 values reveals information about the consumers in that market. Take, for instance, the consumers residing in a certain zip code. Knowing the distribution of the consumers in that zip code induces privacy costs for a multitude of reasons, including potential profiling, harmful targeting, potential manipulation, and unfair business practices. Therefore, we would like to maintain some level of privacy to protect consumers. More precisely, we require that the distribution of consumer values in each market\nmust go through a privacy mechanism that masks the true market and outputs a uniformly sampled market with some probability \u03b2 and outputs the true market with the complementary probability 1 \u2212 \u03b2. Our privacy mechanism is motivated by a market-level randomized response mechanism\u2014 where randomized response is a well-known technique in the privacy literature, commonly utilized for the privatization of discrete-valued data [see, e.g., Warner, 1965, Greenberg et al., 1969, Dwork et al., 2014]. Given this framing, we ask the following question:\nGiven the privacy constraint, what set of consumer and producer utility pairs can be attained through all possible market segmentations?\nNotice that for \u03b2 = 0, our setting reduces to the non-private case, and by increasing \u03b2, we strengthen the privacy guarantees. However, as we now discuss, both our analysis and our results for the setting with privacy constraints are different from those of the non-private case. Specifically, our results allow us to resolve the question of whether the privacy constraint always benefits the consumer. Our main results and insights are as follows.\nMain Result 1: Our point of departure is a setting with two consumer values, a setting in which we are able to fully characterize the space of all consumer and producer utilities. Moreover, this setting allows us to identify nuances that we later explore in a more general setting. In particular, we establish that the set of all consumer and producer utilities is a triangle, similar to the nonprivate case. However, the triangle takes different shapes depending on the consumer values, the aggregate market distribution, and the privacy parameter. Figure 2 illustrates our characterization for two cases and how it differs from the setting without privacy constraints. In this figure, the set of possible producer and consumer utilities under the privacy mechanism is depicted by the blue triangle ABC . The triangle TQR, marked by red dashed lines, represents the non-private case for the corresponding set of values and the aggregated market. We identify that the privacy mechanism impacts the limits of price discrimination through a direct effect and an indirect effect.\nLet us describe these effects and explain how they shape the set of all possible consumer and producer utilities.\nThe direct effect arises because the producer observes a random market instead of the true market, with probability \u03b2, as a consequence of the privacy mechanism. This means that with probability \u03b2, the consumer and producer utilities are independent of the segment\u2019s markets. The direct effect implies a shift in the space of consumer and producer utilities. Considering Figure 2, the direct effect implies that the minimum consumer utility, as opposed to the non-private case, is no longer zero; instead, there is a non-zero lower bound on the consumer utility (line AB versus line QT). It also implies that the sum of consumer and producer utilities is smaller than that of the non-private case (line BC versus line QR).\nTo understand the indirect effect, notice that with probability 1\u2212 \u03b2, the producer observes the true market. However, the producer does not know whether or not this observed market is the truth and, therefore, adopts a different pricing strategy compared to the non-private case. The indirect effect refers to this change in the producer pricing strategy. Notably, the producer\u2019s pricing strategy is optimal from their perspective, taking into account the privacy mechanism, but it does not correspond to the optimal pricing strategy in the non-private case. To better illustrate the impact of this indirect effect, let us revisit the non-private case (as depicted by the triangle TQR in Figure 2). Imagine a segmentation for which the producer is indifferent between several prices for certain segments. In such a case, although different price choices do not alter the producer\u2019s utility, they can lead to different consumer utility. For example, every point along the line TR represents the same level of utility for the producer. However, selecting various prices can minimize or maximize the consumer utilities (corresponding to points T and R, respectively). In the private setting, however, various pricing options that make the producer indifferent ex-ante (i.e., yielding the same expected utility when considering the privacy mechanism) might actually result in different ex-post producer utilities. Consequently, opting for different prices alters both the consumer and producer utilities. This is the reason why, with privacy constraints, the line AC is no longer parallel to the x-axis. This difference is more pronounced as we consider K > 2 values (see Figure 3) where the lower limit of the set of all possible consumer and producer utilities, in sharp contrast to the non-private case, is not a straight line.\nThe above effects and the corresponding set of all possible consumer and producer utilities are visualized in Figure 2: the triangle ABD represents the non-private triangle TQR after undergoing the scaling and shifting attributable to the direct impact of privacy. The discrepancy between triangles ABC and ABD thus precisely indicates the indirect effect that arises from the change in the producer\u2019s pricing policy due to the privacy mechanism.\nMain Result 2: Our characterization yields the following insights.\nInsight 1: Imposing the privacy constraint hurts the producer by decreasing both its minimum and maximum utility across all segmentations. This is intuitive because after adopting the privacy mechanism, the producer knows less about the consumer\u2019s values and, therefore, cannot extract\nas much surplus as in the non-private case.\nInsight 2: Imposing the privacy constraint helps the consumers by increasing their minimum utility. However, interestingly, it can hurt consumers by decreasing their maximum utility (compare, for example, the consumer utility in points C and R in the two panels of Figure 2). This first phenomenon aligns with the direct impact of the privacy mechanism, as previously elaborated. Because the producer does not always observe the true market, they may sometimes choose a suboptimal price, resulting in a positive expected utility for consumers. The second phenomenon is more nuanced. We observe that the introduction of a privacy mechanism can influence the producer\u2019s market pricing strategy, leading to more conservative or riskier decisions depending on the consumers\u2019 values. This effect arises because the privacy mechanism reduces the informativeness of the market observed by the producer. On one hand, in cases where there is a significant gap between high and low consumer values, the producer finds the risk of setting higher prices justified. This shift towards riskier pricing strategies is the indirect impact of privacy we discussed earlier. Under such circumstances, if the actual market includes many low-value consumers, selecting higher prices could detrimentally affect consumer utility. On the other hand, when consumer values are relatively similar, the producer might opt for a lower, safer pricing strategy, avoiding \u201cunnecessary\u201d risks. Now, if the true market is composed largely of high-value consumers, this conservative approach can lead to increased utility for consumers compared to the non-private case, thereby increasing maximum consumer utility.\nInsight 3: As we discussed above, imposing a privacy constraint decreases both the minimum and maximum producer utility while it increases the minimum consumer utility. One may con-\njecture that these changes amplify as the privacy parameter increases. However, interestingly, we prove that an increase in the privacy parameter \u03b2 does not necessarily decrease the producer\u2019s maximum utility and, similarly, does not necessarily increase the minimum consumer utility. Put differently, while imposing the privacy constraint always reduces the maximum producer utility, more privacy does not necessarily lead to a more reduction in this utility. Similarly, although the privacy mechanism ensures a non-zero minimum utility for the consumer, this minimum does not always increase with a higher privacy parameter. The intuition behind these nuanced nonmonotonicities is similar to Insight 2, discussed above.\nMain Result 3: We establish that our main insights carry over to the general setting with K > 2 consumer values. Notably, the set of all consumer and producer utilities pairs is no longer a triangle, in sharp contrast to that of the non-private case. Instead, it is a convex polygon (see Figure 3 illustration for one example and how it differs from the non-private case). Similar to the case of K = 2, we identify that the privacy mechanism introduces both direct and indirect effects on the set of possible consumer and producer utilities. The direct impact implies a combination of scaling and shifting, transforming the triangle TQR into triangle ABD as depicted in Figure 3. The indirect effect of privacy, however, changes the shape of the utility set from a triangle to a convex polygon. More precisely, we illustrate that this set can be represented as a linear mapping of a convex polytope in RK 2 into a 2-dimensional space. This representation enables us to extend all the insights above from the case with K = 2 to the general case with K \u2265 2. Our analysis also provides the construction of a segmentation to achieve any feasible point for consumer and producer utilities.\nFurthermore, our characterization allows us to identify several key properties of the polygon that delineate the limits of price discrimination under privacy constraints. One that we highlight here is regarding the impact of privacy on first-degree price discrimination. In the non-private\nscenario, point Q in Figure 3 represents perfect discrimination utilities, where each segment contains consumers of identical value. Now, let us consider the same segmentation and see how the privacy mechanism impacts the producer\u2019s utility (i.e., point B in Figure 3). First, notice that because of the direct impact of the privacy mechanism (that masks segments with probability \u03b2), the producer\u2019s utility decreases to another point. The question arises: does the indirect effect of privacy further decrease the producer\u2019s utility? In other words, the question is whether the privacy mechanism can influence the producer\u2019s pricing strategy to such an extent that, even when they observe a market comprising consumers with similar values, they set a different price for that market. Interestingly, we show that this scenario is indeed possible. We specifically identify a threshold for the privacy parameter \u03b2. Once this threshold is surpassed, it prompts the producer to avoid using certain values for market pricing, as other values yield higher expected utility. Below this threshold, however, the indirect effect of privacy does not further decrease the producer\u2019s utility.\nFrom a technical point of view, to characterize the set of all possible consumer and producer utilities under privacy constraints, we need novel techniques and analysis compared to the existing ones in the literature. Notably, the analysis in Bergemann et al. [2015] relies heavily on the premise that producer utility is bounded below by optimal uniform pricing. This assumption, however, does not hold under privacy constraints since the aggregated market remains undisclosed to the producer. Furthermore, their argument is built on characterizing extremal markets\u2014markets wherein the producer is indifferent between choosing any value within the support of the distribution of the consumer values. In contrast, our argument employs a merging technique, effectively simplifying the problem to an examination of segmentations where, for each value, no more than one segment is priced at that value. This approach not only makes our analysis applicable to the private case but also builds a framework that easily extends to the general setting with multiple consumer values."
        },
        {
            "heading": "1.2 Related work",
            "text": "Our paper relates to the literature on price discrimination. Earlier works on this topic include Robinson [1969], Schmalensee [1981], Varian [1985], Aguirre et al. [2010], Cowan [2016]. More recent papers on this topic include Roesler and Szentes [2017] who characterize the buyer-optimal signaling, Bergemann et al. [2015] who prove that it is possible to achieve any total surplus and its division between consumers and the producer through segmentation, Haghpapanah and Siegel [2019] who characterize the consumer optimal segmentation, and Elliott et al. [2021] who study how a platform\u2019s information design can enable the division of surplus between the consumer and the seller.\nThe closest paper to ours is Bergemann et al. [2015], which characterizes the set of all possible consumer and producer utilities achievable by segmentations. We build on the setting of this paper by asking what happens if we impose privacy constraints. As discussed above, this fundamentally changes the results and also requires different analyses. This work has moti-\nvated several follow-up works that consider either extensions or variations of it. For instance, a similar problem in multiproduct settings has been studied in Haghpanah and Hartline [2021], Haghpanah and Siegel [2022], and Haghpanah and Siegel [2023]. Consumer profiling via information design has been studied in Fainmesser et al. [2023]. Robust price discrimination has been studied in Arieli et al. [2024]. A unified approach to second and third degree price discrimination has been studied in Bergemann et al. [2024]. Extension to randomized auctions (possibly over a menu of large size) has been studied in Ko and Munagala [2022], and price discrimination with fairness considerations has been studied in Banerjee et al. [2024]. To the best of our knowledge, the limits of price discrimination under privacy constraints have not been studied in the literature.1\nOur paper also relates to the literature on privacy in markets and platforms. Acquisti et al. [2016] survey the empirical and theoretical works that study the economic value and consequences of protecting and disclosing personal information on consumers and producers. More recently, Posner and Weyl [2018] explore the consequences of consumers sharing data with online platforms, and Jones and Tonetti [2020] study the consequences of data non-rivalry (i.e., consumer data can be used by many producers simultaneously) for the consumers and the producers. Acemoglu et al. [2022], Bergemann et al. [2020], and Ichihashi [2020] study the privacy consequences of data externality, whereby a user\u2019s data reveals information about others, Acemoglu et al. [2023a] study the platform\u2019s optimal architecture that achieves the Pareto frontier of user privacy level and platform estimation error, and Acemoglu et al. [2023b] develop an experimentation game to study the harms of the platform\u2019s information advantage in product offering. Finally, privacy and personal data in financial markets have been studied in Farboodi and Veldkamp [2023].\nMore closely related to ours are the works at the intersection of privacy and price discrimination. In this regard, Ali et al. [2020] study the implications of giving consumers control over their data and the ability to choose how producers access their data. They investigate whether such regulations improve consumer utility and find that consumer control can guarantee gains for every consumer type relative to both perfect price discrimination and no personalized pricing. Hidir and Vellodi [2021] characterize the consumer optimal market segmentation compatible with the consumer\u2019s incentives to reveal their preferences voluntarily. They further investigate the implication of their results for consumer privacy and price discrimination in online retail. We depart from this literature by characterizing the set of all possible consumer and producer utilities achievable by market segmentations under privacy constraints.2\nThe rest of the paper proceeds as follows. In Section 2, we present our model and introduce the problem formulation. In Section 3, we focus on a setting with K = 2 consumer values and characterize the set of all possible consumer and producer utilities that can be achieved by seg-\n1Segmentation can be viewed as a Bayesian persuasion problem as introduced by Kamenica and Gentzkow [2011]. We refer to Bergemann et al. [2015] for a detailed description of this connection.\n2Our paper is also related to the literature on differential privacy introduced in Dwork et al. [2006a] and Dwork et al. [2006b] (see Dwork et al. [2014] for a survey). In particular, our privacy mechanism can be viewed as a variation of the randomized response that is used to guarantee differential privacy for discrete value data points (see, e.g., Erlingsson et al. [2014]).\nmentation. We then discuss the insights we obtain from our analysis and, in particular, whether imposing privacy constraints helps or hurts the producer and the consumer. In Section 4, we show how our main results and insights continue to hold for the general case of K > 2 consumer values. Section 5 concludes while the Appendix presents the omitted proofs from the text."
        },
        {
            "heading": "2 Model",
            "text": "We build our model upon the one proposed by Bergemann et al. [2015]. In particular, we consider a producer\u2019s problem of pricing a product for a continuum of consumers represented by the interval \u2126 := [0, 1]. We normalize the cost of production to zero and assume that each consumer\u2019s value for the product belongs to the set V := {v1, v2, \u00b7 \u00b7 \u00b7 , vK} for some K \u2208 N, where vK > \u00b7 \u00b7 \u00b7 > v2 > v1 > 0. The value of a consumer is denoted by a random variable V : \u2126 \u2192 V . We assume that a consumer purchases the product if the offered price is lower than or equal to their value.\nMarkets: A market x is a distribution over V , and hence, the set of all markets is the simplex over V , given by\nX := \u2206(V) =\n{\nx : V \u2192 R\u22650 \u2223 \u2223\nK \u2211\nk=1\nx(vk) = 1\n}\n. (1)\nWe denote the aggregated market, which corresponds to the distribution of V , by x\u2217.\nSegmentation: A segmentation is a partitioning of the aggregated market x\u2217 into different markets. We illustrate a segmentation using a distribution \u03c3 over the space of all markets, X = \u2206(V), as defined in equation (1). For any x \u2208 X within the support of \u03c3, we have a segment in the partitioning of the aggregated market which its corresponding market is x and its population size is \u03c3(x). The set of all segmentations is given by3\n\u03a3 :=\n \n\n\u03c3 \u2208 \u2206(X ) \u2223 \u2223\n\u2211\nx\u2208supp(\u03c3)\n\u03c3(x).x = x\u2217, |supp(\u03c3)| < \u221e\n \n\n. (2)\nPrivacy mechanism: A privacy mechanism M is a mapping from the set of all markets to itself, i.e., M : X \u2192 X . More specifically, let x \u2208 supp(\u03c3) for some segmentation \u03c3 \u2208 \u03a3. To take the privacy considerations into account, we assume the producer observes M(x) (instead of the true x), which is a private version of the market x. In particular, we focus on the following class of\n3As our proofs show, we can limit our attention to partitions comprising finitely many segments, i.e., distributions \u03c3 with finite support, without loss of generality.\nmechanisms, parameterized by \u03b2 \u2208 [0, 1]:\nM\u03b2(x) :=\n \n\nx with probability 1\u2212 \u03b2 unif(X ) with probability \u03b2, (3)\nwhere unif(X ) represents drawing a market from X uniformly at random. One can interpret M\u03b2(\u00b7) as a mechanism that returns the true market with probability 1 \u2212 \u03b2 but masks it with the complimentary probability \u03b2 (and outputs a uniform noise instead). Notice that for \u03b2 = 0, our problem becomes identical to that of Bergemann et al. [2015], which does not consider privacy. Moreover, as \u03b2 increases, one can learn less about the distribution of consumer values in a market.\nOur privacy mechanism can be linked to the randomized response mechanism, albeit applied at the market level. The randomized response is a well-known technique in the privacy literature, commonly utilized for making a variable with discrete values private [Warner, 1965, Greenberg et al., 1969]. This mechanism maintains the true value of the variable with a certain probability while substituting it with a uniformly chosen random variable from the variable\u2019s finite range with the complementary probability. Our approach is similar, with the distinction being that the market space is infinite. Moreover, applying definitions from the privacy literature, we can quantify the privacy-leakage associated with the mechanism M\u03b2(\u00b7). Let us formalize this connection next.\nDefinition 1. [Rassouli and Gu\u0308ndu\u0308z [2019]] The privacy-leakage about random variable X by revealing Y is\nEY\n[ TV ( pX|Y (\u00b7|Y ), pX(\u00b7) )] ,\nwhere pX(\u00b7) and pX|Y (\u00b7|Y ) are the probability density function and the conditional probability density function of X, respectively, and TV(\u00b7, \u00b7) denotes the total variation distance between two random variables.\nProposition 1. The privacy-leakage (defined in Definition 1) of our masking mechanism M\u03b2(\u00b7) is equal to 1\u2212 \u03b2.\nThis privacy-leakage of our masking mechanism is maximized when \u03b2 = 0 and is reduced to zero when \u03b2 = 1, where the mechanism returns pure noise (see Rassouli and Gu\u0308ndu\u0308z [2019] for further discussion on the relationship between this measure and other definitions of privacy loss).\nIt is also worth emphasizing that our privacy mechanism perturbs markets as a whole rather than the values of individual consumers. This means we modify the aggregated data of consumers, not the data of a single consumer. For instance, consider a scenario where market segmentation is based on the zip codes, with each segment representing the market of a single zip code. In this context, our privacy mechanism perturbs the market data for each zip code before it is disclosed to the producer. This approach is particularly fitting in our setting because pricing decisions for a market are based on the distribution of values within that market. Therefore, to ensure a degree of privacy protection, we need to alter the distribution, or essentially, the market\nitself. Alternatively, if we were to implement a randomized response mechanism at the consumer level, randomly changing each consumer\u2019s value, the continuum of consumers would lead to a deterministic mapping from the actual market to another market.4 This mapping could be reverseengineered to the original market, making it ineffective for the pricing problem.\nUtility functions: If we set the product\u2019s price for a market x equal to some p \u2208 [0,\u221e), the producer\u2019s utility and the consumers\u2019 utility are given by\nUp(p, x) := p\nK \u2211\nk=1\nx(vk)1(p \u2264 vk),\nUc(p, x) := K \u2211\nk=1\nx(vk)(vk \u2212 p)1(p \u2264 vk).\n(4)\nOptimal pricing rules: As we discussed above, the producer does not observe the market x and observes a private version x\u0302. Next, we define the optimal pricing of a market given an observation x\u0302 through M\u03b2(\u00b7). The producer holds a uniform prior over X and then observes x\u0302 = M\u03b2(x). We denote the posterior distribution by \u03c0\u03b2(\u00b7|x\u0302). It is straightforward to verify that this posterior distribution has a mass of size 1 \u2212 \u03b2 over x\u0302, and the remaining \u03b2 mass is uniformly distributed over X .\nThe producer\u2019s expected revenue from a market conditional on observing x\u0302 and under some\nprice p \u2208 R\u22650 is given by\nUp(p|x\u0302) := E x\u223c\u03c0\u03b2(x|x\u0302) [Up(p, x)] (5)\nA price p is called optimal for a market given observation x\u0302 if its corresponding expected revenue is at least as great as that of any other price, i.e.,\nUp(p|x\u0302) \u2265 Up(p \u2032|x\u0302) for any p\u2032 \u2265 0. (6)\nIt is evident that the optimal price always belongs to the set V ; therefore, we will limit our\nsearch for the optimal prices to this set.\nA pricing rule \u03c6 : X \u2192 \u2206(V) is a function where, for any observation x\u0302, \u03c6(x\u0302) specifies a distribution over prices. Specifically, a pricing rule \u03c6 is considered optimal if, for each x\u0302, the support of \u03c6(x\u0302) consists solely of prices that are optimal given the observation x\u0302.\nFormulating our goal: We now formalize our main question. Given an optimal pricing rule \u03c6(\u00b7), we denote the expected utility of the producer and consumer from a market x \u2208 X by U\u03c6p (x) and U\u03c6c (x), respectively. This expectation accounts for the randomness arising from the producer observing the private version M\u03b2(x) instead of x and applying the (potentially random) optimal\n4Even with finite number of consumers, this phenomenon will hold as the number of consumers grows because of the concentration of the realized distribution around its mean.\npricing rule \u03c6(\u00b7) based on this observation. More formally, we have\nU\u03c6p (x) := Ex\u0302\u223cM\u03b2(x) [ Ep\u223c\u03c6(x\u0302)[ Up(p, x)] ] and U\u03c6c (x) := Ex\u0302\u223cM\u03b2(x) [ Ep\u223c\u03c6(x\u0302)[ Uc(p, x)] ] . (7)\nFormally, our goal is to characterize the set of all possible pairs of expected utilities for both the producer and consumer across all potential segmentations and optimal pricing rules. In other words, we would like to characterize the following set\nS :=\n \n\n[\n\u2211\nx\u2208supp(\u03c3)\n\u03c3(x)U\u03c6c (x), \u2211\nx\u2208supp(\u03c3)\n\u03c3(x)U\u03c6p (x) ]\u22a4 \u2223 \u2223 \u2223 \u03c3 \u2208 \u03a3 and \u03c6 is an optimal pricing rule\n \n\n.\n(8)"
        },
        {
            "heading": "3 Price discrimination limits under privacy: the case of K = 2",
            "text": "We first focus on the case K = 2 to gain insights into the limits of price discrimination under privacy constraints. In this scenario, the set of all markets, X , is, in fact, the set of Bernoulli distributions, which can be parameterized by the probability of the high value, v2, denoted by \u03b1 \u2208 [0, 1]. Throughout this section, we use x and \u03b1 interchangeably to represent the market. In particular, \u03b1\u2217 denotes the probability of the high value for the aggregated market x\u2217. We also define \u03b7 as the ratio of the lower value to the higher value, i.e.,\n\u03b7 := v1 v2 . (9)\nWe first characterize the optimal price condition on observing x\u0302.\nLemma 1. Suppose the producer observes x\u0302 = (1 \u2212 \u03b1\u0302, \u03b1\u0302), where \u03b1\u0302 denotes the observed probability of the high value v2. Let\nt\u2217 := \u03b7 \u2212 \u03b2/2\n1\u2212 \u03b2 . (10)\nThen, v1 is the optimal price if and only if \u03b1\u0302 \u2264 t \u2217, and v2 is the optimal price if and only if \u03b1\u0302 \u2265 t \u2217.\nNote that when \u03b2 \u2265 2\u03b7, this lemma implies that the optimal price becomes v2, regardless of the observation x\u0302. Similarly, when \u03b2 \u2265 2(1 \u2212 \u03b7), the optimal price is v1. Therefore, if \u03b2 \u2265 2\u03b7, then we have\nS = { [0, v2\u03b1 \u2217]T }\nand if \u03b2 \u2265 2(1\u2212 \u03b7), then we have\nS = { [(v2 \u2212 v1)\u03b1 \u2217, v1] T } .\nHence, in what follows, we consider a setting for which the following assumption holds.\nAssumption 1. We suppose \u03b2 \u2264 min{2\u03b7, 2(1 \u2212 \u03b7)}.\nIn this case, as Lemma 1 establishes, any optimal pricing rule assigns price v1 to any market given observation \u03b1\u0302 < t\u2217 and price v2 to any market after observing \u03b1\u0302 > t \u2217. Next, the subsequent proposition breaks down the impact of the privacy mechanism on the set S , distinguishing between the direct and the indirect effects of privacy.\nProposition 2. Suppose Assumption 1 holds. Then, S is given by\nS =\n{\n\u03b2 [ t\u2217\u03b1\u2217(v2 \u2212 v1), t \u2217v1 + (1\u2212 t \u2217)\u03b1\u2217v2 ]\u22a4 + (1\u2212 \u03b2)s\u2032 \u2223 \u2223 \u2223 s\u2032 \u2208 S \u2032 } , (11)\nwhere S \u2032 is defined as\nS \u2032 :=\n{\n[\n\u03b31\u03b11(v2 \u2212 v1), \u03b31v1 + \u03b32\u03b12v2\n]\u22a4 \u2223 \u2223\n\u2223 (12)\n\u03b11 \u2208 [0,min{t \u2217, \u03b1\u2217}], \u03b12 \u2208 [max{t \u2217, \u03b1\u2217}, 1], \u03b31 and \u03b32 \u2208 [0, 1], \u03b31 + \u03b32 = 1, \u03b31\u03b11 + \u03b32\u03b12 = \u03b1 \u2217\n}\n.\nThis result shows that the set S undergoes three distinct changes as \u03b2 varies. First, the set S \u2032 is scaled by a factor 1 \u2212 \u03b2. Second, its location in the plane shifts due to the vector \u03b2 [ t\u2217\u03b1\u2217(v2 \u2212 v1), t \u2217v1 + (1 \u2212 t \u2217)\u03b1\u2217v2 ]\u22a4 added to it. These two changes are because the producer observes a completely random market with probability \u03b2 and sets the price based on this random market, resulting in a constant expected utility that is independent of the true market. Lastly, the shape of S evolves due to the corresponding changes in the shape of S \u2032. Notice that the shape of S \u2032 is influenced by t\u2217, which represents the producer\u2019s threshold for the proportion of highvalue customers in order to choose the higher price. In fact, substituting t\u2217 in the definition of S \u2032 with \u03b7 (the optimal threshold in the non-private case) aligns S \u2032 precisely with the set S in the absence of privacy constraints. This last change can be interpreted as the indirect impact of the privacy mechanism, which is rooted in the producer adjusting its pricing strategy due to the noisy observation.\nAlso, notice that Proposition 2 suggests that it suffices to focus only on segmentations with two markets (1\u2212 \u03b11, \u03b11) and (1\u2212 \u03b12, \u03b12) with probabilities \u03b31 and \u03b32, respectively. Moreover, the first segment\u2019s fraction of high values, i.e., \u03b11, is less than or equal to t \u2217, and the other\u2019s (i.e., \u03b12) is greater than or equal to t\u2217.\nIn the appendix, we characterize the set S \u2032 and show that it takes the form of a triangle, with its shape changing as \u03b2 varies. That said, we next formally characterize the set S , taking into account all these three factors.\nTheorem 1. Suppose Assumption 1 holds. Then, the set S is the triangle ABC , given by\nA = \u03b2c+ (1\u2212 \u03b2)A\u2032 with A\u2032 :=\n[\n0, \u03b1\u2217v2 + v1 (t\u2217 \u2212 \u03b1\u2217)+\nt\u2217\n]\u22a4\n,\nB = \u03b2c+ (1\u2212 \u03b2)B\u2032 with B\u2032 :=\n[\n0, \u03b1\u2217v2 + (1\u2212 \u03b1 \u2217)v1\n]\u22a4\n,\nC = \u03b2c+ (1\u2212 \u03b2)C \u2032 with C \u2032 :=\n[\n\u03b1\u2217(v2 \u2212 v1)\u2212 (v2 \u2212 v1) (\u03b1\u2217 \u2212 t\u2217)+\n1\u2212 t\u2217 , v1 + (v2 \u2212 v1) (\u03b1\u2217 \u2212 t\u2217)+ 1\u2212 t\u2217\n]\u22a4\n,\n(13)\nwhere\nc = [ t\u2217\u03b1\u2217(v2 \u2212 v1), t \u2217v1 + (1\u2212 t \u2217)\u03b1\u2217v2 ]\u22a4 . (14)\nTo better understand this characterization, recall that, as we discussed earlier, the effect of the privacy mechanism can be decomposed into two components: a direct one and an indirect one. The direct effect is due to the market being masked with probability \u03b2 and the producer choosing the price based on pure noise observation. This results in a constant term in utilities that is independent of the true market, captured by the term \u03b2c in Equation (13).\nThe indirect effect of privacy arises from changes in the producer\u2019s pricing strategy and is represented by the difference between triangle A\u2032B\u2032C \u2032 and the non-private case TQR in Figure 1. Specifically, the lines A\u2032B\u2032 and B\u2032C \u2032 are analogous to the corresponding lines QT and QR in the non-private case, where the first represents the condition that consumer utility is non-negative, and the second shows that the sum of consumer and producer utilities is less than the maximum possible surplus. However, line A\u2032C \u2032 is where the indirect effect of privacy is observed. In the non-private case, the line TR is parallel to the x-axis, since the producer utility is lower bounded by the utility obtained from uniform pricing. In the presence of a privacy constraint, this line is no longer parallel to the x-axis. Moreover, this indirect effect of privacy becomes more pronounced when considering K > 2 values, as this lower boundary of the set S is no longer a straight line but becomes piece-wise linear."
        },
        {
            "heading": "3.1 Illustration of the set S",
            "text": "As equation (13) in Theorem 1 suggests, there are two main regimes in characterizing the triangle S : t\u2217 \u2265 \u03b1\u2217 and t\u2217 \u2264 \u03b1\u2217, where t\u2217 itself depends on \u03b7 and \u03b2. We next discuss how the set S evolves with varying \u03b2, for the two cases of \u03b1\u2217 \u2265 \u03b7 and \u03b1\u2217 \u2264 \u03b7.\nFigure 4 depicts S for the case \u03b1\u2217 \u2265 \u03b7. In particular, Figure 4d illustrates the non-private case where the triangle ABC coincides with the triangle TQR that we introduced in the Introduction (see Figure 1). In the presence of privacy mechanism, triangle TQR maps to triangle T\u0303BR\u0303 after going through the shifting and scaling operators, meaning that the difference between triangles ABC and T\u0303BR\u0303 is purely attributed to the indirect effect of privacy.\nFigure 4a illustrates the case \u03b7 \u2264 1/2 which implies \u03b1\u2217 \u2265 \u03b7 \u2265 t\u2217. In this case, as \u03b2 decreases\nfrom 2\u03b7 to 0, t\u2217 increases from 0 to \u03b7 which implies C moving down from B to R\u0303.\nFigures 4b and 4c correspond to the case \u03b1\u2217 \u2265 \u03b7 \u2265 1/2. Notice that \u03b7 \u2265 1/2 implies t\u2217 \u2265 \u03b7, and hence in this case, we could have either \u03b1\u2217 \u2265 t\u2217 or \u03b1\u2217 \u2264 t\u2217, depending on the value of \u03b2. Let \u03b2\u0303 be the value of \u03b2 for which t\u2217 = \u03b1\u2217, i.e., \u03b7 \u2212 \u03b2\u0303/2\n1\u2212 \u03b2\u0303 = \u03b1\u2217. (15)\nFigure 4b illustrates the case \u03b2 \u2265 \u03b2\u0303 which implies t\u2217 \u2265 \u03b1\u2217 \u2265 \u03b7. As \u03b2 decreases from 2(1 \u2212 \u03b7) to \u03b2\u0303, t\u2217 decreases from 1 to \u03b1\u2217 which implies A moving from B down towards T\u0303 . Finally, Figure 4d illustrates the case \u03b2 \u2264 \u03b2\u0303 which implies \u03b1\u2217 \u2265 t\u2217 \u2265 \u03b7. In this case, as \u03b2 decreases from \u03b2\u0303 to 0, t\u2217 decreases from \u03b1\u2217 to \u03b7 which implies C moving up towards R\u0303.\nSimilarly, Figure 5 illustrates the triangle ABC for the case \u03b1\u2217 \u2264 \u03b7 and for different values of \u03b7 and \u03b2. The primary distinction in this scenario is that, in the non-private case, the optimal uniform price is v1 instead of v2.\nIn Figure 5a, as \u03b2 decreases from 2\u03b7 to \u03b2\u0303, t\u2217 increases from 0 to \u03b1\u2217 which implies C moving down towards R\u0303. In Figure 5b, as \u03b2 decreases from \u03b2\u0303 to 0, t\u2217 increases from \u03b1\u2217 to \u03b7 which implies\nA moving up towards T\u0303 . In Figure 5c, as \u03b2 decreases from 2(1 \u2212 \u03b7) to 0, t\u2217 decreases from 1 to \u03b7 and hence A moves down from B to T\u0303 ."
        },
        {
            "heading": "3.2 Does imposing privacy hurt or help the producer and the consumers?",
            "text": "We next discuss that imposing privacy always hurts the producer but, interestingly, may hurt or help consumers. We do so by comparing the set S with the non-private case in Figures 4d and 5d, studied in Bergemann et al. [2015].\nImposing privacy helps consumers to increase their minimum utility. In the non-private case, the consumer\u2019s utility can be as low as zero. However, in the private case, a minimum utility of \u03b2t\u2217\u03b1\u2217(v2 \u2212 v1) is ensured for the consumer.\nImposing privacy hurts the producer by decreasing its minimum utility. In the non-private case, the line TR represents the optimal uniform pricing, which constitutes the minimum utility\nfor the producer. However, in the private case, the producer\u2019s utility falls below this value for two reasons. One reason is that the triangle ABC always intersects with the line T\u0303 R\u0303, and the producer\u2019s utility at line T\u0303 R\u0303 is already (weakly) smaller than the utility corresponding to line TR. To see the latter, observe that the producer\u2019s utility corresponding to line T\u0303 R\u0303 is given by\n\u03b2 ( t\u2217v1 + (1\u2212 t \u2217)\u03b1\u2217v2 ) + (1\u2212 \u03b2) ( producer utility at line TR ) . (16)\nNotice that this term is a convex combination of two components: the first component is an average of \u03b1\u2217v2 and v1, and the second component is the maximum of these two terms. Hence, the utility expressed in the equation above is less than the maximum of \u03b1\u2217v2 and v1, i.e., the producer utility at line TR.\nMoreover, as demonstrated by Figures 4 and 5, when \u03b1\u2217 \u2265 \u03b7 \u2265 12 or \u03b1 \u2217 \u2264 \u03b7 \u2264 12 , certain segmentations may yield a producer\u2019s utility even lower than that at the line T\u0303 R\u0303. In the next section, when we explore the case with K values, we precisely characterize when this phenomenon occurs in the general case.\nImposing privacy hurts the producer by decreasing its maximum utility. In the non-private case, the maximum utility corresponds to first-degree price discrimination (i.e., point Q) is given by \u03b1\u2217v2 + (1\u2212 \u03b1 \u2217)v1. In the private case, the maximum producer utility aligns with point B in all cases and is equal to\n\u03b2 ( t\u2217v1 + (1\u2212 t \u2217)\u03b1\u2217v2 ) + (1\u2212 \u03b2) ( \u03b1\u2217v2 + (1\u2212 \u03b1 \u2217)v1 ) , (17)\nwhich is lower than in the non-private case.\nImposing privacy can hurt consumers by decreasing their maximum utility. For consumers, the maximum utility could either increase or decrease. In the non-private case, the highest utility the consumer can achieve is at point R. This could approach zero as \u03b1\u2217 nears one. However, as mentioned earlier, the consumers\u2019 utility in the private case has a minimum of \u03b2t\u2217\u03b1\u2217(v2 \u2212 v1), which does not diminish to zero as \u03b1\u2217 increases to one. Thus, the maximum possible utility for consumers could be higher in the private case. To illustrate a potential decrease, consider \u03b7 \u2264 1/2 \u2264 \u03b1\u2217, where consumers\u2019 maximum utility corresponds to point C in Figure 4a. As \u03b2 increases to 2\u03b7, C converges to B, and B itself moves towards a point on the y-axis, leading to consumers\u2019 utility approaching zero."
        },
        {
            "heading": "3.3 The indirect effect of privacy",
            "text": "Next, we shift our focus to the shape of S compared to the triangle T\u0303BR\u0303. As we mentioned earlier, this comparison captures the indirect effect due to the change in the producer\u2019s pricing strategy and illustrates how various segmentations can lead to different utilities for the producer\nand consumer. For example, as discussed before Assumption 1, when \u03b2 is sufficiently large, S reduces to a single point, indicating no advantage in price discrimination.\nThe case \u03b1\u2217 \u2265 \u03b7 : First, when \u03b7 \u2264 1/2, indicating that the difference between the high and low values is significant, the set S loses the ACR\u0303 portion due to the indirect effect of privacy. In other words, the change in pricing strategy primarily eliminates segmentations beneficial to the consumer while retaining those favorable to the producer. To see why this occurs, notice that the consumer gains utility when their value for the product is high (i.e., v2), but the market is priced low (i.e., v1). However, with a small \u03b7, the threshold t \u2217 decreases, implying that the high value\u2019s gain is substantial enough for the producer to risk setting the market price at v2. This shift adversely affects the consumers\u2019 utility.\nSecond, when \u03b7 \u2265 1/2, as discussed earlier, the threshold t\u2217 becomes larger than \u03b7. In other words, the difference between the high and low values is not significant, and hence, the producer is more inclined to use the lower price v1. This effect intensifies when \u03b2 is very large, as t \u2217 then exceeds both \u03b1\u2217 and \u03b7. It implies that even the aggregated market, priced at v2 in the non-private case, is now priced at v1 with a probability of (1 \u2212 \u03b2) + \u03b2t \u2217 (illustrated by point C in Figure 4b). Roughly speaking, in this scenario, a segment is more likely to be priced at v1, unless it has a very high proportion of consumers with value v2, which corresponds to point B and nearby points where first-degree price discrimination occurs with two completely separate segments. This is why, in this case, S predominantly encompasses the area near the line BC and loses out on the area around A, which corresponds to segments of a more mixed nature priced at v2.\nFinally, when \u03b7 \u2265 1/2 but \u03b2 is small, the previously described situation mitigates, and hence the whole triangle ABR\u0303 is recovered. However, the producer still remains slightly inclined to price markets at v1, which is why points like C fall below the uniform pricing line AR\u0303. However, as \u03b2 decreases, C moves towards R\u0303, indicating that Figure 4c gradually aligns with Figure 4d.\nThe case \u03b1\u2217 \u2264 \u03b7 : With \u03b7 \u2265 1/2, as illustrated in Figure 5c, we observe that the triangle ACT\u0303 is eliminated due to the privacy mechanism. This leads to two intuitions: first, the privacy mechanism benefits the consumer by eliminating segmentations that yield low utility for them. Second, it does not significantly affect segmentations that distinctly separate high and low value consumers. The reason for these phenomena lies in the fact that \u03b7 \u2265 1/2 suggests a small difference between high and low values, prompting the producer to favor pricing the market at v1 over v2. This inclination minimally impacts segmentations that effectively distinguish between high and low value consumers (represented by point B and its neighboring points). Additionally, incorrectly setting the price to v1 increases the consumer\u2019s utility.\nWith \u03b7 \u2264 1/2, the producer is more inclined to set the market price at v2. However, the assumption \u03b1\u2217 \u2264 \u03b7 indicates a scarcity of high-value customers, making v1 the optimal uniform price. This is why in Figures 5a and 5b, we observe points below the uniform pricing line T\u0303 R\u0303. This effect is particularly intensified when \u03b2 is high, i.e., Figure 5a, as the threshold for setting\nthe price high (i.e., t\u2217) approaches zero. This adversely impacts consumers since consumers gain utility only when they have a high value and the marker is priced at the low value v1."
        },
        {
            "heading": "3.4 Varying the privacy parameter",
            "text": "So far, we have shown that implementing the privacy mechanism reduces both the minimum and maximum possible utility of the producer, in contrast to the non-private case, while increasing the minimum utility for the consumer. A natural question arises: do these changes amplify as the privacy parameter increases? For instance, does an increase in the privacy parameter \u03b2 lead to a further decrease in the producer\u2019s maximum utility and an increase in the minimum consumer utility? Interestingly, this is not always the case! In other words, while the privacy constraint always reduces the maximum producer utility, more privacy does not necessarily equate to a more significant reduction in this utility. Similarly, although the privacy mechanism ensures a non-zero minimum utility for the consumer, this minimum does not always increase with a higher privacy parameter. We next formalize this observation.\nThe impact of increasing the privacy parameter on the producer utility: Let us start with the maximum possible producer utility. Notice that the maximum producer utility corresponds with the point B in Figures 4 and 5.\nLemma 2. The maximum producer utility across all segmentations is a decreasing function of \u03b2 over the interval [0,min{2\u03b7, 2(1 \u2212 \u03b7)}] if and only if \u03b1\u2217, \u03b7 \u2265 1/2 or \u03b1\u2217, \u03b7 \u2264 1/2.\nWe defer the proof to the appendix. This result suggests that when \u03b1\u2217 \u2265 1/2 \u2265 \u03b7 or when \u03b1\u2217 \u2264 1/2 \u2264 \u03b7, we could see an increase in the maximum producer utility by increasing the privacy parameter. Next, we provide an intuition for this result and explain why increasing the privacy parameter might actually lead to an increase in the producer\u2019s utility in these cases.\nThe maximum utility for a producer aligns with first-degree price discrimination, where consumers with identical values are grouped into a single segment. With privacy implemented, each segment is subject to potential alteration with a certain probability, possibly resulting in suboptimal pricing by the producer. As \u03b2 increases, the likelihood of such occurrences also rises.\nConsider the scenario where \u03b7 is close to one, i.e., the high and low values are relatively close. In this case, the cost of mistakenly pricing a segment of high-value customers at a lower price is not that severe. However, the suboptimal pricing of a segment of low-value consumers at a higher price can be considerably costly, as the revenue will be completely lost. This especially intensifies when the aggregated market is predominantly composed of low-value consumers, i.e., when \u03b1\u2217 is small.\nThis scenario, where \u03b7 is large and \u03b1\u2217 is small, is one of the two cases where the nonmonotonicity occurs. In this context, mistakingly offering a low price to high-value consumers is not detrimental. However, mistakingly offering a high price to low-value consumers can significantly reduce the producer\u2019s utility. Why might increasing privacy potentially enhance the producer\u2019s\nmaximum utility in this scenario? Because higher \u03b2 induces a more conservative pricing strategy, making the producer more inclined to opt for the lower price. Specifically, for \u03b7 > 1/2, the pricing threshold t\u2217 shifts from \u03b7 towards 1 as \u03b2 increases, implying that producers are less likely to select the higher price as the privacy parameter grows. Consequently, the risk of mistakingly offering a low price to high-value consumers diminishes, potentially boosting the producer\u2019s maximum utility.\nThe other instance of nonmonotonicity arises when \u03b7 is small and \u03b1\u2217 is large. In this scenario, there is a substantial difference between high and low values. In such cases, mistakenly offering a low price to high-value consumers can be particularly detrimental, leading to a significant reduction in maximum producer utility as \u03b2 increases. Consequently, with the increase of \u03b2, and as the observed market becomes less informative, the producer becomes more inclined to take the risk of selecting the higher price. In such circumstances, and when the market is mainly composed of high-value customers, this riskier pricing strategy might lead to an increase in producer utility.\nThe impact of increasing the privacy parameter on the consumer utility:\nLemma 3. The minimum consumer utility across all segmentations is an increasing function of \u03b2 over the interval the interval [0,min{2\u03b7, 2(1 \u2212 \u03b7)}] if and only if \u03b7 \u2265 1/2.\nThis result suggests that, for any \u03b7 < 1/2, the minimum consumer utility exhibits nonmonotonic behavior as \u03b2 varies within the interval [0, 2\u03b7]. For producer utility, as we noted, an increase in \u03b2 when \u03b7 is small leads to a preference for the higher price. Now, it is important to note that the consumer utility is non-zero only when their value is higher than the chosen price, an occurrence that becomes less frequent if the producer is more willing to select the higher price. Consequently, an increase in the privacy parameter could lead to a decrease in the minimum consumer utility in such scenarios."
        },
        {
            "heading": "4 Price discrimination limits under privacy: the general case",
            "text": "Here, we turn our focus to the general case with K > 2 values. As we establish, once we consider the general case, the fundamental difference between our characterization and that of Bergemann et al. [2015] without privacy becomes more apparent. In particular, the set of possible consumer and producer utilities is no longer a triangle and instead is a more nuanced polytope that we will characterize. However, we establish that many of the insights that we derived in the special case of K = 2 continue to hold in the general setting as well.\nWe make use of the following notation that enables driving the analogue of Lemma 1 in the general case. For any i \u2208 [K], let X \u03b2i \u2286 X be the set of (observed) markets for which vi is an optimal price, i.e.,\nX \u03b2i = { x\u0302 \u2223 \u2223 \u2223 Up(vi|x\u0302) \u2265 Up(vj |x\u0302) for any j \u2208 [K] } , (18)\nwhere Up(\u00b7|x\u0302) is defined in (5). Going back to the case K = 2, X \u03b2 1 and X \u03b2 2 corresponds to \u03b1 \u2208 [0, t \u2217] and \u03b1 \u2208 [t\u2217, 1], respectively. The following result establishes the necessary and sufficient condition for X \u03b2k to be non-empty.\nLemma 4. For any i \u2208 [K], the set X \u03b2i is non-empty if and only if \u03b2 \u2264 \u03b2\u0304i, where \u03b2\u0304i is the unique solution of the following equation 5:\n\u03b2\u0304i 1\u2212 \u03b2\u0304i := max j\nK (\nvi \u2212 1(j < i)vj\n)\n[\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n]\n+\n. (19)\nNote that \u03b2 \u2265 \u03b2\u0304i implies that price vi is not optimal for any observed market, thereby precluding the producer from choosing vi. To better understand this, recall that the expected utility of the producer, given an observed market x\u0302 and upon choosing price vi, denoted as Up(vi|x\u0302), is given by\nUp(vi|x\u0302) = (1\u2212 \u03b2) Up(vi, x\u0302) + \u03b2 Ex\u223cunif(X ) [Up(vi, x)] . (20)\nEssentially, the expected utility of the producer can be viewed as a convex combination of their utility in the fully observed market scenario (analogous to the non-private case) and their utility under complete uncertainty, where they rely on a uniform prior over markets. As \u03b2 increases, indicating a noisier observed market, the weight the producer places on their utility from a uniform prior grows. Consequently, they may opt not to select certain prices that would result in lower utility when the market is drawn from a uniform distribution.\nSpecifically, for the case when K = 2, one can verify \u03b2\u03041 = 2(1 \u2212 \u03b7) and \u03b2\u03042 = 2\u03b7. This is the rationale behind imposing Assumption 1 in the previous section, which guarantees that in the scenario where K = 2, both prices are viable options. If this were not the case, only one pricing option would remain, causing the set S to reduce to a single point.\nOur next result extends Proposition 2 to this general case.\nProposition 3. The set S can be represented as\nS = \u03b2c+ (1\u2212 \u03b2)S \u2032, (21)\nwhere c \u2208 R2 is a constant vector, given by\nc =\n[\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217),\nK \u2211\nk=1\nP(X \u03b2k ) Up(vk, x \u2217)\n]\u22a4\n, (22)\nwhere P(\u00b7) denotes the uniform distribution over X , and Uc(\u00b7, \u00b7) and Up(\u00b7, \u00b7) are as defined in (4). Moreover,\n5[z]+ denotes max{z, 0}.\nthe set S \u2032 is given by\nS \u2032 =\n{\n[ K \u2211\nk=1\n\u03b3k Uc(vk, xk),\nK \u2211\nk=1\n\u03b3k Up(vk, xk) ]\u22a4 \u2223 \u2223 \u2223 xk \u2208 X \u03b2 k , \u03b3k \u2208 [0, 1],\nK \u2211\nk=1\n\u03b3kxk = x \u2217,\nK \u2211\nk=1\n\u03b3k = 1\n}\n.\n(23)\nThis result shows that, in the general case, and similar to the case when K = 2, the set S , which depicts the limits of price discrimination under privacy mechanisms, is influenced by three factors: a constant shift \u03b2c, a scaling factor 1\u2212\u03b2, and the set S \u2032 that determines its shape. Consequently, the insights derived for K = 2 based on this characterization extend to the general case. In particular, the shift \u03b2c indicates that, in contrast to the non-private case, the consumers\u2019 minimum utility is not zero. Moreover, the scaling factor 1\u2212 \u03b2 suggests that market segmentation generally becomes less impactful as the privacy factor \u03b2 increases.\nOur primary goal now is to specify the set S \u2032. As we discussed in the case of K = 2, the set S \u2032 captures the indirect impact of privacy, as it illustrates the effects of the change in the producer\u2019s pricing strategy, given that they know the privacy mechanism is applied. More specifically, S \u2032 is the set of potential pairs of utilities for the consumer and producer when the producer accurately perceives the segmented markets (as in the non-private case) but adopts the pricing rule from the private case (associated with sets {X \u03b2k }k) rather than the optimal pricing rule for the non-private scenario. In fact, in the non-private case with \u03b2 = 0, this set aligns with S .\nProposition 3 also suggests that our analysis can be limited to segmentations where, for any value vk, there is at most one segment whose optimal corresponding price is vk. This effectively broadens the insights of Proposition 2 from the case of K = 2 and simplifies the characterization of S \u2032. As we stated in the previous section, the set S \u2032 is a triangle for K = 2. In general, we next establish that it is a convex polygon.\nTheorem 2. Let P denote a convex polytope in RK 2 , represented by the variables {z(i, j)}Ki,j=1 and the following equations:\nz(i, 1) \u2265 \u00b7 \u00b7 \u00b7 \u2265 z(i,K) \u2265 0 for all i \u2208 [K], (24a) z(i, i)vi \u2212 z(i, j)vj \u2265 \u03b2\nK(1\u2212 \u03b2) z(i, 1)\n(\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n)\nfor all i, j \u2208 [K], (24b)\nK \u2211\ni=1\nz(i, j) =\nK \u2211\nk=j\nx\u2217(vk) for all j \u2208 [K]. (24c)\nThen, the set S \u2032, given in (23), can be cast as a linear transformation of P from RK 2 to R2, given by\nS \u2032 =\n \n\nK\u22121 \u2211\ni=1\nK \u2211\nj=i+1\n(vj \u2212 vj\u22121)z(i, j),\nK \u2211\ni=1\nviz(i, i)\n \n\n. (25)\nProof sketch: To understand how this result is established, recall the definition of S \u2032, which in-\nvolves K markets x1, \u00b7 \u00b7 \u00b7 , xK , with each market xi \u2208 X \u03b2 i . This implies that vi is an optimal price for xi. Now, let y(i, \u00b7) represent the complementary cumulative distribution function of market xi, defined as:\ny(i, j) :=\nK \u2211\nk=j\nxi(vk).\nIt is evident that:\n1 = y(i, 1) \u2265 \u00b7 \u00b7 \u00b7 \u2265 y(i,K) \u2265 0 for all i \u2208 [K].\nFurthermore, we verify that vi being the optimal price for xi necessitates:\ny(i, i)vi \u2212 y(i, j)vj \u2265 \u03b2\nK(1\u2212 \u03b2)\n(\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n)\nfor all i, j \u2208 [K]. (26)\nTherefore, conditions (24a) and (24b) are satisfied if we substitute z(\u00b7, \u00b7) with y(\u00b7, \u00b7). Additionally, the aggregated market imposes the condition \u2211K\nk=1 \u03b3kxk = x \u2217. Using y(\u00b7, \u00b7), this condition can be\nrepresented as: K \u2211\ni=1\n\u03b3iy(i, j) = K \u2211\nk=j\nx\u2217(vk) for all j \u2208 [K]. (27)\nBy defining z(i, j) = \u03b3iy(i, j), we immediately see that (24c) is valid. The other two conditions, (24a) and (24b), are also satisfied since all y(i, \u00b7) terms are multiplied by the same variable \u03b3i. Therefore (24) provide a representation for the space of segmentations in the definition S \u2032, i.e., (\u03b3k) K k=1 and (xk) K k=1, in form of a convex polytope. It remains to show that the linear mapping (25) is equal to the consumer and producer utilities. We defer this part to the appendix.\nWe should highlight that the proof outlined above provides a construction for a segmentation\nto achieve any feasible point for the consumer and producer utilities.\nBefore proceeding, let us highlight that in the special of \u03b2 = 0, the polytope characterized in Theorem 2 simplifies to a triangle as characterized in Bergemann et al. [2015]. However, in our setting, with privacy, it takes a more nuanced form. Let us present an example illustrating some potential shapes of S \u2032. This example will serve as a basis to introduce and motivate several results concerning S \u2032 and, consequently, the set S .\nExample 1. Consider the case K = 5 with values [vk] 5 k=1 = [0.8, 2, 3, 4.2, 5] and \u03b2 = 0.3. Figure 6 illustrates S \u2032 for three distinct aggregated market values x\u2217. Specifically, the aggregated markets associated with Figures 6a, 6b, and 6c are (0.2, 0.1, 0.4, 0.2, 0.1), (0.2, 0.3, 0.2, 0.2, 0.1), and (0.2, 0.1, 0.1, 0.05, 0.55), respectively. The dashed triangle TQR in the figures represents the nonprivate case, in which, as previously stated, the set S \u2032 coincides with the set S .\nNotice that the point Q in Figure 6 corresponds to the first-degree price discrimination and is\ngiven by (\n0, K \u2211\nk=1\nx\u2217(vk)vk\n)\n.\nWe next list a number of results regarding S and S \u2032. The first one is a straightforward consequence of Theorem 2:\nCorollary 1. The set S \u2032 forms a polygon and is situated to the right of the y-axis and to the left of the line passing through points Q and R, which represents the total surplus equal to the maximum possible surplus, i.e., \u2211K\nk=1 x \u2217(vk)vk.\nThe figures in Figure 6 suggest that the set S \u2032 includes the point Q. This observation holds true when \u03b2 is sufficiently small, ensuring that all values within the support of x\u2217 remain viable as optimal prices. In such scenarios, a segmentation that groups all consumers with the same value into the same segment can attain point Q. However, if \u03b2 is so large that, for some k, the value vk is never selected by the producer while x\u2217(vk) > 0, the producer cannot achieve the maximum utility as the consumers with value vk will never be priced at vk. We formalize this observation in the following corollary:\nCorollary 2. The set S \u2032 includes the point Q if and only if\n\u03b2 \u2264 min k:x\u2217(vk)>0 \u03b2\u0304k.\nReturning to Example 1, we calculate that (\u03b2\u0304k) 5 k=1 equals (0.44, 0.91, 1, 0.91, 0.54). Therefore, with \u03b2 = 0.5, for instance, one of the values (v1) becomes infeasible as optimal market prices. Figure 7 displays S \u2032 using the parameters from Example 1, but with \u03b2 = 0.5 instead of \u03b2 = 0.3. As anticipated, the point Q is no longer included in the set S \u2032.\nNow, let us consider what these two facts imply for the set S , i.e., the constraints on price\ndiscrimination under privacy considerations.\nFact 1. The maximum possible utility of the producer from market segmentation is always weakly smaller when a privacy mechanism is applied compared to the non-private case.\nTo understand this, note that the maximum utility of the producer in the non-private case\ncorresponds to point Q, which is expressed by\nK \u2211\nk=1\nx\u2217(vk)vk. (28)\nHowever, in the private case, as Proposition 3 demonstrates, the utility is bounded by\n\u03b2\n(\nmax vk\nUp(vk, x \u2217)\n)\n+ (1\u2212 \u03b2) ( maximum producer utility in S \u2032 ) . (29)\nThis term is a convex combination of two components, where the second component is at most equal to (28) (when Q is included in S \u2032), and the first component corresponds to the optimal uniform pricing (line TR) and is weakly smaller than (28). This confirms the reduction in the maximum producer utility under privacy. Furthermore, when \u03b2 is sufficiently large such that Q is not included in S \u2032, the second component in (29) also becomes strictly smaller than (28).\nNow, let us focus on the impact of the privacy mechanism on the minimum producer utility. In the non-private case, the minimum producer\u2019s utility is represented by the line TR. To compare this with the private case, we need to examine the lower boundary of S \u2032. Observing Figures 6 and 7, it appears that S \u2032 consistently intersects with line TR and sometimes even crosses this line. We formalize this observation in the following result:\nProposition 4. Suppose \u03b2 > 0 and x\u2217(vk) > 0 for all k \u2208 [K]. The lowest point of the set S \u2032 lies on or beneath the line that represents optimal uniform pricing in the non-private case, i.e., line TR. Moreover, it is below this line if and only if the optimal pricing for the non-private case and the fully private case differ, i.e., there exists i such that\n(K + 1\u2212 i)\nK vi >\n(K + 1\u2212 j)\nK vj for all j \u2208 argmax k\u2208[K] Up(vk, x\n\u2217). (30)\nWe defer the proof of this proposition to the appendix. Revisiting Example 1, we find that while the condition (30) is not met for x\u2217 corresponding to Figure 6a, it is fulfilled for the aggregated markets associated with Figures 6b and 6c. Consequently, the set S \u2032 intersects with line TR in the former case without crossing it, whereas in the latter two cases, it extends below this line.\nFor the case K = 2, the condition (30) translates into either \u03b1\u2217 \u2265 \u03b7 \u2265 1/2 or \u03b1\u2217 \u2264 \u03b7 \u2264 1/2. The former condition, \u03b1\u2217 \u2265 \u03b7 \u2265 1/2, corresponds to Figures 4b and 4c. It is important to note that these figures depict the set S , which is derived from the set S \u2032 after applying the scaling and shift described in Proposition 3. Specifically, line TR in S \u2032 corresponds to line T\u0303 R\u0303 in these figures. Consequently, the lowest point of S \u2032 maps to point C that is located below the line T\u0303 R\u0303 in both cases. In contrast, for Figure 4a, where the condition (30) is not met, the lowest point of S \u2032 maps to point A, which lies precisely on the line T\u0303 R\u0303. Similarly, for the case \u03b1\u2217 \u2264 \u03b7 \u2264 1/2, as illustrated in Figures 5a and 5b, the lowest point of S \u2032 maps to point A which is situated below the line T\u0303 R\u0303.\nIt is worth emphasizing that condition (30) can indicate the ambiguity that a privacy mechanism introduces into the producer\u2019s pricing strategy. Note that when this condition is not met, it implies that the optimal pricing strategy remains constant, regardless of the privacy level. This makes the privacy mechanism less detrimental to the producer\u2019s utility. Conversely, when this condition is satisfied, it indicates that the optimal strategy varies with the level of privacy, thereby diminishing the producer\u2019s utility due to suboptimal pricing decisions.\nCorollary 3. The minimum utility of the producer across all segmentations is always weakly smaller when a privacy mechanism is applied compared to the non-private case.\nTo see why this result holds, notice that, according to Proposition 3, the minimum utility of the\nproducer is given by\n\u03b2\n(\nK \u2211\nk=1\nP(X \u03b2k ) Up(vk, x \u2217)\n)\n+ (1\u2212 \u03b2) ( minimum producer utility in S \u2032 ) , (31)\nwhich is a convex combination of two terms. The first one is upper bounded by maxvk Up(vk, x \u2217), i.e., the minimum utility of the producer in the non-private case (corresponding to line TR). Proposition 4 implies that the minimum producer utility in S \u2032 is (weakly) smaller than this term which establishes Corollary 3.\nWe now shift our attention to the consumer\u2019s utility. As previously discussed following Proposition 3, the privacy mechanism guarantees a non-zero minimum utility for the consumer, a stark contrast to the non-private case where the consumer\u2019s minimum utility can be zero. In the following result, we explore another phenomenon that contributes to consumer\u2019s minimum utility.\nFact 2. The set S \u2032 is distanced from the y-axis by a minimum of x\u2217(vK)(vK \u2212 vK\u22121) when \u03b2 > \u03b2\u0304K .\nThe main point to note is that for sufficiently large values of \u03b2, the set S \u2032 has a positive distance from the y-axis. This results in a guaranteed additional positive minimum utility term for the consumer within the set S . An illustration of this phenomenon is provided in Figure 8, which\ndisplays the set S \u2032 for the values specified in Example 1, but with \u03b2 = 0.6. As stated earlier, in Example 1, \u03b2\u03045 equals 0.54.\nFinally, as we discussed following Theorem 1 through examples with K = 2, the maximum utility for consumers, in general, could either increase or decrease under the privacy mechanism. The following result better highlights why both cases are possible.\nProposition 5. Suppose \u03b2 < mink \u03b2\u0304k.\n(i) Assume v1 is the optimal uniform price in the non-private case, and the values satisfy the condition:\nvi+1 \u2265 K \u2212 i\nK + 1\u2212 i vi for all i \u2208 [K \u2212 1]. (32)\nThen, the maximum utility for the consumer is a decreasing function of \u03b2.\n(ii) Assume vK is the optimal uniform price in the non-private case, and the values satisfy the condition:\nvi+1 \u2264 K \u2212 i\nK + 1\u2212 i vi for all i \u2208 [K \u2212 1]. (33)\nThen, there exists \u03b1\u0303 and \u03b2\u0303 > 0 such that the maximum utility for the consumer is an increasing function over the interval [0, \u03b2\u0303] when x\u2217(vK) \u2265 \u03b1\u0303.\nThe proof is provided in the appendix. In particular, for the case when K = 2, the conditions outlined in part (i), which lead to a decrease in maximum consumer utility under privacy, translate to \u03b1\u2217 \u2264 \u03b7 \u2264 1/2. On the other hand, the conditions of part (ii), which implies an increase in maximum consumer utility in the presence of the privacy mechanism, correspond to \u03b1\u2217 \u2265 \u03b7 \u2265 1/2 (also, as established in the proof, we can set \u03b1\u0303 = 12\u2212\u03b7 in this case).\nBut what differentiates these two cases? Why does privacy help consumer utility in one scenario while hurting it in another? The rationale here is similar to the explanations provided in Section 3.4. The condition (32) indicates that under a uniform market prior, the highest price vK\nleads to the maximum expected utility for the producer, while the lowest price v1 yields the minimum. Consequently, when privacy introduces ambiguity, the producer has more incentive to prefer higher prices. However, the assumption that v1 is the optimal uniform price suggests that the market is mainly composed of low-value customers. Therefore, a tendency to set higher prices due to privacy considerations adversely affects consumer utility. In other words, privacy prompts the producer to risk setting higher prices, resulting in diminished consumer utility.\nConversely, the condition (33) means that under a uniform market prior, the lowest price v1 leads to the highest expected utility for the producer, while the highest price vK offers the least. Thus, with privacy in play, the producer is likely to adopt a more conservative stance and favor lower prices. That said, given that vK is the optimal uniform price and x \u2217(vK) \u2265 \u03b1\u0303, we have a market with a majority of high-value customers who benefit more when the market price is set lower. In summary, applying the privacy mechanism makes the producer to take a more conservative pricing approach, resulting in more consumers purchasing the product at a lower price than their value."
        },
        {
            "heading": "5 Conclusion",
            "text": "This paper explores the intersection of price discrimination and consumer privacy. Building upon the framework of Bergemann et al. [2015], we first introduce a privacy mechanism that adds a layer of uncertainty regarding consumer values, thereby directly impacting both consumer and producer utilities in a market setting. We use a novel analysis based on a merging technique to characterize the set of all pairs of consumer and producer utilities and establish that, unlike the existing results, it is not necessarily a triangle. Instead, it can be viewed as the linear mapping of a high-dimensional polytope into R2. We used our characterization to derive several insights. In particular, we prove that imposing a privacy constraint does not necessarily help the consumers and, in fact, can reduce their utility.\nWe view our paper as a first attempt to understand how user privacy impacts the limits of price discrimination. There are several exciting directions to explore in this vein. For instance, an interesting future direction is to extend our results to a setting with a multiproduct seller (similar to that of Haghpanah and Siegel [2022])."
        },
        {
            "heading": "6 Acknowledgment",
            "text": "Alireza Fallah acknowledges support from the European Research Council Synergy Program, the National Science Foundation under grant number DMS-1928930, and the Alfred P. Sloan Foundation under grant G-2021-16778. The latter two grants correspond to his residency at the Simons Laufer Mathematical Sciences Institute (formerly known as MSRI) in Berkeley, California, during the Fall 2023 semester. Michael Jordan acknowledges support from the Mathematical Data Science program of the Office of Naval Research under grant number N00014-21-1-2840 and the European\nResearch Council Synergy Program."
        },
        {
            "heading": "A Deferred Proofs",
            "text": ""
        },
        {
            "heading": "A.1 Proof of Proposition 1",
            "text": "In our case, the prior distribution is uniform, and the posterior distribution after observing the output of the privacy mechanism is uniform only with probability \u03b2. Therefore, for Y = M\u03b2(X), we have\nTV(pX|Y (\u00b7|Y ), pX(\u00b7)) = 1\u2212 \u03b2\nand therefore the privacy-leakage defined in Definition 1 becomes 1\u2212 \u03b2."
        },
        {
            "heading": "A.2 Proof of Lemma 1",
            "text": "Notice that the producer\u2019s utility by setting the price equal to v1 is given by Up(v1|x\u0302) = v1 as all the consumer will buy the product at this price. For price v2, the expected utility is given by\nUp(v2|x\u0302) = v2\n(\n(1\u2212 \u03b2)\u03b1\u0302+ \u03b2\n\u222b 1\n0 \u03b1 d\u03b1\n)\n= v2\n(\n(1\u2212 \u03b2)\u03b1\u0302 + \u03b2\n2\n)\n. (34)\nComparing this with Up(v1|x\u0302) = v1 completes the proof."
        },
        {
            "heading": "A.3 Proof of Proposition 2",
            "text": "First, notice that different optimal pricing rules only differ in how they price a market upon observing \u03b1\u0302 = t\u2217, since in this situation both prices v2 and v1 are optimal. Therefore, we can parameterize the optimal pricing rules by the probability of setting the price to v2 given \u03b1\u0302 = t \u2217. This probability is denoted by \u03b4 \u2208 [0, 1] and its corresponding optimal pricing rule is represented by \u03c6\u03b4(\u00b7).\nNext, we characterize the expected utilities of consumer and the producer from a market \u03b1. Given the above discussion, and with a slight abuse of notation, we denote these expected utilities by U \u03b4p (\u00b7) and U \u03b4 c (\u00b7), respectively.\nLemma 5. Consider a market x = (1\u2212\u03b1,\u03b1) and a pricing rule \u03c6(\u00b7) that sets the price of a market v2 with probability \u03b4 in the case of observing \u03b1\u0302 = t\u2217.\n(i) If \u03b1 < t\u2217, then U \u03b4p (x) = f1(\u03b1) and U \u03b4 c (x) = g1(\u03b1), where f1(\u00b7) and g1(\u00b7) are given by\nf1(\u03b1) = (1\u2212 \u03b2 + \u03b2t \u2217)v1 + \u03b2(1\u2212 t \u2217)\u03b1v2, g1(\u03b1) = (1\u2212 \u03b2 + \u03b2t \u2217)\u03b1(v2 \u2212 v1).\n(ii) If \u03b1 > t\u2217, then U \u03b4p (x) = f2(\u03b1) and U \u03b4 c (x) = g2(\u03b1), where f2(\u00b7) and g2(\u00b7) are given by\nf2(\u03b1) = \u03b2t \u2217v1 + (1\u2212 \u03b2 + \u03b2(1\u2212 t \u2217))\u03b1v2, g2(\u03b1) = \u03b2t \u2217\u03b1(v2 \u2212 v1).\n(iii) If \u03b1 = t\u2217, then U \u03b4p (x) and U \u03b4 c (x) are given by\nU \u03b4p (x) = (1\u2212 \u03b4)f1(t \u2217) + \u03b4f2(t \u2217), U \u03b4c (x) = (1\u2212 \u03b4)g1(t \u2217) + \u03b4g2(t \u2217).\nProof. Suppose \u03b1 < t\u2217. Then, with probability 1 \u2212 \u03b2 + \u03b2t\u2217, the realized \u03b1\u0302 falls within the interval [0, t\u2217), and hence the optimal price is v1 as per Lemma 1. In this scenario, the producer\u2019s utility would be v1 and the consumer\u2019 utility would be \u03b1(v2\u2212v1). Also, with probability \u03b2(1\u2212 t \u2217), \u03b1\u0302 falls into the interval (t\u2217, 1], and the market would be priced at v2. Here, the producer\u2019s utility is \u03b1v2 and the consumer\u2019 utility is zero. Summing these scenarios gives the expected utilities. It is also worth noting that the probability of \u03b1\u0302 = t\u2217 is zero in this case.\nThe case \u03b1 > t\u2217 can be argued similarly. Finally, for the case \u03b1 = t\u2217, with probability 1 \u2212 \u03b2 we have \u03b1\u0302 = t\u2217 which leads to choosing price v2 with probability \u03b4 and price v1 with probability 1\u2212 \u03b4. This observation establishes the final result.\nNow, we turn back to our goal of characterizing the set of utility pairs (8). In general, searching over the entire set of segmentations and pricing rules can be challenging. However, the following lemma enables us to narrow our search without loss of generality.\nLemma 6. Suppose Assumption 1 holds. Then,\nS =\n{\n[ \u03b31g1(\u03b11) + \u03b32g2(\u03b12), \u03b31f1(\u03b11) + \u03b32f2(\u03b12) ]\u22a4 \u2223 \u2223 \u2223 (35)\n\u03b11 \u2208 [0,min{t \u2217, \u03b1\u2217}], \u03b12 \u2208 [max{t \u2217, \u03b1\u2217}, 1], \u03b31 and \u03b32 \u2208 [0, 1], \u03b31 + \u03b32 = 1, \u03b31\u03b11 + \u03b32\u03b12 = \u03b1 \u2217\n}\nProof. We first prove that for any segmentation \u03c3 \u2208 \u03a3 and optimal pricing rule \u03c6\u03b4(\u00b7), there is a representation in the form of right hand side of (35) such that\n\u2211\nx\u2208supp(\u03c3)\n\u03c3(x)U \u03b4p (x) = \u03b31f1(\u03b11) + \u03b32f2(\u03b12) and \u2211\nx\u2208supp(\u03c3)\n\u03c3(x)U \u03b4c (x) = \u03b31g1(\u03b11) + \u03b32g2(\u03b12). (36)\nTo simplify the notation, we use \u03c3(\u03b1) and U \u03b4p (\u03b1) to denote \u03c3(x) and U \u03b4 p (x) when x = (1 \u2212 \u03b1,\u03b1). Notice that\n\u2211\n\u03b1:\u03c3(\u03b1)>0\n\u03c3(\u03b1)U \u03b4p (\u03b1) = \u2211\n\u03b1<t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1)U \u03b4p (\u03b1) + \u2211\n\u03b1>t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1)U \u03b4p (\u03b1) + \u03c3(t \u2217)U \u03b4p (t \u2217)\n= \u2211\n\u03b1<t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1)f1(\u03b1) + \u2211\n\u03b1>t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1)f2(\u03b1) + \u03c3(t \u2217) ((1\u2212 \u03b4)f1(t \u2217) + \u03b4f2(t \u2217)) , (37)\nwhere the last equation uses Lemma 5. Now, notice that f1(\u00b7) and f2(\u00b7) are linear functions. Therefore, we can cast (37) as\n\u03b31f1(\u03b11) + \u03b32f2(\u03b12)\nwith\n\u03b31 = \u2211\n\u03b1<t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1) + (1\u2212 \u03b4)\u03c3(t\u2217),\n\u03b11 = 1\n\u03b31\n\n\n\u2211\n\u03b1<t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1)\u03b1 + (1\u2212 \u03b4)\u03c3(t\u2217)t\u2217\n\n ,\n\u03b32 = \u2211\n\u03b1>t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1) + \u03b4\u03c3(t\u2217),\n\u03b12 = 1\n\u03b32\n\n\n\u2211\n\u03b1>t\u2217&\u03c3(\u03b1)>0\n\u03c3(\u03b1)\u03b1 + \u03b4\u03c3(t\u2217)t\u2217\n\n .\nNotice that a similar representation can also be shown for the consumer\u2019 utility. We next verify that the conditions in (35) are met. Firstly, as \u03c3(\u00b7) is a segmentation within \u03a3, it can be verified that \u03b31 and \u03b32 are nonnegative and together sum up to one. Furthermore, the condition \u2211\n\u03b1:\u03c3(\u03b1)>0 \u03c3(\u03b1)\u03b1 = \u03b1 \u2217 ensures that \u03b31\u03b11 + \u03b32\u03b12 = \u03b1 \u2217.\nGiven that \u03b11 is effectively a weighted average of t \u2217 and several values of \u03b1 < t\u2217, it follows\nthat \u03b11 \u2264 t \u2217. Similarly, it can be established that \u03b12 \u2265 t \u2217. Moreover, a weighted average of \u03b11 and \u03b12 equates to \u03b1 \u2217. Consequently, we should have \u03b11 \u2264 \u03b1 \u2217 \u2264 \u03b12. All these considerations imply that \u03b11 \u2208 [0,min{t \u2217, \u03b1\u2217}] and \u03b12 \u2208 [max{t \u2217, \u03b1\u2217}, 1].\nNow we establish the converse. Suppose \u03b11, \u03b12, \u03b31, and \u03b32 are given, satisfying the conditions on the right-hand side of (35). We will show that there exists a segmentation \u03c3 \u2208 \u03a3 and an optimal pricing rule \u03c6\u03b4(\u00b7) such that (36) is satisfied. If \u03b11 < t \u2217 and \u03b12 > t \u2217, we can consider a segmentation with two markets (1 \u2212 \u03b11, \u03b11) and (1 \u2212 \u03b12, \u03b12), assigned probabilities \u03b31 and \u03b32 respectively, and apply any optimal pricing rule to satisfy (36). If \u03b11 = t \u2217 and \u03b12 > t \u2217, then \u03c60(\u00b7) should be taken as the optimal pricing rule. Conversely, if \u03b11 < t \u2217 and \u03b12 = t \u2217, \u03c61(\u00b7) becomes the optimal pricing rule. The only remaining scenario is \u03b11 = \u03b12 = t \u2217\u2217, where we take \u03c6\u03b4(\u00b7) with \u03b4 = \u03b32 as the optimal pricing rule. This completes the proof.\nNext, note that we can cast \u03b31f1(\u03b11) + \u03b32f2(\u03b12) in the right hand side of (35) in the following\nway:\n\u03b31f1(\u03b11) + \u03b32f2(\u03b12) = \u03b2 (t \u2217v1 + (1\u2212 t \u2217)\u03b1\u2217v2) + (1\u2212 \u03b2) (\u03b31v1 + \u03b32\u03b12v2) , (38)\nwhere we used the fact that \u03b31\u03b11 + \u03b32\u03b12 = \u03b1 \u2217 and \u03b31 + \u03b32 = 1. Similarly, we have\n\u03b31g1(\u03b11) + \u03b32g2(\u03b12) = \u03b2t \u2217\u03b1\u2217(v2 \u2212 v1) + (1\u2212 \u03b2)\u03b31\u03b11(v2 \u2212 v1). (39)\nNotice that the terms \u03b2 (t\u2217v1 + (1\u2212 t \u2217)\u03b1\u2217v2) and \u03b2t \u2217\u03b1\u2217(v2 \u2212 v1) in (38) and (39), respectively, are constants. Thus, it suffices to characterize the set S \u2032."
        },
        {
            "heading": "A.4 Proof of Theorem 1",
            "text": "We first identify the set S \u2032, doing so by separately considering the cases \u03b1\u2217 \u2265 t\u2217 and \u03b1\u2217 \u2264 t\u2217.\nCase (I): \u03b1\u2217 \u2265 t\u2217\nLemma 7. Suppose \u03b2 \u2264 min{2\u03b7, 2(1 \u2212 \u03b7)} and \u03b1\u2217 \u2265 t\u2217. Then S \u2032 is in the form of a triangle with three vertices E = [0, \u03b1\u2217v2 + (1\u2212 \u03b1 \u2217)v1] \u22a4, F = [0, \u03b1\u2217v2] \u22a4, and G = E + [\u03be,\u2212\u03be]\u22a4 with\n\u03be := (1\u2212 \u03b1\u2217) t\u2217\n1\u2212 t\u2217 (v2 \u2212 v1).\nProof. First, note that, the two conditions \u03b31 + \u03b32 = 1 and \u03b31\u03b11 + \u03b32\u03b12 = \u03b1 \u2217 together imply that\n\u03b31 = \u03b12 \u2212 \u03b1\n\u2217\n\u03b12 \u2212 \u03b11 , \u03b32 = \u03b1\u2217 \u2212 \u03b11 \u03b12 \u2212 \u03b11 . (40)\nNext, let us define z1 := \u03b31(1 \u2212 \u03b11). Using \u03b12 \u2208 [\u03b1 \u2217, 1] along with (40) implies that, for any \u03b11, z1 spans the interval [0, 1 \u2212 \u03b1\u2217] as \u03b12 varies over [\u03b1 \u2217, 1]. Additionally, let us define z2 :=\n\u03b11 1\u2212\u03b11 . Note\nthat as \u03b11 spans the interval [0, t \u2217], z2 spans the interval [0, t\u2217\n1\u2212t\u2217 ].\nNow, notice that we can rewrite \u03b31v1 + \u03b32\u03b12v2 as\n\u03b31v1 + \u03b32\u03b12v2 = \u03b31\u03b11v2 \u2212 \u03b31\u03b11(v2 \u2212 v1) + \u03b31(1\u2212 \u03b11)v1 + \u03b32\u03b12v2\n= \u03b1\u2217v2 + \u03b31(1\u2212 \u03b11)v1 \u2212 \u03b31\u03b11(v2 \u2212 v1) = \u03b1\u2217v2 + z1v1 \u2212 z1z2(v2 \u2212 v1), (41)\nwhere the second equality used the fact that \u03b31\u03b11 + \u03b32\u03b12 = \u03b1 \u2217. Therefore, we can cast S \u2032 as\nS \u2032 =\n{\n[\nz1z2(v2 \u2212 v1), \u03b1 \u2217v2 + z1v1 \u2212 z1z2(v2 \u2212 v1)\n]\u22a4 \u2223 \u2223\n\u2223 z1 \u2208 [0, 1 \u2212 \u03b1 \u2217], z2 \u2208 [0, t\u2217\n1\u2212 t\u2217 ]\n}\n. (42)\nIt is straightforward to verify that this set is indeed the triangle EFG.\nFigure 9 illustrates this triangle for the two cases of t\u2217 \u2264 \u03b7 and t\u2217 \u2265 \u03b7. Notice that the triangle formed by points A, B, and D corresponds with the non-private case where \u03b2 = 0, implying t\u2217 = \u03b7 and S \u2032 = S .\nCase (II): \u03b1\u2217 \u2264 t\u2217\nLemma 8. Suppose \u03b2 \u2264 min{2\u03b7, 2(1 \u2212 \u03b7)} and \u03b1\u2217 \u2264 t\u2217. Then S \u2032 is in the form of a triangle with three vertices E = [0, \u03b1\u2217v2 + (1\u2212 \u03b1 \u2217)v1] \u22a4, F = [\u03b1\u2217(v2 \u2212 v1), v1] \u22a4, and G = [0, \u03ba]\u22a4 with\n\u03ba := v1 + \u03b1 \u2217v2(1\u2212\n\u03b7 t\u2217 ).\nProof. The proof technique is similar to the ones used in the proof of Lemma 7. Here, we define w1 := \u03b32\u03b12 and w2 := 1 \u03b12 . Using (40), we can see that \u03b11 and \u03b12 sweeping over [0, \u03b1 \u2217] and [t\u2217, 1], respectively, imply w1 and w2 spanning over [0, \u03b1 \u2217] and [1, 1\nt\u2217 ], respectively.\nWe next represent S \u2032 using w1 and w2. Particularly, we can rewrite S \u2032 as\nS \u2032 =\n{\n[\n(\u03b1\u2217 \u2212 w1)(v2 \u2212 v1), v1 +w1v2 \u2212 w1w2v1\n]\u22a4 \u2223 \u2223\n\u2223 w1 \u2208 [0, \u03b1 \u2217], w2 \u2208 [1, 1\nt\u2217 ]\n}\n. (43)\nWe can see that this is the triangle given in the lemma\u2019s statement.\nFigure 10 illustrates this triangle for the two cases of t\u2217 \u2264 \u03b7 and t\u2217 \u2265 \u03b7. Here, the triangle formed by points A, E, and G corresponds with the non-private case where \u03b2 = 0, implying t\u2217 = \u03b7 and S \u2032 = S . Now, using Proposition 2 along with Lemmas 7 and 8 completes the proof."
        },
        {
            "heading": "A.5 Proof of Lemma 2",
            "text": "Recall by (17) that the maximum producer utility is given by\numax(\u03b2) := \u03b1 \u2217v2 + (1\u2212 \u03b1 \u2217)v1 \u2212 \u03b2 (t \u2217(\u03b1\u2217v2 \u2212 v1) + (1\u2212 \u03b1 \u2217)v1) , (44)\nwhere t\u2217 is given by Lemma 1. Taking the derivative with respect to \u03b2, we have\nd\nd\u03b2 umax(\u03b2) = \u2212\n(\u03b7 + \u03b1\u2217 \u2212 2\u03b1\u2217\u03b7)(\u03b22 \u2212 2\u03b2) + 2\u03b7 \u2212 2\u03b72\n2\u03b7(1 \u2212 \u03b2)2\n= \u2212 \u03b7 + \u03b1\u2217 \u2212 2\u03b1\u2217\u03b7\n2\u03b7(1\u2212 \u03b2)2\n(\n(1\u2212 \u03b2)2 + (\u03b1\u2217 \u2212 \u03b7)(2\u03b7 \u2212 1)\n\u03b7 + \u03b1\u2217 \u2212 2\u03b1\u2217\u03b7\n)\n. (45)\nNotice that \u03b1\u2217 + \u03b7 \u2212 2\u03b1\u2217\u03b7 \u2265 0 as \u03b1\u2217, \u03b7 \u2264 1. Now, to see whether the maximum producer utility is monotone or not, we need to check whether the sign of\nh(\u03b2) := (1\u2212 \u03b2)2 + (\u03b1\u2217 \u2212 \u03b7)(2\u03b7 \u2212 1)\n\u03b7 + \u03b1\u2217 \u2212 2\u03b1\u2217\u03b7 (46)\nchanges as \u03b2 varies over [0,min{2\u03b7, 2(1 \u2212 \u03b7)}]. Note that h(\u03b2) is decreasing over this interval. We also know that the maximum utility under privacy is (weakly) lower than the non-private case, meaning that (45) is nonpositive at \u03b2 = 0 which implies h(0) \u2265 0 (we could also simplify verify this by setting \u03b2 = 0 at (46)).\nConsequently, the maximum producer utility is monotone in \u03b2 if and only if\nh (min{2\u03b7, 2(1 \u2212 \u03b7)}) \u2265 0.\nNotice that\nh (min{2\u03b7, 2(1 \u2212 \u03b7)}) = (1\u2212 2\u03b7)2 + (\u03b1\u2217 \u2212 \u03b7)(2\u03b7 \u2212 1)\n\u03b7 + \u03b1\u2217 \u2212 2\u03b1\u2217\u03b7 =\n(1\u2212 2\u03b7)2\u03b7(1 \u2212 \u03b7)(1\u2212 2\u03b1\u2217)\n\u03b7 + \u03b1\u2217 \u2212 2\u03b1\u2217\u03b7 , (47)\nwhich is nonnegative if and only if (1\u2212 2\u03b7)(1 \u2212 2\u03b1\u2217) \u2265 0. This completes the proof."
        },
        {
            "heading": "A.6 Proof of Lemma 3",
            "text": "Recall that, by Theorem 1, the minimum consumer utility is given by\n\u03b2t\u2217\u03b1\u2217(v2 \u2212 v1). (48)\nTo understand when this is a monotone function of \u03b2, we need to look into the derivative of \u03b2t\u2217 as a function of \u03b2. This derivative is given by\n2\u03b7 \u2212 \u03b2(2\u2212 \u03b2)\n2(1\u2212 \u03b2)2 =\n(\u03b2 \u2212 1)2 \u2212 (1\u2212 2\u03b7)\n2(1 \u2212 \u03b2)2 . (49)\nWe know that this derivative is nonnegative at \u03b2 = 0. Hence, the minimum consumer utility is monotone if and only if the above derivative is nonnegative at \u03b2 = min{2\u03b7, 2(1 \u2212 \u03b7)}. Plugging this value for \u03b2 into (49), we have\n(1\u2212 2\u03b7)2 \u2212 (1\u2212 2\u03b7)\n2(1\u2212 \u03b2)2 =\n\u22122\u03b7(1 \u2212 2\u03b7)\n2(1 \u2212 \u03b2)2 ,\nwhich is nonnegative if and only if \u03b7 \u2265 1/2. This completes the proof."
        },
        {
            "heading": "A.7 Proof of Lemma 4",
            "text": "Recall that Up(vi|x\u0302), is given by\nUp(vi|x\u0302) = (1\u2212 \u03b2) Up(vi, x\u0302) + \u03b2 Ex\u223cunif(X ) [Up(vi, x)] . (50)\nAlso, recall that\nUp(vi, x) = vi\nK \u2211\nk=i\nx(vk),\nand therefore, we have\nEx\u223cunif(X ) [Up(vi, x)] = vi\nK \u2211\nk=i\nEx\u223cunif(X ) [x(vk)] = vi(K + 1\u2212 i) 1\nK , (51)\nwhere the last argument follows from the fact that the expectation of x(v1), \u00b7 \u00b7 \u00b7 , x(vK) are all equal and equal to 1/K when x is drawn uniformly at random. Thus, we can rewrite Up(vi|x\u0302) as\nUp(vi|x\u0302) = vi\n(\n(1\u2212 \u03b2)\nK \u2211\nk=i\nx\u0302(vk) + \u03b2 K + 1\u2212 i\nK\n)\n. (52)\nNow, if x\u0302 \u2208 X \u03b2i , then we have\nUp(vi|x\u0302) \u2265 Up(vj |x\u0302) for all j \u2208 [K]. (53)\nPlugging (52) into this equation implies\nvi\nK \u2211\nk=i\nx\u0302(vk) + \u03b2 1\u2212 \u03b2 \u00b7 vi(K + 1\u2212 i) K \u2265 vj\nK \u2211\nk=j\nx\u0302(vk) + \u03b2 1\u2212 \u03b2 \u00b7 vj(K + 1\u2212 j) K . (54)\nFirst, suppose j < i. In this case, \u2211K k=j x\u0302(vk) \u2265 \u2211K k=i x\u0302(vk), and hence, we have\n(vi \u2212 vj) K \u2211\nk=i\nx\u0302(vk) + \u03b2 1\u2212 \u03b2 \u00b7 vi(K + 1\u2212 i) K \u2265 \u03b2 1\u2212 \u03b2 \u00b7 vj(K + 1\u2212 j) K . (55)\nFurthermore, using 1 \u2265 \u2211K\nk=i x\u0302(vk), we obtain\n\u03b2\n1\u2212 \u03b2 \u2265\nK(vi \u2212 vj) [\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n]\n+\n. (56)\nNext, consider the case j > i. In this case, we use the bounds 1 \u2265 \u2211K k=i x\u0302(vk) and \u2211K k=j x\u0302(vk) \u2265 0 along with (54) to obtain\n\u03b2\n1\u2212 \u03b2 \u2265\nKvi [\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n]\n+\n. (57)\nNotice that (56) and (57) together completes the proof of the fact that if X \u03b2i is non-empty, then \u03b2 \u2265 \u03b2\u0304i. To see why the reverse is also true, notice the all the inequalities that we used would change to equality for the case that the market only consists of consumers with value vi, i.e., x\u0302(vi) = 1. So this market is indeed in X \u03b2 i as long as \u03b2 \u2265 \u03b2\u0304i."
        },
        {
            "heading": "A.8 Proof of Proposition 3",
            "text": "First, note that M\u03b2(x) is equal to x itself with probability 1\u2212\u03b2 and is equal to a uniformly random market with probability \u03b2. In the latter case, the market falls into X \u03b2k with probability P(X \u03b2 k ) and hence is priced at vk (the boundary of X \u03b2 k \u2019s is measure-zero). Therefore, we have\nU\u03c6p (x) = \u03b2\nK \u2211\nk=1\nP(X \u03b2k ) Up(vk, x) + (1\u2212 \u03b2) Ep\u223c\u03c6(x)[ Up(p, x)]\nU\u03c6c (x) = \u03b2 K \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x) + (1\u2212 \u03b2) Ep\u223c\u03c6(x)[ Uc(p, x)].\nHence, S in (8) can be written as\n\u03b2\n \n\n[\n\u2211\nx\u2208supp(\u03c3)\n\u03c3(x)\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x), \u2211\nx\u2208supp(\u03c3)\n\u03c3(x)\nK \u2211\nk=1\nP(X \u03b2k ) Up(vk, x) ]\u22a4 \u2223 \u2223 \u2223 \u03c3 \u2208 \u03a3\n \n\n+ (1\u2212 \u03b2)S1,\n(58)\nwhere S1 is given by\n \n\n[\n\u2211\nx\u2208supp(\u03c3)\n\u03c3(x)Ep\u223c\u03c6(x)[ Uc(p, x)], \u2211\nx\u2208supp(\u03c3)\n\u03c3(x)Ep\u223c\u03c6(x)[ Uc(p, x)] ]\u22a4 \u2223 \u2223 \u2223 \u03c3 \u2208 \u03a3 and \u03c6 optimal pricing\n \n\n(59)\nNow, note that Uc(vk, x) is linear in x, and thus, we have\n\u2211\nx\u2208supp(\u03c3)\n\u03c3(x) K \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x) = K \u2211\nk=1\nP(X \u03b2k ) \u2211\nx\u2208supp(\u03c3)\n\u03c3(x)Uc(vk, x) = K \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217).\nWe can similarly simplify the other term corresponding the produce utility and hence the first term in (58) is \u03b2 . Now, it remains to show that S1 is same as the set S \u2032, defined in the statement of the proposition.\nNext, we argue that each market segment in S1 can be subdivided into smaller segments, each priced at a single value, by allowing multiple versions of the same market priced at different, yet optimal, values. Formally, considering a \u03c3 \u2208 \u03a3 and an optimal pricing rule \u03c6(\u00b7), for any x \u2208 supp(\u03c3), let V(x) \u2286 V be the support of \u03c6(x). All values in V(x) are optimal prices for x.\nFor each x \u2208 supp(\u03c3), we create |V(x)| replicas of x. Specifically, for each v \u2208 V(x), we replicate market x, corresponding to a segment of the consumer continuum \u03c3(x)P(\u03c6(x) = v), and price it at v. Notice that this segmentation breakdown maintains identical consumer and producer utilities. We can formally express this as:\nS1 =\n \n\n[ K \u2211\nk=1\n\u2113k \u2211\ni=1\n\u03b3ik Uc(vk, x i k),\nK \u2211\nk=1\n\u2113k \u2211\ni=1\n\u03b3ik Up(vk, x i k) ]\u22a4\u2223 \u2223 \u2223 \u03b3ik \u2265 0, \u2211\ni,k\n\u03b3ik = 1, x i k \u2208 X \u03b2 k , \u2211\ni,k\n\u03b3ikx i k = x \u2217\n \n\n.\nFinally, once again using the fact that Uc(vk, x) and Up(vk, x) are linear in x, we can simplify the above term to\n{\n[ K \u2211\nk=1\n\u03b3k Uc(vk, xk),\nK \u2211\nk=1\n\u03b3k Up(vk, xk) ]\u22a4 \u2223 \u2223 \u2223 \u03b3k \u2265 0, \u2211\nk\n\u03b3k = 1, xk \u2208 X \u03b2 k , \u2211\nk\n\u03b3kxk = x \u2217\n}\n, (60)\nwith\n\u03b3k =\n\u2113k \u2211\ni=1\n\u03b3ik, and xk =\n\u2113k \u2211\ni=1\n\u03b3ikx i k. (61)\nNotice that (60) is the set S \u2032 and hence the proof is complete."
        },
        {
            "heading": "A.9 Proof of Theorem 2",
            "text": "Here, we provide the details of the proof sketch provided in the main text. Before computing the utilities, it is worth noting that the proof of inequality (26) is similar to the derivation of (54) in the proof of Lemma 4.\nWe start with the producer utility corresponding to the set S \u2032. We have\nK \u2211\ni=1\n\u03b3i Up(vi, xi) =\nK \u2211\ni=1\n\u03b3ivi\nK \u2211\nj=i\nxi(vj) =\nK \u2211\ni=1\n\u03b3iviy(i, i) =\nK \u2211\ni=1\nviz(i, i). (62)\nNext, regarding the consumer\u2019s side, notice that we have\nK \u2211\ni=1\n\u03b3i Uc(vi, xi) = K \u2211\ni=1\n\u03b3i\nK \u2211\nj=i\n(vj \u2212 vi)(y(i, j) \u2212 y(i, j + 1)), (63)\nwith the convenience that y(i,K + 1) := 0. Notice that we could start the index j from i + 1 and adjust the range of index i to end at K \u2212 1. By making these changes, we obtain\nK\u22121 \u2211\ni=1\n\u03b3i\nK \u2211\nj=i+1\n(vj \u2212 vi)(y(i, j) \u2212 y(i, j + 1)). (64)\nNotice that we can rewrite this as\nK\u22121 \u2211\ni=1\nK \u2211\nj=i+1\n\u03b3i y(i, j)(vj \u2212 vi \u2212 (vj\u22121 \u2212 vi)) (65)\nwhich is equal to K\u22121 \u2211\ni=1\nK \u2211\nj=i+1\nz(i, j)(vj \u2212 vj\u22121). (66)\nThis completes the proof."
        },
        {
            "heading": "A.10 Proof of Proposition 4",
            "text": "Let y\u2217 denote the complementary cumulative distribution function of market x\u2217, i.e.,\ny\u2217(i) :=\nK \u2211\nk=i\nx\u2217(vk). (67)\nFirst, we establish that the lowest point of the set S \u2032 always lies on or beneath the line TR. To see this, note that there exists an \u2113\u2217 for which x\u2217 \u2208 X \u03b2\u2113\u2217 . Consequently, there exists one point in S \u2032 corresponding to uniformly pricing the market at v\u2113\u2217 . Since the line TR represents the optimal uniform pricing, this point either resides on TR (if \u2113\u2217 is the optimal uniform price for the nonprivate case) or falls beneath it in other cases. This substantiates the first claim.\nNext, we show that if the condition (30) does not hold, the set S \u2032 will not cross the line TR. To prove this, we use the polytope representation in Theorem 2. Summing up both sides of (24b) over i (for a fixed j), we obtain\nK \u2211\ni=1\nz(i, i)vi \u2265\nK \u2211\ni=1\nz(i, j)vj + \u03b2\nK(1\u2212 \u03b2)\nK \u2211\ni=1\nz(i, 1) (\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n)\n. (68)\nNotice that, by (24c), \u2211K i=1 z(i, j) = y \u2217(j). In particular, \u2211K i=1 z(i, 1) = y \u2217(1) = 1. Hence, we can\nrewrite (68) as\nK \u2211\ni=1\nz(i, i)vi \u2265 y \u2217(j)vj +\n\u03b2\nK(1\u2212 \u03b2)\n(\n(K + 1\u2212 j)vj \u2212\nK \u2211\ni=1\nz(i, 1)(K + 1\u2212 i)vi\n)\n. (69)\nNow, notice that the left hand side is the producer utility in S \u2032. Choose j such that vj be the optimal uniform pricing (if there are multiple of them, choose the one with the highest (K+1\u2212j)vj value). Hence, y\u2217(j)vj represents the producer utility corresponding to the line TR. Now, recall that \u2211K\ni=1 z(i, 1) = y \u2217(1) = 1, and therefore, the term\nK \u2211\ni=1\nz(i, 1)(K + 1\u2212 i)vi (70)\nis a weighted average of ((K + 1 \u2212 i)vi) K i=1. Since the condition (30) does not hold, each term (K+1\u2212i)vi, and hence the weighted average (70), are weakly smaller than (K+1\u2212j)vj . Plugging this into (69) shows that when the condition (30) does not hold, the term \u2211K\ni=1 z(i, i)vi is always\nweakly larger than the producer utility at the optimal uniform price, and hence the set S \u2032 does not go below the line TR.\nNow, suppose the condition (30) holds. Let I\u03b2 be the set of optimal uniform prices when we observe the market x\u2217 but use the pricing strategy corresponding to the privacy parameter \u03b2, i.e.,\nI\u03b2 := argmax k\n[ y\u2217(k)vk + \u03b2\nK(1\u2212 \u03b2) (K + 1\u2212 k)k\n]\n.\nIn particular, I0 represents the set of optimal uniform prices in the non-private case and the set I0 includes those i\u2019s that maximize (K + 1\u2212 i)i.\nNow, we only need to consider the case I\u03b2 \u2286 I0, as otherwise the segmentation corresponding to that value that is in I\u03b2 but not in I0 would be below the line TR. Also, the condition (30) implies that the sets I0 and I1 are disjoint, and hence, the sets I\u03b2 and I1 are also disjoint.\nWe define the market x\u0303 in the following way:\nK \u2211\nk=i\nx\u0303(vi) =\n \n\nZ vi\nif i /\u2208 I1,\nZ vi\n\u2212 \u01eb if i \u2208 I1, (71)\nwhere Z is chosen such that x\u0303 becomes a distribution. It is clear that such x\u0303 exists for sufficiently small \u01eb given that (vi) K i=1 is a strictly ascending sequence.\nNotice that, given the way that x\u0303 is defined, Up(vi, x\u0303) is equal to its maximum if and only if i /\u2208 I1. In other words, a price vi maximizes the producer utility for this market if and only if i /\u2208 I1. However, in the definition of S \u2032, we use the pricing strategy corresponding to the private case, i.e., we look at the sets X \u03b2k \u2019s. Now, we claim that, for sufficiently small \u01eb, x\u0303 \u2208 X \u03b2 i for some i \u2208 I1. In other words, for sufficiently small \u01eb, we end up choosing a price vi with i \u2208 I1 for the\nmarket x\u0303, although it would lead to a lower utility compared to any price vj with j /\u2208 I1.\nTo show this claim holds, it suffices to establish the following claim and then use the continuity\nof utilities in \u01eb.\nClaim 1. For \u01eb = 0, any price vi with i \u2208 I1 is strictly preferred over any price vj with j /\u2208 I1 if we use the pricing strategy corresponding to parameter \u03b2 > 0.\nProof. To prove this, we need to show that\n(1\u2212 \u03b2)\nK \u2211\nk=i\nx\u0303(vk)vi + \u03b2 K + 1\u2212 i\nK vi > (1\u2212 \u03b2)\nK \u2211\nk=j\nx\u0303(vk)vj + \u03b2 K + 1\u2212 j\nK vj\nNote that the first term on the left and right hand side are equal when \u01eb = 0. Now the second term on the left hand side is bigger than the second term on the right hand side given that i \u2208 I1 and j /\u2208 I1.\nNow, consider a segmentation with two segments: the first segment\u2019s market is x\u0303 and it consists \u03b4 fraction of consumers and the second segment\u2019s market is x \u2217\u2212\u03b4x\u0303 1\u2212\u03b4 which consists the remaining 1\u2212 \u03b4 fraction of consumers. For sufficiently small \u03b4, the optimal price for the second segment would be sill in I\u03b2 given that the market is perturbed minimally. Let us denote that optimal price as vj\u2217 with j \u2217 \u2208 I\u03b2.\nThis implies j\u2217 /\u2208 I1. Therefore, as we elaborated above, this would mean that the price picked for the first segment would lead to a lower utility compared to the case that we would have picked vj\u2217 . Given that we pick vj\u2217 for the second segment, the overall producer utility corresponding to this segmentation would be strictly lower than Up(vj\u2217 , x \u2217).\nRecall that, as we discussed above, we can assume I\u03b2 \u2286 I0 and hence j \u2217 \u2208 I0 as well. Thus, Up(vj\u2217, x \u2217) is in fact the utility corresponding to the line TR. Hence, the segmentation above corresponds to a point in the set S \u2032 which falls below the line TR. This completes the proof."
        },
        {
            "heading": "A.11 Proof of Fact 2",
            "text": "Notice that \u03b2 > \u03b2\u0304K implies that no segment\u2019s price is going to be set equal to vK . Hence, the consumers with value vk will face a a price upper bounded by vK\u22121. As a result, the consumer utility is lower bounded by\nx\u2217(vK)(vK \u2212 vK\u22121)."
        },
        {
            "heading": "A.12 Proof of Proposition 5",
            "text": "For any \u03b2, let \u03c1(\u03b2) denote the maximum consumer utility in the set S \u2032. Using Theorem 2, we have\n\u03c1(\u03b2) = max z\nK\u22121 \u2211\ni=1\nK \u2211\nj=i+1\n(vj \u2212 vj\u22121)z(i, j) (72a)\ns.t. z(i, 1) \u2265 \u00b7 \u00b7 \u00b7 \u2265 z(i,K) \u2265 0 for all i \u2208 [K], (72b)\nz(i, i)vi \u2212 z(i, j)vj \u2265 \u03b2\nK(1\u2212 \u03b2) z(i, 1)\n(\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n)\nfor all i, j \u2208 [K],\n(72c)\nK \u2211\ni=1\nz(i, j) = K \u2211\nk=j\nx\u2217(vk) for all j \u2208 [K]. (72d)\nNotice that, as long as \u03b2 < mink \u03b2\u0304k, all the constraints (72c) are strict when the vector z is set equal to the segmentation in which all consumers with the same value go into one segment. Therefore, we can use Corollary 5 from Milgrom and Segal [2002] to deduce that the function \u03c1(\u00b7) is absolutely continuous (and hence differentiable almost everywhere). Therefore, we have\n\u03c1(\u03b2) = \u03c1(0) +\n\u222b \u03b2\n0 \u03c1\u2032(\u03b6)d\u03b6, (73)\nwhere \u03c1\u2032(\u00b7) denotes the derivative of \u03c1(\u00b7) (when it exists). Next, we make the following claim:\nClaim 2. Suppose \u03c1(\u00b7) is differentiable at some \u03b2. Then, condition (32) implies \u03c1\u2032(\u03b2) \u2264 0 and condition (33) implies \u03c1\u2032(\u03b2) \u2265 0.\nProof. We use the Envelope theorem to characterize the derivative of \u03c1(\u00b7). Let \u03bbi,j denote the Lagrangian multiplier corresponding to the condition (72c). Then, we have\n\u03c1\u2032(\u03b2) = \u2212 d\nd\u03b2\n\u03b2\n1\u2212 \u03b2\n[\n\u2211\ni,j\n\u03bbi,j\n(\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n) z\u2217\u03b2(i, 1) ] , (74)\nwhere z\u2217\u03b2 is the solution of (72). Next, using the Karush\u2013Kuhn\u2013Tucker conditions Bertsekas [1997], we know that (i) \u03bbi,j \u2265 0, and (ii) \u03bbi,j > 0 if and only if the condition (72c) is active, i.e.,\nz\u2217\u03b2(i, i)vi \u2212 z \u2217 \u03b2(i, j)vj =\n\u03b2\nK(1\u2212 \u03b2) z\u2217\u03b2(i, 1)\n(\n(K + 1\u2212 j)vj \u2212 (K + 1\u2212 i)vi\n)\n. (75)\nNext, recall from the proof of Theorem 2 that z\u2217\u03b2(i, \u00b7) corresponds to a market that is priced vi. Now, if (75) holds for some i and j, it means that producer has been indifferent between vi or vj as the market price, but vi has been chosen. Since z \u2217 \u03b2 is the solution to the consumer maximization problem, this would mean that vi < vj , or equivalently, i < j. Therefore, \u03bbi,j is either positive or zero, and we have \u03bbi,j > 0 only if j > i.\nNotice that condition (32) implies (K + 1\u2212 j)vj \u2265 (K + 1\u2212 i)vi when j \u2265 i. Using this result, along with (74) and the fact that \u03b2/(1 \u2212 \u03b2) is an increasing function of \u03b2, we obtain \u03c1\u2032(\u03b2) \u2264 0. Similarly, we can see that, under condition (33), we have \u03c1\u2032(\u03b2) \u2265 0. This completes the proof of the claim.\nLet us turn our focus to the maximum consumer utility. As Proposition 3 establishes, for a\ngiven \u03b2, the maximum consumer utility is given by\n\u03b2 (\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217) ) + (1\u2212 \u03b2)\u03c1(\u03b2). (76)\nIn particular, for the non-private case, this is equal to \u03c1(0). Claim 2 along with (73) implies that, under condition (32) we have \u03c1(\u03b2) \u2264 \u03c1(0) and under condition (33) we have \u03c1(\u03b2) \u2265 \u03c1(0). Therefore, to establish Proposition 5, it suffices to compare \u2211K\nk=1 P(X \u03b2 k ) Uc(vk, x \u2217) with \u03c1(0). The following\nclaim does this, and therefore, completes the proof.\nClaim 3. (i) Assume v1 is the optimal uniform price in the non-private case. Then, we have\n\u03c1(0) \u2265\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217).\n(ii) Assume vK is the optimal uniform price in the non-private case. Then, there exists \u03b1\u0303 and \u03b2\u0303 > 0 such\nthat, if x\u2217(vK) \u2265 \u03b1\u0303 and \u03b2 \u2264 \u03b2\u0303, then we have\n\u03c1(0) \u2264 K \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217).\nProof. Let us denote the maximum producer utility (corresponding to the first-degree price discrimination) by M . We know that the maximum consumer utility in the non-private case lies on the line that sets the sum of consumer and producer utilities equal to M . Therefore, when v1 is the optimal uniform price, we have \u03c1(0) = M \u2212 v1. Also, notice that for any value vk, we have\nUc(vk, x \u2217) =\nK \u2211\ni=k\nx\u2217(vi)(vi \u2212 vk) \u2264 K \u2211\ni=k\nx\u2217(vi)(vi \u2212 v1) \u2264 K \u2211\ni=1\nx\u2217(vi)(vi \u2212 v1) = M \u2212 v1. (77)\nThus, and given that \u2211K k=1 P(X \u03b2 k ) = 1, we deduce that\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217) \u2264 M \u2212 v1\nwhich completes the proof of part (i). Next we prove part (ii). Given that, in this part, vK is the optimal uniform price in the non-private case, we have\n\u03c1(0) = M \u2212 x\u2217(vK)vK \u2264 (1\u2212 x \u2217(vK))vK\u22121. (78)\nAlso, note that, for any k \u2264 K \u2212 1 we have\nUc(vk, x \u2217) \u2265 x\u2217(vK)(vK \u2212 vk), (79)\nwhich implies\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217) \u2265 x\u2217(vK)\n[ K\u22121 \u2211\nk=1\nP(X \u03b2k )(vK \u2212 vk) ] . (80)\nThe term \u2211K\u22121 k=1 P(X \u03b2 k )(vK\u2212vk) is positive for \u03b2 = 0, and since it is continuous in \u03b2, we can choose \u03b2\u0303 > 0 such that\ninf \u03b2\u2264\u03b2\u0303\n[ K\u22121 \u2211\nk=1\nP(X \u03b2k )(vK \u2212 vk) ] \u2265 \u01eb, (81)\nfor some \u01eb > 0. Therefore, for any \u03b2 \u2264 \u03b2\u0303, we have\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217) \u2265 \u01eb x\u2217(vK). (82)\nNow, notice that the right-hand side of (78) goes to zero as x\u2217(vK) increases to one. On the other hand, the right-hand side of (82) is an increasing and positive function of x\u2217(vK). Therefore, there exists \u03b1\u0303 such that, if x\u2217(vK) \u2265 \u03b1\u0303, we have\nK \u2211\nk=1\nP(X \u03b2k ) Uc(vk, x \u2217) \u2265 \u03c1(0), (83)\nfor any \u03b2 \u2264 \u03b2\u0303. This completes the proof."
        }
    ],
    "title": "The Limits of Price Discrimination Under Privacy Constraints",
    "year": 2024
}