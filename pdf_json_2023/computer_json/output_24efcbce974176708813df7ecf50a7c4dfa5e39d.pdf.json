{
    "abstractText": "This paper addresses the trade-off between timeand energy-efficiency for the problem of loading and unloading a ship. Container height constraints and energy consumption and regeneration are dealt with. We build upon a previous work that introduced a coordinate system suitable to deal with container avoidance constraints and incorporate the energy related modeling. In addition to changing the coordinate system, standard epigraph reformulations result in an optimal control problem with improved numerical properties. The trade-off is dealt with through the use of weighting of the total time and energy consumption in the cost function. An illustrative example is provided, demonstrating that the energy consumption can be substantially reduced while retaining approximately the same loading time.",
    "authors": [
        {
            "affiliations": [],
            "name": "Filipe Marques Barbosa"
        },
        {
            "affiliations": [],
            "name": "Anton Kullberg"
        },
        {
            "affiliations": [],
            "name": "Johan L\u00f6fberg"
        }
    ],
    "id": "SP:c4159ff8fbc8228ba83e62e1a8c6a71c1513c814",
    "references": [
        {
            "authors": [
                "A. Al-Garni",
                "K. Moustafa",
                "S.J. Nizami"
            ],
            "title": "Optimal control of overhead cranes",
            "venue": "Control Engineering Practice,",
            "year": 1995
        },
        {
            "authors": [
                "J.A.E. Andersson",
                "J. Gillis",
                "G. Horn",
                "J.B. Rawlings",
                "M. Diehl"
            ],
            "title": "CasADi: a software framework for nonlinear optimization and optimal control",
            "venue": "Mathematical Programming Computation,",
            "year": 2019
        },
        {
            "authors": [
                "A. Arena",
                "A. Casalotti",
                "W. Lacarbonara",
                "M. Cartmell"
            ],
            "title": "Dynamics of container cranes: threedimensional modeling, full-scale",
            "year": 2015
        },
        {
            "authors": [
                "J. Auernig",
                "H. Troger"
            ],
            "title": "Time optimal control of overhead cranes with hoisting of the load",
            "year": 1987
        },
        {
            "authors": [
                "F.M. Barbosa",
                "J. L\u00f6fberg"
            ],
            "title": "Time-optimal control of cranes subject to container height constraints",
            "venue": "American Control Conference (ACC),",
            "year": 2022
        },
        {
            "authors": [
                "H. Chen",
                "Y. Fang",
                "N. Sun"
            ],
            "title": "Optimal trajectory planning and tracking control method for overhead cranes",
            "venue": "IET Control Theory & Applications,",
            "year": 2016
        },
        {
            "authors": [
                "J.D. Cruz",
                "F. Leonardi"
            ],
            "title": "Minimum-time antiswing motion planning of cranes using linear programming",
            "venue": "Optimal Control Applications and Methods,",
            "year": 2012
        },
        {
            "authors": [
                "Y.S. Kim",
                "K.S. Hong",
                "S.K. Sul"
            ],
            "title": "Antisway control of container cranes: inclinometer, observer, and state feedback",
            "venue": "International Journal of Control, Automation, and Systems,",
            "year": 2004
        },
        {
            "authors": [
                "A. Kosucki",
                "P. Malenta",
                "L. Stawi\u0144ski",
                "S. Halusiak"
            ],
            "title": "Energy consumption and overloads of crane hoisting mechanism with system of reducing operational loads",
            "venue": "Eksploatacja i Niezawodnosc - Maintenance and Reliability,",
            "year": 2017
        },
        {
            "authors": [
                "A. Kosucki",
                "L. Stawi\u0144ski",
                "P. Malenta",
                "J. Zaczy\u0144ski",
                "J. Skowro\u0144ska"
            ],
            "title": "Energy consumption and energy efficiency improvement of overhead crane\u2019s mechanisms",
            "venue": "Eksploatacja i Niezawodnosc - Maintenance and Reliability,",
            "year": 2020
        },
        {
            "authors": [
                "E. Kreuzer",
                "M.A. Pick",
                "C. Rapp",
                "J. Theis"
            ],
            "title": "Unscented kalman filter for real-time load swing estimation of container cranes using rope forces",
            "venue": "Journal of Dynamic Systems, Measurement, and Control,",
            "year": 2014
        },
        {
            "authors": [
                "K. Kusakana"
            ],
            "title": "Optimal energy management of a retrofitted rubber tyred gantry crane with energy recovery capabilities",
            "venue": "Journal of Energy Storage,",
            "year": 2021
        },
        {
            "authors": [
                "V. Leek"
            ],
            "title": "An optimal control toolbox for matlab based on casadi",
            "year": 2016
        },
        {
            "authors": [
                "Y. Sakawa",
                "Y. Shindo"
            ],
            "title": "Optimal control of container",
            "venue": "cranes. Automatica,",
            "year": 1982
        },
        {
            "authors": [
                "D. Verscheure",
                "B. Demeulenaere",
                "J. Swevers",
                "J.D. Schutter",
                "M. Diehl"
            ],
            "title": "Time-optimal path tracking for robots: A convex optimization approach",
            "venue": "IEEE Transactions on Automatic Control,",
            "year": 2009
        },
        {
            "authors": [
                "X. Wang",
                "J. Liu",
                "X. Dong",
                "H. Peng",
                "C. Li"
            ],
            "title": "An energy-time optimal autonomous motion control framework for overhead cranes in the presence of obstacles",
            "venue": "Proceedings of the Institution of Mechanical Engineers, Part C: Journal of Mechanical Engineering",
            "year": 2021
        },
        {
            "authors": [
                "G. Wilmsmeier",
                "T. Spengler"
            ],
            "title": "Energy consumption and container terminal efficiency",
            "venue": "ECLAC Bulletin",
            "year": 2016
        },
        {
            "authors": [
                "Z. Wu",
                "X. Xia"
            ],
            "title": "Energy efficiency of overhead cranes",
            "venue": "IFAC Proceedings Volumes,",
            "year": 2014
        },
        {
            "authors": [
                "N. Zhao",
                "N. Schofield",
                "W. Niu"
            ],
            "title": "Energy storage system for a port crane hybrid power-train",
            "venue": "IEEE Transactions on Transportation Electrification,",
            "year": 2016
        }
    ],
    "sections": [
        {
            "text": "\u00a92023 the authors. This work has been accepted to IFAC for publication under a Creative Commons Licence CC-BY-NC-ND\nKeywords: Optimal control, collision avoidance, time optimality, energy efficiency, overhead crane"
        },
        {
            "heading": "1. INTRODUCTION",
            "text": "Shipping containers remarkably improved the productivity of ports and revolutionized the global commerce. Moreover, the speed at which a ship is unloaded and loaded again, as well as the energy cost per container, are important performance indicators of a port\u2019s operations (Wilmsmeier and Spengler, 2016; Kreuzer et al., 2014; Sakawa and Shindo, 1982). Thus, the efficiency of port operations depends deeply on the performance of ship-toshore (STS) cranes, see Fig. 1. They are responsible for the critical task of safely unloading and loading the ship (Kreuzer et al., 2014; Sakawa and Shindo, 1982; Arena et al., 2015). Therefore, making their operations faster is crucial for the performance of a port.\nOptimizing loading time can be done in various ways. Time can be minimized implicitly by reducing the sway of the container, which has been considered in, e.g., Kreuzer et al. (2014); Kim et al. (2004). To explicitly minimize the loading time, time-optimal control is a natural approach. In such approaches, the objective is to minimize the total time for the payload to go from an initial to a final position, see e.g., Sakawa and Shindo (1982); Auernig and Troger (1987); Chen et al. (2016). Additionally, a combination of both sway and time minimization can be used, e.g., AlGarni et al. (1995); Cruz and Leonardi (2012).\nHowever, simply optimizing loading and unloading time may cause the actuators to operate close to saturation. This in turn leads to excessive energy consumption and severe stress on the actuators themselves, which can increase maintenance requirements and costs. This said, a natural way of addressing this problem is to minimize the energy consumed to move the payload along the loading site.\n? This work was supported by VINNOVA Competence Center LINK-SIC.\nEnergy consumption of overhead cranes have been analyzed, and efficient solutions have been presented in, e.g., Kosucki et al. (2020, 2017); Wu and Xia (2014). However, only minimizing energy leads to increased loading time, reducing the productivity of the port. Thus, a trade-off between time optimality and energy efficiency is necessary, see e.g., Wang et al. (2021). Moreover, STS cranes may have energy regeneration systems, allowing them to recover energy during the loading process (Kusakana, 2021; Zhao et al., 2016). Thus, this feature can be taken into account when formulating time- and energy-optimal solutions.\nHowever, most of the approaches in the literature still do not consider the different height of container stacks and their setup along the loading site. Though some authors do include hoisting, container stack configuration is nonetheless not considered, see for instance Cruz and Leonardi (2012); Kosucki et al. (2020). Moreover, when dealing with energy consumption in STS cranes, the hoisting mechanism is the primary energy consumer and thus should certainly be taken into account.\nar X\niv :2\n30 4.\n09 23\n2v 1\n[ ee\nss .S\nY ]\n1 8\nA pr\n2 02\n3\nIn this paper, we propose an optimal control approach to address the trade-off between time- and energy-efficiency for the problem of loading and unloading a ship subject to container avoidance constraints. We build upon an earlier time-optimal approach that addresses the container avoidance constraints, presented by Barbosa and Lo\u0308fberg (2022). This was done by reparametrizing the problem in spatial coordinates, which turns the avoidance problem into simple linear bound constraints. Here, we extend this framework to include energy consumption and regeneration of the trolley and hoisting mechanisms. The problem is formulated to avoid the non-smoothness in the cost function, caused by the inclusion of energy terms. This in turn results in an optimal control problem with improved numerical properties. The trade-off is dealt with in the cost function through a weighting of the total time and energy consumption. Finally, we show that the energy consumption can be substantially reduced while retaining approximately the same loading time."
        },
        {
            "heading": "2. MODEL AND PROBLEM FORMULATION",
            "text": "To trade-off between time and energy consumption in the optimal control of an STS crane subject to container avoidance constraints, we first derive a state-space model. Then we address the energy consumption accounting for energy regeneration and finally an optimization problem is formulated."
        },
        {
            "heading": "2.1 Modeling",
            "text": "Since STS cranes load one row of containers at a time, the trolley movement is restricted to one dimension. Therefore, a 2D-model of the dynamics suffices. Thus, a cartpendulum with a single-rope hoisting mechanism can be used to represent the crane\u2019s dynamics. Here the dynamics of the actuators themselves are not considered, and the payload is treated as a point mass. This way, the generalized coordinates are the length of the hoisting rope l(t), the sway \u03b8(t), and the payload coordinates xp(t) and yp(t). The forces applied to the trolley FT (t) and to the hoisting mechanism FH(t) are the control inputs, where subscript T and H refer to the trolley and hoisting mechanism, respectively. See Fig. 2 for a schematic. We refer to Barbosa and Lo\u0308fberg (2022) for the equations of motion and restate the nonlinear state equations here. The state variables are x = [xp, x\u0307p, yp, y\u0307p, l, l\u0307, \u03b8, \u03b8\u0307]\nT and the model is given by\nx\u03071 = x2 x\u03072 = \u2212(u2 sin(x7))/m2 x\u03073 = x4 x\u03074 = \u2212(u2 cos(x7))/m2 + g (1) x\u03075 = x6 x\u03076 = x5x 2 8+gcos(x7)\u2212u2/m2\u2212sin(x7)(u1+u2 sin(x7))/m1 x\u03077 = x8 x\u03078 = \u2212(2x6x8+gsin(x7)+cos(x7)(u1+u2 sin(x7))/m1)/x5, with m1 and m2 respectively the trolley and payload masses, g the acceleration of gravity, and the control inputs u1 = FT and u2 = FH ."
        },
        {
            "heading": "2.2 Energy consumption and regeneration",
            "text": "The energy consumed to move the trolley or to hoist the payload can be expressed as\nE(t) = \u222b t 0 F (\u03c4)v(\u03c4)d\u03c4 = \u222b t 0 P (\u03c4)d\u03c4, (2)\nwhere F is the driving force, v is the velocity of the object on which the force is applied, and consequently P is the power applied to the respective subsystem.\nIn this paper, we want to study the case when we can recover part of the energy that has been fed into the system by using regenerative braking on the trolley and lowering of the payload. A simple model of this regeneration will be used to study the conceptual properties of solutions. Thus, when a system consumes energy, P is positive, meaning that the source is providing energy to it. When energy is recovered, P is negative and energy is being pulled back to the source with efficiency 0 \u2264 \u03b3 \u2264 1. Hence, the power flow of a subsystem with energy recovery is given by max(P, \u03b3P ) and its energy consumption by\nE(t) = \u222b t 0 max(P (\u03c4), \u03b3P (\u03c4))d\u03c4. (3)\nIn STS crane operations, the energy optimal formulation is given by the minimization of the total energy spent to move the trolley ET and to hoist the payload along the loading site EH , i.e., (3) is written as\nE(t) = \u222b tf 0\nmax(PT (t), \u03b3TPT (t))dt\ufe38 \ufe37\ufe37 \ufe38 ET\n+ \u222b tf 0\nmax(PH(t), \u03b3HPH(t))dt\ufe38 \ufe37\ufe37 \ufe38 EH (4)\nwith 0 \u2264 \u03b3T , \u03b3H \u2264 1 the efficiency of energy recovery of the trolley and hoisting mechanism, respectively. Furthermore,\nPT (t) = FT (t)x\u0307T (t)\n= FT (t)(x\u0307p(t)\u2212sin(\u03b8(t))l\u0307(t)\u2212l(t) cos(\u03b8(t))\u03b8\u0307(t)) PH(t) = \u2212FH(t)l\u0307(t),\n(5) where PT and PH correspond to the power used in the trolley and in the hoisting mechanism, respectively, and x\u0307T (t) is obtained from direct differentiation of the trolley position xT (t) = xp(t)\u2212sin(\u03b8(t))l(t) in Fig. 2."
        },
        {
            "heading": "2.3 Time- and energy-optimal control",
            "text": "To account for energy consumption, terms of (3) would be included in the cost function. However, we argue that a better formulation is to avoid a non-smooth integrand in the cost function, which will lead to non-smooth terms in a discretized objective. We therefore introduce an auxiliary variable z(t) acting as an upper bound in an epigraph formulation, thus leading conceptually to\nmin u\n\u222b tf 0 z(t)dt\nsubject to z(t) \u2265 P (t) z(t) \u2265 \u03b3P (t).\n(6)\nNote that at optimality z(t) \u2265 P (t) is tight when the system is consuming energy, and z(t) \u2265 \u03b3P (t) is tight when energy is being recovered. Thus, the formulation in (6) can be applied to (4) with the corresponding auxiliary variables, i.e., zT (t) and zH(t) acting as upper bounds in the epigraph formulation. Allowing for a compromise between time- and energy-optimality through a parameter 0 \u2264 \u03b1 \u2264 1, the optimal control problem is given by\nmin u\nJ = \u03b1 \u222b tf 0 dt+(1\u2212\u03b1) \u222b tf 0 zT (t)+zH(t) dt\nsubject to\nx\u0307(t) = f(t, x(t), u(t)), x(0) = x0, zT (t) \u2265 PT (t), x(tf ) = xtf , zT (t) \u2265 \u03b3TPT (t), g(x(t)) \u2264 0, zH(t) \u2265 PH(t), umin(t) \u2264 u(t) \u2264 umax(t), zH(t) \u2265 \u03b3HPH(t).\n(7)\nThus, (7) allows for a trade-off between time- and energyoptimality. However, the problem of avoiding collision with container stacks still remains, which will be addressed now."
        },
        {
            "heading": "3. PROBLEM REFORMULATION",
            "text": "When transferring the payload, an STS crane must avoid crashing it into stacks of already loaded containers. This imposes constraints on the payload height yp(xp). Hence, a function s(xp) is conceptually introduced (see Fig. 2) to represent the profile of already loaded container stacks along the loading site, yielding the constraints on the payload height as\n0 \u2264 yp(xp) \u2264 h\u2212 s(xp). (8) However, representing s(xp) is challenging when the independent variable in the optimal control problem is time t. When solving the optimization problem using a numerical solver, discretization using s(xp(t\nk)) in discretization points tk are required, and s(xp) will generally be discontinuous, nonlinear and non-convex Barbosa and Lo\u0308fberg (2022). To resolve these problems, we perform a variable change and utilize a reformulation of the optimization problem, see Barbosa and Lo\u0308fberg (2022) for more details."
        },
        {
            "heading": "3.1 Reparametrization from time to space",
            "text": "Time discretization will force the use of an explicit functional representation s(xp) of the geometric constraints and lead to issues, as mentioned above. On the other hand,\nthese constraints turn out to be trivial to represent if the discretization is performed along the spatial dimension xp. Therefore, we change the integration variable and define the dynamics in terms of the spatial position xp instead of time t, similarly to Verscheure et al. (2009).\nNow consider the first dynamic equation in (1), which describes the payload velocity along xp, then\nx\u03071 = dx1 dt = x2 =\u21d2 dt = dx1 x2 =\u21d2 dt dx1 = 1 x2 . (9)\nThus, the cost function in (7) is rewritten as\nJ= \u03b1 \u222b xpf xp0 1 x2 dxp+(1\u2212\u03b1) \u222b xpf xp0 zT (xp)+zH(xp) x2 dxp. (10) With this change of variables and forthcoming additional reformulations, the dynamics is expressed in the payload position xp and (10) is the cost function to be minimized.\nFollowing the transformation in (9), a new state vector x = [t, x\u0307p, yp, y\u0307p, l, l\u0307, \u03b8, \u03b8\u0307] T is defined for the problem.\nRemark: To avoid confusion, we use x\u2032 = dx/dxp for derivatives with respect to xp, and x\u0307 = dx/dt for derivatives with respect to time t.\nFurthermore, since time t is now a state variable, and the variable in which the dynamics is expressed is xp, the following identification is made\nx1 \u2190 t, x\u2032j \u2190 dxj dxp , j = 1, . . . , n, (11)\nwhere j indices the state variables in the new state vector and n is the system\u2019s dimension. Therefore, the state equations in (1) become x2x \u2032 1 =1 x2x \u2032 2 =\u2212(u2 sin(x7))/m2 x2x \u2032 3 =x4 x2x \u2032 4 =\u2212(u2 cos(x7))/m2 + g (12) x2x \u2032 5 =x6 x2x \u2032 6 =x5x 2 8+gcos(x7)\u2212u2/m2\u2212sin(x7)(u1+u2sin(x7))/m1 x2x \u2032 7 =x8 x2x \u2032 8 =\u2212(2x6x8+gsin(x7)+cos(x7)(u1+u2sin(x7))/m1)/x5.\nThis means that with representation and discretization in xp, the stack constraints can be represented by specific function values of s(xp) at the discretization points. Then, the constraints on the payload height, in a numerical discretization, is simply given by 0 \u2264 yp(xkp) \u2264 h\u2212 s(xkp). (13) Now s(xkp) is the stack height at a specific discretization point xkp. Therefore, s(x k p) is a constant, which leads to simple bound constraints on yp, in contrast to (8)."
        },
        {
            "heading": "3.2 Problem formulation in spatial coordinate",
            "text": "With the transformation (9), (10) is a natural choice of the cost function. However, this unnecessarily adds the risk of numerical problems in a solver as it involves a division by a variable that is typically zero at the end-points. To avoid these possibly problematic Lagrange terms in the optimal control problem, we first note that the total time simply evaluates to tf , which is the final value of the first state as\nx1(xp) = t(xp). Additionally, we introduce two new states to (12)\nx2x \u2032 9 = zT (xp) and (14a) x2x \u2032 10 = zH(xp). (14b)\nThus, the total energy consumed to move the trolley and to hoisting the payload is given by evaluating (14) to xpf as\nx9(xpf ) = \u222b xpf xp0 zT (xp) x2 dxp and (15a)\nx10(xpf ) = \u222b xpf xp0 zH(xp) x2 dxp. (15b)\nPut them together, and we consequently arrive at a cost function with simple Mayer terms J = \u03b1x1(xpf ) + (1\u2212 \u03b1) ( x9(xpf ) + x10(xpf ) ) . (16) This way, the possible issues arising from x2 being zero can be treated consistently throughout the model via the equations defining the dynamics and follows from Barbosa and Lo\u0308fberg (2022).\nNow the optimization problem involves both the control variables u(xp) and the auxiliary variables zT (xp) and zH(xp). Implementation wise though, u(xp), zT (xp), and zH(xp) are treated identically as control inputs.\nHowever, control inputs and state variables are treated differently in a typical discretization of optimal control problems, causing a degradation of precision. Next we discuss this in more detail and present an approach to alleviate this issue."
        },
        {
            "heading": "3.3 Auxiliary Parametrization",
            "text": "With the reparametrization from time to space, the auxiliary parameters zT , zH now need to satisfy\nz(xp) \u2265 P (xp) (17a) z(xp) \u2265 \u03b3P (xp), (17b)\nwhere subscripts t, h are dropped for notational convenience. In a typical discretization of an optimal control problem, states are interpolated as polynomials and control inputs are assumed constant over the control intervals. As such, the function P (xp) is a polynomial of some finite degree over any given control interval. Additionally, z(xp) acts as an upper bound for P (xp), approximating the power over the interval, see Fig. 3. Here, a possible power trajectory is visualized in blue and the corresponding auxiliary representation z, in orange. The control intervals are visualized as black vertical bars, with width \u2206x. Since the piecewise constant z is an upper bound on the power over any given interval, the energy is overestimated and causes a degradation of precision.\nTo resolve this issue, we represent z as a basis function expansion, i.e.,\nz(xp) = \u03a6(xp) >\u03b7, (18)\nwhere \u03a6(xp) > = [ \u03c61(xp) . . . \u03c6 K(xp) ] and \u03b7 are the corresponding weights. In general, \u03c6k(xp) is a problem dependent design choice. In this paper, a direct collocation point based method is used for solving the resulting differential-algebraic system of equations over each control interval. The collocation polynomial degree is chosen as 1 (i.e., linear) and hence, the state trajectories over each\ncontrol interval are affine. As such, it suffices to choose a polynomial of degree 1 for z(xp).\nHence, in the following, we parametrize zH over control interval k as\nzkH(xp) = \u03b7 k H,1xp + \u03b7 k H,0, (19)\nwhere \u03b7kH,1 and \u03b7 k H,0 are to be optimized over, instead of zH directly. We use an identical parametrization for the trolley auxiliary variable zT (xp). Then, the optimization problem is finally given by\nmin u,\u03b7T ,\u03b7H\nJ = \u03b1x1(xpf )+(1\u2212\u03b1) ( x9(xpf )+x10(xpf ) ) subject to x2x \u2032(xp) = f(xp, x(xp), u(xp)), x(0) = x0, \u03b7jT,1xp + \u03b7 j T,0 \u2265 PT (xp), x(xpf ) = xf , \u03b7jT,1xp + \u03b7 j T,0 \u2265 \u03b3TPT (xp), 0 \u2264 x1(xp), \u03b7jH,1xp + \u03b7 j H,0 \u2265 PH(xp), 0 \u2264 x2(xp), \u03b7jH,1xp + \u03b7 j H,0 \u2265 \u03b3HPH(xp), umin(xp) \u2264 u(xp), g(xp) \u2264 0, umax(xp) \u2265 u(xp), (20)\nwith parameter vectors \u03b7T = [ \u03b71T,1 \u03b7 1 T,0 . . . \u03b7 K T,1 \u03b7 K T,0 ]> and \u03b7H = [ \u03b71H,1 \u03b7 1 H,0 . . . \u03b7 K H,1 \u03b7 K H,0 ]> ."
        },
        {
            "heading": "4. SIMULATION EXAMPLE",
            "text": "To illustrate and validate the idea, a scenario of stack configuration was simulated. For simplicity, a small-scale example was used, where the container stacks are particularly high at the end of the loading site. The optimization problem was modeled using CasADi (Andersson et al., 2019) and the Yop toolbox (Leek, 2016) in MATLAB, and IPOPT was the solver used.\nAll distances and lengths are in meters and the angles are in radians. With (20) in mind, the initial and final conditions were set according to\nx(0) = [0 0 3 0 3 0 0 0] >\nx(xpf ) = [ 0 3 0 3 0 0 0] > ,\nwith xp0 = 0 and xpf = 1. The efficiency of the trolley and the hoisting mechanism were set to \u03b3T = \u03b3H = 0.8. Finally, the box constraints were set to\n0.15 \u2264yp(xp) \u2264 h\u2212 s(xp) 0 \u2264t(xp) 0 \u2264x\u0307p(xp) 0 \u2264l(xp) \u2264 0.75 \u22120.1 \u2264\u03b8(xp) \u2264 0.1 \u22121 \u2264FT (xp) \u2264 1 0 \u2264FH(xp) \u2264 8."
        },
        {
            "heading": "4.1 Results and Discussion",
            "text": "Fig. 4 shows the trade-off between energy consumption and the time for moving the payload to the final state, while avoiding the collision with container the stacks. This was obtained for a range of 0.01 \u2264 \u03b1 \u2264 0.99. Three points are highlighted: \u03b1 = 0.99, which emphasizes time optimality, \u03b1 = 0.01, which emphasizes energy optimality, and \u03b1 = 0.5, which has a reasonable trade-off between time and energy consumption. The payload trajectories for the three chosen solutions are visualized in Fig. 5. For these\nsolutions, the applied trolley and hoisting forces are shown in Fig. 6 and the energy consumption along xp, obtained from x9(xpf ) and x10(xpf ), in Fig. 7. Lastly, the payload hoisting and sway trajectories along xp are shown in Fig. 8.\nFrom Fig. 4 one can see that both the approaches minimizing only time or only energy suffer from diminishing returns, and it is evident that there is a minimal amount of time and energy needed to move the payload. The latter is a consequence of the regeneration efficiency not being \u03b3 = 1. Moreover, the trade-off solution with \u03b1 = 0.5 consumes about 25.6% less energy than the solution with \u03b1 = 0.99, while taking only 3.4% longer time. Alternatively, it consumes 30% more energy while taking 54% less time than the solution with \u03b1 = 0.01.\nFrom Fig. 5 we can see that the solution for \u03b1 = 0.99 is more aggressive, with more overshoots in the hoisting. This happens because the container momentum helps to propel the trolley forward, which in turn produces higher sway angles \u03b8. The sway is then compensated when the payload is subsequently lowered by the hoisting mechanism, see Fig. 8. This is even more evident in the end of the trajectory, when the payload is substantially lowered after avoiding the highest container stack. Energy consumption is affected by this behavior (see Fig. 7), with higher peaks and E(xpf ) = 0.66J , and more aggressive inputs in Fig. 6.\nThe solution for \u03b1 = 0.01 on the other hand consumes a minimal amount of energy to start moving the trolley and\nrecovers it with efficiency \u03b3T when braking. Additionally, the height of the payload is kept constant for longer periods, as small |l\u0307| will neither consume energy nor regenerate with efficiency \u03b3H . Moreover, note that the payload is early hoisted to a safe height, extending the periods where it is possible to keep nearly constant l, see Fig. 5. Furthermore, periods of small |l\u0307| and oscillatory behavior of \u03b8 in Fig. 8 suggest transfer of kinetic energy between the payload and the trolley. This is shown in Fig. 7 where the energy consumption increases rapidly in the beginning and does not vary much during the process until be partially recovered in the end, resulting in E(xpf ) = 0.38J . See the control inputs in Fig. 6, where FT \u2248 0 during most of the process and FH tries to keep |l\u0307| as small as possible. Finally, \u03b1 = 0.5, the solution chosen as a good trade-off, also shows periods of small |l\u0307| as well as trolley acceleration in the beginning, no input in between and regeneration in the end. Note that in this solution, \u03b8 oscillates with lower frequency than for \u03b1 = 0.01. Furthermore, the payload trajectory is not as aggressive as for \u03b1 = 0.99, with only one overshoot in the very end, yet with hoisting not as anticipated as for \u03b1 = 0.01, see Fig. 5. This also results in periods where E(xp) is nearly constant in Fig. 7 and E(xpf ) = 0.49J .\nNote that though alleviated by the reformulations, the optimal control problem remains non-convex, which may lead to local minimum solutions. However, circumventing these limitations is not our goal and non-convexity is a consequence of the high-fidelity model used."
        },
        {
            "heading": "5. CONCLUSION",
            "text": "We have studied the trade-off between time and energy consumption for a ship-to-shore crane application with container stack avoidance constraints. For this, we use a simple model to account for energy regeneration, which by simple standard epigraph reformulations can be put in a form with improved numerical properties. Previous work introducing a coordinate system suitable for the application at hand, and allowing the incorporation of container avoidance constraints, was reused when introducing the energy related modeling, allowing for an efficient optimal control problem. By studying a small example, we note that there can be situations where it is possible to substantially reduce energy consumption with a minor increase in loading time.\nFuture work will focus on incorporating more complex models of energy regeneration."
        }
    ],
    "title": "Fast or Cheap: Time and Energy Optimal Control of Ship-to-Shore Cranes",
    "year": 2023
}