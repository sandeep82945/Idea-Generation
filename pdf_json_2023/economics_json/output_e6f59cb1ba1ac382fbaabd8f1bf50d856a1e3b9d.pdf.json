{
    "abstractText": "Inter-temporal choices involve making decisions that require weighing costs in the present against benefits in the future. One specific type of inter-temporal choice is the decision between purchasing an individual item at full price or opting for a bundle including that item at a discounted price. Previous works assume that individuals have accurate expectations of factors involved in these decisions. However, in reality, users\u2019 perceptions of these factors are often biased, leading to irrational and suboptimal decision-making. In this work, we specifically focus on two commonly observed biases: the projection bias and the reference-point effect. To address these biases, we propose a novel bias-embedded preference model called Probe. Probe introduces prospect theory from behavioral economics to model these biases, which incorporates a weight function to capture users\u2019 projection bias and a value function to account for the reference-point effect. This allows us to determine the probability of users selecting the bundle or a single item. We theoretically analyze the impact of projection bias on bundle pricing strategies. Through experimental results, we show that the proposed Probe model outperforms existing methods and leads to a better understanding of users\u2019 behaviors in bundle purchases. This investigation can facilitate a deeper comprehension of users\u2019 decision-making processes, enable personalized services, and help sellers design better product bundling strategies.",
    "authors": [
        {
            "affiliations": [],
            "name": "Qingming Li"
        },
        {
            "affiliations": [],
            "name": "H. Vicky Zhao"
        }
    ],
    "id": "SP:6ea907047ac91b825a7a229dc2cfb899ae4c40ac",
    "references": [
        {
            "authors": [
                "M. Aggarwal"
            ],
            "title": "Modeling a decision-maker\u2019s choice behavior through perceived values",
            "venue": "IEEE Transactions on Systems, Man, and Cybernetics: Systems, vol. 51, no. 3, pp. 1933\u20131944, 2019.",
            "year": 1933
        },
        {
            "authors": [
                "T.Y. Chang",
                "W. Huang",
                "Y. Wang"
            ],
            "title": "Something in the air: pollution and the demand for health insurance",
            "venue": "The Review of Economic Studies, vol. 85, no. 3, pp. 1609\u20131634, 2018.",
            "year": 2018
        },
        {
            "authors": [
                "G. Loewenstein",
                "T. O\u2019Donoghue",
                "M. Rabin"
            ],
            "title": "Projection bias in predicting future utility",
            "venue": "the Quarterly Journal of economics, vol. 118, no. 4, pp. 1209\u20131248, 2003.",
            "year": 2003
        },
        {
            "authors": [
                "A. Tversky",
                "I. Simonson"
            ],
            "title": "Context-dependent preferences",
            "venue": "Management science, vol. 39, no. 10, pp. 1179\u20131189, 1993.",
            "year": 1993
        },
        {
            "authors": [
                "A. Pujahari",
                "D.S. Sisodia"
            ],
            "title": "Handling dynamic user preferences using integrated point and distribution estimations in collaborative filtering",
            "venue": "IEEE Transactions on Systems, Man, and Cybernetics: Systems, vol. 52, no. 10, pp. 6639\u20136651, 2022.",
            "year": 2022
        },
        {
            "authors": [
                "M. Kaufmann"
            ],
            "title": "Projection bias in effort choices",
            "venue": "Games and Economic Behavior, vol. 135, pp. 368\u2013393, 2022. 16",
            "year": 2022
        },
        {
            "authors": [
                "X. Wu",
                "Y. Gu",
                "J. Tao",
                "G. Li",
                "J. Han",
                "N. Xiong"
            ],
            "title": "An effective datadriven cloud resource procurement scheme with personalized reserve prices",
            "venue": "IEEE Transactions on Systems, Man, and Cybernetics: Systems, vol. 51, no. 8, pp. 4693\u20134705, 2019.",
            "year": 2019
        },
        {
            "authors": [
                "R. Venkatesh",
                "V. Mahajaim"
            ],
            "title": "A probabilistic approach to pricing a bundle of products or services",
            "venue": "Journal of Marketing Research, vol. 30, no. 4, pp. 494\u2013508, 1993.",
            "year": 1993
        },
        {
            "authors": [
                "B.A. Harlam",
                "A. Krishna",
                "D.R. Lehmann",
                "C. Mela"
            ],
            "title": "Impact of bundle type, price framing and familiarity on purchase intention for the bundle",
            "venue": "journal of Business Research, vol. 33, no. 1, pp. 57\u201366, 1995.",
            "year": 1995
        },
        {
            "authors": [
                "R.N. Giri",
                "S.K. Mondal",
                "M. Maiti"
            ],
            "title": "Bundle pricing strategies for two complementary products with different channel powers",
            "venue": "Annals of Operations Research, vol. 287, pp. 701\u2013725, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "A. Pathak",
                "K. Gupta",
                "J. McAuley"
            ],
            "title": "Generating and personalizing bundle recommendations on steam",
            "venue": "Proceedings of the 40th International ACM SIGIR Conference on Research and Development in Information Retrieval, 2017, pp. 1073\u20131076.",
            "year": 2017
        },
        {
            "authors": [
                "T. Avny Brosh",
                "A. Livne",
                "O. Sar Shalom",
                "B. Shapira",
                "M. Last"
            ],
            "title": "Bruce: Bundle recommendation using contextualized item embeddings",
            "venue": "Proceedings of the 16th ACM Conference on Recommender Systems, 2022, pp. 237\u2013245.",
            "year": 2022
        },
        {
            "authors": [
                "Y. Ma",
                "Y. He",
                "A. Zhang",
                "X. Wang",
                "T. Chua"
            ],
            "title": "Crosscbr: crossview contrastive learning for bundle recommendation",
            "venue": "Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining, 2022, pp. 1233\u20131241.",
            "year": 2022
        },
        {
            "authors": [
                "J. Chang",
                "C. Gao",
                "X. He",
                "D. Jin",
                "Y. Li"
            ],
            "title": "Bundle recommendation and generation with graph neural networks",
            "venue": "IEEE Transactions on Knowledge and Data Engineering, vol. 35, no. 3, pp. 2326\u20132340, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "Z. He",
                "H. Zhao",
                "T. Yu",
                "S. Kim",
                "F. Du",
                "J. McAuley"
            ],
            "title": "Bundle mcr: Towards conversational bundle recommendation",
            "venue": "Proceedings of the 16th ACM Conference on Recommender Systems, 2022, pp. 288\u2013298.",
            "year": 2022
        },
        {
            "authors": [
                "N. Chen",
                "S. Farajollahzadeh",
                "G. Wang"
            ],
            "title": "Learning consumer preferences from bundle sales data",
            "venue": "arXiv preprint arXiv:2209.04942, 2022.",
            "year": 2022
        },
        {
            "authors": [
                "M. Ettl",
                "P. Harsha",
                "A. Papush",
                "G. Perakis"
            ],
            "title": "A data-driven approach to personalized bundle pricing and recommendation",
            "venue": "Manufacturing & Service Operations Management, vol. 22, no. 3, pp. 461\u2013480, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "E.O. Young",
                "H.W. Lauw"
            ],
            "title": "Mining competitively-priced bundle configurations",
            "venue": "2022 IEEE International Conference on Big Data (Big Data). IEEE, 2022, pp. 6844\u20136846.",
            "year": 2022
        },
        {
            "authors": [
                "D. Laibson"
            ],
            "title": "Golden eggs and hyperbolic discounting",
            "venue": "The Quarterly Journal of Economics, vol. 112, no. 2, pp. 443\u2013478, 1997.",
            "year": 1997
        },
        {
            "authors": [
                "J.E. Mazur",
                "D.R. Biondi"
            ],
            "title": "Delay-amount tradeoffs in choices by pigeons and rats: Hyperbolic versus exponential discounting",
            "venue": "Journal of the experimental analysis of behavior, vol. 91, no. 2, pp. 197\u2013211, 2009.",
            "year": 2009
        },
        {
            "authors": [
                "D.R. Amasino",
                "N.J. Sullivan",
                "R.E. Kranton",
                "S.A. Huettel"
            ],
            "title": "Amount and time exert independent influences on intertemporal choice",
            "venue": "Nature human behaviour, vol. 3, no. 4, pp. 383\u2013392, 2019.",
            "year": 2019
        },
        {
            "authors": [
                "S.J. Gershman",
                "R. Bhui"
            ],
            "title": "Rationally inattentive intertemporal choice",
            "venue": "Nature communications, vol. 11, no. 1, p. 3365, 2020.",
            "year": 2020
        },
        {
            "authors": [
                "M. Schultheis",
                "C.A. Rothkopf",
                "H. Koeppl"
            ],
            "title": "Reinforcement learning with non-exponential discounting",
            "venue": "Advances in Neural Information Processing Systems, vol. 35, pp. 3649\u20133662, 2022.",
            "year": 2022
        },
        {
            "authors": [
                "D. Zhou",
                "J. He",
                "Q. Gu"
            ],
            "title": "Provably efficient reinforcement learning for discounted mdps with feature mapping",
            "venue": "International Conference on Machine Learning. PMLR, 2021, pp. 12 793\u201312 802.",
            "year": 2021
        },
        {
            "authors": [
                "D. Acland",
                "M.R. Levy"
            ],
            "title": "Naivet\u00e9, projection bias, and habit formation in gym attendance.",
            "venue": "Management Science,",
            "year": 2015
        },
        {
            "authors": [
                "D. Kahneman",
                "A. Tversky"
            ],
            "title": "Prospect theory: An analysis of decision under risk",
            "venue": "Econometrica, vol. 47, no. 2, pp. 263\u2013292, 1979.",
            "year": 1979
        },
        {
            "authors": [
                "P. Ren",
                "Z. Xu",
                "Z. Hao"
            ],
            "title": "Hesitant fuzzy thermodynamic method for emergency decision making based on prospect theory",
            "venue": "IEEE Transactions on Cybernetics, vol. 47, no. 9, pp. 2531\u20132543, 2017.",
            "year": 2017
        },
        {
            "authors": [
                "K. Jhala",
                "B. Natarajan",
                "A. Pahwa"
            ],
            "title": "Prospect theory-based active consumer behavior under variable electricity pricing",
            "venue": "IEEE Transactions on Smart Grid, vol. 10, no. 3, pp. 2809\u20132819, 2018.",
            "year": 2018
        },
        {
            "authors": [
                "E.K. Macdonald",
                "H. Wilson",
                "V. Martinez",
                "A. Toossi"
            ],
            "title": "Assessing value-in-use: A conceptual framework and exploratory study",
            "venue": "Industrial Marketing Management, vol. 40, no. 5, pp. 671\u2013682, 2011.",
            "year": 2011
        },
        {
            "authors": [
                "Q. Li",
                "Z. Chen",
                "H.V. Zhao"
            ],
            "title": "PRIMA++: A probabilistic framework for user choice modelling with small data",
            "venue": "IEEE Transactions on Signal Processing, vol. 69, pp. 1140\u20131153, 2021.",
            "year": 2021
        },
        {
            "authors": [
                "H. Yang",
                "K. Ma",
                "J. Cheng"
            ],
            "title": "Rethinking graph regularization for graph neural networks",
            "venue": "Proceedings of the AAAI Conference on Artificial Intelligence, vol. 35, no. 5, 2021, pp. 4573\u20134581.",
            "year": 2021
        },
        {
            "authors": [
                "R. Merris"
            ],
            "title": "Laplacian matrices of graphs: a survey",
            "venue": "Linear algebra and its applications, vol. 197, pp. 143\u2013176, 1994.",
            "year": 1994
        },
        {
            "authors": [
                "P. Drucker"
            ],
            "title": "The practice of management",
            "year": 2012
        },
        {
            "authors": [
                "A.E. Hoerl",
                "R.W. Kennard"
            ],
            "title": "Ridge regression: Biased estimation for nonorthogonal problems",
            "venue": "Technometrics, vol. 12, no. 1, pp. 55\u201367, 1970.",
            "year": 1970
        },
        {
            "authors": [
                "L. Bottou"
            ],
            "title": "Stochastic gradient descent tricks",
            "venue": "Neural Networks: Tricks of the Trade: Second Edition. Springer, 2012, pp. 421\u2013436.",
            "year": 2012
        },
        {
            "authors": [
                "S. Taheri",
                "M. Mammadov"
            ],
            "title": "Learning the naive bayes classifier with optimization models",
            "venue": "International Journal of Applied Mathematics and Computer Science, vol. 23, no. 4, pp. 787\u2013795, 2013.",
            "year": 2013
        },
        {
            "authors": [
                "V.K. Chauhan",
                "K. Dahiya",
                "A. Sharma"
            ],
            "title": "Problem formulations and solvers in linear svm: a review",
            "venue": "Artificial Intelligence Review, vol. 52, no. 2, pp. 803\u2013855, 2019.",
            "year": 2019
        },
        {
            "authors": [
                "G. Ke",
                "Q. Meng",
                "T. Finley",
                "T. Wang",
                "W. Chen",
                "W. Ma",
                "Q. Ye",
                "T. Liu"
            ],
            "title": "Lightgbm: A highly efficient gradient boosting decision tree",
            "venue": "Advances in neural information processing systems, vol. 30, 2017.",
            "year": 2017
        },
        {
            "authors": [
                "C. Ying",
                "M. Qi-Guang",
                "L. Jia-Chen",
                "G. Lin"
            ],
            "title": "Advance and prospects of adaboost algorithm",
            "venue": "Acta Automatica Sinica, vol. 39, no. 6, pp. 745\u2013 758, 2013.",
            "year": 2013
        },
        {
            "authors": [
                "C. Lee",
                "C. Lin"
            ],
            "title": "Large-scale linear ranksvm",
            "venue": "Neural computation, vol. 26, no. 4, pp. 781\u2013817, 2014.",
            "year": 2014
        }
    ],
    "sections": [
        {
            "text": "This work has been submitted to the IEEE for possible publication. Copyright may be transferred without notice, after which this version may no longer be accessible. 2023 IEEE. Personal use of this material is permitted. Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes, creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.\nar X\niv :2\n30 3.\n06 01\n6v 5\n[ cs\n.I R\n] 1\n9 Se\np 20\n23\n1 Probe: Learning Users\u2019 Personal Projection Bias in Inter-temporal Choices\nQingming Li, H. Vicky Zhao\nAbstract\u2014Inter-temporal choices involve making decisions that require weighing costs in the present against benefits in the future. One specific type of inter-temporal choice is the decision between purchasing an individual item at full price or opting for a bundle including that item at a discounted price. Previous works assume that individuals have accurate expectations of factors involved in these decisions. However, in reality, users\u2019 perceptions of these factors are often biased, leading to irrational and suboptimal decision-making. In this work, we specifically focus on two commonly observed biases: the projection bias and the reference-point effect. To address these biases, we propose a novel bias-embedded preference model called Probe. Probe introduces prospect theory from behavioral economics to model these biases, which incorporates a weight function to capture users\u2019 projection bias and a value function to account for the reference-point effect. This allows us to determine the probability of users selecting the bundle or a single item. We theoretically analyze the impact of projection bias on bundle pricing strategies. Through experimental results, we show that the proposed Probe model outperforms existing methods and leads to a better understanding of users\u2019 behaviors in bundle purchases. This investigation can facilitate a deeper comprehension of users\u2019 decision-making processes, enable personalized services, and help sellers design better product bundling strategies.\nIndex Terms\u2014Projection Bias, Reference-Point Effect, Bundle Purchases, Choice Problems, Preference Modeling\nI. INTRODUCTION\nInter-temporal choices happen frequently in everyday life, which refer to decisions involving tradeoffs between cost in the present and benefits in the future. For example, how much food to buy for tomorrow\u2019s lunch, or whether to take out a health insurance policy to avoid future potential loss. To make inter-temporal choices, users typically consider a variety of factors, including the probability of future outcomes and the cost of each outcome. However, a large stream of literature suggests that users\u2019 perceptions of these factors are usually biased [1]. These biases may lead users to irrational and suboptimal decisions, such as buying too much food when going shopping with an empty stomach, or more likely to buy health insurance when the air quality is worse [2]. It is essential to identify these biases and better model users\u2019 inter-temporal choices. This study can help understand users\u2019 decision-making mechanisms, enable personalized services, and design effective pricing and marketing strategies.\nThis work was supported by Youth Research Project of Zhejiang Lab (No. K2023KG0AA04). (Corresponding author: H. Vicky Zhao)\nQingming Li is with the Research Institute of Artificial Intelligence, Zhejiang Lab, Hangzhou 311100, China (email: liqm@zhejianglab.com).\nH. Vicky Zhao is with the Department of Automation, Beijing National Research Center for Information Science and Technology, Tsinghua University, Beijing 100084 P. R. China (email: vzhao@tsinghua.edu.cn).\nIn our study, we investigate inter-temporal choice modeling, with a specific focus on users\u2019 purchasing behaviors in the context of bundle sales. We call the problem studied in this work the bundle choice problem. Consider a user who intends to purchase an individual game, as shown in Fig. 1(a). Meanwhile, the platform reminds the user that a bundle containing this game is available for sale with a discount, as shown in Fig. 1(b). Typically, the user has to decide whether to buy the individual game at full price or purchase the bundle at a reduced price. Note that the user has no current demand for the additional item, and it is not clear whether he/she will need the additional item in the future. In this example, if the user chooses to purchase the bundle, it may result in a waste of money if the user does not need the additional item in the future; while if the user chooses to purchase the individual item, no discount will be given to the additional item if the user does need it in the future. Consequently, in the bundle choice problem, the user needs to consider the trade-off between two factors: the additional cost to obtain the bundle at present and the probability of needing the additional item in the future.\nPrior works in [3], [4] have demonstrated the presence of biases in users\u2019 perceptions regarding the two aforementioned factors. The first type of bias is known as projection bias, which manifests in users\u2019 estimates of the probability of needing the additional item in the future [3]. Typically, users\u2019 preferences for the additional item undergo dynamic changes over time [5], leading to a potential discrepancy between their current preference and their future preference. However, users with projection bias tend to underestimate this preference change and assume that their future preference will resemble their current preference. Consequently, their estimates of the above probability are not aligned with their actual future preferences, but rather based on their current preference. Projection bias can lead to underestimation or overestimation of the probability depending on the relative magnitudes of the current and future preferences [6]. Specifically, when the current preference is lower than the actual future preference, users\u2019 estimated future preference and the estimates of the probability are correspondingly lower than the actual values, resulting in underestimation. Conversely, when the current preference is higher than the actual future preference, users\u2019 estimations are higher than actual values, leading to overestimation.\nThe second type of bias is the reference-point effect, which arises from users\u2019 perceptions of price [4]. Specifically, users typically have an expected price for an item based on prior purchase experience or market research. The expected price serves as a reference point in their decisions. The satisfaction that users obtain from an item does not depend on the absolute\n2 (a) the single game (b) the bundle\nFig. 1: The inter-temporal choice in the bundle sale scenario.\nvalue of its price, but rather on the difference between the actual price and users\u2019 expected price. If the actual price is lower than users\u2019 expectations, then they perceive gains from the purchase. Otherwise, users perceive loss.\nLimitations of Prior Works. There have been many works in the literature trying to explore users\u2019 behaviors in bundle scenarios, while there may be subtle distinctions from the bundle choice problem studied in our work. Specifically, existing works related to the problem can be categorized into two main topics: bundle strategies and inter-temporal choice modeling. In bundle strategies, a common assumption is that users usually have a reservation price for a bundle, which refers to the maximum price that a customer is willing to pay for a bundle of products or services [7]. According to this assumption, users\u2019 purchase decisions are solely based on whether the price of the bundle is lower than their reservation price [8]. However, the simple assumption of reservation price fails to capture the complexity of users\u2019 actual purchasing behaviors, as other factors, such as the specific items included in the bundle and the discounts offered, can also impact their decision-making process [9], [10]. On the other hand, intertemporal choice modeling focuses on studying the biases and factors that influence users\u2019 decision-making process. Existing works have primarily focused on studying projection bias and reference-point effect separately, and have not addressed situations where both biases occur simultaneously. Additionally, prior studies have primarily focused on developing models for these biases without providing algorithms or methods to learn users\u2019 personal biases from their transaction records. Furthermore, few works investigate these biases, specifically in the context of bundle sales and their implications for bundle strategies. In Section II, we provide a detailed overview of the existing works and their limitations in both bundle strategies and inter-temporal choice modeling.\nOur Contributions. In this study, we investigate intertemporal choice modeling within the context of bundle sales. We propose the PROjection Bias-Embedded preference (Probe) model to examine the cognitive biases present in users\u2019 purchase behaviors. Our approach is grounded in prospect theory from behavioral economics, which incorporates a weight function that captures users\u2019 projection bias in predicting the probability of needing additional items in the future, as well as a value function that models the reference-point effect in users\u2019 biased perceptions of price. The weight function includes a personalized parameter to account for the hetero-\ngeneity in users\u2019 projection biases and can accommodate both overestimation and underestimation scenarios. A novel method is proposed to learn their individual biases from historical records. Additionally, we present four methods to estimate users\u2019 expected prices within the value function. We provide a theoretical analysis to illustrate the impact of projection bias on the design of bundle sales strategies. Experimental results show that the proposed Probe outperforms existing methods, and contributes to a better understanding of users\u2019 decisions when choosing between a bundle and a single item. The contributions of our work are as follows.\n\u2022 We investigate inter-temporal choice modeling in the context of bundle sales and propose Probe to effectively model projection bias and the reference-point effect in users\u2019 decision-making processes. \u2022 We theoretically analyze the impact of projection bias on the design of bundle pricing strategies. \u2022 We propose a novel method to learn users\u2019 personal biases from historical records, and our experiments show that it achieves a better balance between precision and recall compared to prior works."
        },
        {
            "heading": "II. LITERATURE REVIEW",
            "text": "Existing works related to our study can be categorized into two main topics: bundle strategies and inter-temporal choice modeling. In the following sections, we delve into each topic and discuss the methodologies employed in detail."
        },
        {
            "heading": "A. Bundle Strategies",
            "text": "Previous research on bundle strategies can generally be categorized into two main areas: bundle pricing and bundle recommendation. Bundle recommendation aims to recommend a predefined bundle of items to individual users based on their preferences, while bundle pricing focuses on determining the optimal price for a bundle of products or services in order to maximize profits.\n1) Bundle Recommendation: In the bundle recommendation problem, techniques from recommendation systems are commonly leveraged to generate relevant bundle suggestions. For instance, Bayesian personalized ranking (BPR) is applied in [11] to generate bundle recommendations. This approach involves generating item embeddings using the BPR method and subsequently generating bundle embeddings based on the embeddings of items included in the bundle. Another\n3 notable contribution in [11] is the collection of a new dataset containing bundle information and user purchase behaviors from the Steam video game platform, which has been used in [12], [13]. In [14], a graph neural network is employed to learn the complex and high-order relationship among users, items, and bundles. This is achieved by unifying the user-item interaction, user-bundle interaction, and bundle-item affiliation into a heterogeneous graph, enabling an effective representation of these entities and their relationships. To address users\u2019 long-term interests, the work in [15] proposes a multi-round conversational recommendation framework, which incorporates a Markov decision process to model users\u2019 decisionmaking and feedback-handling processes in bundle contexts. Drawing inspiration from the sequence modeling capabilities of Transformers, the authors of [12] adapt Transformers to generate representations of users, items, and bundles. This method aims to capture the latent relations among items within the bundle and understand users\u2019 preferences for individual items as well as the entire bundle. Furthermore, considering the user-bundle and user-item interactions corresponding to bundle views and item views, respectively, the work in [13] models the cooperative association between the two different views through cross-view contrastive learning. This approach allows each view to distill complementary information from the other view, enhancing the self-discrimination of representations.\nHowever, the bundle recommendation problem is different from the inter-temporal choice problem studied in this work. The bundle recommendation problem typically focuses on scenarios where users do not have clear shopping needs and aim to discover new bundles that users may potentially be interested in. In contrast, our work considers a different scenario where users have specific shopping needs for an item and need to decide between purchasing the item at full price or opting for a bundle that includes the item at a discounted price. Moreover, typical approaches in the bundle recommendation problem concentrate on generating effective representations for users, items, and bundles. These representations are learned from users\u2019 historical purchase behavior. For example, if a user frequently purchases a particular item, the user\u2019s representation becomes closer to that of the item. Similarly, if an item is frequently included in bundles, the item\u2019s representation becomes close to that of the bundle. This approach implicitly encodes users\u2019 preferences within these representations. However, this approach lacks interpretability regarding why a user selects a specific item or a bundle and whether users\u2019 subjective biases exist in the selection process. In contrast, our work emphasizes explicit modeling of users\u2019 subjective biases that may exist in their decision-making processes, which may help us analyze and understand users\u2019 bundle choices.\n2) Bundle Pricing: In the bundle pricing problem, a common assumption is that users usually have a reservation price for a bundle, which refers to the maximum price that a customer is willing to pay for a bundle of products or services [8], and users\u2019 purchase decision is solely based on whether the actual price of the bundle is lower than their reservation price. Based on this assumption, prior works on bundle pricing schemes mainly focus on obtaining accurate estimations of\nconsumers\u2019 reservation prices [16]\u2013[18]. In [16], the authors propose a method to learn the distribution of users\u2019 reservation prices towards bundles using bundle sales data. They assume that customers\u2019 valuations of products follow a multivariate Gaussian distribution, and the valuation of a bundle is the sum of the valuations of its component products. The authors propose an algorithm that combines the expectation-maximization (EM) algorithm and Monte Carlo simulation to estimate the mean and the covariance matrix of the Gaussian distribution. The work in [17] jointly considers bundle recommendation and pricing, and proposes a personalized model that selects, prices, and recommends a bundle of related products to consumers during their online sessions. This model explicitly addresses the trade-off between myopic current profit and long-term profitability under inventory constraints. In contrast to the assumption of a monopoly in the prior works mentioned above, the study presented in [18] introduces a more realistic scenario by considering the presence of a competitor firm selling the same inventory of items. The authors propose a scalable and efficient search heuristic to identify the optimal price that maximizes revenue in a market where only a monopoly offers the products, then the proposed heuristic is extended to address the situation in which a competitor is present in the market.\nHowever, the simple assumption of reservation price [8] fails to capture the complexity of users\u2019 actual purchasing behaviors. In reality, users\u2019 choices are influenced by multiple factors in addition to price, e.g., the specific items included in the bundle and the discounts offered [9], [10]. Furthermore, users may possess biases in their perceptions of these factors, such as the projection bias [3] and reference-point effect [4] discussed in Section I. These biases can lead to suboptimal and irrational decisions. By overlooking the presence of biases, prior studies are limited in their ability to make accurate predictions and provide meaningful insights into users\u2019 bundle choices.\nB. Inter-temporal Choice Modeling\nInter-temporal choices refer to the decision-making process in which users make choices between options that have outcomes occurring at different points in time. Prior works on inter-temporal choice modeling mainly focus on the study of reward discounting, projection bias, and reference-point effect. Reward discounting refers to the tendency of users to assign less value or importance to future rewards compared to immediate rewards. Projection bias refers to the phenomenon that people tend to overestimate the similarity between their current preferences and future preferences. Reference-point effect refers to users\u2019 tendency to evaluate gains or losses from a decision relative to a reference point, rather than assessing them in absolute terms. In the following, we review prior works on these three topics.\n1) Reward Discounting: Temporal reward discounting refers to the decrease in the subjective value of a delayed reward. The common discounting methods include hyperbolic discounting [19] and exponential discounting [20]. Hyperbolic discounting suggests that people tend to value immediate rewards more, and the discount rate over short horizons is\n4 relatively high while the discount rate over long horizons is relatively low. On the other hand, exponential discounting assumes a constant rate of discount in the value of delayed rewards over time. Extensive research has examined the factors that influence reward discounts. For instance, in [21], the authors find that inter-temporal choice reflects the interaction of two distinct processes: one related to the discount of reward amounts and the other related to the discount of reward delays. The combination of these processes determines users\u2019 choices. Furthermore, the work in [22] proposes that users mentally simulate or imagine possible future outcomes, but these simulations are subject to noise or variability. The authors suggest that reward discounts can be explained by the optimal allocation of mental effort. When faced with larger rewards, users may allocate more mental effort to reduce the noise or uncertainty in their simulations, resulting in larger discounts. Recently, reward discounting has been used in reinforcement learning, where agents exhibit a preference for receiving rewards sooner rather than later [23], [24]. For instance, the work in [23] presents a continuous-time modelbased reinforcement learning method that can be generalized to arbitrary reward discount functions. However, in the context of bundle sales, the uncertainty of users\u2019 future demand for the additional item makes it challenging to determine the accurate delay in receiving the rewards. Consequently, we do not consider reward discounting in this work and will investigate this issue in our future work.\n2) The Projection Bias: One popular method specifically designed to model projection bias is the linear bias model [3]. This approach assumes that the true values of users\u2019 current and future preferences are known. When users\u2019 choices are influenced by projection bias, the model assumes that users\u2019 estimates of future preferences are a linear combination of the true values of their current and future preferences. The linear bias model has been used to analyze users\u2019 irrational behaviors in various scenarios. For example, in the context of insurance purchase, they find that on days with severe air pollution, insurance sales increase by approximately 7.2% [2]. In the context of fitness habits, researchers discovered that individuals with projection bias tend to underestimate the positive effects of fitness habits, leading to lower gym attendance [25]. The work in [6] examines the relationship between projection bias and work efficiency. They find that individuals with projection bias tend to underestimate the time required for the second task when transitioning from the first task. Although the linear bias model is popular and easy to analyze, it requires knowledge of the true values of users\u2019 future preferences, which may not be available. Furthermore, few works study how to estimate the parameters in this model, making it less suitable for quantitative analysis of users\u2019 irrational behaviors.\n3) The Reference-Point Effect: To model the referencepoint effect, one notable approach is prospect theory introduced by the Nobel Prize-winning economists Kahneman and Tversky [26]. Prospect theory explains how individuals make decisions under uncertainty and incorporates the referencepoint effect as a key component. According to this theory, individuals assess outcomes based on gains and losses relative\nto a reference point, and their preferences exhibit diminishing sensitivity to changes in outcomes as they move away from the reference point. One notable example is its utilization in the context of emergency decision-making. During emergencies, experts often encounter uncertain and complex situations, making it challenging to provide accurate decision-making information. In such scenarios, prospect theory is employed to capture the experts\u2019 bounded rationality and enhance the efficiency of emergency response [27]. Furthermore, prospect theory has been used to model and analyze the behavior of active consumers in response to real-time electricity pricing, and a prospect theory-based approach is proposed in [28] to study the interaction between an aggregator and multiple active consumers connected to a power distribution system. While prospect theory provides a valuable framework for modeling the reference-point effect, it does not address the issue of how individuals select the reference point. The selection of an appropriate reference point remains a challenge."
        },
        {
            "heading": "III. THE PROPOSED PREFERENCE MODEL",
            "text": ""
        },
        {
            "heading": "A. Problem Formulation",
            "text": "In this work, we consider an online shopping platform that contains N individual items, and the platform can package some of these items into bundles to increase sales. Each item i is characterized by two attributes: its price ci and its value in use \u03bei, and we represent the item i as a tuple i = (ci, \u03bei). The value in use \u03bei denotes the utility that an item provides by satisfying human wants or serving a practical purpose. For example, an item with more features or of superior quality is perceived to have a higher value in use. Note that the value in use is an inherent characteristic of the item and is independent of whether users purchase or use the item [29].\nConsider a user creates a query for an item, and the platform reminds the user that a bundle containing this item is also on sale. We denote the individual item that users intend to purchase as im and refer to it as the main item. Mathematically, we represent this item as im = (cm, \u03bem). Furthermore, we use B to denote the bundle, and iB1 , iB2 , \u00b7 \u00b7 \u00b7 , iB|B|\u22121 denote additional items included in the bundle. Thus, we have B = {im, iB1 , iB2 , \u00b7 \u00b7 \u00b7 , iB|B|\u22121}, where |B| is the number of items in the bundle. The individual prices of additional items are cB1 , c B 2 , \u00b7 \u00b7 \u00b7 , cB|B|\u22121, respectively, and the price of the bundle B is denoted as cB. We assume that cB < cm+cB1+\u00b7 \u00b7 \u00b7+cB|B|\u22121, indicating that the price of the bundle is lower than the total price of these individual items. Additionally, we assume that cB > cm, implying that the price of the bundle is higher than the price of the main item. Let cB = r ( \u00b7 \u2211 ik\u2208B cik ) , where r represents the discount rate. As r decreases, the price of the bundle decreases. Furthermore, we assume that the value of the bundle B is the sum of the values of all the items included in the bundle, i.e., \u03beB = \u2211 ik\u2208B \u03beik .\nTo facilitate the representation of bundles with varying numbers of items, we introduce a fixed-length vector xB \u2208 {0, 1}N . The length of xB is defined as N , and each element in the vector xB can only take the values of 0 or 1. If the j-th element in xB is 1, it indicates that the bundle B includes the j-th item. Otherwise, the j-th item is not in the bundle.\n5\nIn this study, we propose Probe to analyze users\u2019 cognitive biases within the bundle scenario. Fig. 2 illustrates the proposed Probe framework in a two-item bundle scenario. The input consists of two possible options of \u201cpurchasing the main item im only now\u201d and \u201cpurchasing the bundle B = {im, iB1 }\u201d. Given the input, there are three parallel process flows.\n\u2022 The first process flow addresses users\u2019 projection bias. A correlation probability calculator is used to determine the actual probability that users will require the additional item iB1 in the future, denoted as p(i B 1 |im). If there\nare more than 3 items in the bundle, we calculate this probability for all additional items as a whole. To model the projection bias, a weight function w(x) is used to compute users\u2019 perceived probability. \u2022 The second process flow addresses the reference-point effect. An expected price calculator is utilized to estimate users\u2019 expected price and compute the difference between the bundle price and the expected price. A value function v(x) is used to evaluate users\u2019 perceived gains or losses based on this difference. \u2022 The third process flow focuses on learning the value in use of the main item and the bundle, i.e., \u03bem and \u03beB.\nNext, we combine the outputs of the three process flows to obtain the utility when purchasing the main item only now U(im), and the utility when purchasing the bundle U(B). Then, the softmax function is applied to convert these utilities into the probability of selecting the main item P (im) and the probability of selecting the bundle P (B). That is,\nP (im) = exp [U(im)]\nexp [U(im)] + exp [U(B)] , and (1)\nP (B) = exp [U(B)] exp [U(im)] + exp [U(B)] = 1\u2212 P (im).\nIn Fig. 2, issues that need to be addressed include (Q1) how to construct the utility functions, i.e., U(im) and U(B), (Q2) how to model projection bias and reference-point effect, and (Q3) how to learn the value in use {\u03bei} and the unknown parameters in the three process flows. In the following, we first show our solutions to questions 1 and 2 in a two-item bundle scenario in Section III-B, then extend it to a multi-item bundle scenario in Section III-C, and propose a learning algorithm in Section IV to address question 3."
        },
        {
            "heading": "B. A Simple Two-Item Bundle Scenario",
            "text": "In this section, we use a two-item bundle, i.e., B = {im, iB1 }, as an example to illustrate the proposed Probe framework. In the following, we first introduce the proposed utility function. Next, we provide an introduction of projection bias modeling. Lastly, we show our model of the reference-point effect.\n1) Definition of the Utility Function: Let U(im) be the utility of purchasing the main item im = (cm, \u03bem) only now. For simplicity, we consider separable utility functions [30], that is,\nU(im) = u1(cm) + u2(\u03bem). (2)\nand our future work will investigate more complicated utility functions. Here, u1(cm) and u2(\u03bem) are the utility values of paying cm and receiving the value in use \u03bem now, respectively. Similarly, let U(B) be the utility of purchasing the bundle B, and we have\nU(B) = u1(cB) + u2(\u03beB). (3)\nTo simplify the analysis, in this work, for the utility received from the value in use u2(\u00b7), we employ a simple linear utility function. Specifically, we use u2(\u03bem) = \u03bem to represent the utility of the main item and u2(\u03beB) = \u03beB to represent the utility of the bundle. We assume that u2(\u03beB) = \u03beB = \u03bem+\u03bei1 . It is worth mentioning that even with this simple linear utility function, simulations show that it gives superior performance when compared to previous approaches. We will investigate more complex functions for u2(\u00b7) in our future work.\nIn the following, we focus on the analysis of u1(\u00b7), the utility from the price. Note that there are three challenges that complicate the utility functions u1(cm) and u1(cB). Addressing the Uncertainties in Users\u2019 Future Need for the Additional Item. First, the price users will spend is a random variable due to the uncertainty associated with their future need for the additional item.\n\u2022 If a user chooses to purchase the main item individually, there are two possibilities based on his/her future need for the additional item. When the user requires the additional item in the future, he/she will have to purchase it separately at its full price, resulting in a total price of cm + c1. On the other hand, when he/she does not need the additional item in the future, the price paid is that of the main item cm only.\n6 \u2022 On the contrary, if the user purchases the bundle, the price they spend is fixed at cB, regardless of whether they will need the additional item in the future or not.\nTherefore, one critical issue in our bundle choice problems is estimating users\u2019 actual future need for the additional item in the bundle. In this study, we address this issue by introducing the probability p(iB1 |im), which represents the likelihood of users requiring item iB1 after purchasing item im. The value of p(iB1 |im) is influenced by the relationship between the main item im and the additional item iB1 . For complementary items, such as a camera and a lens, it is probable that users will need the additional item in the future. In this case, p(iB1 |im) will be close to 1. On the other hand, for substitute items that are seldom purchased together, such as two different brands of cameras, it is unlikely that users will require the additional item in the future. In this case, p(iB1 |im) will be close to 0. We refer to p(iB1 |im) as the correlation probability since it reflects the correlation between the main item im and the additional item iB1 . Additionally, we define p(\u0304i B 1 |im) as the probability that users will not need the additional item iB1 after purchasing im, and p(\u0304iB1 |im) = 1\u2212 p(iB1 |im). In Section IV, we provide details on how to estimate p(iB1 |im) and p(\u0304iB1 |im) from users\u2019 previous purchasing records. Addressing the Reference-Point Effect. Furthermore, as mentioned in Section I, users\u2019 satisfaction in purchasing the main item or bundle depends on the price difference relative to their expected price. The reference-point effect can introduce biases in users\u2019 price perceptions. For example, if the user\u2019s reference price is buying both the main item and the additional item at full price (that is, cm+cB1 in total), then purchasing the bundle at price cB will give the user a gain of cm + cB1 \u2212 cB. For different users, their reference prices will be different, and details of reference-point effect modeling is in Section III-B2. Addressing the Projection Bias. From prospect theory, in our bundle choice problem, users\u2019 estimates of their potential gains/losses and the probability of their occurrence are often biased, and people make decisions based on their perceived gains/losses and perceived probability rather than the actual ones. To mathematically model users\u2019 perceived gains/losses and perceived probability, prospect theory employs a value function v(x) and a weight function w(p), respectively.\nThe value function v(x) captures users\u2019 biases in perceiving gains and losses, and following the prior work in [4], given x as the difference between the actual price paid and the user\u2019s reference price, we let\nv(x) =\n{ x\u03b2 +\n, if x \u2265 0, \u2212\u03bb(\u2212x)\u03b2\u2212 , if x < 0,\n(4)\nwhere \u03b2+, \u03b2\u2212 \u2208 (0, 1) and \u03bb > 1 are hyper-parameters. Note that v(0) = 0, that is, they perceive no loss and no gain at the reference point. When x > 0, users perceive gains, and the value function takes the form of x\u03b2 +\n. On the other hand, when x < 0, users perceive losses, and the value function becomes \u2212\u03bb(\u2212x)\u03b2\u2212 . The value function captures the asymmetry in users\u2019 perceptions of gains and losses. Fig. 3 shows an example of the value function with \u03b2+ = \u03b2\u2212 = 0.3 and \u03bb = 2. It exhibits two important characteristics: diminishing value and\nFig. 3: The value function in prospect theory.\nloss aversion. Diminishing value means that as the value of x increases, the additional gains or losses brought to users by the same magnitude of increment |\u2206x| are diminishing. Loss aversion means that users\u2019 fear of losses is greater than their joy of gains, and the negative utility perceived from the same amount of loss is greater than the positive utility perceived from the same amount of gain. This is reflected in the steeper slope of the value function for negative values of x.\nGiven the actual probability p that users may or may not need the additional item, the weight function captures the biases in users\u2019 perception of probabilities, and w(p) is users\u2019 perceived probabilities. More discussions of the weight functions are in Section III-B3. Following the prior work in [4], the weight function has distinct shapes for gains and losses. For gains with x > 0, the weight function is denoted as w+(p). For losses where x < 0, the weight function is denoted as w\u2212(p).\n2) Modeling the Perceived Gains/Losses: A critical challenge in modeling the reference-point effect is to identify the expected price of users. From real-world bundle purchase experiences, we have observed that platforms typically emphasize the savings that can be obtained by selecting the bundle over the individual item. This approach is intended to make the bundle appear as a superior option and encourage users to select it. Drawing on this observation, we proposes that reference points can be established by considering users\u2019 different perceptions of thinking about savings or expenses of options. In this work, we consider four different types of users, each corresponding to different modes of reasoning. Type I: Savings-centered users. This type of user always selects the more expensive option as the reference point and estimates the potential gain (i.e., how much they save) by choosing each possible behavior. In our bundle choice problem, given they will need the additional item in the future, purchasing the bundle at the discounted rate costs cB, and purchasing the two items separately at full price costs cm+cB1 . They select the more expensive option as the reference point, and thus, purchasing the bundle gives them an actual gain of cm+c B 1 \u2212cB, i.e., the amount they save; while purchasing them separately gives them a gain of 0. Similarly, given they will not need the additional item in the future, they select the more expensive option of purchasing the bundle as the reference point. Therefore, purchasing the main item only saves them cB \u2212 cm, while purchasing the bundle gives them a gain of 0.\n7 Type II: Expense-centered users. This type of user is similar to the savings-centered users, while they select the less expensive option as the reference point and estimate the potential loss (i.e., how much more they need to pay) for each possible behavior. In our bundle choice problem, given they will need the additional item in the future, they select the less expensive option of purchasing the bundle as the reference point. Therefore, purchasing the two items separately will incur an actual loss of cm + cB1 \u2212 cB, i.e., the extra money they need to pay; while purchasing the bundle gives them a loss of 0. Given they will not need the additional item in the future, purchasing the main item is the reference point. So purchasing the bundle will cost them cB \u2212 cm more; while purchasing the main item only incurs a loss of 0. Type III: Main item-centered users. This type of user always uses the option of purchasing the main item now as the reference point and estimates the potential loss or gain of each possible behavior given they will need (or do not need) the additional item in the future. In our problem, given they will need the additional item in the future, the reference point is they purchase the main item now at price cm and purchase the additional item in the future at full price cB1 . Therefore, their actual gain is cm+cB1 \u2212cB if they purchase the bundle; while if they purchase the main item now, they receive no loss and no gain. Given they will not need the additional item in the future, their reference point is purchasing the main item at price cm. If they purchase the bundle, their actual loss is cB\u2212cm; while they perceive no gain and no loss if they purchase the main item only. Type IV: Bundle-centered users. This type of user is similar to the Type III user, while they always use purchasing the bundle as the reference point. In our problem, given they will need the additional item in the future, the reference point is they purchase the bundle at price cB. Therefore, their actual loss is cm + cB1 \u2212 cB if they purchase the main item now; while if they purchase the bundle, they receive no loss and no gain. Given they will not need the additional item in the future, their reference point is purchasing the bundle at price cB. If they purchase the bundle, they receive no gain and no loss; while their actual gain is cB \u2212 cm if they purchase the main item only.\nGiven the above analysis of the reference point and users\u2019 actual gains/losses, we can use the value function v(\u00b7) in (4) to find users\u2019 perceived gains/losses.\n3) Modeling the Perceived Probabilities: Given p(iB1 |im), the challenge in projection bias modeling is to select appropriate weight functions w+(p) and w\u2212(p) to model bias in users\u2019 perception of probabilities. It is essential to highlight the distinction between projection bias and users\u2019 biased behaviors in the commonly studied gambling [4] and emergency decision-making scenarios [27]. These differences manifest in two key aspects. First, projection bias commonly arises in inter-temporal choices, where users face the challenge of weighing present costs against future benefits. In contrast, in gambling or emergency decision-making scenarios, users base their choices solely on immediate costs and benefits. Moreover, projection bias and users\u2019 behaviors in gambling or emergency decision-making scenarios exhibit distinct bias\nmodes. According to studies [3], [6], projection bias can lead to either overestimation or underestimation of users\u2019 future needs. For example, in our bundle choice problem, the occurrence of overestimation or underestimation depends on factors such as users\u2019 individual characteristics or the marketing strategy employed, and it is independent of the magnitude of the probability. In contrast, in gambling or emergency decision-making scenarios, the biases in users\u2019 estimates are related to the magnitude of the probability. This manifests as an overestimation of small probabilities and an underestimation of large probabilities.\nTaking into account the aforementioned distinctions, we propose a new weight function to capture users\u2019 perceived future preferences in the presence of projection bias for the bundle choice problem. Our proposed weight function is a power function, chosen for its simplicity and ability to differentiate between overestimation and underestimation scenarios. Specifically, the weight functions are defined as w+ [ p(iB1 |im) ] = p(iB1 |im)\u03b1 + , w\u2212 [ p(\u0304iB1 |im) ] = p(\u0304iB1 |im)\u03b1 \u2212 . (5) Here, w+ [ p(iB1 |im) ] and p(iB1 |im) represent users\u2019 perceived probability and the true probability of users needing the additional item in the future, respectively. Similarly, w\u2212 [ p(\u0304iB1 |im) ] and p(\u0304iB1 |im) represent users\u2019 perceived probability and the true probability of users not needing the additional item in the future. The parameters \u03b1+ and \u03b1\u2212 denote the degree of deviation in the estimated future preference from the actual one and are referred to as the positive and negative bias coefficients, respectively. An example of the new weight function is shown in Fig. 4. Note that when \u03b1+ = \u03b1\u2212 = 1, we have w+ [ p(iB1 |im) ] = p(iB1 |im) and\nw\u2212 [ p(\u0304iB1 |im) ] = p(\u0304iB1 |im), and there is no projection bias where the perceived probabilities are the same as the actual ones. When \u03b1+ or \u03b1\u2212 is greater than 1, it signifies an underestimation of p(iB1 |im) in users\u2019 perceived probabilities, with a larger value indicating a greater bias. Conversely, when \u03b1+ or \u03b1\u2212 is less than 1, it indicates an overestimation of p(iB1 |im) in users\u2019 perceived probabilities, with a smaller value corresponding to a larger bias due to overestimation.\nNote that the sum of the weight function values may not equal 1, i.e., w+ [ p(iB1 |im) ] +w\u2212 [ p(\u0304iB1 |im) ] \u0338= 1. This deviation from strict probabilistic reasoning is a result of projection bias in users\u2019 perceived probabilities, similar to observations in prior works on prospect theory [4]. Furthermore, although we do not impose any restrictions on the relationship between \u03b1+ and \u03b1\u2212 in our model, our experiment results in Section VI-C demonstrate an inverse relationship between \u03b1+ and \u03b1\u2212, where a larger value of \u03b1\u2212 often corresponds to a smaller value of \u03b1+. That is, when individuals overestimate p(iB1 |im), they often underestimate p(\u0304iB1 |im). This observation aligns with human intuition [27].\nNote that projection bias is not the same across users or items. To capture the variation in projection bias across users and items, we let\n\u03b1+ = (\u03b1+u + \u03b1 + im )/2, \u03b1\u2212 = (\u03b1\u2212u + \u03b1 \u2212 im )/2. (6)\n8 0.00 0.25 0.50 0.75 1.00 p 0.0 0.2 0.4 0.6 0.8 1.0 p\u03b1 \u03b1 = 2 \u03b1 = 4 \u03b1 = 1\n(a) The underestimation case\n0.00 0.25 0.50 0.75 1.00 p\n0.0\n0.2\n0.4\n0.6\n0.8\n1.0\np\u03b1\n\u03b1 = 0.2 \u03b1 = 0.5 \u03b1 = 1\n(b) The overestimation case\nFig. 4: The proposed weight function in the bundle choice scenario.\nHere, \u03b1+u and \u03b1 \u2212 u represent the impact of a user\u2019s characteristics on the biases, while \u03b1+im and \u03b1 \u2212 im\nrepresent the impact of the main item on the biases. We refer to \u03b1+u and \u03b1 \u2212 u as the user\u2019s positive and negative bias coefficient, respectively, and refer to \u03b1+im and \u03b1 \u2212 im\nas the item\u2019s positive and negative bias coefficient, respectively. The proposed weight function and bias coefficients offer a method to model users\u2019 perceived probabilities in a personalized manner.\n4) The Utility Functions and the Probabilities of Selecting the Main Item/Bundle: Given the above analysis of the reference point selection and the projection bias, we can calculate the utility values u1(cm) and u1(cB) for different types of users in Section III-B2. Taking the example of savingscentered users, when they anticipate needing the additional item in the future, their perceived gains from purchasing the bundle are v(cm + cB1 \u2212 cB), and their perceived gain/loss from purchasing the main item only now is 0 as v(0) = 0. On the other hand, when these users do not expect to require the additional item in the future, their perceived gains from purchasing the main item is im is v(cB\u2212cm), and they perceive no gain and no loss if they purchase the bundle. By combining the value function with our proposed weight function, the utility values in terms of price are\nu1(cm) = w \u2212 [p(\u0304iB1 |im)] \u00b7 v(cB \u2212 cm), (7)\nu1(cB) = w + [ p(iB1 |im) ] \u00b7 v(cm + cB1 \u2212 cB).\nSimilarly, for expense-centered users, the utility values in terms of price are\nu1(cm) = w + [ p(iB1 |im) ] \u00b7 v(cB \u2212 cm \u2212 cB1 ), (8)\nu1(cB) = w \u2212 [p(\u0304iB1 |im)] \u00b7 v(cm \u2212 cB).\nFor bundle-centered users, the utility values in terms of price are\nu1(cm) = 0, u1(cB) = w + [ p(iB1 |im) ] \u00b7 v(cm + cB1 \u2212 cB)\n(9) +w\u2212 [ p(\u0304iB1 |im) ] \u00b7 v(cm \u2212 cB).\nFor main item-centered users, the utility values in terms of price are\nu1(cB) = 0, u1(cm) = w + [ p(iB1 |im) ] \u00b7 v(cB \u2212 cm \u2212 cB1 )\n(10) +w\u2212 [ p(\u0304iB1 |im) ] \u00b7 v(cB \u2212 cm).\nGiven the above u1(cm) and u1(cB), note that we let u2(\u03bem) = \u03bem and u2(\u03beB) = \u03beB as stated in Section III-B, we can use Eq. (2) and Eq. (3) to obtain U(im) and U(B), respectively, and use Eq. (25) to obtain P (im) and P (B)."
        },
        {
            "heading": "C. The Multi-Item Bundle Scenario",
            "text": "In this section, we address the multi-item bundle scenario where B = {im, iB1 , iB2 , \u00b7 \u00b7 \u00b7 , iB|B|\u22121} with |B| > 2. We extend the proposed Probe method from the two-item bundle scenario to handle this case. The utility functions in the multi-item bundle scenario remain the same as those in the two-item bundle scenario. Specifically, we calculate the utility value of the main item im using Eq. (2), and the utility value of the bundle B using Eq. (3).\nThe challenge in the multi-item bundle scenario lies in dealing with users\u2019 future needs for multiple additional items. One intuitive approach is to discuss users\u2019 future needs for each additional item separately and list all possible combinations. However, the complexity of this approach grows exponentially, i.e. when the number of additional items is ||B| \u2212 1, there are 2|B|\u22121 combinations to consider. Thus it is impractical for bundles with more than 10 items, which is common in scenarios such as game bundles or music bundles.\nIn this work, we consider the simple scenario where users choose between the following two options: either purchasing the entire bundle with all |B| items or purchasing the main item im only. We ignore all other possible combinations of the items and plan to investigate effective algorithms to reduce the computation cost in our future work. We introduce a virtual item iBv that represents the combined effect of all additional items in the bundle. The price of the virtual item iBv is set to be the sum of the prices of all additional items, denoted as cBv = \u2211|B|\u22121 j=1 c B j , and its value in use is the sum of the values\nin use of all additional items, denoted as \u03beBv = \u2211|B|\u22121 j=1 \u03be B j . In this case, we can simply replace the additional item iB1 in the two-item bundle with the virtual item iBv in the multiitem scenario. This simplification allows us to apply the same framework and methodologies to model projection bias and the reference-point effect in both scenarios.\nSpecifically, to model projection bias, p(iBv |im) is the probability that users will require the virtual item iBv after purchasing the main item im, and we have p(\u0304iBv |im) = 1 \u2212 p(iBv |im). The estimation of the probability p(iBv |im) is in Section IV. We apply the weight function in Eq. (5) to calculate users\u2019 perceived probabilities. Moreover, to model for the referencepoint effect, we use the same four methods proposed in the two-item bundle scenario to determine users\u2019 expected price, where the price of the additional item cB1 is replaced with the price of the virtual item cBv . Subsequently, we apply the value function in Eq. (4) to calculate users\u2019 perceived gains or losses. For example, in the case of savings-centered users, the utility\n9 functions in the multi-item bundle scenario can be formulated as follows\nU(im) = w \u2212 [p(\u0304iBv |im)] \u00b7 v(cB \u2212 cm) + \u03beim , (11)\nU(B) = w+ [ p(iBv |im) ] \u00b7 v(cm + cBv \u2212 cB) + \u03beB.\nFor other types of users, the analysis of U(im) and U(B) are the same and omitted."
        },
        {
            "heading": "IV. THE LEARNING ALGORITHM",
            "text": "Given the above framework, we introduce our proposed learning algorithm to learn the parameters in the model. In our proposed Probe, there are three sets of parameters that need to be learned: (1) the correlation probability p(iB1 |im) in the two-item bundle scenario and p(iBv |im) in the multi-item bundle scenario. These probabilities represent the likelihood that users will require the additional item iB1 or the virtual item iBv after purchasing the main item im; (2) the value in use of each item \u03bei; and (3) four bias coefficients, including the positive and negative bias coefficients of each user, i.e., \u03b1+u and \u03b1\u2212u , as well as the positive and negative bias coefficients of each item, i.e., \u03b1+i and \u03b1 \u2212 i . We utilize the example of savings-centered users to demonstrate the proposed learning algorithm. This method is also applicable to the other three types of users. To estimate these parameters, we first illustrate the estimation of the correlation probability and use p(iBv |im) as an example. The same method can also be used to estimate p(iB1 |im). We then present our proposed learning algorithm to estimate the remaining parameters.\nA. Estimation of the Correlation Probability p(iBv |im) When estimating users\u2019 future need for the additional item p(iBv |im), there are two issues to address. First, different users have different needs for the additional item, and thus, p(iBv |im) will vary from person to person. However, in practical applications, the available information usually pertains to the items or bundles that users have purchased, while details such as users\u2019 income, consumption level, and individual characteristics often remain inaccessible. This makes it difficult to accurately estimate users\u2019 personal preferences for different items or bundles. In this work, we estimate and use the correlation probability averaged over the entire population in our analysis, and we will explore personal correlation probabilities in our future investigations.\nFurthermore, the platform often needs to generate new bundles to fulfill users\u2019 dynamic interests. This requires that the estimation of p(iBv |im) be applied not only to the existing bundles in the training data but also to the new bundles that are not in the training data. Previous approaches, like the BPR method [11], BGCN [14] and CrossCBR [13], typically learn vector representations for individual bundles and users, and leverage the similarity between bundles and users to estimate users\u2019 preferences for existing bundles. However, these methods have limitations in generating vector representations for new bundles and in predicting users\u2019 preferences for new bundles.\nTo address this challenge, we assume that the estimation of the associated probability p(iBv |im) should depend on the individual items in the bundle and their relationships. The binary vector xB \u2208 {0, 1}N represents the individual items contained in the bundle. Given xB, we first mathematically model the relationship between xB and the associated probability p(iBv |im) and then propose a strategy to learn the unknown parameters from users\u2019 historical transaction records. Specifically, the estimation of the correlation probability p(iBv |im) involves two key issues: P1) how to mathematically model the relationship between the correlation probability p(iBv |im) and xB; and P2) how to learn the unknown parameters in the above model from users\u2019 past transaction records. These two key issues are discussed below.\n1) Modeling the relationship between p(iBv |im) and xB: To study p(iBv |im), we initially define the \u201cco-purchase\u201d of item ij and ij as the situation where both items have been purchased by the same user. This includes cases where the user first purchases item ij and then purchases item ij , as well as cases where the user purchases a bundle containing both ij and ik. We compute the co-purchase matrix F \u2208 RN\u00d7N from users\u2019 previous shopping records. Here, Fjk, with j \u0338= k, represents the number of co-purchases between the j-th and k-th items. As for diagonal elements, we set Fjj = 0 to avoid self-copurchase counts.\nIt is important to note that the elements in matrix F exhibit a high degree of divergence. Specifically, some item combinations are frequently purchased together, leading to very large corresponding elements in F, while other combinations are rarely purchased together, resulting in elements that are nearly zero. However, this high divergence of F may pose challenges when using the sigmoid function as the activation function during training. In particular, the gradient of the sigmoid function can approach zero when the input value is large, leading to the gradient vanishing problem. Conversely, when the input value is near zero, the gradient of the sigmoid function can be very large, resulting in the gradient exploding problem. These issues are also reported in [31], which may prevent the model from converging to a desirable solution and may cause the optimization process to fail. To mitigate the aforementioned challenge, we adopt a standard technique known in graph theory to normalize the co-purchase matrix F [32]. Specifically, we normalize the matrix F as follows\nR = D\u2212 1 2FD\u2212 1 2 , (12)\nwhere D is the degree matrix of F. The matrix D is a diagonal matrix, where each element on the diagonal is the sum of all the elements in the corresponding row or column of F, i.e., Djj = \u2211 k Fjk. The resulting matrix R is the normalized co-purchase matrix, where all elements in R are in the range [0, 1]. Importantly, the normalized matrix R does not suffer from the gradient vanishing or gradients exploding problem, while the order relationship of the element values in F is preserved in R.\nGiven the normalized co-purchase matrix R, we model the relationship between the correlation probability p(iBv |im) and\n10\nxB as\np(iBv |im) = \u03c3 [ (xB \u2299\u03a6m)T \u00b7Rm + b ] . (13)\nHere, the vector Rm denotes the column in the normalized co-purchased matrix R that corresponds to the main item im. It is important to note that a higher frequency of co-purchases between two items usually indicates a higher correlation probability, but the degree of correlation between different item pairs may vary. For example, diapers and baby wipes are frequently purchased together and exhibit a substantial correlation. This phenomenon arises from their common usage in tandem during diaper changes for infants. On the other hand, for the example of diapers and beer, a classic case often cited in data analysis [33], although these items have been observed to be co-purchased frequently, they possess a notably lower correlation. One commonly suggested interpretation for the co-purchase behavior is that when men purchase diapers, they may reward themselves with a beer [33]. In this work, we introduce a weight matrix {\u03a6} \u2208 RN\u00d7N to model the varying strengths of this correlation between different item pairs, with larger weights indicating that the co-purchases of the two corresponding items contribute more to the estimation of the correlation probability than other item pairs. The vector \u03a6m is the column vector in the matrix \u03a6 that corresponds to the main item. The operation \u2299 is the element-wise product (Hadamard product). In (13), the term xB \u2299 \u03a6m calculates the weights between the main item and the additional items in the bundle. The expression (xB \u2299\u03a6m)T \u00b7Rm computes the weighted sum of the normalized co-purchase counts between the additional items and the main item. Furthermore, b \u2208 R is the bias term, and the sigmoid function \u03c3(x) = 1/ [1 + exp(\u2212x)] is used to confine the output value within the range [0, 1].\n2) Learning unknown parameters in p(iBv |im): In Eq. (13), the parameters \u03a6 and b play an important role in the correlation probability estimation, and thus it is critical to obtain an accurate estimation of these two parameters. To address this issue, we propose to formulate the estimation of \u03a6 and b as a regression problem, i.e., estimating \u03a6 and b by minimizing the difference between the estimated and the true values of p(iBv |im). In the training stage, we employ Ridge regression [34], a well-known linear regression technique, to optimize the parameters \u03a6 and b. Ridge regression aims to minimize the sum of squared errors between the predicted values and the target values, while additionally incorporating a penalty term that discourages the emergence of large parameter values.\nIn this regression problem, the estimated value of the correlation probability p(iBv |im) can be computed using Eq. (13), but the true value is difficult to obtain. To address this difficulty, we assume that the true value of p(iBv |im) can be approximated by the ratio of the number of joint purchases of the virtual item iBv and the main item im to the number of purchases of the main item only im. In addition, we assume that the joint purchases of the virtual item iBv and the main item im in the training data can be approximated by the purchases of the bundle B. Specifically, assume that M(im) and M(B) are the number of purchases of the main item im and the bundle B in the training data, respectively. We use the ratio M(B)/M(im) to approximate the true value of p(iBv |im). We\nAlgorithm 1 The Proposed Learning Algorithm input: The number of training data K, the number of itera-\ntions T , and \u03a6, b, output: \u03b1+u , \u03b1 + i , \u03b1 \u2212 u , \u03b1 \u2212 i and \u03bei\n1: initialize \u03b1+u , \u03b1 + i , \u03b1 \u2212 u , \u03b1 \u2212 i and \u03beim , \u03beB 2: for t = 1, 2, \u00b7 \u00b7 \u00b7 , T do 3: Shuffle the order of training data 4: for k = 1, 2, \u00b7 \u00b7 \u00b7 ,K do 5: Compute p(iBv |im) according to Eq. (13) 6: Compute P (B) and P (im) according to Eq. (25) 7: Compute gradients according to Eq. (15) 8: Update these parameters based on the computed\ngradients 9: end for\n10: end for\nwill investigate more accurate methods to determine the true value of p(iBv |im) in our future work. Note that the true value is only needed in the training stage, and in the testing stage, we compute the probability p(iBv |im) using Eq. (13)."
        },
        {
            "heading": "B. Learning Items\u2019 Value In Use and the Bias Coefficients",
            "text": "Given the parameters \u03a6 and b, we propose the learning algorithm in Algorithm 1 to estimate the value in use of each item \u03bei, as well as the four bias coefficients, \u03b1+u , \u03b1 \u2212 u , \u03b1 + i , \u03b1 \u2212 i .\nIn our study, we employ the commonly used cross entropy function in the binary classification problem as our loss function. It quantifies the average discrepancy between the actual and predicted probability distributions, which is given by\nL = \u2212 1 K K\u2211 k=1 { ykB log [P (B)] + ykim log [P (im)] } , (14)\nwhere K is the number of records in the training dataset. In Eq. (24), in the k-th transaction record, ykB = 1 and y k im\n= 0 when a user purchases the bundle, and ykB = 0 and y k im\n= 1 when the user purchases the main item only. Additionally, due to a large number of samples in the training set, utilizing the gradient descent method will result in high computational overhead as it requires gradients for all samples. To accelerate the training speed, this work employs stochastic gradient descent [35] as the optimization algorithm. Specifically, during each iteration, we randomly select a single data point, compute the gradients of the relevant parameters, and update them accordingly. We repeat this process over the training data for a total of T times.\nIn the following, we use the parameter \u03b1+u and savingscentered users as an example to show the parameter update process. Similar update rules can be applied to other parameters and other types of users, and details can be found in the appendix. To update the value of \u03b1+u for savingscentered users, a single data point is randomly chosen, and the following update rule is employed\n\u03b1+u (t+ 1) = \u03b1 + u (t)\u2212 \u03b7 \u00b7 \u2207\u03b1+u (t), where (15)\n\u2207\u03b1+u (t) = 1\n2\n[ P t(B)\u2212 yB ] \u00b7 ut1(cB) \u00b7 ln [ p(iBv |im) ] .\n11\nIn (15), \u03b1+u (t) and \u03b1 + u (t + 1) represent the values of \u03b1 + u in the t-th and (t + 1)-th iterations, respectively. \u2207\u03b1+u (t) is the gradient of \u03b1+u in the t-th iteration, and its derivation can be found in the supplementary file. \u03b7 is the learning parameter that requires careful tuning to ensure effective convergence of the optimization process. P t(B) is the predicted probability of selecting the bundle in the t-th iteration, and ut1(cB) is the computed utility of the bundle in the t-th iteration. The correlation probability p(iBv |im) is calculated using Eq. (13) with the optimized \u03a6 and b."
        },
        {
            "heading": "C. The Testing Stage",
            "text": "During the testing stage, given the learned parameters, when presented with two possible options, i.e., purchasing the main item im only or purchasing the bundle B, the following steps are carried out. First, given the normalized co-purchase matrix Rm and the parameters \u03a6 and b, we represent the new bundle B using its vector form xB, and use (13) to predict the correlation probability p(iBv |im). Then, we use the utility functions in Section III-B to compute the utility values U(im) and U(B) using the learned value in use \u03bei and the four bias coefficients \u03b1+u , \u03b1 \u2212 u , \u03b1 + i , and \u03b1 \u2212 i . Finally, we use (25) to compute the probabilities P (im) and P (B), and the option with the highest probability is considered users\u2019 preferred choice.\nV. THEORETICAL ANALYSIS OF THE PROPOSED Probe\nIn this section, we theoretically analyze the impact of projection bias on the design of bundle sales strategies. We specifically focus on two important issues: (1) whether users with a higher projection bias are more inclined to purchase bundles; and (2) given the main item, how to select additional items to optimize the probability of users selecting the bundle. To facilitate our analysis, we use the two-item bundle scenario as an example, and we will explore the multi-item bundle scenario in the future. In this section, we consider savingscentered users as an example, and our analysis can be extended to other types of users.\nA. Positive Correlation Between Projection Bias and P (B) Consider users who are faced with a choice between an item im and a bundle B = {im, iB1 }, where cB \u2212 cm > 0 and cm + c B 1 \u2212 cB > 0. From (5), users with a higher projection bias tend to overestimate the probability that they will need the additional items (i.e., p(iB1 |im)) and underestimate the probability that they will not need the additional items (i.e., p(\u0304iB1 |im)).\nFollowing the discussion in Section III-B3, we use \u03b1+u and \u03b1\u2212u to quantify users\u2019 projection bias, as smaller values of \u03b1 + u and larger values of \u03b1\u2212u indicate a higher projection bias. We assume that \u03b1+ has a negative correlation with \u03b1\u2212, which will be validated in Section VI-C. Specifically, according to Eq. (5), users with a higher projection bias tend to overestimate the probability that they will need the additional items (i.e., p(iB1 |im)) and underestimate the probability that they will not need the additional items (i.e., p(\u0304iB1 |im)). In order to analyze\nthe relationship between the probability that users will select the bundle P (B) and the values of \u03b1+u and \u03b1\u2212u , we have Theorem 1. The proof of Theorem 1 can be found in the appendix. Theorem 1 shows that P (B) is a decreasing function of \u03b1+u and an increasing function of \u03b1 \u2212 u , and that users with a higher projection bias are more likely to purchase the bundle. The insights derived from Theorem 1 are consistent with the experimental observations outlined in Section VI-C. These findings provide valuable insights for the design of bundle sales strategies. For instance, platforms can estimate users\u2019 projection bias and target those with higher projection bias for effective bundle promotions.\nTheorem 1. Given an item im and a bundle B = {im, iB1 } where cB \u2212 cm > 0 and cm + cB1 \u2212 cB > 0, we have\n\u2202P (B) \u2202\u03b1+u = 1 2 \u00b7 P (B)P (im)u1(cB) \u00b7 ln\n[ p(iB1 |im) ] < 0,\n\u2202P (B) \u2202\u03b1\u2212u = \u22121 2 \u00b7 P (B)P (im)u1(cim) \u00b7 ln\n[ p(\u0304iB1 |im) ] > 0.\n(16)\nThat is, P (B) is a decreasing function of \u03b1+u , and is an increasing function of \u03b1\u2212u ."
        },
        {
            "heading": "B. Appropriate Additional Items for Bundle Sales",
            "text": "In this section, given the main item, we study which additional item should be put in the bundle B to maximize the probability that users select the bundle. Specifically, we study the impact of the correlation probability p(iB1 |im) and the price on the probability that users choose the bundle P (B).\nWe first analyze the relationship between the probability P (B) and the correlation probability p(iB1 |im), and we have Theorem 2 whose proof is in the appendix. Theorem 2 emphasizes that, in order to increase the probability of users selecting the bundle P (B), the platform should choose an additional item that has a high correlation probability with the main item p(iB1 |im).\nTheorem 2. Given the main item im and a bundle B = {im, iB1 } where cB \u2212 cm > 0 and cm + cB1 \u2212 cB > 0, we have\n\u2202P (B) \u2202p(iB1 |im)\n= P (B)P (im) \u00b7 { \u03b1+u + \u03b1 + im\n2 \u00b7 u1(cB) \u00b7\n[ p(iB1 |im) ]\u22121 (17)\n+ \u03b1\u2212u + \u03b1 \u2212 im\n2 \u00b7 u1(cm) \u00b7\n[ 1\u2212 p(iB1 |im) ]\u22121 } > 0,\nand P (B) is an increasing function of the correlation probability p(iB1 |im).\nFurthermore, we fix the bundle discount rate r and analyze the relationship between the probability P (B) and the price of the additional item cB1 , and our findings are in Theorem 3.\n12\nTheorem 3. Consider the bundle B with a fixed discount rate r that satisfies r > cm /\u2211 ik\u2208B cik (i.e., cB \u2212 cm > 0) and r < 1 (i.e., cm + cB1 \u2212 cB > 0). Define\nA := 1\u2212\u03b2+ \u221a\u221a\u221a\u221a [p(\u0304iB1 |im)](\u03b1\u2212u +\u03b1\u2212im )/2\n[p(iB1 |im)] (\u03b1+u +\u03b1 + im\n)/2 > 0, r0 :=\n1\n1 +A 1\u2212\u03b2+ \u03b2+\n,\n(18)\nand \u03ba :=\n[ (1\u2212 r) +A \u00b7 1\u2212\u03b2+ \u221a r\n(1\u2212r)\u03b2+ ] r \u00b7 [ 1\u2212A \u00b7 ( r\n1\u2212r\n) \u03b2+ 1\u2212\u03b2+ ] . We can then draw the following conclusions. \u2022 If r < r0, then we have \u03ba > 0, and\n\u2202P (B) \u2202cB1 < 0 when cB1 < \u03ba \u00b7 cm, and (19) \u2202P (B) \u2202cB1 > 0 when cB1 > \u03ba \u00b7 cm.\n\u2022 If r > r0, then we have \u03ba < 0, and\n\u2202P (B) \u2202cB1 < 0 when cB1 \u2208 (0,+\u221e) (20)\nFrom (19) and (20), we observe that the partial derivative \u2202P (B)/\u2202cB1 exhibits different behaviors depending on whether r is below or above the threshold r0. Specifically,\n\u2022 when r is below the threshold r0, as cB1 increases, the probability P (B) first decreases and then increases, and cB1 = \u03ba \u00b7 cm is the turning point. At this turning point, the probability of users purchasing the bundle is the lowest. That is, when the price of the additional item is significantly less than or greater than \u03ba \u00b7 cm, the probability of users purchasing the bundle is higher. \u2022 On the other hand, when r is above the threshold, the probability P (B) is a decreasing function of cB1 = \u03ba \u00b7cm. In other words, when the discount is small, a lower price for the additional item leads to a higher probability of users purchasing the bundle.\nMoreover, we analyze the impact of projection bias, i.e., \u03b1+u and \u03b1\u2212u , on the threshold r0 and the turning point \u03ba \u00b7 cm. To simplify the analysis, we assume that the item positive bias coefficient and item negative bias coefficient are equal to 0, i.e., \u03b1+im = \u03b1 \u2212 im\n= 0, and we observe the same trend for other values of \u03b1+im and \u03b1 \u2212 im\n. \u2022 First, we consider users without projection bias with\n\u03b1\u2212u = \u03b1 + u = 1, and define Awo := A|\u03b1\u2212u =\u03b1+u=1, rwo0 := r0|\u03b1\u2212u =\u03b1+u=1 and \u03ba wo := A|\u03b1\u2212u =\u03b1+u=1. \u2022 Next, we consider users with projection bias with \u03b1\u2212u > 1 and \u03b1 + u < 1. Define Aw := A|\u03b1\u2212u >1,\u03b1+u<1,\nrw0 := r0|\u03b1\u2212u >1,\u03b1+u<1 and \u03ba w := A|\u03b1\u2212u >1,\u03b1+u<1.\nIt is easy to show that Aw < Awo, and rw0 > rwo0 . This implies that the threshold r0 is higher when projection bias is taken into account. Furthermore, we have \u03baw < \u03bawo, indicating that the turning point is lower when projection bias is considered. This highlights the importance of accounting for projection bias in understanding the behavior of users and designing effective bundle sales strategies."
        },
        {
            "heading": "VI. EXPERIMENTS",
            "text": "In this section, we first describe the experimental setups. Then, we present the performance comparisons and analyze the effects of parameter selections. Finally, we provide a qualitative analysis of users\u2019 projection bias."
        },
        {
            "heading": "A. Experimental Setup",
            "text": "Dataset Description. We evaluate the performance of our proposed Probe model using the Steam dataset [11]. The Steam dataset is a comprehensive dataset that provides information on users\u2019 purchase and interaction behaviors with both individual games and bundles. The dataset is organized into three main parts: individual games data, bundles data, and users\u2019 interactions data. The individual game data provides detailed information about each game, including the game title, description, genre, price, and user reviews. The bundle data contains information including the bundle title, games included in the bundle, price, and the discount rate. The users\u2019 interaction data includes users\u2019 purchases, playtime, reviews, and ratings of individual games or bundles.\nNote that our access to the dataset is limited to users\u2019 final purchases, and we do not have explicit information about the available options users had when they made decisions. In particular, when we observe users buying a bundle, we do not know which specific item they originally intended to purchase. Similarly, when users\u2019 purchase involves a single item, we are unaware of the available bundles that were presented to them at the time of their decisions. To address this limitation, we use the following method to generate the available options.\n\u2022 When there is a purchase of a bundle B in the dataset, we consider the game within the bundle that the user has played for the longest duration as the main item im. \u2022 When there is a purchase of an individual item im in the dataset, we check bundles containing that specific item on the Steam platform. If there exists one bundle B that includes item im, we treat that bundle as the available option for the user. In cases where multiple bundles contain item im, we select the one with the lowest price. However, if there are no bundles containing item im, we discard that particular purchasing record of the single item as it does not provide relevant information for our analysis.\nFollowing the above steps, we obtained a dataset with 197,438 records. Detailed statistical information is in Table I.\n13\nEvaluation Metrics. In this work, we adopt the classic binary classification metrics to evaluate the performance of Probe. Considering the sparsity of bundle purchases in the Steam dataset, where the number of bundle purchases (37,706) is approximately one-fifth of the number of individual game purchases (159,732), we define the positive class as bundle purchases and the negative class as individual game purchases. This allows us to account for the class imbalance in the dataset.\nWe use the confusion matrix shown in Table II to calculate the precision, recall and F1 score, where\nprecision = TP\nTP + FP , recall =\nTP\nTP + FN , (21)\nand F1 = 2 \u00b7 precision \u00b7 recall precision + recall .\nPrecision measures the accuracy of the model\u2019s positive predictions, and recall measures the model\u2019s ability to identify positive instances correctly. F1 score is the harmonic mean of precision and recall, providing a balanced measure between the two metrics. We primarily focus on F1 score as a comprehensive metric for evaluating the performance of the Probe.\nBaseline Methods. In this work, we compare the performance of our proposed Probe with several baseline methods. Note that the linear bias model [3], which requires the true values of users\u2019 future preferences to be known, is not applicable in our setting. Therefore, we do not include the linear bias model in the baseline methods.\n\u2022 Frequency-based method, where we assume that the probability of a user selecting the bundle in the testing set is the same as the frequency observed in the training set. \u2022 Binary classification-based methods: Classic methods in this category include Naive Bayes Classifier [36], Support Vector Machines (SVM) [37], Gradient Boosting Decision Trees (GBDT) [38], and AdaBoost [39]. Among these classifiers, AdaBoost achieves the best performance, thus, we show the results of AdaBoost as an example. \u2022 Learning-to-rank methods including RankSVM [40] and RankNet [41]. \u2022 Bundle recommendation methods including BPR method [11], BGCN [14], and CrossCBR [13].\nDetailed implementation of these methods can be found in the appendix."
        },
        {
            "heading": "B. Experimental results",
            "text": "1) The Overall Performance: The evaluation of the proposed Probe method is performed using 5-fold crossvalidation, and the process is repeated five times with different initial conditions. Furthermore, when considering all users as savings-centered users, it achieves the highest F1 score. Therefore, we employ this scenario as a benchmark in all our experiments, and more discussions of the reference-point model are presented in Section VI-B4. The average results are presented in Table III. Among the baseline methods, BGCN exhibits the highest recall but low precision, while AdaBoost achieves the highest precision but low recall. RankNet has the best performance in terms of the F1 score among all the baseline methods. Note that bundle recommendation methods\nsuch as BPR, BGCN, and CrossCBR solely rely on userbundle and user-item interaction data, omitting crucial item and bundle features like prices. In contrast, RankNet and AdaBoost leverage these features, leading to their superior performance compared to the bundle recommendation methods. Impressively, the proposed Probe exhibits a 2% improvement in the F1 metric compared to RankNet, achieving the highest F1 score among all methods and effectively balancing precision and recall. Moreover, the proposed Probe explicitly models users\u2019 decision-making processes within the bundle choice problem, endowing it with enhanced interpretability compared to previous works. Additionally, histograms of the predicted P (im) and P (B) can be found in the appendix.\n2) Effect of the Training Data Length: To investigate the effect of the training data length on the performance, we select the top 4 methods with the highest F1 scores for performance comparison, namely, our proposed Probe, RankNet, AdaBoost, and BPR.\nIn this experiment, we keep the testing set fixed with 39,488 records. Among the remaining K = 157, 950 records, we randomly select a part of them as the training dataset, and optimize the parameters using the learning algorithm in Section IV-B. Let Q be the training set sampling rate. For example, when Q = 0.01, only 1% of the 157, 950 records are used as the training set.\nThe results are shown in Figure 5. Among all the baseline methods, RankNet initially has the worst F1 score at Q = 0.01, and it exhibits the fastest improvement as Q increases from 0.01 to 0.1. It achieves the second-best results when Q = 1. The proposed Probe method significantly outperforms the baseline methods at Q = 0.01, and its performance increases steadily as more training data are available. It achieves the highest F1 score when Q = 1. These results indicate that the proposed Probe has a significant advantage when only a small amount of data is available and performs better than the baseline methods with larger datasets.\n3) Evaluation of the Projection Bias Model: To validate our proposed personal projection bias model, we conduct experiments with different settings of \u03b1+ and \u03b1\u2212. The results are shown in Table IV.\nFirst, we investigate whether users have projection bias. We\n14\ncompare the performance of two sets of \u03b1+ and \u03b1\u2212. In the first set labeled as \u201cW-I\u201d in Table IV, we assume users have personal projection bias, and use (6) to obtain personalized \u03b1+ and \u03b1\u2212 for each user. In the second set named \u201cW-II\u201d in Table IV, we assume users do not have projection bias and set \u03b1+ = \u03b1\u2212 = 1. Comparing the F1 scores of W-I and W-II, we find that W-I gives a higher F1 score, indicating that projection bias indeed exists in users\u2019 decision-making process.\nNext, we study whether the projection bias is fixed for all users and considered two more scenarios labeled as \u201cW-III\u201d and \u201cW-IV\u201d in Table IV. In W-III, we assume that all users always overestimate their needs for items, and \u03b1+ and \u03b1\u2212 are the same for all users. Similarly, in W-IV, we assume that all users always underestimate their needs for items, and \u03b1+ and \u03b1\u2212 are the same for all users. Comparing the F1 scores of W-I, W-III, and W-IV, we find that W-I achieves the highest accuracy. These results indicate that users\u2019 projection bias varies from person to person.\nFurthermore, we compare the performance of our proposed weight function (5) with the following weight functions\nw+(p) = p\u03b31\n[p\u03b31 + (1\u2212 p)\u03b31 ]1/\u03b31 , (22)\nw\u2212(p) = p\u03b32\n[p\u03b32 + (1\u2212 p)\u03b32 ]1/\u03b32 ,\nwhich are commonly used in gambling [4] or emergency decision-making scenarios [27] and labeled as \u201cW-V\u201d in Table IV. In (22), p is the actual probability of an outcome, \u03b31 and \u03b32 are parameters that capture the degree to which users\u2019 perceptions are biased. The weight function in (22) captures the tendency of users to overestimate small probabilities and underestimate large probabilities. Comparing W-I and W-V, W-I achieves a higher F1 score, showing that our proposed weight function (6) is more accurate in modeling users\u2019 projection bias in the bundle choice problem.\n4) Evaluation of the Reference-Point Effect Model: In this experiment, we assume that all users are of the same type when selecting the reference point, and Table V presents the results of the four different types of reference-point selections in Section III-B2. From Table V, when we assume all users are\nType-I users, it achieves the highest F1 score. This indicates that most users are more concerned about the potential savings they can obtain from the available options. As a result, in this work, we assume that all users are savings-centered users who likely prioritize cost savings, and use this as an example in all experiments. In our future work, we plan to consider the more practical scenario where users have different types, study how to estimate their types and investigate the bundle choice problem with different types of users."
        },
        {
            "heading": "C. Qualitative Analysis of Users\u2019 Projection Bias",
            "text": "In this experiment, we aim to qualitatively investigate the relationship between the number of bundle purchases and users\u2019 projection bias. Users are categorized into two groups based on their purchase history: those who have purchased at least one bundle and those who have never purchased a bundle. We compare the positive bias coefficient \u03b1+u and the negative bias coefficient \u03b1\u2212u for these two groups of users to study the\n15\nrelationship between users\u2019 projection bias and their bundle purchasing behavior.\nFigure 6 displays the joint distribution of the positive and negative bias coefficients for the two groups of users. The darker-colored areas indicate a higher number of users. In both groups of users, a negative correlation between the positive and negative bias coefficients is observed. This suggests that users are more likely to overestimate one probability while underestimating the other, rather than overestimating/underestimating both probabilities simultaneously.\nFurthermore, Figure 7 presents the box plots of the positive and negative bias coefficients estimated using the proposed algorithm in Section IV-B for both groups of users. For users who have purchased at least one bundle, most of their positive bias coefficients are below 1.0, indicating a tendency to overestimate their demands for additional items. On the other hand, most of their negative bias coefficients are above 1.0, suggesting an inclination to underestimate the probability of not needing additional items. The overall distribution of positive bias coefficients is significantly lower than that of negative bias coefficients, reinforcing the finding that users with bundle purchases are more likely to overestimate their demands.\nSimilarly, for users who have never purchased a bundle, most of their positive bias coefficients are above 1.0, indicating a tendency to underestimate their demands for additional items. Conversely, most of their negative bias coefficients are below 1.0, suggesting an inclination to overestimate the probability of not needing additional items. The overall distribution of positive bias coefficients is significantly higher than that of negative bias coefficients, further supporting the observation that users without bundle purchases tend to underestimate their\ndemands. Additionally, for users who have purchased at least one bundle, we study the relationship between their positive bias coefficients and the number of bundle purchases. Figure 8 shows that the median of users\u2019 positive bias coefficients decreases as the number of bundle purchases increases. This indicates that users with a larger projection bias (and thus lower positive bias coefficients) are more likely to overestimate their demands for items and thus purchase more bundles."
        },
        {
            "heading": "D. Summary",
            "text": "In summary, when compared to prior works, the proposed Probe method not only offers better interpretability but also outperforms prior works in terms of the F1 score, especially with limited training data. Additionally, our qualitative analysis reveals that users with a larger projection bias tend to overestimate their demands for items, leading to a higher likelihood of purchasing bundles. These findings contribute to a better understanding of users\u2019 decision-making processes in the bundle choice problem and highlight the effectiveness and interpretability of the proposed Probe."
        },
        {
            "heading": "VII. CONCLUSION",
            "text": "In this study, we explore users\u2019 intertemporal choices in the bundle sales scenario and focus on two prevalent biases: projection bias and the reference-point effect. We propose a preference model named Probe to comprehensively analyze users\u2019 decision-making process. Probe introduces prospect theory from behavioral economics to model users\u2019 choices, which includes a weight function that captures users\u2019 projection bias and a value function that captures reference-point effect. Based on Probe, we propose a novel method for learning users\u2019 personal biases using historical records. Furthermore, we provide a comprehensive theoretical analysis on the impact of projection bias on the design of bundle sales strategies. Experimental results show that the proposed Probe method outperforms prior works in terms of F1 score. Qualitative analysis reveals that users with a larger projection bias tend to overestimate their demand for items, leading to a higher likelihood of purchasing bundles. These findings contribute to a deeper understanding of users\u2019 decision-making mechanisms and can inform the design of optimal bundle strategies."
        },
        {
            "heading": "VIII. APPENDIX",
            "text": ""
        },
        {
            "heading": "A. The Proposed Learning Algorithm",
            "text": "In the manuscript, a learning algorithm is proposed to estimate the remaining parameters, namely, the value in use of each item \u03bei, as well as the four bias coefficients, \u03b1+u , \u03b1 \u2212 u , \u03b1 + i , \u03b1 \u2212 i . The gradients of these parameters are provided as follows.\n\u2207\u03b1+u (t) = \u2207\u03b1+i (t) (23)\n= 1\n2\n[ P t(B)\u2212 yB ] \u00b7 ut1(cB) \u00b7 ln [ p(iBv |im) ] ,\n\u2207\u03b1\u2212u (t) = \u2207\u03b1\u2212i (t)\n= 1\n2\n[ P t(im)\u2212 yim ] \u00b7 ut1(cm) \u00b7 ln [ p(\u0304iBv |im) ] ,\n\u2207\u03beim(t) = P t(im)\u2212 yim , and \u2207\u03beik(t) = P t(B)\u2212 yB, \u2200ik \u2208 B, ik \u0338= im.\nProof. For convenience, we drop the iteration index t without confusion. Recall that given a single data point, the loss function is written as\nL = \u2212{yB log [P (B)] + yim log [P (im)]} , (24)\nwhere\nP (im) = exp [U(im)]\nexp [U(im)] + exp [U(B)] , and (25)\nP (B) = exp [U(B)] exp [U(im)] + exp [U(B)] .\n1) To begin with, we compute the gradient of \u03b1+u using the derivative rule. Since U(B) is a function of \u03b1+u , but U(im) is not, the expression for the gradient is as follows\n\u2202L\n\u2202\u03b1+u =\n\u2202L \u2202U(B) \u00b7 \u2202U(B) \u2202\u03b1+u (26)\n=\n[ \u2202L\n\u2202P (B) \u00b7 \u2202P (B) \u2202U(B) + \u2202L \u2202P (im) \u00b7 \u2202P (im) \u2202U(B)\n] \u00b7 \u2202U(B)\n\u2202\u03b1+u .\nIn the following, we discuss how to compute each term in detail. 1.1) Firstly, we have\n\u2202L\n\u2202P (B) = \u2212yB \u00b7\n1\nP (B) , (27)\nand\n\u2202P (B) \u2202U(B) = exp [U(B)] \u00b7 {exp [U(im)] + exp [U(B)]} {exp [U(im)] + exp [U(B)]}2 (28)\n\u2212 exp [U(B)] \u00b7 exp [U(B)] {exp [U(im)] + exp [U(B)]}2\n= exp [U(B)] exp [U(im)]\n{exp [U(im)] + exp [U(B)]}2\n= P (B)P (im).\n1.2) Secondly, we have\n\u2202L\n\u2202P (im) = \u2212yim \u00b7\n1\nP (im) , (29)\nand \u2202P (im)\n\u2202U(B) = \u2212 exp [U(B)] exp [U(im)] {exp [U(im)] + exp [U(B)]}2 (30)\n= \u2212P (B)P (im).\nCombining the results of the above two steps, we have\n\u2202L\n\u2202U(B) =\n\u2202L \u2202P (B) \u00b7 \u2202P (B) \u2202U(B) + \u2202L \u2202P (im) \u00b7 \u2202P (im) \u2202U(B)\n(31)\n= \u2212yB \u00b7 1\nP (B) \u00b7 P (B)P (im) + yim \u00b7\n1\nP (im) \u00b7 P (B)P (im)\n= \u2212yB \u00b7 P (im) + yimP (B) = \u2212yB \u00b7 [1\u2212 P (B)] + (1\u2212 yB) \u00b7 P (B) = P (B)\u2212 yB.\n1.3) Thirdly, we compute the derivatives of U(B) with respect to \u03b1+u . Notice that\n\u2202U(B) \u2202\u03b1+u = \u2202 [u1(cB) + u2(\u03beB)] \u2202\u03b1+u = \u2202u1(cB) \u2202\u03b1+u , (32)\nand for saving-centered users, we have u1(cB) = [ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 v(cm + cB1 \u2212 cB). (33) Therefore, we have\n\u2202u1(cB)\n\u2202\u03b1+u =\n1\n2\n{[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2} (34) \u00b7 v(cm + cB1 \u2212 cB) \u00b7 ln [ p(iB1 |im)\n] = 1\n2 u1(cB) \u00b7 ln\n[ p(iB1 |im) ] ,\nand,\n\u2202U(B) \u2202\u03b1+u = 1 2 u1(cB) \u00b7 ln\n[ p(iB1 |im) ] . (35)\nCombining the results in Eq. (31) and (35), we have\n\u2202L\n\u2202\u03b1+u =\n\u2202L \u2202U(B) \u00b7 \u2202U(B) \u2202\u03b1+u (36)\n= 1\n2 [P (B)\u2212 yB] \u00b7 u1(cB) \u00b7 ln\n[ p(iBv |im) ] 2) The derivative of the loss function L with respect to \u03b1+i is the same as the derivative of L with respect to \u03b1+u , and is therefore omitted in this paper.\n3) Next, we compute the derivative of the loss function L with respect to \u03b1\u2212u . Since U(im) is a function of \u03b1 \u2212 u , but U(B) is not, the expression for the gradient is as follows\n\u2202L\n\u2202\u03b1\u2212u =\n\u2202L \u2202U(im) \u00b7 \u2202U(im) \u2202\u03b1+u (37)\n=\n[ \u2202L\n\u2202P (B) \u00b7 \u2202P (B) \u2202U(im) + \u2202L \u2202P (im) \u00b7 \u2202P (im) \u2202U(im)\n] \u00b7 \u2202U(im)\n\u2202\u03b1\u2212u .\n3.1) Similar to Eq. (28) and (30), we have\n\u2202P (B) \u2202U(im) = \u2212P (B)P (im), (38)\nand \u2202P (im)\n\u2202U(im) = P (B)P (im). (39)\n18\nCombining the results of Eq. (27), (29), (38) and (39), we have\n\u2202L\n\u2202U(im) = P (im)\u2212 yim (40)\n3.2) Further, we have\n\u2202U(im)\n\u2202\u03b1\u2212u =\n\u2202 [u1(cm) + u2(\u03beim)]\n\u2202\u03b1\u2212u =\n\u2202u1(cm)\n\u2202\u03b1\u2212u . (41)\nRecall that u1(cm) = [ p(\u0304iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 v(cB \u2212 cm), (42) then we have\n\u2202u1(cm)\n\u2202\u03b1\u2212u =\n1 2 \u00b7 u1(cim) \u00b7 ln\n[ p(\u0304iB1 |im) ] . (43)\nCombining the results of Eq. (40) and Eq. (43), we have\n\u2202L\n\u2202\u03b1\u2212u =\n1 2 [P (im)\u2212 yim ] \u00b7 u1(cm) \u00b7 ln\n[ p(\u0304iBv |im) ] . (44)\n4) The derivative of the loss function L with respect to \u03b1\u2212i is the same as the derivative of L with respect to \u03b1\u2212u , and is therefore omitted in this paper.\n5) At last, we compute the derivative of the loss function L with respect to the value in use for each item \u03bei. For the main item, we have\n\u2202L\n\u2202\u03beim =\n\u2202L \u2202U(im) \u00b7 \u2202U(im) \u2202\u03beim . (45)\nSince \u2202U(im)\n\u2202\u03beim =\n\u2202 [u1(cm) + u2(\u03beim)]\n\u2202\u03beim =\n\u2202u2(\u03beim)\n\u2202\u03beim = 1, (46)\nwe have \u2202L\n\u2202\u03beim =\n\u2202L\n\u2202U(im) = P (im)\u2212 yim . (47)\nFor additional items ik in the bundle with ik \u0338= im, following the similar analysis, we have\n\u2202L \u2202\u03beB = \u2202L \u2202U(B) = P (B)\u2212 yB, and (48)\n\u2202\u03beB \u2202\u03beik\n= \u2202 \u2211\nik\u2208B \u03beik \u2202\u03beik = 1.\nTherefore, we have\n\u2202L\n\u2202\u03beik = P (B)\u2212 yB, (49)\nB. Theoretical Analysis of the Proposed Probe\nProof of Theorem 1. The proof of Theorem 1 in the manuscript is as follows.\nProof. Recall that the probability that users choose the bundle is formulated as\nP (B) = exp [U(B)] exp [U(im)] + exp [U(B)] .\n1) We first consider the derivative of P (B) with respect to \u03b1+u , and have\n\u2202P (B) \u2202\u03b1+u = \u2202P (B) \u2202U(B) \u00b7 \u2202U(B) \u2202\u03b1+u + \u2202P (B) \u2202U(im) \u00b7 \u2202U(im) \u2202\u03b1+u . (50)\nBased on Eq. (28) and Eq. (38), Eq. (50) equals\n\u2202P (B) \u2202\u03b1+u = P (B)P (im) \u00b7 { \u2202U(B) \u2202\u03b1+u \u2212 \u2202U(im) \u2202\u03b1+u } . (51)\nSince U(im) is not a function of \u03b1+u , we can focus on computing the derivatives of U(B) with respect to \u03b1+u . According to Eq. (35), we have\n\u2202P (B) \u2202\u03b1+u = 1 2 \u00b7 P (B)P (im)u1(cB) \u00b7 ln\n[ p(iB1 |im) ] < 0. (52)\n(2) Next, we consider the derivative of P (B) with respect to \u03b1\u2212u . Similarly, we have\n\u2202P (B) \u2202\u03b1\u2212u = P (B)P (im) \u00b7 { \u2202U(B) \u2202\u03b1\u2212u \u2212 \u2202U(im) \u2202\u03b1\u2212u } . (53)\nSince U(B) is not a function of \u03b1\u2212u , we can focus on computing the derivatives of U(im) with respect to \u03b1\u2212u . According to Eq. (43), we have\n\u2202P (B) \u2202\u03b1\u2212u = \u22121 2 \u00b7 P (B)P (im)u1(cim) \u00b7 ln\n[ p(\u0304iB1 |im) ] > 0.\n(54)\nProof of Theorem 2. The proof of Theorem 2 in the manuscript is as follows.\nProof. We consider the derivative of P (B) with respect to p(iB1 |im), and have\n\u2202P (B) \u2202p(iB1 |im) = \u2202P (B) \u2202U(B) \u00b7 \u2202U(B) \u2202p(iB1 |im) + \u2202P (B) \u2202U(im) \u00b7 \u2202U(im) \u2202p(iB1 |im) .\n(55)\nBased on Eq. (28) and Eq. (38), Eq. (55) equals\n\u2202P (B) \u2202p(iB1 |im)\n= P (B)P (im) \u00b7 {\n\u2202U(B) \u2202p(iB1 |im) \u2212 \u2202U(im) \u2202p(iB1 |im)\n} .\n(56)\nTo compute Eq. (56), it is necessary to calculate the derivatives of U(B) and U(im) with respect to p(iB1 |im), respectively.\n1) Firstly, for the derivatives of U(B) with respect to p(iB1 |im), we have\n\u2202U(B) \u2202p(iB1 |im) = \u2202 [u1(cB) + u2(\u03beB)] \u2202p(iB1 |im) = \u2202u1(cB) \u2202p(iB1 |im) . (57)\nRecall that u1(cB) = [ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 v(cm + cB1 \u2212 cB), then we have\n\u2202u1(cB)\n\u2202p(iB1 |im) =\n\u03b1+u + \u03b1 + im 2 \u00b7 {[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2\u22121} (58)\n\u00b7 v(cm + cB1 \u2212 cB)\n= \u03b1+u + \u03b1 + im\n2 \u00b7 u1(cB) \u00b7\n[ p(iB1 |im) ]\u22121 .\n19\nTherefore,\n\u2202U(B) \u2202p(iB1 |im) = \u03b1+u + \u03b1 + im 2 \u00b7 u1(cB) \u00b7\n[ p(iB1 |im) ]\u22121 . (59)\n2) Next, consider the derivatives of U(im) with respect to p(iB1 |im). similarly, we have\n\u2202U(im)\n\u2202p(iB1 |im) =\n\u2202 [u1(cim) + u2(\u03beim)]\n\u2202p(iB1 |im) =\n\u2202u1(cim) \u2202p(iB1 |im) . (60)\nRecall that u1(cm) = [ p(\u0304iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 v(cB \u2212 cm), where p(\u0304iB1 |im) = 1\u2212 p(iB1 |im), then we have\n\u2202u1(cm)\n\u2202p(iB1 |im) = \u2212\n\u03b1\u2212u + \u03b1 \u2212 im 2 \u00b7 {[ 1\u2212 p(iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2\u22121}\n(61) \u00b7 v(cB \u2212 cm)\n= \u2212 \u03b1\u2212u + \u03b1 \u2212 im\n2 \u00b7 u1(cm) \u00b7\n[ 1\u2212 p(iB1 |im) ]\u22121 .\nTherefore,\n\u2202U(im)\n\u2202p(iB1 |im) = \u2212\n\u03b1\u2212u + \u03b1 \u2212 im\n2 \u00b7 u1(cm) \u00b7\n[ 1\u2212 p(iB1 |im) ]\u22121 .\n(62)\nCombining the results of Eq. (59) and Eq. (62), we have\n\u2202P (B) \u2202p(iB1 |im)\n= P (B)P (im) \u00b7 { \u03b1+u + \u03b1 + im\n2 \u00b7 u1(cB) \u00b7\n[ p(iB1 |im) ]\u22121 (63)\n+ \u03b1\u2212u + \u03b1 \u2212 im\n2 \u00b7 u1(cm) \u00b7\n[ 1\u2212 p(iB1 |im) ]\u22121 } > 0.\nThat is, P (B) is an increasing function of the correlation probability p(iB1 |im).\nProof of Theorem 3. The proof of Theorem 3 in the manuscript is as follows.\nProof. We consider the derivative of P (B) with respect to cB1 , and have\n\u2202P (B) \u2202cB1 = \u2202P (B) \u2202U(B) \u00b7 \u2202U(B) \u2202cB1 + \u2202P (B) \u2202U(im) \u00b7 \u2202U(im) \u2202cB1 . (64)\nBased on Eq. (28) and Eq. (38), Eq. (64) equals\n\u2202P (B) \u2202cB1 = P (B)P (im) \u00b7 { \u2202U(B) \u2202cB1 \u2212 \u2202U(im) \u2202cB1 } (65)\n= P (B)P (im) \u00b7 { \u2202u1(cB)\n\u2202cB1 \u2212 \u2202u1(cm) \u2202cB1 } 1) We first compute the value of \u2202P (B) / \u2202cB1 . To compute Eq. (65), it is necessary to calculate the derivatives of u1(cB) and u1(cim) with respect to c B 1 , respectively. 1.1) We begin with the derivatives of u1(cB) with respect to cB1 . Recall that\nu1(cB) = [ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 v(cm + cB1 \u2212 cB),\nwhere cB = r \u00b7 (cm + cB1 ) and v(x) = x\u03b2 + . Then, we have\nu1(cB) = [ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 [(1\u2212 r) \u00b7 (cm + cB1 )]\u03b2+ , and\n\u2202u1(cB)\n\u2202cB1 =\n[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 \u03b2+ (66) \u00b7 [ (1\u2212 r) \u00b7 (cm + cB1 )\n]\u03b2+\u22121 \u00b7 (1\u2212 r). 1.2) Consider the derivatives of u1(cim) with respect to c B 1 . Recall that\nu1(cm) = [ p(\u0304iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 v(cB \u2212 cm) = [ p(\u0304iB1 |im)\n](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 [r \u00b7 (cm + cB1 )\u2212 cm]\u03b2+ Then,\n\u2202u1(cim)\n\u2202cB1 =\n[ p(\u0304iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 \u03b2+ (67) \u00b7 [ r \u00b7 (cm + cB1 )\u2212 cm\n]\u03b2+\u22121 \u00b7 r. Combining the results of Eq. (66) and Eq. (67), we have\n\u2202P (B) \u2202cB1\n= \u03b2+ \u00b7 P (B)P (im) \u00b7 {\n(68)[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 [(1\u2212 r) \u00b7 (cm + cB1 )]\u03b2+\u22121 \u00b7 (1\u2212 r) \u2212 [ p(\u0304iB1 |im)\n](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 [r \u00b7 (cm + cB1 )\u2212 cm]\u03b2+\u22121 \u00b7 r}. (2) Next, we analyze the equivalent conditions for \u2202P (B)/\u2202cB1 > 0. To determine these conditions, we examine the following inequality that needs to be satisfied.\n[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 [(1\u2212 r) \u00b7 (cm + cB1 )]\u03b2+\u22121 \u00b7 (1\u2212 r) (69)\n> [ p(\u0304iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2 \u00b7 [r \u00b7 (cm + cB1 )\u2212 cm]\u03b2+\u22121 \u00b7 r \u21d4 [ cm + c B 1\nr \u00b7 (cm + cB1 )\u2212 cm ]\u03b2+\u22121 > [ p(\u0304iB1 |im)\n](\u03b1\u2212u +\u03b1\u2212im )/2[ p(iB1 |im)\n](\u03b1+u+\u03b1+im )/2 \u00b7 r(1\u2212 r)\u03b2+ . \u21d4 [ r \u00b7 (cm + cB1 )\u2212 cm\ncm + cB1\n]1\u2212\u03b2+\n>\n[ p(\u0304iB1 |im) ](\u03b1\u2212u +\u03b1\u2212im )/2[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 r(1\u2212 r)\u03b2+\n20\nAs 1\u2212 \u03b2+ > 0, Eq. (69) equals r \u00b7 (cm + cB1 )\u2212 cm\ncm + cB1 (70)\n> 1\u2212\u03b2 + \u221a\u221a\u221a\u221a\u221a[p(\u0304iB1 |im)](\u03b1\u2212u +\u03b1\u2212im )/2[ p(iB1 |im)\n](\u03b1+u+\u03b1+im )/2 \u00b7 r(1\u2212 r)\u03b2+ \u21d4 r \u00b7 (cm + c B 1 )\u2212 cm\ncm + cB1\n> 1\u2212\u03b2 + \u221a\u221a\u221a\u221a\u221a[p(\u0304iB1 |im)](\u03b1\u2212u +\u03b1\u2212im )/2[ p(iB1 |im) ](\u03b1+u+\u03b1+im )/2 \u00b7 1\u2212\u03b2+ \u221a\nr\n(1\u2212 r)\u03b2+\nLet\nA := 1\u2212\u03b2+ \u221a\u221a\u221a\u221a\u221a[p(\u0304iB1 |im)](\u03b1\u2212u +\u03b1\u2212im )/2[ p(iB1 |im)\n](\u03b1+u+\u03b1+im )/2 > 0, (71) then Eq. (70) equals\nr \u00b7 (cm + cB1 )\u2212 cm cm + cB1\n> A \u00b7 1\u2212\u03b2+ \u221a\nr\n(1\u2212 r)\u03b2+ (72) \u21d4 r \u00b7 (cm + cB1 )\u2212 cm > A \u00b7 1\u2212\u03b2+ \u221a r\n(1\u2212 r)\u03b2+ \u00b7 (cm + cB1 )\n\u21d4 [ r \u2212A \u00b7 1\u2212\u03b2+ \u221a r (1\u2212 r)\u03b2+ ] \u00b7 cB1\n> [ (1\u2212 r) +A \u00b7 1\u2212\u03b2+ \u221a r (1\u2212 r)\u03b2+ ] \u00b7 cm\n\u21d4 r \u00b7 [ 1\u2212A \u00b7 1\u2212\u03b2+ \u221a r\n(1\u2212 r)\u03b2+ \u00b7 r\u22121\n] \u00b7 cB1\n> [ (1\u2212 r) +A \u00b7 1\u2212\u03b2+ \u221a r (1\u2212 r)\u03b2+ ] \u00b7 cm\nAs\n1\u2212\u03b2+\n\u221a r\n(1\u2212 r)\u03b2+ \u00b7 r\u22121 = r\n1 1\u2212\u03b2+ \u00b7 ( 1\n1\u2212 r\n) \u03b2+ 1\u2212\u03b2+\n\u00b7 r\u22121 (73)\n= r \u03b2+ 1\u2212\u03b2+ \u00b7 ( 1\n1\u2212 r\n) \u03b2+ 1\u2212\u03b2+\n=\n( r\n1\u2212 r\n) \u03b2+ 1\u2212\u03b2+\n,\nthen Eq. (72) equals\nr \u00b7 1\u2212A \u00b7 ( r 1\u2212 r ) \u03b2+ 1\u2212\u03b2+  \u00b7 cB1 (74) > [ (1\u2212 r) +A \u00b7 1\u2212\u03b2+ \u221a r (1\u2212 r)\u03b2+ ] \u00b7 cm.\nThat is, the equivalent conditions for \u2202P (B) / \u2202cB1 > 0 is that Eq. (74) holds true. 3) Finally, we analyze the conditions that need to be satisfied for cB1 in order for Eq. (74) to hold. Define\n\u03ba :=\n[ (1\u2212 r) +A \u00b7 1\u2212\u03b2+ \u221a r\n(1\u2212r)\u03b2+ ] r \u00b7 [ 1\u2212A \u00b7 ( r\n1\u2212r\n) \u03b2+ 1\u2212\u03b2+\n] . (75)\nSince the inequality[ (1\u2212 r) +A \u00b7 1\u2212\u03b2+ \u221a r (1\u2212 r)\u03b2+ ] > 0 (76)\nalways holds, we can conclude that \u03ba > 0 when\nr \u00b7 1\u2212A \u00b7 ( r 1\u2212 r ) \u03b2+ 1\u2212\u03b2+  > 0. (77) Notice that\n1\u2212A \u00b7 ( r\n1\u2212 r\n) \u03b2+ 1\u2212\u03b2+\n> 0 (78)\n\u21d4 ( r\n1\u2212 r\n) \u03b2+ 1\u2212\u03b2+\n< 1\nA\n\u21d4 r 1\u2212 r < A\u2212 1\u2212\u03b2+ \u03b2+\n\u21d4 ( 1 +A\u2212 1\u2212\u03b2+ \u03b2+ ) \u00b7 r < A\u2212 1\u2212\u03b2+ \u03b2+\n\u21d4 r < A \u2212 1\u2212\u03b2\n+\n\u03b2+\n1 +A\u2212 1\u2212\u03b2+ \u03b2+\n= 1\n1 +A 1\u2212\u03b2+ \u03b2+\n.\nThat is, we have \u03ba > 0 when r < 1 /( 1 +A 1\u2212\u03b2+ \u03b2+ ) , and\n\u03ba < 0 otherwise. Combining the results of Eq. (74) and Eq. (78), the following conclusions can be drawn.\n\u2022 If r < 1 /( 1 +A 1\u2212\u03b2+ \u03b2+ ) , then we have \u03ba > 0, and\n\u2202P (B) \u2202cB1 > 0 when cB1 > \u03ba \u00b7 cm, (79)\nand \u2202P (B) \u2202cB1 < 0 when cB1 < \u03ba \u00b7 cm.\n\u2022 If r > 1 /( 1 +A 1\u2212\u03b2+ \u03b2+ ) , then we have \u03ba < 0, and\n\u2202P (B) \u2202cB1 > 0 when cB1 < \u03ba \u00b7 cm, (80)\nand \u2202P (B) \u2202cB1 < 0 when cB1 > \u03ba \u00b7 cm.\nAs \u03ba < 0 and \u03ba \u00b7 cm < 0, then we have \u2202P (B) \u2202cB1 < 0 when cB1 \u2208 (0,+\u221e) (81)"
        },
        {
            "heading": "C. Experiments",
            "text": "1) Experimental Setup: Among the baselines considered in our work, binary classification-based methods and learning-torank methods require numerical feature vectors as input. To compare with these methods, we generate features for users, individual games, and bundles based on the following step.\n\u2022 For an individual game im, both direct and indirect features can be considered. The direct features include attributes such as price, genre, average playing time, the\n21\nnumber of reviews, and the number of recommendations for the game. The indirect features capture the ratios of recommendations to reviews and reviews to purchases for the game. Combining these features, an individual game im can be represented as a 27-dimensional vector vim . \u2022 For a bundle B, its feature representation can be obtained as the average feature vector of the games contained in the bundle. In other words, vB is calculated as the average of the feature vectors vij for each game ij in the bundle. \u2022 For a user u, the feature representation can be obtained by averaging the features of the games that the user has purchased. That is, vu is calculated as the average of the feature vectors vij for each game ij in the set Nu, where |Nu| denotes the total number of games in the user\u2019s purchase history.\nBy using these feature representations, individual games, bundles, and users can be represented as numerical vectors, allowing binary classification-based methods and learning-torank methods to be applied and compared based on these aggregated features.\nIn this paper, we compare the proposed Probe with the following baselines. Detailed implementation of these methods are as follows.\n\u2022 Frequency-based method. During the training stage, we calculate the number of bundle purchases M(B) and the number of single item purchases M(im) for each user, and compute the ratio p = M(B)/M(im). During the testing stage, we assume that the will select a bundle with the probability of p, and will choose a single game with the probability of 1\u2212 p. \u2022 Binary Classification-Based Method. In this approach, we employ binary classifiers to determine the probability of each user\u2019s purchase record being labeled as selecting the bundle. To facilitate the classification process, we utilize a feature vector v = [vu,vim ,vb] as input to the binary classifiers. If the input vector is labeled as the positive, we consider that the user will select the bundle; otherwise, we consider the user will select the single item. To compare the performance of various classifiers, we evaluate the Naive Bayes classifier, Support Vector Machines (SVM), Gradient Boosting Decision Trees (GBDT), AdaBoost, and other classifiers. Among these options, we find that AdaBoost achieves the best performance based on the evaluation metrics employed. Therefore, we present the results obtained using AdaBoost as an illustrative example of the binary classification-based method. \u2022 Learning-to-rank methods. For RankSVM, during the training stage, it utilizes the vector v = [vb \u2212 vim ,vu] as input to train a model that captures the decision boundary based on users\u2019 preferences. In the testing stage, RankSVM takes the input vector v and generates a realvalued output. If the output value falls on the right side of the decision boundary, it is assumed that users will choose the bundle. Conversely, if the output value falls on the left side of the decision boundary, it is assumed that users will choose a single game. For RankNet, it takes two inputs: v1 = [vb,vu] and v2 = [vim ,vu]. The\nmodel\u2019s output is the probability that users prefer v1 (the bundle) over v2 (the individual game). If the probability is greater than 0.5, it is assumed that users will choose the bundle. Conversely, if the probability is less than or equal to 0.5, it is assumed that users will choose a single game. \u2022 Bundle recommendation methods. During the training stage, we utilize these bundle recommendation methods, such as BPR methods, BGCN, and CrossCBR, to generate the vector representations for users, individual games, and bundles. During the testing stage, we calculates the similarity between the representations of users and individual games, as well as between users and bundles. The similarity is then translated into the probability of users choosing single games or choosing bundles using the softmax function.\n2) Experimental Results: To explain the simulation results in Table III in the manuscript, we plot the histogram of the predicted P (im) and P (B) for Probe, RankNet, RankSVM, and AdaBoost. Specifically, Fig.9 (a) and (b) display the predicted probabilities Pselect(B) obtained by the RankSVM method. Fig.9 (a) corresponds to cases where users actually select the bundle, while Fig.9 (b) corresponds to cases where users actually select a single game. In Fig.9 (a), the purple dashed line represents the decision boundary, and the records on the right side of the decision boundary are correctly predicted. Similarly, in Fig.9 (b), the records on the left side of the decision boundary are correctly predicted.\nBased on the observations from Fig. 9 (b), it can be noted that the RankSVM method incorrectly predicts a significant number of records where users actually choose a single game as choosing the bundle. This indicates that the RankSVM method has low precision. Similarly, according to Fig. 9 (c), the AdaBoost method incorrectly predicts a large portion of records where users actually choose a bundle as choosing a single game. As a result, the AdaBoost method has low recall. Additionally, the predicted probabilities of the RankSVM and AdaBoost methods are concentrated near the decision boundary, leading to their overall poor performance in terms of the F1 metric.\nOn the other hand, Fig.9 (e) indicates that most of the predicted probabilities generated by the RankNet method are greater than 0.5 when users actually select the bundle. Conversely, according to Fig.9 (f), the predicted probabilities of the RankNet method are close to 0 when users actually select a single game. These observations suggest that the predicted probabilities of the RankNet method are relatively distant from the decision boundary, resulting in RankNet achieving the highest F1 metric among the baseline methods.\nFurthermore, considering the proposed Probe, Fig.9 (g) demonstrates a reduction of 255 correctly predicted records where users choose the bundle compared to RankNet (5658 - 5403). Moreover, Fig.9 (h) shows an increase of 876 correctly predicted records where users choose a single game compared to RankNet (29766 - 28890). Additionally, the predicted probabilities generated by Probe for both types of records are farther away from the decision boundary than those of\n22\nRankNet. Consequently, the proposed Probe achieves a 2% improvement in the F1 metric compared to RankNet.\nThe analysis reveals that the predicted probabilities of RankSVM and AdaBoost are concentrated near the decision boundary, which explains their relatively poor overall performance in terms of the F1 metric. In contrast, the predicted probabilities of RankNet are well-separated from the decision boundary, resulting in its higher F1 metric compared to other baseline methods. However, the predicted probabilities of the proposed Probe method are even farther away from\nthe decision boundary than those of RankNet. As a result, the proposed Probe method still achieves a 2% improvement in the F1 metric compared to RankNet.The results presented in Fig.9 illustrate the predicted probabilities of users selecting the bundle for the different methods on the testing dataset."
        }
    ],
    "title": "Probe: Learning Users\u2019 Personal Projection Bias in Inter-temporal Choices",
    "year": 2023
}